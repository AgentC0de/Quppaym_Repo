var VN=t=>{throw TypeError(t)};var Nw=(t,e,r)=>e.has(t)||VN("Cannot "+r);var W=(t,e,r)=>(Nw(t,e,"read from private field"),r?r.call(t):e.get(t)),$e=(t,e,r)=>e.has(t)?VN("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Ee=(t,e,r,n)=>(Nw(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),at=(t,e,r)=>(Nw(t,e,"access private method"),r);var Hv=(t,e,r,n)=>({set _(a){Ee(t,e,a,r)},get _(){return W(t,e,n)}});function yW(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var qv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var JR={exports:{}},_1={},e8={exports:{}},ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv=Symbol.for("react.element"),xW=Symbol.for("react.portal"),wW=Symbol.for("react.fragment"),bW=Symbol.for("react.strict_mode"),_W=Symbol.for("react.profiler"),SW=Symbol.for("react.provider"),CW=Symbol.for("react.context"),EW=Symbol.for("react.forward_ref"),AW=Symbol.for("react.suspense"),jW=Symbol.for("react.memo"),NW=Symbol.for("react.lazy"),WN=Symbol.iterator;function OW(t){return t===null||typeof t!="object"?null:(t=WN&&t[WN]||t["@@iterator"],typeof t=="function"?t:null)}var t8={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},r8=Object.assign,n8={};function Xf(t,e,r){this.props=t,this.context=e,this.refs=n8,this.updater=r||t8}Xf.prototype.isReactComponent={};Xf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Xf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function a8(){}a8.prototype=Xf.prototype;function iE(t,e,r){this.props=t,this.context=e,this.refs=n8,this.updater=r||t8}var oE=iE.prototype=new a8;oE.constructor=iE;r8(oE,Xf.prototype);oE.isPureReactComponent=!0;var zN=Array.isArray,i8=Object.prototype.hasOwnProperty,sE={current:null},o8={key:!0,ref:!0,__self:!0,__source:!0};function s8(t,e,r){var n,a={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)i8.call(e,n)&&!o8.hasOwnProperty(n)&&(a[n]=e[n]);var s=arguments.length-2;if(s===1)a.children=r;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];a.children=l}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)a[n]===void 0&&(a[n]=s[n]);return{$$typeof:rv,type:t,key:i,ref:o,props:a,_owner:sE.current}}function TW(t,e){return{$$typeof:rv,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function lE(t){return typeof t=="object"&&t!==null&&t.$$typeof===rv}function PW(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var HN=/\/+/g;function Ow(t,e){return typeof t=="object"&&t!==null&&t.key!=null?PW(""+t.key):e.toString(36)}function zg(t,e,r,n,a){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case rv:case xW:o=!0}}if(o)return o=t,a=a(o),t=n===""?"."+Ow(o,0):n,zN(a)?(r="",t!=null&&(r=t.replace(HN,"$&/")+"/"),zg(a,e,r,"",function(u){return u})):a!=null&&(lE(a)&&(a=TW(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(HN,"$&/")+"/")+t)),e.push(a)),1;if(o=0,n=n===""?".":n+":",zN(t))for(var s=0;s<t.length;s++){i=t[s];var l=n+Ow(i,s);o+=zg(i,e,r,l,a)}else if(l=OW(t),typeof l=="function")for(t=l.call(t),s=0;!(i=t.next()).done;)i=i.value,l=n+Ow(i,s++),o+=zg(i,e,r,l,a);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Gv(t,e,r){if(t==null)return t;var n=[],a=0;return zg(t,n,"","",function(i){return e.call(r,i,a++)}),n}function kW(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ta={current:null},Hg={transition:null},IW={ReactCurrentDispatcher:ta,ReactCurrentBatchConfig:Hg,ReactCurrentOwner:sE};function l8(){throw Error("act(...) is not supported in production builds of React.")}ut.Children={map:Gv,forEach:function(t,e,r){Gv(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Gv(t,function(){e++}),e},toArray:function(t){return Gv(t,function(e){return e})||[]},only:function(t){if(!lE(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ut.Component=Xf;ut.Fragment=wW;ut.Profiler=_W;ut.PureComponent=iE;ut.StrictMode=bW;ut.Suspense=AW;ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IW;ut.act=l8;ut.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=r8({},t.props),a=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=sE.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)i8.call(e,l)&&!o8.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:rv,type:t.type,key:a,ref:i,props:n,_owner:o}};ut.createContext=function(t){return t={$$typeof:CW,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:SW,_context:t},t.Consumer=t};ut.createElement=s8;ut.createFactory=function(t){var e=s8.bind(null,t);return e.type=t,e};ut.createRef=function(){return{current:null}};ut.forwardRef=function(t){return{$$typeof:EW,render:t}};ut.isValidElement=lE;ut.lazy=function(t){return{$$typeof:NW,_payload:{_status:-1,_result:t},_init:kW}};ut.memo=function(t,e){return{$$typeof:jW,type:t,compare:e===void 0?null:e}};ut.startTransition=function(t){var e=Hg.transition;Hg.transition={};try{t()}finally{Hg.transition=e}};ut.unstable_act=l8;ut.useCallback=function(t,e){return ta.current.useCallback(t,e)};ut.useContext=function(t){return ta.current.useContext(t)};ut.useDebugValue=function(){};ut.useDeferredValue=function(t){return ta.current.useDeferredValue(t)};ut.useEffect=function(t,e){return ta.current.useEffect(t,e)};ut.useId=function(){return ta.current.useId()};ut.useImperativeHandle=function(t,e,r){return ta.current.useImperativeHandle(t,e,r)};ut.useInsertionEffect=function(t,e){return ta.current.useInsertionEffect(t,e)};ut.useLayoutEffect=function(t,e){return ta.current.useLayoutEffect(t,e)};ut.useMemo=function(t,e){return ta.current.useMemo(t,e)};ut.useReducer=function(t,e,r){return ta.current.useReducer(t,e,r)};ut.useRef=function(t){return ta.current.useRef(t)};ut.useState=function(t){return ta.current.useState(t)};ut.useSyncExternalStore=function(t,e,r){return ta.current.useSyncExternalStore(t,e,r)};ut.useTransition=function(){return ta.current.useTransition()};ut.version="18.3.1";e8.exports=ut;var b=e8.exports;const k=Wt(b),cE=yW({__proto__:null,default:k},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RW=b,DW=Symbol.for("react.element"),MW=Symbol.for("react.fragment"),$W=Object.prototype.hasOwnProperty,LW=RW.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,FW={key:!0,ref:!0,__self:!0,__source:!0};function c8(t,e,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)$W.call(e,n)&&!FW.hasOwnProperty(n)&&(a[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)a[n]===void 0&&(a[n]=e[n]);return{$$typeof:DW,type:t,key:i,ref:o,props:a,_owner:LW.current}}_1.Fragment=MW;_1.jsx=c8;_1.jsxs=c8;JR.exports=_1;var c=JR.exports,u8={exports:{}},Ka={},d8={exports:{}},f8={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,P){var V=I.length;I.push(P);e:for(;0<V;){var z=V-1>>>1,H=I[z];if(0<a(H,P))I[z]=P,I[V]=H,V=z;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var P=I[0],V=I.pop();if(V!==P){I[0]=V;e:for(var z=0,H=I.length,K=H>>>1;z<K;){var re=2*(z+1)-1,ue=I[re],oe=re+1,te=I[oe];if(0>a(ue,V))oe<H&&0>a(te,ue)?(I[z]=te,I[oe]=V,z=oe):(I[z]=ue,I[re]=V,z=re);else if(oe<H&&0>a(te,V))I[z]=te,I[oe]=V,z=oe;else break e}}return P}function a(I,P){var V=I.sortIndex-P.sortIndex;return V!==0?V:I.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],d=1,f=null,h=3,p=!1,v=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(I){for(var P=r(u);P!==null;){if(P.callback===null)n(u);else if(P.startTime<=I)n(u),P.sortIndex=P.expirationTime,e(l,P);else break;P=r(u)}}function _(I){if(m=!1,w(I),!v)if(r(l)!==null)v=!0,B(S);else{var P=r(u);P!==null&&M(_,P.startTime-I)}}function S(I,P){v=!1,m&&(m=!1,x(A),A=-1),p=!0;var V=h;try{for(w(P),f=r(l);f!==null&&(!(f.expirationTime>P)||I&&!N());){var z=f.callback;if(typeof z=="function"){f.callback=null,h=f.priorityLevel;var H=z(f.expirationTime<=P);P=t.unstable_now(),typeof H=="function"?f.callback=H:f===r(l)&&n(l),w(P)}else n(l);f=r(l)}if(f!==null)var K=!0;else{var re=r(u);re!==null&&M(_,re.startTime-P),K=!1}return K}finally{f=null,h=V,p=!1}}var C=!1,E=null,A=-1,j=5,T=-1;function N(){return!(t.unstable_now()-T<j)}function O(){if(E!==null){var I=t.unstable_now();T=I;var P=!0;try{P=E(!0,I)}finally{P?$():(C=!1,E=null)}}else C=!1}var $;if(typeof y=="function")$=function(){y(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,F=R.port2;R.port1.onmessage=O,$=function(){F.postMessage(null)}}else $=function(){g(O,0)};function B(I){E=I,C||(C=!0,$())}function M(I,P){A=g(function(){I(t.unstable_now())},P)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,B(S))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(I){switch(h){case 1:case 2:case 3:var P=3;break;default:P=h}var V=h;h=P;try{return I()}finally{h=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,P){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var V=h;h=I;try{return P()}finally{h=V}},t.unstable_scheduleCallback=function(I,P,V){var z=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?z+V:z):V=z,I){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=V+H,I={id:d++,callback:P,priorityLevel:I,startTime:V,expirationTime:H,sortIndex:-1},V>z?(I.sortIndex=V,e(u,I),r(l)===null&&I===r(u)&&(m?(x(A),A=-1):m=!0,M(_,V-z))):(I.sortIndex=H,e(l,I),v||p||(v=!0,B(S))),I},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(I){var P=h;return function(){var V=h;h=P;try{return I.apply(this,arguments)}finally{h=V}}}})(f8);d8.exports=f8;var BW=d8.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UW=b,Ua=BW;function ce(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h8=new Set,Dp={};function bu(t,e){ef(t,e),ef(t+"Capture",e)}function ef(t,e){for(Dp[t]=e,t=0;t<e.length;t++)h8.add(e[t])}var js=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),__=Object.prototype.hasOwnProperty,VW=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qN={},GN={};function WW(t){return __.call(GN,t)?!0:__.call(qN,t)?!1:VW.test(t)?GN[t]=!0:(qN[t]=!0,!1)}function zW(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function HW(t,e,r,n){if(e===null||typeof e>"u"||zW(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ra(t,e,r,n,a,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var jn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){jn[t]=new ra(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];jn[e]=new ra(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){jn[t]=new ra(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){jn[t]=new ra(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){jn[t]=new ra(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){jn[t]=new ra(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){jn[t]=new ra(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){jn[t]=new ra(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){jn[t]=new ra(t,5,!1,t.toLowerCase(),null,!1,!1)});var uE=/[\-:]([a-z])/g;function dE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(uE,dE);jn[e]=new ra(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(uE,dE);jn[e]=new ra(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(uE,dE);jn[e]=new ra(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){jn[t]=new ra(t,1,!1,t.toLowerCase(),null,!1,!1)});jn.xlinkHref=new ra("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){jn[t]=new ra(t,1,!1,t.toLowerCase(),null,!0,!0)});function fE(t,e,r,n){var a=jn.hasOwnProperty(e)?jn[e]:null;(a!==null?a.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(HW(e,r,a,n)&&(r=null),n||a===null?WW(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(e=a.attributeName,n=a.attributeNamespace,r===null?t.removeAttribute(e):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Fs=UW.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kv=Symbol.for("react.element"),id=Symbol.for("react.portal"),od=Symbol.for("react.fragment"),hE=Symbol.for("react.strict_mode"),S_=Symbol.for("react.profiler"),p8=Symbol.for("react.provider"),m8=Symbol.for("react.context"),pE=Symbol.for("react.forward_ref"),C_=Symbol.for("react.suspense"),E_=Symbol.for("react.suspense_list"),mE=Symbol.for("react.memo"),nl=Symbol.for("react.lazy"),v8=Symbol.for("react.offscreen"),KN=Symbol.iterator;function Ah(t){return t===null||typeof t!="object"?null:(t=KN&&t[KN]||t["@@iterator"],typeof t=="function"?t:null)}var Sr=Object.assign,Tw;function Jh(t){if(Tw===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Tw=e&&e[1]||""}return`
`+Tw+t}var Pw=!1;function kw(t,e){if(!t||Pw)return"";Pw=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(o!==1||s!==1)do if(o--,s--,0>s||a[o]!==i[s]){var l=`
`+a[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{Pw=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Jh(t):""}function qW(t){switch(t.tag){case 5:return Jh(t.type);case 16:return Jh("Lazy");case 13:return Jh("Suspense");case 19:return Jh("SuspenseList");case 0:case 2:case 15:return t=kw(t.type,!1),t;case 11:return t=kw(t.type.render,!1),t;case 1:return t=kw(t.type,!0),t;default:return""}}function A_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case od:return"Fragment";case id:return"Portal";case S_:return"Profiler";case hE:return"StrictMode";case C_:return"Suspense";case E_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case m8:return(t.displayName||"Context")+".Consumer";case p8:return(t._context.displayName||"Context")+".Provider";case pE:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case mE:return e=t.displayName||null,e!==null?e:A_(t.type)||"Memo";case nl:e=t._payload,t=t._init;try{return A_(t(e))}catch{}}return null}function GW(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return A_(e);case 8:return e===hE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ul(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function g8(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function KW(t){var e=g8(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Xv(t){t._valueTracker||(t._valueTracker=KW(t))}function y8(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=g8(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function p0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function j_(t,e){var r=e.checked;return Sr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function XN(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Ul(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function x8(t,e){e=e.checked,e!=null&&fE(t,"checked",e,!1)}function N_(t,e){x8(t,e);var r=Ul(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?O_(t,e.type,r):e.hasOwnProperty("defaultValue")&&O_(t,e.type,Ul(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function YN(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function O_(t,e,r){(e!=="number"||p0(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var ep=Array.isArray;function jd(t,e,r,n){if(t=t.options,e){e={};for(var a=0;a<r.length;a++)e["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=e.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Ul(r),e=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function T_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ce(91));return Sr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ZN(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ce(92));if(ep(r)){if(1<r.length)throw Error(ce(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Ul(r)}}function w8(t,e){var r=Ul(e.value),n=Ul(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function QN(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function b8(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function P_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?b8(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Yv,_8=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,a){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Yv=Yv||document.createElement("div"),Yv.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Yv.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Mp(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var fp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XW=["Webkit","ms","Moz","O"];Object.keys(fp).forEach(function(t){XW.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fp[e]=fp[t]})});function S8(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||fp.hasOwnProperty(t)&&fp[t]?(""+e).trim():e+"px"}function C8(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=S8(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,a):t[r]=a}}var YW=Sr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function k_(t,e){if(e){if(YW[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ce(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ce(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ce(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ce(62))}}function I_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var R_=null;function vE(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var D_=null,Nd=null,Od=null;function JN(t){if(t=iv(t)){if(typeof D_!="function")throw Error(ce(280));var e=t.stateNode;e&&(e=j1(e),D_(t.stateNode,t.type,e))}}function E8(t){Nd?Od?Od.push(t):Od=[t]:Nd=t}function A8(){if(Nd){var t=Nd,e=Od;if(Od=Nd=null,JN(t),e)for(t=0;t<e.length;t++)JN(e[t])}}function j8(t,e){return t(e)}function N8(){}var Iw=!1;function O8(t,e,r){if(Iw)return t(e,r);Iw=!0;try{return j8(t,e,r)}finally{Iw=!1,(Nd!==null||Od!==null)&&(N8(),A8())}}function $p(t,e){var r=t.stateNode;if(r===null)return null;var n=j1(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ce(231,e,typeof r));return r}var M_=!1;if(js)try{var jh={};Object.defineProperty(jh,"passive",{get:function(){M_=!0}}),window.addEventListener("test",jh,jh),window.removeEventListener("test",jh,jh)}catch{M_=!1}function ZW(t,e,r,n,a,i,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var hp=!1,m0=null,v0=!1,$_=null,QW={onError:function(t){hp=!0,m0=t}};function JW(t,e,r,n,a,i,o,s,l){hp=!1,m0=null,ZW.apply(QW,arguments)}function ez(t,e,r,n,a,i,o,s,l){if(JW.apply(this,arguments),hp){if(hp){var u=m0;hp=!1,m0=null}else throw Error(ce(198));v0||(v0=!0,$_=u)}}function _u(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function T8(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function eO(t){if(_u(t)!==t)throw Error(ce(188))}function tz(t){var e=t.alternate;if(!e){if(e=_u(t),e===null)throw Error(ce(188));return e!==t?null:t}for(var r=t,n=e;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return eO(a),t;if(i===n)return eO(a),e;i=i.sibling}throw Error(ce(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o){for(s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o)throw Error(ce(189))}}if(r.alternate!==n)throw Error(ce(190))}if(r.tag!==3)throw Error(ce(188));return r.stateNode.current===r?t:e}function P8(t){return t=tz(t),t!==null?k8(t):null}function k8(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=k8(t);if(e!==null)return e;t=t.sibling}return null}var I8=Ua.unstable_scheduleCallback,tO=Ua.unstable_cancelCallback,rz=Ua.unstable_shouldYield,nz=Ua.unstable_requestPaint,kr=Ua.unstable_now,az=Ua.unstable_getCurrentPriorityLevel,gE=Ua.unstable_ImmediatePriority,R8=Ua.unstable_UserBlockingPriority,g0=Ua.unstable_NormalPriority,iz=Ua.unstable_LowPriority,D8=Ua.unstable_IdlePriority,S1=null,To=null;function oz(t){if(To&&typeof To.onCommitFiberRoot=="function")try{To.onCommitFiberRoot(S1,t,void 0,(t.current.flags&128)===128)}catch{}}var to=Math.clz32?Math.clz32:cz,sz=Math.log,lz=Math.LN2;function cz(t){return t>>>=0,t===0?32:31-(sz(t)/lz|0)|0}var Zv=64,Qv=4194304;function tp(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function y0(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,a=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var s=o&~a;s!==0?n=tp(s):(i&=o,i!==0&&(n=tp(i)))}else o=r&~a,o!==0?n=tp(o):i!==0&&(n=tp(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&a)&&(a=n&-n,i=e&-e,a>=i||a===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-to(e),a=1<<r,n|=t[r],e&=~a;return n}function uz(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dz(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-to(i),s=1<<o,l=a[o];l===-1?(!(s&r)||s&n)&&(a[o]=uz(s,e)):l<=e&&(t.expiredLanes|=s),i&=~s}}function L_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function M8(){var t=Zv;return Zv<<=1,!(Zv&4194240)&&(Zv=64),t}function Rw(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function nv(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-to(e),t[e]=r}function fz(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-to(r),i=1<<a;e[a]=0,n[a]=-1,t[a]=-1,r&=~i}}function yE(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-to(r),a=1<<n;a&e|t[n]&e&&(t[n]|=e),r&=~a}}var Ut=0;function $8(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var L8,xE,F8,B8,U8,F_=!1,Jv=[],jl=null,Nl=null,Ol=null,Lp=new Map,Fp=new Map,cl=[],hz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rO(t,e){switch(t){case"focusin":case"focusout":jl=null;break;case"dragenter":case"dragleave":Nl=null;break;case"mouseover":case"mouseout":Ol=null;break;case"pointerover":case"pointerout":Lp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fp.delete(e.pointerId)}}function Nh(t,e,r,n,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},e!==null&&(e=iv(e),e!==null&&xE(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function pz(t,e,r,n,a){switch(e){case"focusin":return jl=Nh(jl,t,e,r,n,a),!0;case"dragenter":return Nl=Nh(Nl,t,e,r,n,a),!0;case"mouseover":return Ol=Nh(Ol,t,e,r,n,a),!0;case"pointerover":var i=a.pointerId;return Lp.set(i,Nh(Lp.get(i)||null,t,e,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Fp.set(i,Nh(Fp.get(i)||null,t,e,r,n,a)),!0}return!1}function V8(t){var e=Tc(t.target);if(e!==null){var r=_u(e);if(r!==null){if(e=r.tag,e===13){if(e=T8(r),e!==null){t.blockedOn=e,U8(t.priority,function(){F8(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=B_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);R_=n,r.target.dispatchEvent(n),R_=null}else return e=iv(r),e!==null&&xE(e),t.blockedOn=r,!1;e.shift()}return!0}function nO(t,e,r){qg(t)&&r.delete(e)}function mz(){F_=!1,jl!==null&&qg(jl)&&(jl=null),Nl!==null&&qg(Nl)&&(Nl=null),Ol!==null&&qg(Ol)&&(Ol=null),Lp.forEach(nO),Fp.forEach(nO)}function Oh(t,e){t.blockedOn===e&&(t.blockedOn=null,F_||(F_=!0,Ua.unstable_scheduleCallback(Ua.unstable_NormalPriority,mz)))}function Bp(t){function e(a){return Oh(a,t)}if(0<Jv.length){Oh(Jv[0],t);for(var r=1;r<Jv.length;r++){var n=Jv[r];n.blockedOn===t&&(n.blockedOn=null)}}for(jl!==null&&Oh(jl,t),Nl!==null&&Oh(Nl,t),Ol!==null&&Oh(Ol,t),Lp.forEach(e),Fp.forEach(e),r=0;r<cl.length;r++)n=cl[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<cl.length&&(r=cl[0],r.blockedOn===null);)V8(r),r.blockedOn===null&&cl.shift()}var Td=Fs.ReactCurrentBatchConfig,x0=!0;function vz(t,e,r,n){var a=Ut,i=Td.transition;Td.transition=null;try{Ut=1,wE(t,e,r,n)}finally{Ut=a,Td.transition=i}}function gz(t,e,r,n){var a=Ut,i=Td.transition;Td.transition=null;try{Ut=4,wE(t,e,r,n)}finally{Ut=a,Td.transition=i}}function wE(t,e,r,n){if(x0){var a=B_(t,e,r,n);if(a===null)zw(t,e,n,w0,r),rO(t,n);else if(pz(a,t,e,r,n))n.stopPropagation();else if(rO(t,n),e&4&&-1<hz.indexOf(t)){for(;a!==null;){var i=iv(a);if(i!==null&&L8(i),i=B_(t,e,r,n),i===null&&zw(t,e,n,w0,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else zw(t,e,n,null,r)}}var w0=null;function B_(t,e,r,n){if(w0=null,t=vE(n),t=Tc(t),t!==null)if(e=_u(t),e===null)t=null;else if(r=e.tag,r===13){if(t=T8(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return w0=t,null}function W8(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(az()){case gE:return 1;case R8:return 4;case g0:case iz:return 16;case D8:return 536870912;default:return 16}default:return 16}}var _l=null,bE=null,Gg=null;function z8(){if(Gg)return Gg;var t,e=bE,r=e.length,n,a="value"in _l?_l.value:_l.textContent,i=a.length;for(t=0;t<r&&e[t]===a[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===a[i-n];n++);return Gg=a.slice(t,1<n?1-n:void 0)}function Kg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function eg(){return!0}function aO(){return!1}function Xa(t){function e(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?eg:aO,this.isPropagationStopped=aO,this}return Sr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=eg)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=eg)},persist:function(){},isPersistent:eg}),e}var Yf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_E=Xa(Yf),av=Sr({},Yf,{view:0,detail:0}),yz=Xa(av),Dw,Mw,Th,C1=Sr({},av,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:SE,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Th&&(Th&&t.type==="mousemove"?(Dw=t.screenX-Th.screenX,Mw=t.screenY-Th.screenY):Mw=Dw=0,Th=t),Dw)},movementY:function(t){return"movementY"in t?t.movementY:Mw}}),iO=Xa(C1),xz=Sr({},C1,{dataTransfer:0}),wz=Xa(xz),bz=Sr({},av,{relatedTarget:0}),$w=Xa(bz),_z=Sr({},Yf,{animationName:0,elapsedTime:0,pseudoElement:0}),Sz=Xa(_z),Cz=Sr({},Yf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ez=Xa(Cz),Az=Sr({},Yf,{data:0}),oO=Xa(Az),jz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tz(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Oz[t])?!!e[t]:!1}function SE(){return Tz}var Pz=Sr({},av,{key:function(t){if(t.key){var e=jz[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Kg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Nz[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:SE,charCode:function(t){return t.type==="keypress"?Kg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kz=Xa(Pz),Iz=Sr({},C1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sO=Xa(Iz),Rz=Sr({},av,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:SE}),Dz=Xa(Rz),Mz=Sr({},Yf,{propertyName:0,elapsedTime:0,pseudoElement:0}),$z=Xa(Mz),Lz=Sr({},C1,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Fz=Xa(Lz),Bz=[9,13,27,32],CE=js&&"CompositionEvent"in window,pp=null;js&&"documentMode"in document&&(pp=document.documentMode);var Uz=js&&"TextEvent"in window&&!pp,H8=js&&(!CE||pp&&8<pp&&11>=pp),lO=" ",cO=!1;function q8(t,e){switch(t){case"keyup":return Bz.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function G8(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var sd=!1;function Vz(t,e){switch(t){case"compositionend":return G8(e);case"keypress":return e.which!==32?null:(cO=!0,lO);case"textInput":return t=e.data,t===lO&&cO?null:t;default:return null}}function Wz(t,e){if(sd)return t==="compositionend"||!CE&&q8(t,e)?(t=z8(),Gg=bE=_l=null,sd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return H8&&e.locale!=="ko"?null:e.data;default:return null}}var zz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uO(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!zz[t.type]:e==="textarea"}function K8(t,e,r,n){E8(n),e=b0(e,"onChange"),0<e.length&&(r=new _E("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var mp=null,Up=null;function Hz(t){iD(t,0)}function E1(t){var e=ud(t);if(y8(e))return t}function qz(t,e){if(t==="change")return e}var X8=!1;if(js){var Lw;if(js){var Fw="oninput"in document;if(!Fw){var dO=document.createElement("div");dO.setAttribute("oninput","return;"),Fw=typeof dO.oninput=="function"}Lw=Fw}else Lw=!1;X8=Lw&&(!document.documentMode||9<document.documentMode)}function fO(){mp&&(mp.detachEvent("onpropertychange",Y8),Up=mp=null)}function Y8(t){if(t.propertyName==="value"&&E1(Up)){var e=[];K8(e,Up,t,vE(t)),O8(Hz,e)}}function Gz(t,e,r){t==="focusin"?(fO(),mp=e,Up=r,mp.attachEvent("onpropertychange",Y8)):t==="focusout"&&fO()}function Kz(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return E1(Up)}function Xz(t,e){if(t==="click")return E1(e)}function Yz(t,e){if(t==="input"||t==="change")return E1(e)}function Zz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var no=typeof Object.is=="function"?Object.is:Zz;function Vp(t,e){if(no(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!__.call(e,a)||!no(t[a],e[a]))return!1}return!0}function hO(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pO(t,e){var r=hO(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hO(r)}}function Z8(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Z8(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Q8(){for(var t=window,e=p0();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=p0(t.document)}return e}function EE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Qz(t){var e=Q8(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Z8(r.ownerDocument.documentElement,r)){if(n!==null&&EE(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!t.extend&&i>n&&(a=n,n=i,i=a),a=pO(r,i);var o=pO(r,n);a&&o&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Jz=js&&"documentMode"in document&&11>=document.documentMode,ld=null,U_=null,vp=null,V_=!1;function mO(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;V_||ld==null||ld!==p0(n)||(n=ld,"selectionStart"in n&&EE(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),vp&&Vp(vp,n)||(vp=n,n=b0(U_,"onSelect"),0<n.length&&(e=new _E("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=ld)))}function tg(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var cd={animationend:tg("Animation","AnimationEnd"),animationiteration:tg("Animation","AnimationIteration"),animationstart:tg("Animation","AnimationStart"),transitionend:tg("Transition","TransitionEnd")},Bw={},J8={};js&&(J8=document.createElement("div").style,"AnimationEvent"in window||(delete cd.animationend.animation,delete cd.animationiteration.animation,delete cd.animationstart.animation),"TransitionEvent"in window||delete cd.transitionend.transition);function A1(t){if(Bw[t])return Bw[t];if(!cd[t])return t;var e=cd[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in J8)return Bw[t]=e[r];return t}var eD=A1("animationend"),tD=A1("animationiteration"),rD=A1("animationstart"),nD=A1("transitionend"),aD=new Map,vO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zl(t,e){aD.set(t,e),bu(e,[t])}for(var Uw=0;Uw<vO.length;Uw++){var Vw=vO[Uw],eH=Vw.toLowerCase(),tH=Vw[0].toUpperCase()+Vw.slice(1);Zl(eH,"on"+tH)}Zl(eD,"onAnimationEnd");Zl(tD,"onAnimationIteration");Zl(rD,"onAnimationStart");Zl("dblclick","onDoubleClick");Zl("focusin","onFocus");Zl("focusout","onBlur");Zl(nD,"onTransitionEnd");ef("onMouseEnter",["mouseout","mouseover"]);ef("onMouseLeave",["mouseout","mouseover"]);ef("onPointerEnter",["pointerout","pointerover"]);ef("onPointerLeave",["pointerout","pointerover"]);bu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bu("onBeforeInput",["compositionend","keypress","textInput","paste"]);bu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rH=new Set("cancel close invalid load scroll toggle".split(" ").concat(rp));function gO(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,ez(n,e,void 0,t),t.currentTarget=null}function iD(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],a=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;gO(a,s,u),i=l}else for(o=0;o<n.length;o++){if(s=n[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;gO(a,s,u),i=l}}}if(v0)throw t=$_,v0=!1,$_=null,t}function ir(t,e){var r=e[G_];r===void 0&&(r=e[G_]=new Set);var n=t+"__bubble";r.has(n)||(oD(e,t,2,!1),r.add(n))}function Ww(t,e,r){var n=0;e&&(n|=4),oD(r,t,n,e)}var rg="_reactListening"+Math.random().toString(36).slice(2);function Wp(t){if(!t[rg]){t[rg]=!0,h8.forEach(function(r){r!=="selectionchange"&&(rH.has(r)||Ww(r,!1,t),Ww(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[rg]||(e[rg]=!0,Ww("selectionchange",!1,e))}}function oD(t,e,r,n){switch(W8(e)){case 1:var a=vz;break;case 4:a=gz;break;default:a=wE}r=a.bind(null,e,r,t),a=void 0,!M_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(e,r,{capture:!0,passive:a}):t.addEventListener(e,r,!0):a!==void 0?t.addEventListener(e,r,{passive:a}):t.addEventListener(e,r,!1)}function zw(t,e,r,n,a){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===a||s.nodeType===8&&s.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;o=o.return}for(;s!==null;){if(o=Tc(s),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}s=s.parentNode}}n=n.return}O8(function(){var u=i,d=vE(r),f=[];e:{var h=aD.get(t);if(h!==void 0){var p=_E,v=t;switch(t){case"keypress":if(Kg(r)===0)break e;case"keydown":case"keyup":p=kz;break;case"focusin":v="focus",p=$w;break;case"focusout":v="blur",p=$w;break;case"beforeblur":case"afterblur":p=$w;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=iO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=wz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Dz;break;case eD:case tD:case rD:p=Sz;break;case nD:p=$z;break;case"scroll":p=yz;break;case"wheel":p=Fz;break;case"copy":case"cut":case"paste":p=Ez;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=sO}var m=(e&4)!==0,g=!m&&t==="scroll",x=m?h!==null?h+"Capture":null:h;m=[];for(var y=u,w;y!==null;){w=y;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,x!==null&&(_=$p(y,x),_!=null&&m.push(zp(y,_,w)))),g)break;y=y.return}0<m.length&&(h=new p(h,v,null,r,d),f.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&r!==R_&&(v=r.relatedTarget||r.fromElement)&&(Tc(v)||v[Ns]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(v=r.relatedTarget||r.toElement,p=u,v=v?Tc(v):null,v!==null&&(g=_u(v),v!==g||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(m=iO,_="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(m=sO,_="onPointerLeave",x="onPointerEnter",y="pointer"),g=p==null?h:ud(p),w=v==null?h:ud(v),h=new m(_,y+"leave",p,r,d),h.target=g,h.relatedTarget=w,_=null,Tc(d)===u&&(m=new m(x,y+"enter",v,r,d),m.target=w,m.relatedTarget=g,_=m),g=_,p&&v)t:{for(m=p,x=v,y=0,w=m;w;w=Lu(w))y++;for(w=0,_=x;_;_=Lu(_))w++;for(;0<y-w;)m=Lu(m),y--;for(;0<w-y;)x=Lu(x),w--;for(;y--;){if(m===x||x!==null&&m===x.alternate)break t;m=Lu(m),x=Lu(x)}m=null}else m=null;p!==null&&yO(f,h,p,m,!1),v!==null&&g!==null&&yO(f,g,v,m,!0)}}e:{if(h=u?ud(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=qz;else if(uO(h))if(X8)S=Yz;else{S=Kz;var C=Gz}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=Xz);if(S&&(S=S(t,u))){K8(f,S,r,d);break e}C&&C(t,h,u),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&O_(h,"number",h.value)}switch(C=u?ud(u):window,t){case"focusin":(uO(C)||C.contentEditable==="true")&&(ld=C,U_=u,vp=null);break;case"focusout":vp=U_=ld=null;break;case"mousedown":V_=!0;break;case"contextmenu":case"mouseup":case"dragend":V_=!1,mO(f,r,d);break;case"selectionchange":if(Jz)break;case"keydown":case"keyup":mO(f,r,d)}var E;if(CE)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else sd?q8(t,r)&&(A="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(H8&&r.locale!=="ko"&&(sd||A!=="onCompositionStart"?A==="onCompositionEnd"&&sd&&(E=z8()):(_l=d,bE="value"in _l?_l.value:_l.textContent,sd=!0)),C=b0(u,A),0<C.length&&(A=new oO(A,t,null,r,d),f.push({event:A,listeners:C}),E?A.data=E:(E=G8(r),E!==null&&(A.data=E)))),(E=Uz?Vz(t,r):Wz(t,r))&&(u=b0(u,"onBeforeInput"),0<u.length&&(d=new oO("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=E))}iD(f,e)})}function zp(t,e,r){return{instance:t,listener:e,currentTarget:r}}function b0(t,e){for(var r=e+"Capture",n=[];t!==null;){var a=t,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=$p(t,r),i!=null&&n.unshift(zp(t,i,a)),i=$p(t,e),i!=null&&n.push(zp(t,i,a))),t=t.return}return n}function Lu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function yO(t,e,r,n,a){for(var i=e._reactName,o=[];r!==null&&r!==n;){var s=r,l=s.alternate,u=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&u!==null&&(s=u,a?(l=$p(r,i),l!=null&&o.unshift(zp(r,l,s))):a||(l=$p(r,i),l!=null&&o.push(zp(r,l,s)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var nH=/\r\n?/g,aH=/\u0000|\uFFFD/g;function xO(t){return(typeof t=="string"?t:""+t).replace(nH,`
`).replace(aH,"")}function ng(t,e,r){if(e=xO(e),xO(t)!==e&&r)throw Error(ce(425))}function _0(){}var W_=null,z_=null;function H_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var q_=typeof setTimeout=="function"?setTimeout:void 0,iH=typeof clearTimeout=="function"?clearTimeout:void 0,wO=typeof Promise=="function"?Promise:void 0,oH=typeof queueMicrotask=="function"?queueMicrotask:typeof wO<"u"?function(t){return wO.resolve(null).then(t).catch(sH)}:q_;function sH(t){setTimeout(function(){throw t})}function Hw(t,e){var r=e,n=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){t.removeChild(a),Bp(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Bp(e)}function Tl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function bO(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Zf=Math.random().toString(36).slice(2),So="__reactFiber$"+Zf,Hp="__reactProps$"+Zf,Ns="__reactContainer$"+Zf,G_="__reactEvents$"+Zf,lH="__reactListeners$"+Zf,cH="__reactHandles$"+Zf;function Tc(t){var e=t[So];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ns]||r[So]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=bO(t);t!==null;){if(r=t[So])return r;t=bO(t)}return e}t=r,r=t.parentNode}return null}function iv(t){return t=t[So]||t[Ns],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ud(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ce(33))}function j1(t){return t[Hp]||null}var K_=[],dd=-1;function Ql(t){return{current:t}}function fr(t){0>dd||(t.current=K_[dd],K_[dd]=null,dd--)}function Jt(t,e){dd++,K_[dd]=t.current,t.current=e}var Vl={},Dn=Ql(Vl),va=Ql(!1),eu=Vl;function tf(t,e){var r=t.type.contextTypes;if(!r)return Vl;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function ga(t){return t=t.childContextTypes,t!=null}function S0(){fr(va),fr(Dn)}function _O(t,e,r){if(Dn.current!==Vl)throw Error(ce(168));Jt(Dn,e),Jt(va,r)}function sD(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in e))throw Error(ce(108,GW(t)||"Unknown",a));return Sr({},r,n)}function C0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Vl,eu=Dn.current,Jt(Dn,t),Jt(va,va.current),!0}function SO(t,e,r){var n=t.stateNode;if(!n)throw Error(ce(169));r?(t=sD(t,e,eu),n.__reactInternalMemoizedMergedChildContext=t,fr(va),fr(Dn),Jt(Dn,t)):fr(va),Jt(va,r)}var ds=null,N1=!1,qw=!1;function lD(t){ds===null?ds=[t]:ds.push(t)}function uH(t){N1=!0,lD(t)}function Jl(){if(!qw&&ds!==null){qw=!0;var t=0,e=Ut;try{var r=ds;for(Ut=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ds=null,N1=!1}catch(a){throw ds!==null&&(ds=ds.slice(t+1)),I8(gE,Jl),a}finally{Ut=e,qw=!1}}return null}var fd=[],hd=0,E0=null,A0=0,si=[],li=0,tu=null,vs=1,gs="";function xc(t,e){fd[hd++]=A0,fd[hd++]=E0,E0=t,A0=e}function cD(t,e,r){si[li++]=vs,si[li++]=gs,si[li++]=tu,tu=t;var n=vs;t=gs;var a=32-to(n)-1;n&=~(1<<a),r+=1;var i=32-to(e)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,vs=1<<32-to(e)+a|r<<a|n,gs=i+t}else vs=1<<i|r<<a|n,gs=t}function AE(t){t.return!==null&&(xc(t,1),cD(t,1,0))}function jE(t){for(;t===E0;)E0=fd[--hd],fd[hd]=null,A0=fd[--hd],fd[hd]=null;for(;t===tu;)tu=si[--li],si[li]=null,gs=si[--li],si[li]=null,vs=si[--li],si[li]=null}var Da=null,Ra=null,vr=!1,Ki=null;function uD(t,e){var r=ui(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function CO(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Da=t,Ra=Tl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Da=t,Ra=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=tu!==null?{id:vs,overflow:gs}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ui(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Da=t,Ra=null,!0):!1;default:return!1}}function X_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Y_(t){if(vr){var e=Ra;if(e){var r=e;if(!CO(t,e)){if(X_(t))throw Error(ce(418));e=Tl(r.nextSibling);var n=Da;e&&CO(t,e)?uD(n,r):(t.flags=t.flags&-4097|2,vr=!1,Da=t)}}else{if(X_(t))throw Error(ce(418));t.flags=t.flags&-4097|2,vr=!1,Da=t}}}function EO(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Da=t}function ag(t){if(t!==Da)return!1;if(!vr)return EO(t),vr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!H_(t.type,t.memoizedProps)),e&&(e=Ra)){if(X_(t))throw dD(),Error(ce(418));for(;e;)uD(t,e),e=Tl(e.nextSibling)}if(EO(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ce(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ra=Tl(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ra=null}}else Ra=Da?Tl(t.stateNode.nextSibling):null;return!0}function dD(){for(var t=Ra;t;)t=Tl(t.nextSibling)}function rf(){Ra=Da=null,vr=!1}function NE(t){Ki===null?Ki=[t]:Ki.push(t)}var dH=Fs.ReactCurrentBatchConfig;function Ph(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ce(309));var n=r.stateNode}if(!n)throw Error(ce(147,t));var a=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var s=a.refs;o===null?delete s[i]:s[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(ce(284));if(!r._owner)throw Error(ce(290,t))}return t}function ig(t,e){throw t=Object.prototype.toString.call(e),Error(ce(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function AO(t){var e=t._init;return e(t._payload)}function fD(t){function e(x,y){if(t){var w=x.deletions;w===null?(x.deletions=[y],x.flags|=16):w.push(y)}}function r(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function n(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function a(x,y){return x=Rl(x,y),x.index=0,x.sibling=null,x}function i(x,y,w){return x.index=w,t?(w=x.alternate,w!==null?(w=w.index,w<y?(x.flags|=2,y):w):(x.flags|=2,y)):(x.flags|=1048576,y)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function s(x,y,w,_){return y===null||y.tag!==6?(y=Jw(w,x.mode,_),y.return=x,y):(y=a(y,w),y.return=x,y)}function l(x,y,w,_){var S=w.type;return S===od?d(x,y,w.props.children,_,w.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===nl&&AO(S)===y.type)?(_=a(y,w.props),_.ref=Ph(x,y,w),_.return=x,_):(_=t0(w.type,w.key,w.props,null,x.mode,_),_.ref=Ph(x,y,w),_.return=x,_)}function u(x,y,w,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=eb(w,x.mode,_),y.return=x,y):(y=a(y,w.children||[]),y.return=x,y)}function d(x,y,w,_,S){return y===null||y.tag!==7?(y=Yc(w,x.mode,_,S),y.return=x,y):(y=a(y,w),y.return=x,y)}function f(x,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Jw(""+y,x.mode,w),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Kv:return w=t0(y.type,y.key,y.props,null,x.mode,w),w.ref=Ph(x,null,y),w.return=x,w;case id:return y=eb(y,x.mode,w),y.return=x,y;case nl:var _=y._init;return f(x,_(y._payload),w)}if(ep(y)||Ah(y))return y=Yc(y,x.mode,w,null),y.return=x,y;ig(x,y)}return null}function h(x,y,w,_){var S=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:s(x,y,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Kv:return w.key===S?l(x,y,w,_):null;case id:return w.key===S?u(x,y,w,_):null;case nl:return S=w._init,h(x,y,S(w._payload),_)}if(ep(w)||Ah(w))return S!==null?null:d(x,y,w,_,null);ig(x,w)}return null}function p(x,y,w,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return x=x.get(w)||null,s(y,x,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Kv:return x=x.get(_.key===null?w:_.key)||null,l(y,x,_,S);case id:return x=x.get(_.key===null?w:_.key)||null,u(y,x,_,S);case nl:var C=_._init;return p(x,y,w,C(_._payload),S)}if(ep(_)||Ah(_))return x=x.get(w)||null,d(y,x,_,S,null);ig(y,_)}return null}function v(x,y,w,_){for(var S=null,C=null,E=y,A=y=0,j=null;E!==null&&A<w.length;A++){E.index>A?(j=E,E=null):j=E.sibling;var T=h(x,E,w[A],_);if(T===null){E===null&&(E=j);break}t&&E&&T.alternate===null&&e(x,E),y=i(T,y,A),C===null?S=T:C.sibling=T,C=T,E=j}if(A===w.length)return r(x,E),vr&&xc(x,A),S;if(E===null){for(;A<w.length;A++)E=f(x,w[A],_),E!==null&&(y=i(E,y,A),C===null?S=E:C.sibling=E,C=E);return vr&&xc(x,A),S}for(E=n(x,E);A<w.length;A++)j=p(E,x,A,w[A],_),j!==null&&(t&&j.alternate!==null&&E.delete(j.key===null?A:j.key),y=i(j,y,A),C===null?S=j:C.sibling=j,C=j);return t&&E.forEach(function(N){return e(x,N)}),vr&&xc(x,A),S}function m(x,y,w,_){var S=Ah(w);if(typeof S!="function")throw Error(ce(150));if(w=S.call(w),w==null)throw Error(ce(151));for(var C=S=null,E=y,A=y=0,j=null,T=w.next();E!==null&&!T.done;A++,T=w.next()){E.index>A?(j=E,E=null):j=E.sibling;var N=h(x,E,T.value,_);if(N===null){E===null&&(E=j);break}t&&E&&N.alternate===null&&e(x,E),y=i(N,y,A),C===null?S=N:C.sibling=N,C=N,E=j}if(T.done)return r(x,E),vr&&xc(x,A),S;if(E===null){for(;!T.done;A++,T=w.next())T=f(x,T.value,_),T!==null&&(y=i(T,y,A),C===null?S=T:C.sibling=T,C=T);return vr&&xc(x,A),S}for(E=n(x,E);!T.done;A++,T=w.next())T=p(E,x,A,T.value,_),T!==null&&(t&&T.alternate!==null&&E.delete(T.key===null?A:T.key),y=i(T,y,A),C===null?S=T:C.sibling=T,C=T);return t&&E.forEach(function(O){return e(x,O)}),vr&&xc(x,A),S}function g(x,y,w,_){if(typeof w=="object"&&w!==null&&w.type===od&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Kv:e:{for(var S=w.key,C=y;C!==null;){if(C.key===S){if(S=w.type,S===od){if(C.tag===7){r(x,C.sibling),y=a(C,w.props.children),y.return=x,x=y;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===nl&&AO(S)===C.type){r(x,C.sibling),y=a(C,w.props),y.ref=Ph(x,C,w),y.return=x,x=y;break e}r(x,C);break}else e(x,C);C=C.sibling}w.type===od?(y=Yc(w.props.children,x.mode,_,w.key),y.return=x,x=y):(_=t0(w.type,w.key,w.props,null,x.mode,_),_.ref=Ph(x,y,w),_.return=x,x=_)}return o(x);case id:e:{for(C=w.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){r(x,y.sibling),y=a(y,w.children||[]),y.return=x,x=y;break e}else{r(x,y);break}else e(x,y);y=y.sibling}y=eb(w,x.mode,_),y.return=x,x=y}return o(x);case nl:return C=w._init,g(x,y,C(w._payload),_)}if(ep(w))return v(x,y,w,_);if(Ah(w))return m(x,y,w,_);ig(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(r(x,y.sibling),y=a(y,w),y.return=x,x=y):(r(x,y),y=Jw(w,x.mode,_),y.return=x,x=y),o(x)):r(x,y)}return g}var nf=fD(!0),hD=fD(!1),j0=Ql(null),N0=null,pd=null,OE=null;function TE(){OE=pd=N0=null}function PE(t){var e=j0.current;fr(j0),t._currentValue=e}function Z_(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Pd(t,e){N0=t,OE=pd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ha=!0),t.firstContext=null)}function gi(t){var e=t._currentValue;if(OE!==t)if(t={context:t,memoizedValue:e,next:null},pd===null){if(N0===null)throw Error(ce(308));pd=t,N0.dependencies={lanes:0,firstContext:t}}else pd=pd.next=t;return e}var Pc=null;function kE(t){Pc===null?Pc=[t]:Pc.push(t)}function pD(t,e,r,n){var a=e.interleaved;return a===null?(r.next=r,kE(e)):(r.next=a.next,a.next=r),e.interleaved=r,Os(t,n)}function Os(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var al=!1;function IE(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mD(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ws(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Pl(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,mt&2){var a=n.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),n.pending=e,Os(t,r)}return a=n.interleaved,a===null?(e.next=e,kE(n)):(e.next=a.next,a.next=e),n.interleaved=e,Os(t,r)}function Xg(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,yE(t,r)}}function jO(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=e:i=i.next=e}else a=i=e;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function O0(t,e,r,n){var a=t.updateQueue;al=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==o&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=l))}if(i!==null){var f=a.baseState;o=0,d=u=l=null,s=i;do{var h=s.lane,p=s.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=t,m=s;switch(h=e,p=r,m.tag){case 1:if(v=m.payload,typeof v=="function"){f=v.call(p,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=m.payload,h=typeof v=="function"?v.call(p,f,h):v,h==null)break e;f=Sr({},f,h);break e;case 2:al=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=a.effects,h===null?a.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=p,l=f):d=d.next=p,o|=h;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;h=s,s=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(l=f),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=d,e=a.shared.interleaved,e!==null){a=e;do o|=a.lane,a=a.next;while(a!==e)}else i===null&&(a.shared.lanes=0);nu|=o,t.lanes=o,t.memoizedState=f}}function NO(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ce(191,a));a.call(n)}}}var ov={},Po=Ql(ov),qp=Ql(ov),Gp=Ql(ov);function kc(t){if(t===ov)throw Error(ce(174));return t}function RE(t,e){switch(Jt(Gp,e),Jt(qp,t),Jt(Po,ov),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:P_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=P_(e,t)}fr(Po),Jt(Po,e)}function af(){fr(Po),fr(qp),fr(Gp)}function vD(t){kc(Gp.current);var e=kc(Po.current),r=P_(e,t.type);e!==r&&(Jt(qp,t),Jt(Po,r))}function DE(t){qp.current===t&&(fr(Po),fr(qp))}var br=Ql(0);function T0(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Gw=[];function ME(){for(var t=0;t<Gw.length;t++)Gw[t]._workInProgressVersionPrimary=null;Gw.length=0}var Yg=Fs.ReactCurrentDispatcher,Kw=Fs.ReactCurrentBatchConfig,ru=0,_r=null,Yr=null,dn=null,P0=!1,gp=!1,Kp=0,fH=0;function On(){throw Error(ce(321))}function $E(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!no(t[r],e[r]))return!1;return!0}function LE(t,e,r,n,a,i){if(ru=i,_r=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Yg.current=t===null||t.memoizedState===null?vH:gH,t=r(n,a),gp){i=0;do{if(gp=!1,Kp=0,25<=i)throw Error(ce(301));i+=1,dn=Yr=null,e.updateQueue=null,Yg.current=yH,t=r(n,a)}while(gp)}if(Yg.current=k0,e=Yr!==null&&Yr.next!==null,ru=0,dn=Yr=_r=null,P0=!1,e)throw Error(ce(300));return t}function FE(){var t=Kp!==0;return Kp=0,t}function xo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?_r.memoizedState=dn=t:dn=dn.next=t,dn}function yi(){if(Yr===null){var t=_r.alternate;t=t!==null?t.memoizedState:null}else t=Yr.next;var e=dn===null?_r.memoizedState:dn.next;if(e!==null)dn=e,Yr=t;else{if(t===null)throw Error(ce(310));Yr=t,t={memoizedState:Yr.memoizedState,baseState:Yr.baseState,baseQueue:Yr.baseQueue,queue:Yr.queue,next:null},dn===null?_r.memoizedState=dn=t:dn=dn.next=t}return dn}function Xp(t,e){return typeof e=="function"?e(t):e}function Xw(t){var e=yi(),r=e.queue;if(r===null)throw Error(ce(311));r.lastRenderedReducer=t;var n=Yr,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var s=o=null,l=null,u=i;do{var d=u.lane;if((ru&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,o=n):l=l.next=f,_r.lanes|=d,nu|=d}u=u.next}while(u!==null&&u!==i);l===null?o=n:l.next=s,no(n,e.memoizedState)||(ha=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){a=t;do i=a.lane,_r.lanes|=i,nu|=i,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Yw(t){var e=yi(),r=e.queue;if(r===null)throw Error(ce(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,i=e.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=t(i,o.action),o=o.next;while(o!==a);no(i,e.memoizedState)||(ha=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function gD(){}function yD(t,e){var r=_r,n=yi(),a=e(),i=!no(n.memoizedState,a);if(i&&(n.memoizedState=a,ha=!0),n=n.queue,BE(bD.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||dn!==null&&dn.memoizedState.tag&1){if(r.flags|=2048,Yp(9,wD.bind(null,r,n,a,e),void 0,null),pn===null)throw Error(ce(349));ru&30||xD(r,e,a)}return a}function xD(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=_r.updateQueue,e===null?(e={lastEffect:null,stores:null},_r.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function wD(t,e,r,n){e.value=r,e.getSnapshot=n,_D(e)&&SD(t)}function bD(t,e,r){return r(function(){_D(e)&&SD(t)})}function _D(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!no(t,r)}catch{return!0}}function SD(t){var e=Os(t,1);e!==null&&ro(e,t,1,-1)}function OO(t){var e=xo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xp,lastRenderedState:t},e.queue=t,t=t.dispatch=mH.bind(null,_r,t),[e.memoizedState,t]}function Yp(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=_r.updateQueue,e===null?(e={lastEffect:null,stores:null},_r.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function CD(){return yi().memoizedState}function Zg(t,e,r,n){var a=xo();_r.flags|=t,a.memoizedState=Yp(1|e,r,void 0,n===void 0?null:n)}function O1(t,e,r,n){var a=yi();n=n===void 0?null:n;var i=void 0;if(Yr!==null){var o=Yr.memoizedState;if(i=o.destroy,n!==null&&$E(n,o.deps)){a.memoizedState=Yp(e,r,i,n);return}}_r.flags|=t,a.memoizedState=Yp(1|e,r,i,n)}function TO(t,e){return Zg(8390656,8,t,e)}function BE(t,e){return O1(2048,8,t,e)}function ED(t,e){return O1(4,2,t,e)}function AD(t,e){return O1(4,4,t,e)}function jD(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ND(t,e,r){return r=r!=null?r.concat([t]):null,O1(4,4,jD.bind(null,e,t),r)}function UE(){}function OD(t,e){var r=yi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&$E(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function TD(t,e){var r=yi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&$E(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function PD(t,e,r){return ru&21?(no(r,e)||(r=M8(),_r.lanes|=r,nu|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ha=!0),t.memoizedState=r)}function hH(t,e){var r=Ut;Ut=r!==0&&4>r?r:4,t(!0);var n=Kw.transition;Kw.transition={};try{t(!1),e()}finally{Ut=r,Kw.transition=n}}function kD(){return yi().memoizedState}function pH(t,e,r){var n=Il(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ID(t))RD(e,r);else if(r=pD(t,e,r,n),r!==null){var a=Jn();ro(r,t,n,a),DD(r,e,n)}}function mH(t,e,r){var n=Il(t),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ID(t))RD(e,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,s=i(o,r);if(a.hasEagerState=!0,a.eagerState=s,no(s,o)){var l=e.interleaved;l===null?(a.next=a,kE(e)):(a.next=l.next,l.next=a),e.interleaved=a;return}}catch{}finally{}r=pD(t,e,a,n),r!==null&&(a=Jn(),ro(r,t,n,a),DD(r,e,n))}}function ID(t){var e=t.alternate;return t===_r||e!==null&&e===_r}function RD(t,e){gp=P0=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function DD(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,yE(t,r)}}var k0={readContext:gi,useCallback:On,useContext:On,useEffect:On,useImperativeHandle:On,useInsertionEffect:On,useLayoutEffect:On,useMemo:On,useReducer:On,useRef:On,useState:On,useDebugValue:On,useDeferredValue:On,useTransition:On,useMutableSource:On,useSyncExternalStore:On,useId:On,unstable_isNewReconciler:!1},vH={readContext:gi,useCallback:function(t,e){return xo().memoizedState=[t,e===void 0?null:e],t},useContext:gi,useEffect:TO,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Zg(4194308,4,jD.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Zg(4194308,4,t,e)},useInsertionEffect:function(t,e){return Zg(4,2,t,e)},useMemo:function(t,e){var r=xo();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=xo();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=pH.bind(null,_r,t),[n.memoizedState,t]},useRef:function(t){var e=xo();return t={current:t},e.memoizedState=t},useState:OO,useDebugValue:UE,useDeferredValue:function(t){return xo().memoizedState=t},useTransition:function(){var t=OO(!1),e=t[0];return t=hH.bind(null,t[1]),xo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=_r,a=xo();if(vr){if(r===void 0)throw Error(ce(407));r=r()}else{if(r=e(),pn===null)throw Error(ce(349));ru&30||xD(n,e,r)}a.memoizedState=r;var i={value:r,getSnapshot:e};return a.queue=i,TO(bD.bind(null,n,i,t),[t]),n.flags|=2048,Yp(9,wD.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=xo(),e=pn.identifierPrefix;if(vr){var r=gs,n=vs;r=(n&~(1<<32-to(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Kp++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=fH++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},gH={readContext:gi,useCallback:OD,useContext:gi,useEffect:BE,useImperativeHandle:ND,useInsertionEffect:ED,useLayoutEffect:AD,useMemo:TD,useReducer:Xw,useRef:CD,useState:function(){return Xw(Xp)},useDebugValue:UE,useDeferredValue:function(t){var e=yi();return PD(e,Yr.memoizedState,t)},useTransition:function(){var t=Xw(Xp)[0],e=yi().memoizedState;return[t,e]},useMutableSource:gD,useSyncExternalStore:yD,useId:kD,unstable_isNewReconciler:!1},yH={readContext:gi,useCallback:OD,useContext:gi,useEffect:BE,useImperativeHandle:ND,useInsertionEffect:ED,useLayoutEffect:AD,useMemo:TD,useReducer:Yw,useRef:CD,useState:function(){return Yw(Xp)},useDebugValue:UE,useDeferredValue:function(t){var e=yi();return Yr===null?e.memoizedState=t:PD(e,Yr.memoizedState,t)},useTransition:function(){var t=Yw(Xp)[0],e=yi().memoizedState;return[t,e]},useMutableSource:gD,useSyncExternalStore:yD,useId:kD,unstable_isNewReconciler:!1};function Fi(t,e){if(t&&t.defaultProps){e=Sr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Q_(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Sr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var T1={isMounted:function(t){return(t=t._reactInternals)?_u(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Jn(),a=Il(t),i=ws(n,a);i.payload=e,r!=null&&(i.callback=r),e=Pl(t,i,a),e!==null&&(ro(e,t,a,n),Xg(e,t,a))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Jn(),a=Il(t),i=ws(n,a);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Pl(t,i,a),e!==null&&(ro(e,t,a,n),Xg(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Jn(),n=Il(t),a=ws(r,n);a.tag=2,e!=null&&(a.callback=e),e=Pl(t,a,n),e!==null&&(ro(e,t,n,r),Xg(e,t,n))}};function PO(t,e,r,n,a,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!Vp(r,n)||!Vp(a,i):!0}function MD(t,e,r){var n=!1,a=Vl,i=e.contextType;return typeof i=="object"&&i!==null?i=gi(i):(a=ga(e)?eu:Dn.current,n=e.contextTypes,i=(n=n!=null)?tf(t,a):Vl),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=T1,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=i),e}function kO(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&T1.enqueueReplaceState(e,e.state,null)}function J_(t,e,r,n){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs={},IE(t);var i=e.contextType;typeof i=="object"&&i!==null?a.context=gi(i):(i=ga(e)?eu:Dn.current,a.context=tf(t,i)),a.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Q_(t,e,i,r),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&T1.enqueueReplaceState(a,a.state,null),O0(t,r,a,n),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function of(t,e){try{var r="",n=e;do r+=qW(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:a,digest:null}}function Zw(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function e2(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var xH=typeof WeakMap=="function"?WeakMap:Map;function $D(t,e,r){r=ws(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){R0||(R0=!0,u2=n),e2(t,e)},r}function LD(t,e,r){r=ws(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var a=e.value;r.payload=function(){return n(a)},r.callback=function(){e2(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){e2(t,e),typeof n!="function"&&(kl===null?kl=new Set([this]):kl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function IO(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new xH;var a=new Set;n.set(e,a)}else a=n.get(e),a===void 0&&(a=new Set,n.set(e,a));a.has(r)||(a.add(r),t=IH.bind(null,t,e,r),e.then(t,t))}function RO(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function DO(t,e,r,n,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ws(-1,1),e.tag=2,Pl(r,e,1))),r.lanes|=1),t)}var wH=Fs.ReactCurrentOwner,ha=!1;function qn(t,e,r,n){e.child=t===null?hD(e,null,r,n):nf(e,t.child,r,n)}function MO(t,e,r,n,a){r=r.render;var i=e.ref;return Pd(e,a),n=LE(t,e,r,n,i,a),r=FE(),t!==null&&!ha?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Ts(t,e,a)):(vr&&r&&AE(e),e.flags|=1,qn(t,e,n,a),e.child)}function $O(t,e,r,n,a){if(t===null){var i=r.type;return typeof i=="function"&&!XE(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,FD(t,e,i,n,a)):(t=t0(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Vp,r(o,n)&&t.ref===e.ref)return Ts(t,e,a)}return e.flags|=1,t=Rl(i,n),t.ref=e.ref,t.return=e,e.child=t}function FD(t,e,r,n,a){if(t!==null){var i=t.memoizedProps;if(Vp(i,n)&&t.ref===e.ref)if(ha=!1,e.pendingProps=n=i,(t.lanes&a)!==0)t.flags&131072&&(ha=!0);else return e.lanes=t.lanes,Ts(t,e,a)}return t2(t,e,r,n,a)}function BD(t,e,r){var n=e.pendingProps,a=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Jt(vd,Aa),Aa|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Jt(vd,Aa),Aa|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Jt(vd,Aa),Aa|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,Jt(vd,Aa),Aa|=n;return qn(t,e,a,r),e.child}function UD(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function t2(t,e,r,n,a){var i=ga(r)?eu:Dn.current;return i=tf(e,i),Pd(e,a),r=LE(t,e,r,n,i,a),n=FE(),t!==null&&!ha?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Ts(t,e,a)):(vr&&n&&AE(e),e.flags|=1,qn(t,e,r,a),e.child)}function LO(t,e,r,n,a){if(ga(r)){var i=!0;C0(e)}else i=!1;if(Pd(e,a),e.stateNode===null)Qg(t,e),MD(e,r,n),J_(e,r,n,a),n=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=gi(u):(u=ga(r)?eu:Dn.current,u=tf(e,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||l!==u)&&kO(e,o,n,u),al=!1;var h=e.memoizedState;o.state=h,O0(e,n,o,a),l=e.memoizedState,s!==n||h!==l||va.current||al?(typeof d=="function"&&(Q_(e,r,d,n),l=e.memoizedState),(s=al||PO(e,r,s,n,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,mD(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:Fi(e.type,s),o.props=u,f=e.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=gi(l):(l=ga(r)?eu:Dn.current,l=tf(e,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==l)&&kO(e,o,n,l),al=!1,h=e.memoizedState,o.state=h,O0(e,n,o,a);var v=e.memoizedState;s!==f||h!==v||va.current||al?(typeof p=="function"&&(Q_(e,r,p,n),v=e.memoizedState),(u=al||PO(e,r,u,n,h,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),o.props=n,o.state=v,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return r2(t,e,r,n,i,a)}function r2(t,e,r,n,a,i){UD(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return a&&SO(e,r,!1),Ts(t,e,i);n=e.stateNode,wH.current=e;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=nf(e,t.child,null,i),e.child=nf(e,null,s,i)):qn(t,e,s,i),e.memoizedState=n.state,a&&SO(e,r,!0),e.child}function VD(t){var e=t.stateNode;e.pendingContext?_O(t,e.pendingContext,e.pendingContext!==e.context):e.context&&_O(t,e.context,!1),RE(t,e.containerInfo)}function FO(t,e,r,n,a){return rf(),NE(a),e.flags|=256,qn(t,e,r,n),e.child}var n2={dehydrated:null,treeContext:null,retryLane:0};function a2(t){return{baseLanes:t,cachePool:null,transitions:null}}function WD(t,e,r){var n=e.pendingProps,a=br.current,i=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(a&2)!==0),s?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),Jt(br,a&1),t===null)return Y_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=I1(o,n,0,null),t=Yc(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=a2(r),e.memoizedState=n2,t):VE(e,o));if(a=t.memoizedState,a!==null&&(s=a.dehydrated,s!==null))return bH(t,e,o,n,s,a,r);if(i){i=n.fallback,o=e.mode,a=t.child,s=a.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==a?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Rl(a,l),n.subtreeFlags=a.subtreeFlags&14680064),s!==null?i=Rl(s,i):(i=Yc(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?a2(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=n2,n}return i=t.child,t=i.sibling,n=Rl(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function VE(t,e){return e=I1({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function og(t,e,r,n){return n!==null&&NE(n),nf(e,t.child,null,r),t=VE(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function bH(t,e,r,n,a,i,o){if(r)return e.flags&256?(e.flags&=-257,n=Zw(Error(ce(422))),og(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,a=e.mode,n=I1({mode:"visible",children:n.children},a,0,null),i=Yc(i,a,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&nf(e,t.child,null,o),e.child.memoizedState=a2(o),e.memoizedState=n2,i);if(!(e.mode&1))return og(t,e,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var s=n.dgst;return n=s,i=Error(ce(419)),n=Zw(i,n,void 0),og(t,e,o,n)}if(s=(o&t.childLanes)!==0,ha||s){if(n=pn,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Os(t,a),ro(n,t,a,-1))}return KE(),n=Zw(Error(ce(421))),og(t,e,o,n)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=RH.bind(null,t),a._reactRetry=e,null):(t=i.treeContext,Ra=Tl(a.nextSibling),Da=e,vr=!0,Ki=null,t!==null&&(si[li++]=vs,si[li++]=gs,si[li++]=tu,vs=t.id,gs=t.overflow,tu=e),e=VE(e,n.children),e.flags|=4096,e)}function BO(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Z_(t.return,e,r)}function Qw(t,e,r,n,a){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function zD(t,e,r){var n=e.pendingProps,a=n.revealOrder,i=n.tail;if(qn(t,e,n.children,r),n=br.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&BO(t,r,e);else if(t.tag===19)BO(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Jt(br,n),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(r=e.child,a=null;r!==null;)t=r.alternate,t!==null&&T0(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=e.child,e.child=null):(a=r.sibling,r.sibling=null),Qw(e,!1,a,r,i);break;case"backwards":for(r=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&T0(t)===null){e.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}Qw(e,!0,r,null,i);break;case"together":Qw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ts(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),nu|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ce(153));if(e.child!==null){for(t=e.child,r=Rl(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Rl(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function _H(t,e,r){switch(e.tag){case 3:VD(e),rf();break;case 5:vD(e);break;case 1:ga(e.type)&&C0(e);break;case 4:RE(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,a=e.memoizedProps.value;Jt(j0,n._currentValue),n._currentValue=a;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Jt(br,br.current&1),e.flags|=128,null):r&e.child.childLanes?WD(t,e,r):(Jt(br,br.current&1),t=Ts(t,e,r),t!==null?t.sibling:null);Jt(br,br.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return zD(t,e,r);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Jt(br,br.current),n)break;return null;case 22:case 23:return e.lanes=0,BD(t,e,r)}return Ts(t,e,r)}var HD,i2,qD,GD;HD=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};i2=function(){};qD=function(t,e,r,n){var a=t.memoizedProps;if(a!==n){t=e.stateNode,kc(Po.current);var i=null;switch(r){case"input":a=j_(t,a),n=j_(t,n),i=[];break;case"select":a=Sr({},a,{value:void 0}),n=Sr({},n,{value:void 0}),i=[];break;case"textarea":a=T_(t,a),n=T_(t,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=_0)}k_(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var s=a[u];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Dp.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(s=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Dp.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ir("scroll",t),i||s===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};GD=function(t,e,r,n){r!==n&&(e.flags|=4)};function kh(t,e){if(!vr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Tn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function SH(t,e,r){var n=e.pendingProps;switch(jE(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tn(e),null;case 1:return ga(e.type)&&S0(),Tn(e),null;case 3:return n=e.stateNode,af(),fr(va),fr(Dn),ME(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ag(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ki!==null&&(h2(Ki),Ki=null))),i2(t,e),Tn(e),null;case 5:DE(e);var a=kc(Gp.current);if(r=e.type,t!==null&&e.stateNode!=null)qD(t,e,r,n,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(ce(166));return Tn(e),null}if(t=kc(Po.current),ag(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[So]=e,n[Hp]=i,t=(e.mode&1)!==0,r){case"dialog":ir("cancel",n),ir("close",n);break;case"iframe":case"object":case"embed":ir("load",n);break;case"video":case"audio":for(a=0;a<rp.length;a++)ir(rp[a],n);break;case"source":ir("error",n);break;case"img":case"image":case"link":ir("error",n),ir("load",n);break;case"details":ir("toggle",n);break;case"input":XN(n,i),ir("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ir("invalid",n);break;case"textarea":ZN(n,i),ir("invalid",n)}k_(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var s=i[o];o==="children"?typeof s=="string"?n.textContent!==s&&(i.suppressHydrationWarning!==!0&&ng(n.textContent,s,t),a=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(i.suppressHydrationWarning!==!0&&ng(n.textContent,s,t),a=["children",""+s]):Dp.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&ir("scroll",n)}switch(r){case"input":Xv(n),YN(n,i,!0);break;case"textarea":Xv(n),QN(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=_0)}n=a,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=b8(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[So]=e,t[Hp]=n,HD(t,e,!1,!1),e.stateNode=t;e:{switch(o=I_(r,n),r){case"dialog":ir("cancel",t),ir("close",t),a=n;break;case"iframe":case"object":case"embed":ir("load",t),a=n;break;case"video":case"audio":for(a=0;a<rp.length;a++)ir(rp[a],t);a=n;break;case"source":ir("error",t),a=n;break;case"img":case"image":case"link":ir("error",t),ir("load",t),a=n;break;case"details":ir("toggle",t),a=n;break;case"input":XN(t,n),a=j_(t,n),ir("invalid",t);break;case"option":a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=Sr({},n,{value:void 0}),ir("invalid",t);break;case"textarea":ZN(t,n),a=T_(t,n),ir("invalid",t);break;default:a=n}k_(r,a),s=a;for(i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="style"?C8(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&_8(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Mp(t,l):typeof l=="number"&&Mp(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Dp.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ir("scroll",t):l!=null&&fE(t,i,l,o))}switch(r){case"input":Xv(t),YN(t,n,!1);break;case"textarea":Xv(t),QN(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Ul(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?jd(t,!!n.multiple,i,!1):n.defaultValue!=null&&jd(t,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=_0)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Tn(e),null;case 6:if(t&&e.stateNode!=null)GD(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ce(166));if(r=kc(Gp.current),kc(Po.current),ag(e)){if(n=e.stateNode,r=e.memoizedProps,n[So]=e,(i=n.nodeValue!==r)&&(t=Da,t!==null))switch(t.tag){case 3:ng(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ng(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[So]=e,e.stateNode=n}return Tn(e),null;case 13:if(fr(br),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(vr&&Ra!==null&&e.mode&1&&!(e.flags&128))dD(),rf(),e.flags|=98560,i=!1;else if(i=ag(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(ce(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ce(317));i[So]=e}else rf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Tn(e),i=!1}else Ki!==null&&(h2(Ki),Ki=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||br.current&1?rn===0&&(rn=3):KE())),e.updateQueue!==null&&(e.flags|=4),Tn(e),null);case 4:return af(),i2(t,e),t===null&&Wp(e.stateNode.containerInfo),Tn(e),null;case 10:return PE(e.type._context),Tn(e),null;case 17:return ga(e.type)&&S0(),Tn(e),null;case 19:if(fr(br),i=e.memoizedState,i===null)return Tn(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)kh(i,!1);else{if(rn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=T0(t),o!==null){for(e.flags|=128,kh(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Jt(br,br.current&1|2),e.child}t=t.sibling}i.tail!==null&&kr()>sf&&(e.flags|=128,n=!0,kh(i,!1),e.lanes=4194304)}else{if(!n)if(t=T0(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),kh(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!vr)return Tn(e),null}else 2*kr()-i.renderingStartTime>sf&&r!==1073741824&&(e.flags|=128,n=!0,kh(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=kr(),e.sibling=null,r=br.current,Jt(br,n?r&1|2:r&1),e):(Tn(e),null);case 22:case 23:return GE(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Aa&1073741824&&(Tn(e),e.subtreeFlags&6&&(e.flags|=8192)):Tn(e),null;case 24:return null;case 25:return null}throw Error(ce(156,e.tag))}function CH(t,e){switch(jE(e),e.tag){case 1:return ga(e.type)&&S0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return af(),fr(va),fr(Dn),ME(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return DE(e),null;case 13:if(fr(br),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ce(340));rf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return fr(br),null;case 4:return af(),null;case 10:return PE(e.type._context),null;case 22:case 23:return GE(),null;case 24:return null;default:return null}}var sg=!1,Rn=!1,EH=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function md(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){jr(t,e,n)}else r.current=null}function o2(t,e,r){try{r()}catch(n){jr(t,e,n)}}var UO=!1;function AH(t,e){if(W_=x0,t=Q8(),EE(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,s=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(s=o+a),f!==i||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===r&&++u===a&&(s=o),h===i&&++d===n&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(z_={focusedElem:t,selectionRange:r},x0=!1,Ne=e;Ne!==null;)if(e=Ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ne=t;else for(;Ne!==null;){e=Ne;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var m=v.memoizedProps,g=v.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?m:Fi(e.type,m),g);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ce(163))}}catch(_){jr(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,Ne=t;break}Ne=e.return}return v=UO,UO=!1,v}function yp(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var i=a.destroy;a.destroy=void 0,i!==void 0&&o2(e,r,i)}a=a.next}while(a!==n)}}function P1(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function s2(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function KD(t){var e=t.alternate;e!==null&&(t.alternate=null,KD(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[So],delete e[Hp],delete e[G_],delete e[lH],delete e[cH])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function XD(t){return t.tag===5||t.tag===3||t.tag===4}function VO(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||XD(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function l2(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=_0));else if(n!==4&&(t=t.child,t!==null))for(l2(t,e,r),t=t.sibling;t!==null;)l2(t,e,r),t=t.sibling}function c2(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(c2(t,e,r),t=t.sibling;t!==null;)c2(t,e,r),t=t.sibling}var Cn=null,Wi=!1;function Xs(t,e,r){for(r=r.child;r!==null;)YD(t,e,r),r=r.sibling}function YD(t,e,r){if(To&&typeof To.onCommitFiberUnmount=="function")try{To.onCommitFiberUnmount(S1,r)}catch{}switch(r.tag){case 5:Rn||md(r,e);case 6:var n=Cn,a=Wi;Cn=null,Xs(t,e,r),Cn=n,Wi=a,Cn!==null&&(Wi?(t=Cn,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Cn.removeChild(r.stateNode));break;case 18:Cn!==null&&(Wi?(t=Cn,r=r.stateNode,t.nodeType===8?Hw(t.parentNode,r):t.nodeType===1&&Hw(t,r),Bp(t)):Hw(Cn,r.stateNode));break;case 4:n=Cn,a=Wi,Cn=r.stateNode.containerInfo,Wi=!0,Xs(t,e,r),Cn=n,Wi=a;break;case 0:case 11:case 14:case 15:if(!Rn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&o2(r,e,o),a=a.next}while(a!==n)}Xs(t,e,r);break;case 1:if(!Rn&&(md(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){jr(r,e,s)}Xs(t,e,r);break;case 21:Xs(t,e,r);break;case 22:r.mode&1?(Rn=(n=Rn)||r.memoizedState!==null,Xs(t,e,r),Rn=n):Xs(t,e,r);break;default:Xs(t,e,r)}}function WO(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new EH),e.forEach(function(n){var a=DH.bind(null,t,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Pi(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:Cn=s.stateNode,Wi=!1;break e;case 3:Cn=s.stateNode.containerInfo,Wi=!0;break e;case 4:Cn=s.stateNode.containerInfo,Wi=!0;break e}s=s.return}if(Cn===null)throw Error(ce(160));YD(i,o,a),Cn=null,Wi=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(u){jr(a,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ZD(e,t),e=e.sibling}function ZD(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Pi(e,t),mo(t),n&4){try{yp(3,t,t.return),P1(3,t)}catch(m){jr(t,t.return,m)}try{yp(5,t,t.return)}catch(m){jr(t,t.return,m)}}break;case 1:Pi(e,t),mo(t),n&512&&r!==null&&md(r,r.return);break;case 5:if(Pi(e,t),mo(t),n&512&&r!==null&&md(r,r.return),t.flags&32){var a=t.stateNode;try{Mp(a,"")}catch(m){jr(t,t.return,m)}}if(n&4&&(a=t.stateNode,a!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&i.type==="radio"&&i.name!=null&&x8(a,i),I_(s,o);var u=I_(s,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?C8(a,f):d==="dangerouslySetInnerHTML"?_8(a,f):d==="children"?Mp(a,f):fE(a,d,f,u)}switch(s){case"input":N_(a,i);break;case"textarea":w8(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?jd(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?jd(a,!!i.multiple,i.defaultValue,!0):jd(a,!!i.multiple,i.multiple?[]:"",!1))}a[Hp]=i}catch(m){jr(t,t.return,m)}}break;case 6:if(Pi(e,t),mo(t),n&4){if(t.stateNode===null)throw Error(ce(162));a=t.stateNode,i=t.memoizedProps;try{a.nodeValue=i}catch(m){jr(t,t.return,m)}}break;case 3:if(Pi(e,t),mo(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Bp(e.containerInfo)}catch(m){jr(t,t.return,m)}break;case 4:Pi(e,t),mo(t);break;case 13:Pi(e,t),mo(t),a=t.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(HE=kr())),n&4&&WO(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Rn=(u=Rn)||d,Pi(e,t),Rn=u):Pi(e,t),mo(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Ne=t,d=t.child;d!==null;){for(f=Ne=d;Ne!==null;){switch(h=Ne,p=h.child,h.tag){case 0:case 11:case 14:case 15:yp(4,h,h.return);break;case 1:md(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(m){jr(n,r,m)}}break;case 5:md(h,h.return);break;case 22:if(h.memoizedState!==null){HO(f);continue}}p!==null?(p.return=h,Ne=p):HO(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=S8("display",o))}catch(m){jr(t,t.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){jr(t,t.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Pi(e,t),mo(t),n&4&&WO(t);break;case 21:break;default:Pi(e,t),mo(t)}}function mo(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(XD(r)){var n=r;break e}r=r.return}throw Error(ce(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Mp(a,""),n.flags&=-33);var i=VO(t);c2(t,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,s=VO(t);l2(t,s,o);break;default:throw Error(ce(161))}}catch(l){jr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function jH(t,e,r){Ne=t,QD(t)}function QD(t,e,r){for(var n=(t.mode&1)!==0;Ne!==null;){var a=Ne,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||sg;if(!o){var s=a.alternate,l=s!==null&&s.memoizedState!==null||Rn;s=sg;var u=Rn;if(sg=o,(Rn=l)&&!u)for(Ne=a;Ne!==null;)o=Ne,l=o.child,o.tag===22&&o.memoizedState!==null?qO(a):l!==null?(l.return=o,Ne=l):qO(a);for(;i!==null;)Ne=i,QD(i),i=i.sibling;Ne=a,sg=s,Rn=u}zO(t)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ne=i):zO(t)}}function zO(t){for(;Ne!==null;){var e=Ne;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Rn||P1(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Rn)if(r===null)n.componentDidMount();else{var a=e.elementType===e.type?r.memoizedProps:Fi(e.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&NO(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}NO(e,o,r)}break;case 5:var s=e.stateNode;if(r===null&&e.flags&4){r=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Bp(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ce(163))}Rn||e.flags&512&&s2(e)}catch(h){jr(e,e.return,h)}}if(e===t){Ne=null;break}if(r=e.sibling,r!==null){r.return=e.return,Ne=r;break}Ne=e.return}}function HO(t){for(;Ne!==null;){var e=Ne;if(e===t){Ne=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Ne=r;break}Ne=e.return}}function qO(t){for(;Ne!==null;){var e=Ne;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{P1(4,e)}catch(l){jr(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var a=e.return;try{n.componentDidMount()}catch(l){jr(e,a,l)}}var i=e.return;try{s2(e)}catch(l){jr(e,i,l)}break;case 5:var o=e.return;try{s2(e)}catch(l){jr(e,o,l)}}}catch(l){jr(e,e.return,l)}if(e===t){Ne=null;break}var s=e.sibling;if(s!==null){s.return=e.return,Ne=s;break}Ne=e.return}}var NH=Math.ceil,I0=Fs.ReactCurrentDispatcher,WE=Fs.ReactCurrentOwner,pi=Fs.ReactCurrentBatchConfig,mt=0,pn=null,Fr=null,An=0,Aa=0,vd=Ql(0),rn=0,Zp=null,nu=0,k1=0,zE=0,xp=null,da=null,HE=0,sf=1/0,ls=null,R0=!1,u2=null,kl=null,lg=!1,Sl=null,D0=0,wp=0,d2=null,Jg=-1,e0=0;function Jn(){return mt&6?kr():Jg!==-1?Jg:Jg=kr()}function Il(t){return t.mode&1?mt&2&&An!==0?An&-An:dH.transition!==null?(e0===0&&(e0=M8()),e0):(t=Ut,t!==0||(t=window.event,t=t===void 0?16:W8(t.type)),t):1}function ro(t,e,r,n){if(50<wp)throw wp=0,d2=null,Error(ce(185));nv(t,r,n),(!(mt&2)||t!==pn)&&(t===pn&&(!(mt&2)&&(k1|=r),rn===4&&ul(t,An)),ya(t,n),r===1&&mt===0&&!(e.mode&1)&&(sf=kr()+500,N1&&Jl()))}function ya(t,e){var r=t.callbackNode;dz(t,e);var n=y0(t,t===pn?An:0);if(n===0)r!==null&&tO(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&tO(r),e===1)t.tag===0?uH(GO.bind(null,t)):lD(GO.bind(null,t)),oH(function(){!(mt&6)&&Jl()}),r=null;else{switch($8(n)){case 1:r=gE;break;case 4:r=R8;break;case 16:r=g0;break;case 536870912:r=D8;break;default:r=g0}r=oM(r,JD.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function JD(t,e){if(Jg=-1,e0=0,mt&6)throw Error(ce(327));var r=t.callbackNode;if(kd()&&t.callbackNode!==r)return null;var n=y0(t,t===pn?An:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=M0(t,n);else{e=n;var a=mt;mt|=2;var i=tM();(pn!==t||An!==e)&&(ls=null,sf=kr()+500,Xc(t,e));do try{PH();break}catch(s){eM(t,s)}while(!0);TE(),I0.current=i,mt=a,Fr!==null?e=0:(pn=null,An=0,e=rn)}if(e!==0){if(e===2&&(a=L_(t),a!==0&&(n=a,e=f2(t,a))),e===1)throw r=Zp,Xc(t,0),ul(t,n),ya(t,kr()),r;if(e===6)ul(t,n);else{if(a=t.current.alternate,!(n&30)&&!OH(a)&&(e=M0(t,n),e===2&&(i=L_(t),i!==0&&(n=i,e=f2(t,i))),e===1))throw r=Zp,Xc(t,0),ul(t,n),ya(t,kr()),r;switch(t.finishedWork=a,t.finishedLanes=n,e){case 0:case 1:throw Error(ce(345));case 2:wc(t,da,ls);break;case 3:if(ul(t,n),(n&130023424)===n&&(e=HE+500-kr(),10<e)){if(y0(t,0)!==0)break;if(a=t.suspendedLanes,(a&n)!==n){Jn(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=q_(wc.bind(null,t,da,ls),e);break}wc(t,da,ls);break;case 4:if(ul(t,n),(n&4194240)===n)break;for(e=t.eventTimes,a=-1;0<n;){var o=31-to(n);i=1<<o,o=e[o],o>a&&(a=o),n&=~i}if(n=a,n=kr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*NH(n/1960))-n,10<n){t.timeoutHandle=q_(wc.bind(null,t,da,ls),n);break}wc(t,da,ls);break;case 5:wc(t,da,ls);break;default:throw Error(ce(329))}}}return ya(t,kr()),t.callbackNode===r?JD.bind(null,t):null}function f2(t,e){var r=xp;return t.current.memoizedState.isDehydrated&&(Xc(t,e).flags|=256),t=M0(t,e),t!==2&&(e=da,da=r,e!==null&&h2(e)),t}function h2(t){da===null?da=t:da.push.apply(da,t)}function OH(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!no(i(),a))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ul(t,e){for(e&=~zE,e&=~k1,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-to(e),n=1<<r;t[r]=-1,e&=~n}}function GO(t){if(mt&6)throw Error(ce(327));kd();var e=y0(t,0);if(!(e&1))return ya(t,kr()),null;var r=M0(t,e);if(t.tag!==0&&r===2){var n=L_(t);n!==0&&(e=n,r=f2(t,n))}if(r===1)throw r=Zp,Xc(t,0),ul(t,e),ya(t,kr()),r;if(r===6)throw Error(ce(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,wc(t,da,ls),ya(t,kr()),null}function qE(t,e){var r=mt;mt|=1;try{return t(e)}finally{mt=r,mt===0&&(sf=kr()+500,N1&&Jl())}}function au(t){Sl!==null&&Sl.tag===0&&!(mt&6)&&kd();var e=mt;mt|=1;var r=pi.transition,n=Ut;try{if(pi.transition=null,Ut=1,t)return t()}finally{Ut=n,pi.transition=r,mt=e,!(mt&6)&&Jl()}}function GE(){Aa=vd.current,fr(vd)}function Xc(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,iH(r)),Fr!==null)for(r=Fr.return;r!==null;){var n=r;switch(jE(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&S0();break;case 3:af(),fr(va),fr(Dn),ME();break;case 5:DE(n);break;case 4:af();break;case 13:fr(br);break;case 19:fr(br);break;case 10:PE(n.type._context);break;case 22:case 23:GE()}r=r.return}if(pn=t,Fr=t=Rl(t.current,null),An=Aa=e,rn=0,Zp=null,zE=k1=nu=0,da=xp=null,Pc!==null){for(e=0;e<Pc.length;e++)if(r=Pc[e],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}Pc=null}return t}function eM(t,e){do{var r=Fr;try{if(TE(),Yg.current=k0,P0){for(var n=_r.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}P0=!1}if(ru=0,dn=Yr=_r=null,gp=!1,Kp=0,WE.current=null,r===null||r.return===null){rn=1,Zp=e,Fr=null;break}e:{var i=t,o=r.return,s=r,l=e;if(e=An,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=RO(o);if(p!==null){p.flags&=-257,DO(p,o,s,i,e),p.mode&1&&IO(i,u,e),e=p,l=u;var v=e.updateQueue;if(v===null){var m=new Set;m.add(l),e.updateQueue=m}else v.add(l);break e}else{if(!(e&1)){IO(i,u,e),KE();break e}l=Error(ce(426))}}else if(vr&&s.mode&1){var g=RO(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),DO(g,o,s,i,e),NE(of(l,s));break e}}i=l=of(l,s),rn!==4&&(rn=2),xp===null?xp=[i]:xp.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=$D(i,l,e);jO(i,x);break e;case 1:s=l;var y=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(kl===null||!kl.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=LD(i,s,e);jO(i,_);break e}}i=i.return}while(i!==null)}nM(r)}catch(S){e=S,Fr===r&&r!==null&&(Fr=r=r.return);continue}break}while(!0)}function tM(){var t=I0.current;return I0.current=k0,t===null?k0:t}function KE(){(rn===0||rn===3||rn===2)&&(rn=4),pn===null||!(nu&268435455)&&!(k1&268435455)||ul(pn,An)}function M0(t,e){var r=mt;mt|=2;var n=tM();(pn!==t||An!==e)&&(ls=null,Xc(t,e));do try{TH();break}catch(a){eM(t,a)}while(!0);if(TE(),mt=r,I0.current=n,Fr!==null)throw Error(ce(261));return pn=null,An=0,rn}function TH(){for(;Fr!==null;)rM(Fr)}function PH(){for(;Fr!==null&&!rz();)rM(Fr)}function rM(t){var e=iM(t.alternate,t,Aa);t.memoizedProps=t.pendingProps,e===null?nM(t):Fr=e,WE.current=null}function nM(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=CH(r,e),r!==null){r.flags&=32767,Fr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rn=6,Fr=null;return}}else if(r=SH(r,e,Aa),r!==null){Fr=r;return}if(e=e.sibling,e!==null){Fr=e;return}Fr=e=t}while(e!==null);rn===0&&(rn=5)}function wc(t,e,r){var n=Ut,a=pi.transition;try{pi.transition=null,Ut=1,kH(t,e,r,n)}finally{pi.transition=a,Ut=n}return null}function kH(t,e,r,n){do kd();while(Sl!==null);if(mt&6)throw Error(ce(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ce(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(fz(t,i),t===pn&&(Fr=pn=null,An=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||lg||(lg=!0,oM(g0,function(){return kd(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=pi.transition,pi.transition=null;var o=Ut;Ut=1;var s=mt;mt|=4,WE.current=null,AH(t,r),ZD(r,t),Qz(z_),x0=!!W_,z_=W_=null,t.current=r,jH(r),nz(),mt=s,Ut=o,pi.transition=i}else t.current=r;if(lg&&(lg=!1,Sl=t,D0=a),i=t.pendingLanes,i===0&&(kl=null),oz(r.stateNode),ya(t,kr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)a=e[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(R0)throw R0=!1,t=u2,u2=null,t;return D0&1&&t.tag!==0&&kd(),i=t.pendingLanes,i&1?t===d2?wp++:(wp=0,d2=t):wp=0,Jl(),null}function kd(){if(Sl!==null){var t=$8(D0),e=pi.transition,r=Ut;try{if(pi.transition=null,Ut=16>t?16:t,Sl===null)var n=!1;else{if(t=Sl,Sl=null,D0=0,mt&6)throw Error(ce(331));var a=mt;for(mt|=4,Ne=t.current;Ne!==null;){var i=Ne,o=i.child;if(Ne.flags&16){var s=i.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(Ne=u;Ne!==null;){var d=Ne;switch(d.tag){case 0:case 11:case 15:yp(8,d,i)}var f=d.child;if(f!==null)f.return=d,Ne=f;else for(;Ne!==null;){d=Ne;var h=d.sibling,p=d.return;if(KD(d),d===u){Ne=null;break}if(h!==null){h.return=p,Ne=h;break}Ne=p}}}var v=i.alternate;if(v!==null){var m=v.child;if(m!==null){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(m!==null)}}Ne=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ne=o;else e:for(;Ne!==null;){if(i=Ne,i.flags&2048)switch(i.tag){case 0:case 11:case 15:yp(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,Ne=x;break e}Ne=i.return}}var y=t.current;for(Ne=y;Ne!==null;){o=Ne;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Ne=w;else e:for(o=y;Ne!==null;){if(s=Ne,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:P1(9,s)}}catch(S){jr(s,s.return,S)}if(s===o){Ne=null;break e}var _=s.sibling;if(_!==null){_.return=s.return,Ne=_;break e}Ne=s.return}}if(mt=a,Jl(),To&&typeof To.onPostCommitFiberRoot=="function")try{To.onPostCommitFiberRoot(S1,t)}catch{}n=!0}return n}finally{Ut=r,pi.transition=e}}return!1}function KO(t,e,r){e=of(r,e),e=$D(t,e,1),t=Pl(t,e,1),e=Jn(),t!==null&&(nv(t,1,e),ya(t,e))}function jr(t,e,r){if(t.tag===3)KO(t,t,r);else for(;e!==null;){if(e.tag===3){KO(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(kl===null||!kl.has(n))){t=of(r,t),t=LD(e,t,1),e=Pl(e,t,1),t=Jn(),e!==null&&(nv(e,1,t),ya(e,t));break}}e=e.return}}function IH(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Jn(),t.pingedLanes|=t.suspendedLanes&r,pn===t&&(An&r)===r&&(rn===4||rn===3&&(An&130023424)===An&&500>kr()-HE?Xc(t,0):zE|=r),ya(t,e)}function aM(t,e){e===0&&(t.mode&1?(e=Qv,Qv<<=1,!(Qv&130023424)&&(Qv=4194304)):e=1);var r=Jn();t=Os(t,e),t!==null&&(nv(t,e,r),ya(t,r))}function RH(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),aM(t,r)}function DH(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ce(314))}n!==null&&n.delete(e),aM(t,r)}var iM;iM=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||va.current)ha=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return ha=!1,_H(t,e,r);ha=!!(t.flags&131072)}else ha=!1,vr&&e.flags&1048576&&cD(e,A0,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Qg(t,e),t=e.pendingProps;var a=tf(e,Dn.current);Pd(e,r),a=LE(null,e,n,t,a,r);var i=FE();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ga(n)?(i=!0,C0(e)):i=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,IE(e),a.updater=T1,e.stateNode=a,a._reactInternals=e,J_(e,n,t,r),e=r2(null,e,n,!0,i,r)):(e.tag=0,vr&&i&&AE(e),qn(null,e,a,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Qg(t,e),t=e.pendingProps,a=n._init,n=a(n._payload),e.type=n,a=e.tag=$H(n),t=Fi(n,t),a){case 0:e=t2(null,e,n,t,r);break e;case 1:e=LO(null,e,n,t,r);break e;case 11:e=MO(null,e,n,t,r);break e;case 14:e=$O(null,e,n,Fi(n.type,t),r);break e}throw Error(ce(306,n,""))}return e;case 0:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:Fi(n,a),t2(t,e,n,a,r);case 1:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:Fi(n,a),LO(t,e,n,a,r);case 3:e:{if(VD(e),t===null)throw Error(ce(387));n=e.pendingProps,i=e.memoizedState,a=i.element,mD(t,e),O0(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){a=of(Error(ce(423)),e),e=FO(t,e,n,r,a);break e}else if(n!==a){a=of(Error(ce(424)),e),e=FO(t,e,n,r,a);break e}else for(Ra=Tl(e.stateNode.containerInfo.firstChild),Da=e,vr=!0,Ki=null,r=hD(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(rf(),n===a){e=Ts(t,e,r);break e}qn(t,e,n,r)}e=e.child}return e;case 5:return vD(e),t===null&&Y_(e),n=e.type,a=e.pendingProps,i=t!==null?t.memoizedProps:null,o=a.children,H_(n,a)?o=null:i!==null&&H_(n,i)&&(e.flags|=32),UD(t,e),qn(t,e,o,r),e.child;case 6:return t===null&&Y_(e),null;case 13:return WD(t,e,r);case 4:return RE(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=nf(e,null,n,r):qn(t,e,n,r),e.child;case 11:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:Fi(n,a),MO(t,e,n,a,r);case 7:return qn(t,e,e.pendingProps,r),e.child;case 8:return qn(t,e,e.pendingProps.children,r),e.child;case 12:return qn(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,a=e.pendingProps,i=e.memoizedProps,o=a.value,Jt(j0,n._currentValue),n._currentValue=o,i!==null)if(no(i.value,o)){if(i.children===a.children&&!va.current){e=Ts(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var s=i.dependencies;if(s!==null){o=i.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=ws(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Z_(i.return,r,e),s.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ce(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),Z_(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}qn(t,e,a.children,r),e=e.child}return e;case 9:return a=e.type,n=e.pendingProps.children,Pd(e,r),a=gi(a),n=n(a),e.flags|=1,qn(t,e,n,r),e.child;case 14:return n=e.type,a=Fi(n,e.pendingProps),a=Fi(n.type,a),$O(t,e,n,a,r);case 15:return FD(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:Fi(n,a),Qg(t,e),e.tag=1,ga(n)?(t=!0,C0(e)):t=!1,Pd(e,r),MD(e,n,a),J_(e,n,a,r),r2(null,e,n,!0,t,r);case 19:return zD(t,e,r);case 22:return BD(t,e,r)}throw Error(ce(156,e.tag))};function oM(t,e){return I8(t,e)}function MH(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ui(t,e,r,n){return new MH(t,e,r,n)}function XE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $H(t){if(typeof t=="function")return XE(t)?1:0;if(t!=null){if(t=t.$$typeof,t===pE)return 11;if(t===mE)return 14}return 2}function Rl(t,e){var r=t.alternate;return r===null?(r=ui(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function t0(t,e,r,n,a,i){var o=2;if(n=t,typeof t=="function")XE(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case od:return Yc(r.children,a,i,e);case hE:o=8,a|=8;break;case S_:return t=ui(12,r,e,a|2),t.elementType=S_,t.lanes=i,t;case C_:return t=ui(13,r,e,a),t.elementType=C_,t.lanes=i,t;case E_:return t=ui(19,r,e,a),t.elementType=E_,t.lanes=i,t;case v8:return I1(r,a,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case p8:o=10;break e;case m8:o=9;break e;case pE:o=11;break e;case mE:o=14;break e;case nl:o=16,n=null;break e}throw Error(ce(130,t==null?t:typeof t,""))}return e=ui(o,r,e,a),e.elementType=t,e.type=n,e.lanes=i,e}function Yc(t,e,r,n){return t=ui(7,t,n,e),t.lanes=r,t}function I1(t,e,r,n){return t=ui(22,t,n,e),t.elementType=v8,t.lanes=r,t.stateNode={isHidden:!1},t}function Jw(t,e,r){return t=ui(6,t,null,e),t.lanes=r,t}function eb(t,e,r){return e=ui(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function LH(t,e,r,n,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rw(0),this.expirationTimes=Rw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rw(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function YE(t,e,r,n,a,i,o,s,l){return t=new LH(t,e,r,s,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ui(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},IE(i),t}function FH(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:id,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function sM(t){if(!t)return Vl;t=t._reactInternals;e:{if(_u(t)!==t||t.tag!==1)throw Error(ce(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ga(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ce(171))}if(t.tag===1){var r=t.type;if(ga(r))return sD(t,r,e)}return e}function lM(t,e,r,n,a,i,o,s,l){return t=YE(r,n,!0,t,a,i,o,s,l),t.context=sM(null),r=t.current,n=Jn(),a=Il(r),i=ws(n,a),i.callback=e??null,Pl(r,i,a),t.current.lanes=a,nv(t,a,n),ya(t,n),t}function R1(t,e,r,n){var a=e.current,i=Jn(),o=Il(a);return r=sM(r),e.context===null?e.context=r:e.pendingContext=r,e=ws(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Pl(a,e,o),t!==null&&(ro(t,a,o,i),Xg(t,a,o)),o}function $0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function XO(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function ZE(t,e){XO(t,e),(t=t.alternate)&&XO(t,e)}function BH(){return null}var cM=typeof reportError=="function"?reportError:function(t){console.error(t)};function QE(t){this._internalRoot=t}D1.prototype.render=QE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ce(409));R1(t,e,null,null)};D1.prototype.unmount=QE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;au(function(){R1(null,t,null,null)}),e[Ns]=null}};function D1(t){this._internalRoot=t}D1.prototype.unstable_scheduleHydration=function(t){if(t){var e=B8();t={blockedOn:null,target:t,priority:e};for(var r=0;r<cl.length&&e!==0&&e<cl[r].priority;r++);cl.splice(r,0,t),r===0&&V8(t)}};function JE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function M1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function YO(){}function UH(t,e,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=$0(o);i.call(u)}}var o=lM(e,n,t,0,null,!1,!1,"",YO);return t._reactRootContainer=o,t[Ns]=o.current,Wp(t.nodeType===8?t.parentNode:t),au(),o}for(;a=t.lastChild;)t.removeChild(a);if(typeof n=="function"){var s=n;n=function(){var u=$0(l);s.call(u)}}var l=YE(t,0,!1,null,null,!1,!1,"",YO);return t._reactRootContainer=l,t[Ns]=l.current,Wp(t.nodeType===8?t.parentNode:t),au(function(){R1(e,l,r,n)}),l}function $1(t,e,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var s=a;a=function(){var l=$0(o);s.call(l)}}R1(e,o,t,a)}else o=UH(r,e,t,a,n);return $0(o)}L8=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=tp(e.pendingLanes);r!==0&&(yE(e,r|1),ya(e,kr()),!(mt&6)&&(sf=kr()+500,Jl()))}break;case 13:au(function(){var n=Os(t,1);if(n!==null){var a=Jn();ro(n,t,1,a)}}),ZE(t,1)}};xE=function(t){if(t.tag===13){var e=Os(t,134217728);if(e!==null){var r=Jn();ro(e,t,134217728,r)}ZE(t,134217728)}};F8=function(t){if(t.tag===13){var e=Il(t),r=Os(t,e);if(r!==null){var n=Jn();ro(r,t,e,n)}ZE(t,e)}};B8=function(){return Ut};U8=function(t,e){var r=Ut;try{return Ut=t,e()}finally{Ut=r}};D_=function(t,e,r){switch(e){case"input":if(N_(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var a=j1(n);if(!a)throw Error(ce(90));y8(n),N_(n,a)}}}break;case"textarea":w8(t,r);break;case"select":e=r.value,e!=null&&jd(t,!!r.multiple,e,!1)}};j8=qE;N8=au;var VH={usingClientEntryPoint:!1,Events:[iv,ud,j1,E8,A8,qE]},Ih={findFiberByHostInstance:Tc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WH={bundleType:Ih.bundleType,version:Ih.version,rendererPackageName:Ih.rendererPackageName,rendererConfig:Ih.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=P8(t),t===null?null:t.stateNode},findFiberByHostInstance:Ih.findFiberByHostInstance||BH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cg.isDisabled&&cg.supportsFiber)try{S1=cg.inject(WH),To=cg}catch{}}Ka.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VH;Ka.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!JE(e))throw Error(ce(200));return FH(t,e,null,r)};Ka.createRoot=function(t,e){if(!JE(t))throw Error(ce(299));var r=!1,n="",a=cM;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=YE(t,1,!1,null,null,r,!1,n,a),t[Ns]=e.current,Wp(t.nodeType===8?t.parentNode:t),new QE(e)};Ka.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ce(188)):(t=Object.keys(t).join(","),Error(ce(268,t)));return t=P8(e),t=t===null?null:t.stateNode,t};Ka.flushSync=function(t){return au(t)};Ka.hydrate=function(t,e,r){if(!M1(e))throw Error(ce(200));return $1(null,t,e,!0,r)};Ka.hydrateRoot=function(t,e,r){if(!JE(t))throw Error(ce(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=cM;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=lM(e,null,t,1,r??null,a,!1,i,o),t[Ns]=e.current,Wp(t),n)for(t=0;t<n.length;t++)r=n[t],a=r._getVersion,a=a(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,a]:e.mutableSourceEagerHydrationData.push(r,a);return new D1(e)};Ka.render=function(t,e,r){if(!M1(e))throw Error(ce(200));return $1(null,t,e,!1,r)};Ka.unmountComponentAtNode=function(t){if(!M1(t))throw Error(ce(40));return t._reactRootContainer?(au(function(){$1(null,null,t,!1,function(){t._reactRootContainer=null,t[Ns]=null})}),!0):!1};Ka.unstable_batchedUpdates=qE;Ka.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!M1(r))throw Error(ce(200));if(t==null||t._reactInternals===void 0)throw Error(ce(38));return $1(t,e,r,!1,n)};Ka.version="18.3.1-next-f1338f8080-20240426";function uM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uM)}catch(t){console.error(t)}}uM(),u8.exports=Ka;var Su=u8.exports;const dM=Wt(Su);var fM,ZO=Su;fM=ZO.createRoot,ZO.hydrateRoot;const zH=1,HH=1e6;let tb=0;function qH(){return tb=(tb+1)%Number.MAX_SAFE_INTEGER,tb.toString()}const rb=new Map,QO=t=>{if(rb.has(t))return;const e=setTimeout(()=>{rb.delete(t),bp({type:"REMOVE_TOAST",toastId:t})},HH);rb.set(t,e)},GH=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,zH)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?QO(r):t.toasts.forEach(n=>{QO(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},r0=[];let n0={toasts:[]};function bp(t){n0=GH(n0,t),r0.forEach(e=>{e(n0)})}function zi({...t}){const e=qH(),r=a=>bp({type:"UPDATE_TOAST",toast:{...a,id:e}}),n=()=>bp({type:"DISMISS_TOAST",toastId:e});return bp({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:a=>{a||n()}}}),{id:e,dismiss:n,update:r}}function pr(){const[t,e]=b.useState(n0);return b.useEffect(()=>(r0.push(e),()=>{const r=r0.indexOf(e);r>-1&&r0.splice(r,1)}),[t]),{...t,toast:zi,dismiss:r=>bp({type:"DISMISS_TOAST",toastId:r})}}function de(t,e,{checkForDefaultPrevented:r=!0}={}){return function(a){if(t==null||t(a),r===!1||!a.defaultPrevented)return e==null?void 0:e(a)}}function JO(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function L1(...t){return e=>{let r=!1;const n=t.map(a=>{const i=JO(a,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():JO(t[a],null)}}}}function Ke(...t){return b.useCallback(L1(...t),t)}function KH(t,e){const r=b.createContext(e),n=i=>{const{children:o,...s}=i,l=b.useMemo(()=>s,Object.values(s));return c.jsx(r.Provider,{value:l,children:o})};n.displayName=t+"Provider";function a(i){const o=b.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[n,a]}function $n(t,e=[]){let r=[];function n(i,o){const s=b.createContext(o),l=r.length;r=[...r,o];const u=f=>{var x;const{scope:h,children:p,...v}=f,m=((x=h==null?void 0:h[t])==null?void 0:x[l])||s,g=b.useMemo(()=>v,Object.values(v));return c.jsx(m.Provider,{value:g,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[t])==null?void 0:m[l])||s,v=b.useContext(p);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>b.createContext(o));return function(s){const l=(s==null?void 0:s[t])||i;return b.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return a.scopeName=t,[n,XH(a,...e)]}function XH(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((s,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...s,...f}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function Wl(t){const e=YH(t),r=b.forwardRef((n,a)=>{const{children:i,...o}=n,s=b.Children.toArray(i),l=s.find(ZH);if(l){const u=l.props.children,d=s.map(f=>f===l?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:f);return c.jsx(e,{...o,ref:a,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return c.jsx(e,{...o,ref:a,children:i})});return r.displayName=`${t}.Slot`,r}var hM=Wl("Slot");function YH(t){const e=b.forwardRef((r,n)=>{const{children:a,...i}=r;if(b.isValidElement(a)){const o=JH(a),s=QH(i,a.props);return a.type!==b.Fragment&&(s.ref=n?L1(n,o):o),b.cloneElement(a,s)}return b.Children.count(a)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var pM=Symbol("radix.slottable");function mM(t){const e=({children:r})=>c.jsx(c.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=pM,e}function ZH(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===pM}function QH(t,e){const r={...e};for(const n in e){const a=t[n],i=e[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...s)=>{const l=i(...s);return a(...s),l}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...t,...r}}function JH(t){var n,a;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function sv(t){const e=t+"CollectionProvider",[r,n]=$n(e),[a,i]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:g,children:x}=m,y=k.useRef(null),w=k.useRef(new Map).current;return c.jsx(a,{scope:g,itemMap:w,collectionRef:y,children:x})};o.displayName=e;const s=t+"CollectionSlot",l=Wl(s),u=k.forwardRef((m,g)=>{const{scope:x,children:y}=m,w=i(s,x),_=Ke(g,w.collectionRef);return c.jsx(l,{ref:_,children:y})});u.displayName=s;const d=t+"CollectionItemSlot",f="data-radix-collection-item",h=Wl(d),p=k.forwardRef((m,g)=>{const{scope:x,children:y,...w}=m,_=k.useRef(null),S=Ke(g,_),C=i(d,x);return k.useEffect(()=>(C.itemMap.set(_,{ref:_,...w}),()=>void C.itemMap.delete(_))),c.jsx(h,{[f]:"",ref:S,children:y})});p.displayName=d;function v(m){const g=i(t+"CollectionConsumer",m);return k.useCallback(()=>{const y=g.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(g.itemMap.values()).sort((C,E)=>w.indexOf(C.ref.current)-w.indexOf(E.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},v,n]}var eq=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ie=eq.reduce((t,e)=>{const r=Wl(`Primitive.${e}`),n=b.forwardRef((a,i)=>{const{asChild:o,...s}=a,l=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...s,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function eA(t,e){t&&Su.flushSync(()=>t.dispatchEvent(e))}function Ir(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function tq(t,e=globalThis==null?void 0:globalThis.document){const r=Ir(t);b.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var rq="DismissableLayer",p2="dismissableLayer.update",nq="dismissableLayer.pointerDownOutside",aq="dismissableLayer.focusOutside",eT,vM=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Cu=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:s,...l}=t,u=b.useContext(vM),[d,f]=b.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=b.useState({}),v=Ke(e,E=>f(E)),m=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=m.indexOf(g),y=d?m.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=y>=x,S=oq(E=>{const A=E.target,j=[...u.branches].some(T=>T.contains(A));!_||j||(a==null||a(E),o==null||o(E),E.defaultPrevented||s==null||s())},h),C=sq(E=>{const A=E.target;[...u.branches].some(T=>T.contains(A))||(i==null||i(E),o==null||o(E),E.defaultPrevented||s==null||s())},h);return tq(E=>{y===u.layers.size-1&&(n==null||n(E),!E.defaultPrevented&&s&&(E.preventDefault(),s()))},h),b.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(eT=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),tT(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=eT)}},[d,h,r,u]),b.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),tT())},[d,u]),b.useEffect(()=>{const E=()=>p({});return document.addEventListener(p2,E),()=>document.removeEventListener(p2,E)},[]),c.jsx(Ie.div,{...l,ref:v,style:{pointerEvents:w?_?"auto":"none":void 0,...t.style},onFocusCapture:de(t.onFocusCapture,C.onFocusCapture),onBlurCapture:de(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:de(t.onPointerDownCapture,S.onPointerDownCapture)})});Cu.displayName=rq;var iq="DismissableLayerBranch",gM=b.forwardRef((t,e)=>{const r=b.useContext(vM),n=b.useRef(null),a=Ke(e,n);return b.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),c.jsx(Ie.div,{...t,ref:a})});gM.displayName=iq;function oq(t,e=globalThis==null?void 0:globalThis.document){const r=Ir(t),n=b.useRef(!1),a=b.useRef(()=>{});return b.useEffect(()=>{const i=s=>{if(s.target&&!n.current){let l=function(){yM(nq,r,u,{discrete:!0})};const u={originalEvent:s};s.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=l,e.addEventListener("click",a.current,{once:!0})):l()}else e.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",a.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function sq(t,e=globalThis==null?void 0:globalThis.document){const r=Ir(t),n=b.useRef(!1);return b.useEffect(()=>{const a=i=>{i.target&&!n.current&&yM(aq,r,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function tT(){const t=new CustomEvent(p2);document.dispatchEvent(t)}function yM(t,e,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&a.addEventListener(t,e,{once:!0}),n?eA(a,i):a.dispatchEvent(i)}var lq=Cu,cq=gM,on=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},uq="Portal",Qf=b.forwardRef((t,e)=>{var s;const{container:r,...n}=t,[a,i]=b.useState(!1);on(()=>i(!0),[]);const o=r||a&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return o?dM.createPortal(c.jsx(Ie.div,{...n,ref:e}),o):null});Qf.displayName=uq;function dq(t,e){return b.useReducer((r,n)=>e[r][n]??r,t)}var mn=t=>{const{present:e,children:r}=t,n=fq(e),a=typeof r=="function"?r({present:n.isPresent}):b.Children.only(r),i=Ke(n.ref,hq(a));return typeof r=="function"||n.isPresent?b.cloneElement(a,{ref:i}):null};mn.displayName="Presence";function fq(t){const[e,r]=b.useState(),n=b.useRef(null),a=b.useRef(t),i=b.useRef("none"),o=t?"mounted":"unmounted",[s,l]=dq(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=ug(n.current);i.current=s==="mounted"?u:"none"},[s]),on(()=>{const u=n.current,d=a.current;if(d!==t){const h=i.current,p=ug(u);t?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,l]),on(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=p=>{const m=ug(n.current).includes(p.animationName);if(p.target===e&&m&&(l("ANIMATION_END"),!a.current)){const g=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=g)})}},h=p=>{p.target===e&&(i.current=ug(n.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:b.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function ug(t){return(t==null?void 0:t.animationName)||"none"}function hq(t){var n,a;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var pq=cE[" useInsertionEffect ".trim().toString()]||on;function xi({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[a,i,o]=mq({defaultProp:e,onChange:r}),s=t!==void 0,l=s?t:a;{const d=b.useRef(t!==void 0);b.useEffect(()=>{const f=d.current;f!==s&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=s},[s,n])}const u=b.useCallback(d=>{var f;if(s){const h=vq(d)?d(t):d;h!==t&&((f=o.current)==null||f.call(o,h))}else i(d)},[s,t,i,o]);return[l,u]}function mq({defaultProp:t,onChange:e}){const[r,n]=b.useState(t),a=b.useRef(r),i=b.useRef(e);return pq(()=>{i.current=e},[e]),b.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function vq(t){return typeof t=="function"}var xM=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),gq="VisuallyHidden",F1=b.forwardRef((t,e)=>c.jsx(Ie.span,{...t,ref:e,style:{...xM,...t.style}}));F1.displayName=gq;var yq=F1,tA="ToastProvider",[rA,xq,wq]=sv("Toast"),[wM,XDe]=$n("Toast",[wq]),[bq,B1]=wM(tA),bM=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=t,[s,l]=b.useState(null),[u,d]=b.useState(0),f=b.useRef(!1),h=b.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${tA}\`. Expected non-empty \`string\`.`),c.jsx(rA.Provider,{scope:e,children:c.jsx(bq,{scope:e,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:s,onViewportChange:l,onToastAdd:b.useCallback(()=>d(p=>p+1),[]),onToastRemove:b.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};bM.displayName=tA;var _M="ToastViewport",_q=["F8"],m2="toast.viewportPause",v2="toast.viewportResume",SM=b.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=_q,label:a="Notifications ({hotkey})",...i}=t,o=B1(_M,r),s=xq(r),l=b.useRef(null),u=b.useRef(null),d=b.useRef(null),f=b.useRef(null),h=Ke(e,f,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;b.useEffect(()=>{const g=x=>{var w;n.length!==0&&n.every(_=>x[_]||x.code===_)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[n]),b.useEffect(()=>{const g=l.current,x=f.current;if(v&&g&&x){const y=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(m2);x.dispatchEvent(C),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(v2);x.dispatchEvent(C),o.isClosePausedRef.current=!1}},_=C=>{!g.contains(C.relatedTarget)&&w()},S=()=>{g.contains(document.activeElement)||w()};return g.addEventListener("focusin",y),g.addEventListener("focusout",_),g.addEventListener("pointermove",y),g.addEventListener("pointerleave",S),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{g.removeEventListener("focusin",y),g.removeEventListener("focusout",_),g.removeEventListener("pointermove",y),g.removeEventListener("pointerleave",S),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[v,o.isClosePausedRef]);const m=b.useCallback(({tabbingDirection:g})=>{const y=s().map(w=>{const _=w.ref.current,S=[_,...Dq(_)];return g==="forwards"?S:S.reverse()});return(g==="forwards"?y.reverse():y).flat()},[s]);return b.useEffect(()=>{const g=f.current;if(g){const x=y=>{var S,C,E;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const A=document.activeElement,j=y.shiftKey;if(y.target===g&&j){(S=u.current)==null||S.focus();return}const O=m({tabbingDirection:j?"backwards":"forwards"}),$=O.findIndex(R=>R===A);nb(O.slice($+1))?y.preventDefault():j?(C=u.current)==null||C.focus():(E=d.current)==null||E.focus()}};return g.addEventListener("keydown",x),()=>g.removeEventListener("keydown",x)}},[s,m]),c.jsxs(cq,{ref:l,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&c.jsx(g2,{ref:u,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"forwards"});nb(g)}}),c.jsx(rA.Slot,{scope:r,children:c.jsx(Ie.ol,{tabIndex:-1,...i,ref:h})}),v&&c.jsx(g2,{ref:d,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"backwards"});nb(g)}})]})});SM.displayName=_M;var CM="ToastFocusProxy",g2=b.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=t,i=B1(CM,r);return c.jsx(F1,{"aria-hidden":!0,tabIndex:0,...a,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const s=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(s))&&n()}})});g2.displayName=CM;var lv="Toast",Sq="toast.swipeStart",Cq="toast.swipeMove",Eq="toast.swipeCancel",Aq="toast.swipeEnd",EM=b.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=t,[s,l]=xi({prop:n,defaultProp:a??!0,onChange:i,caller:lv});return c.jsx(mn,{present:r||s,children:c.jsx(Oq,{open:s,...o,ref:e,onClose:()=>l(!1),onPause:Ir(t.onPause),onResume:Ir(t.onResume),onSwipeStart:de(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:de(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:de(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:de(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});EM.displayName=lv;var[jq,Nq]=wM(lv,{onClose(){}}),Oq=b.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:s,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...v}=t,m=B1(lv,r),[g,x]=b.useState(null),y=Ke(e,R=>x(R)),w=b.useRef(null),_=b.useRef(null),S=a||m.duration,C=b.useRef(0),E=b.useRef(S),A=b.useRef(0),{onToastAdd:j,onToastRemove:T}=m,N=Ir(()=>{var F;(g==null?void 0:g.contains(document.activeElement))&&((F=m.viewport)==null||F.focus()),o()}),O=b.useCallback(R=>{!R||R===1/0||(window.clearTimeout(A.current),C.current=new Date().getTime(),A.current=window.setTimeout(N,R))},[N]);b.useEffect(()=>{const R=m.viewport;if(R){const F=()=>{O(E.current),u==null||u()},B=()=>{const M=new Date().getTime()-C.current;E.current=E.current-M,window.clearTimeout(A.current),l==null||l()};return R.addEventListener(m2,B),R.addEventListener(v2,F),()=>{R.removeEventListener(m2,B),R.removeEventListener(v2,F)}}},[m.viewport,S,l,u,O]),b.useEffect(()=>{i&&!m.isClosePausedRef.current&&O(S)},[i,S,m.isClosePausedRef,O]),b.useEffect(()=>(j(),()=>T()),[j,T]);const $=b.useMemo(()=>g?kM(g):null,[g]);return m.viewport?c.jsxs(c.Fragment,{children:[$&&c.jsx(Tq,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:$}),c.jsx(jq,{scope:r,onClose:N,children:Su.createPortal(c.jsx(rA.ItemSlot,{scope:r,children:c.jsx(lq,{asChild:!0,onEscapeKeyDown:de(s,()=>{m.isFocusedToastEscapeKeyDownRef.current||N(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(Ie.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...v,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:de(t.onKeyDown,R=>{R.key==="Escape"&&(s==null||s(R.nativeEvent),R.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:de(t.onPointerDown,R=>{R.button===0&&(w.current={x:R.clientX,y:R.clientY})}),onPointerMove:de(t.onPointerMove,R=>{if(!w.current)return;const F=R.clientX-w.current.x,B=R.clientY-w.current.y,M=!!_.current,I=["left","right"].includes(m.swipeDirection),P=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,V=I?P(0,F):0,z=I?0:P(0,B),H=R.pointerType==="touch"?10:2,K={x:V,y:z},re={originalEvent:R,delta:K};M?(_.current=K,dg(Cq,f,re,{discrete:!1})):rT(K,m.swipeDirection,H)?(_.current=K,dg(Sq,d,re,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(F)>H||Math.abs(B)>H)&&(w.current=null)}),onPointerUp:de(t.onPointerUp,R=>{const F=_.current,B=R.target;if(B.hasPointerCapture(R.pointerId)&&B.releasePointerCapture(R.pointerId),_.current=null,w.current=null,F){const M=R.currentTarget,I={originalEvent:R,delta:F};rT(F,m.swipeDirection,m.swipeThreshold)?dg(Aq,p,I,{discrete:!0}):dg(Eq,h,I,{discrete:!0}),M.addEventListener("click",P=>P.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),Tq=t=>{const{__scopeToast:e,children:r,...n}=t,a=B1(lv,e),[i,o]=b.useState(!1),[s,l]=b.useState(!1);return Iq(()=>o(!0)),b.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),s?null:c.jsx(Qf,{asChild:!0,children:c.jsx(F1,{...n,children:i&&c.jsxs(c.Fragment,{children:[a.label," ",r]})})})},Pq="ToastTitle",AM=b.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return c.jsx(Ie.div,{...n,ref:e})});AM.displayName=Pq;var kq="ToastDescription",jM=b.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return c.jsx(Ie.div,{...n,ref:e})});jM.displayName=kq;var NM="ToastAction",OM=b.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?c.jsx(PM,{altText:r,asChild:!0,children:c.jsx(nA,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${NM}\`. Expected non-empty \`string\`.`),null)});OM.displayName=NM;var TM="ToastClose",nA=b.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,a=Nq(TM,r);return c.jsx(PM,{asChild:!0,children:c.jsx(Ie.button,{type:"button",...n,ref:e,onClick:de(t.onClick,a.onClose)})})});nA.displayName=TM;var PM=b.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...a}=t;return c.jsx(Ie.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:e})});function kM(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),Rq(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...kM(n))}}),e}function dg(t,e,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&a.addEventListener(t,e,{once:!0}),n?eA(a,i):a.dispatchEvent(i)}var rT=(t,e,r=0)=>{const n=Math.abs(t.x),a=Math.abs(t.y),i=n>a;return e==="left"||e==="right"?i&&n>r:!i&&a>r};function Iq(t=()=>{}){const e=Ir(t);on(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function Rq(t){return t.nodeType===t.ELEMENT_NODE}function Dq(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function nb(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var Mq=bM,IM=SM,RM=EM,DM=AM,MM=jM,$M=OM,LM=nA;function FM(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=FM(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function tt(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=FM(t))&&(n&&(n+=" "),n+=e);return n}const nT=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,aT=tt,cv=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return aT(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=e,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=nT(d)||nT(f);return a[u][h]}),s=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(v=>{let[m,g]=v;return Array.isArray(g)?g.includes({...i,...s}[m]):{...i,...s}[m]===g})?[...u,f,h]:u},[]);return aT(t,o,l,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $q=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),BM=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Lq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fq=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...s},l)=>b.createElement("svg",{ref:l,...Lq,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:BM("lucide",a),...s},[...o.map(([u,d])=>b.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=(t,e)=>{const r=b.forwardRef(({className:n,...a},i)=>b.createElement(Fq,{ref:i,iconNode:e,className:BM(`lucide-${$q(t)}`,n),...a}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bq=Te("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=Te("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=Te("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=Te("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uq=Te("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=Te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=Te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=Te("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=Te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=Te("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=Te("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vq=Te("CircleArrowDown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wq=Te("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=Te("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=Te("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zq=Te("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=Te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=Te("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=Te("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=Te("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=Te("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=Te("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=Te("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=Te("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=Te("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=Te("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=Te("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=Te("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=Te("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hq=Te("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qq=Te("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=Te("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=Te("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gq=Te("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=Te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=Te("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kq=Te("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=Te("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xq=Te("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=Te("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yq=Te("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=Te("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=Te("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=Te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=Te("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zq=Te("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qq=Te("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=Te("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jq=Te("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=Te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eG=Te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tG=Te("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=Te("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=Te("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=Te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=Te("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rG=Te("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=Te("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=Te("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=Te("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nG=Te("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=Te("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=Te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=Te("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aG=Te("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=Te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),dA="-",iG=t=>{const e=sG(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const s=o.split(dA);return s[0]===""&&s.length!==1&&s.shift(),QM(s,e)||oG(o)},getConflictingClassGroupIds:(o,s)=>{const l=r[o]||[];return s&&n[o]?[...l,...n[o]]:l}}},QM=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),a=n?QM(t.slice(1),n):void 0;if(a)return a;if(e.validators.length===0)return;const i=t.join(dA);return(o=e.validators.find(({validator:s})=>s(i)))==null?void 0:o.classGroupId},iT=/^\[(.+)\]$/,oG=t=>{if(iT.test(t)){const e=iT.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},sG=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return cG(Object.entries(t.classGroups),r).forEach(([i,o])=>{b2(o,n,i,e)}),n},b2=(t,e,r,n)=>{t.forEach(a=>{if(typeof a=="string"){const i=a===""?e:oT(e,a);i.classGroupId=r;return}if(typeof a=="function"){if(lG(a)){b2(a(n),e,r,n);return}e.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{b2(o,oT(e,i),r,n)})})},oT=(t,e)=>{let r=t;return e.split(dA).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},lG=t=>t.isThemeGetter,cG=(t,e)=>e?t.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,s])=>[e+o,s])):i);return[r,a]}):t,uG=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},JM="!",dG=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,a=e[0],i=e.length,o=s=>{const l=[];let u=0,d=0,f;for(let g=0;g<s.length;g++){let x=s[g];if(u===0){if(x===a&&(n||s.slice(g,g+i)===e)){l.push(s.slice(d,g)),d=g+i;continue}if(x==="/"){f=g;continue}}x==="["?u++:x==="]"&&u--}const h=l.length===0?s:s.substring(d),p=h.startsWith(JM),v=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:m}};return r?s=>r({className:s,parseClassName:o}):o},fG=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},hG=t=>({cache:uG(t.cacheSize),parseClassName:dG(t),...iG(t)}),pG=/\s+/,mG=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=e,i=[],o=t.trim().split(pG);let s="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let v=!!p,m=n(v?h.substring(0,p):h);if(!m){if(!v){s=u+(s.length>0?" "+s:s);continue}if(m=n(h),!m){s=u+(s.length>0?" "+s:s);continue}v=!1}const g=fG(d).join(":"),x=f?g+JM:g,y=x+m;if(i.includes(y))continue;i.push(y);const w=a(m,v);for(let _=0;_<w.length;++_){const S=w[_];i.push(x+S)}s=u+(s.length>0?" "+s:s)}return s};function vG(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=e6(e))&&(n&&(n+=" "),n+=r);return n}const e6=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=e6(t[n]))&&(r&&(r+=" "),r+=e);return r};function gG(t,...e){let r,n,a,i=o;function o(l){const u=e.reduce((d,f)=>f(d),t());return r=hG(u),n=r.cache.get,a=r.cache.set,i=s,s(l)}function s(l){const u=n(l);if(u)return u;const d=mG(l,r);return a(l,d),d}return function(){return i(vG.apply(null,arguments))}}const ar=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},t6=/^\[(?:([a-z-]+):)?(.+)\]$/i,yG=/^\d+\/\d+$/,xG=new Set(["px","full","screen"]),wG=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,bG=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_G=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,SG=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,CG=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,rs=t=>Id(t)||xG.has(t)||yG.test(t),Ys=t=>Jf(t,"length",kG),Id=t=>!!t&&!Number.isNaN(Number(t)),ib=t=>Jf(t,"number",Id),Rh=t=>!!t&&Number.isInteger(Number(t)),EG=t=>t.endsWith("%")&&Id(t.slice(0,-1)),rt=t=>t6.test(t),Zs=t=>wG.test(t),AG=new Set(["length","size","percentage"]),jG=t=>Jf(t,AG,r6),NG=t=>Jf(t,"position",r6),OG=new Set(["image","url"]),TG=t=>Jf(t,OG,RG),PG=t=>Jf(t,"",IG),Dh=()=>!0,Jf=(t,e,r)=>{const n=t6.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},kG=t=>bG.test(t)&&!_G.test(t),r6=()=>!1,IG=t=>SG.test(t),RG=t=>CG.test(t),DG=()=>{const t=ar("colors"),e=ar("spacing"),r=ar("blur"),n=ar("brightness"),a=ar("borderColor"),i=ar("borderRadius"),o=ar("borderSpacing"),s=ar("borderWidth"),l=ar("contrast"),u=ar("grayscale"),d=ar("hueRotate"),f=ar("invert"),h=ar("gap"),p=ar("gradientColorStops"),v=ar("gradientColorStopPositions"),m=ar("inset"),g=ar("margin"),x=ar("opacity"),y=ar("padding"),w=ar("saturate"),_=ar("scale"),S=ar("sepia"),C=ar("skew"),E=ar("space"),A=ar("translate"),j=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",rt,e],O=()=>[rt,e],$=()=>["",rs,Ys],R=()=>["auto",Id,rt],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],M=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],P=()=>["","0",rt],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[Id,rt];return{cacheSize:500,separator:":",theme:{colors:[Dh],spacing:[rs,Ys],blur:["none","",Zs,rt],brightness:z(),borderColor:[t],borderRadius:["none","","full",Zs,rt],borderSpacing:O(),borderWidth:$(),contrast:z(),grayscale:P(),hueRotate:z(),invert:P(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[EG,Ys],inset:N(),margin:N(),opacity:z(),padding:O(),saturate:z(),scale:z(),sepia:P(),skew:z(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",rt]}],container:["container"],columns:[{columns:[Zs]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),rt]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Rh,rt]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",rt]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",Rh,rt]}],"grid-cols":[{"grid-cols":[Dh]}],"col-start-end":[{col:["auto",{span:["full",Rh,rt]},rt]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[Dh]}],"row-start-end":[{row:["auto",{span:[Rh,rt]},rt]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",rt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",rt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",rt,e]}],"min-w":[{"min-w":[rt,e,"min","max","fit"]}],"max-w":[{"max-w":[rt,e,"none","full","min","max","fit","prose",{screen:[Zs]},Zs]}],h:[{h:[rt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[rt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[rt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[rt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Zs,Ys]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ib]}],"font-family":[{font:[Dh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",rt]}],"line-clamp":[{"line-clamp":["none",Id,ib]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",rs,rt]}],"list-image":[{"list-image":["none",rt]}],"list-style-type":[{list:["none","disc","decimal",rt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",rs,Ys]}],"underline-offset":[{"underline-offset":["auto",rs,rt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",rt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",rt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),NG]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",jG]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},TG]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:B()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[rs,rt]}],"outline-w":[{outline:[rs,Ys]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[rs,Ys]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Zs,PG]}],"shadow-color":[{shadow:[Dh]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...M(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":M()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Zs,rt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",rt]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",rt]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",rt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Rh,rt]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",rt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",rt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",rt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[rs,Ys,ib]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},MG=gG(DG);function fe(...t){return MG(tt(t))}function H1(t,e,r){const n=`
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, 'Helvetica Neue', Arial; color: #111; }
    table { width: 100%; border-collapse: collapse; margin-top: 12px; }
    th, td { padding: 8px 10px; border-bottom: 1px solid #e6e6e6; text-align: left; }
    th { background: #fafafa; font-weight: 600; }
    h1 { font-size: 18px; margin: 0; }
  `,a=e.map(l=>`<th>${l.header}</th>`).join(`
`),i=r.map(l=>`<tr>${e.map(u=>`<td>${u.render(l)}</td>`).join("")}</tr>`).join(`
`),o=`<!doctype html><html><head><meta charset="utf-8"><title>${t}</title><style>${n}</style></head><body><h1>${t}</h1><table><thead><tr>${a}</tr></thead><tbody>${i}</tbody></table></body></html>`,s=window.open("","_blank");s&&(s.document.write(o),s.document.close(),setTimeout(()=>{try{s.print()}catch{}},250))}const $G=Mq,n6=b.forwardRef(({className:t,...e},r)=>c.jsx(IM,{ref:r,className:fe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));n6.displayName=IM.displayName;const LG=cv("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),a6=b.forwardRef(({className:t,variant:e,...r},n)=>c.jsx(RM,{ref:n,className:fe(LG({variant:e}),t),...r}));a6.displayName=RM.displayName;const FG=b.forwardRef(({className:t,...e},r)=>c.jsx($M,{ref:r,className:fe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));FG.displayName=$M.displayName;const i6=b.forwardRef(({className:t,...e},r)=>c.jsx(LM,{ref:r,className:fe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:c.jsx(z1,{className:"h-4 w-4"})}));i6.displayName=LM.displayName;const o6=b.forwardRef(({className:t,...e},r)=>c.jsx(DM,{ref:r,className:fe("text-sm font-semibold",t),...e}));o6.displayName=DM.displayName;const s6=b.forwardRef(({className:t,...e},r)=>c.jsx(MM,{ref:r,className:fe("text-sm opacity-90",t),...e}));s6.displayName=MM.displayName;function BG(){const{toasts:t}=pr();return c.jsxs($G,{children:[t.map(function({id:e,title:r,description:n,action:a,...i}){return c.jsxs(a6,{...i,children:[c.jsxs("div",{className:"grid gap-1",children:[r&&c.jsx(o6,{children:r}),n&&c.jsx(s6,{children:n})]}),a,c.jsx(i6,{})]},e)}),c.jsx(n6,{})]})}var sT=["light","dark"],UG="(prefers-color-scheme: dark)",VG=b.createContext(void 0),WG={setTheme:t=>{},themes:[]},zG=()=>{var t;return(t=b.useContext(VG))!=null?t:WG};b.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:o,attrs:s,nonce:l})=>{let u=i==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${s.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?sT.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(v,m=!1,g=!0)=>{let x=o?o[v]:v,y=m?v+"|| ''":`'${x}'`,w="";return a&&g&&!m&&sT.includes(v)&&(w+=`d.style.colorScheme = '${v}';`),r==="class"?m||x?w+=`c.add(${y})`:w+="null":x&&(w+=`d[s](n,${y})`),w},p=t?`!function(){${d}${h(t)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${UG}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${f}}catch(t){}}();`;return b.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})});var HG=t=>{switch(t){case"success":return KG;case"info":return YG;case"warning":return XG;case"error":return ZG;default:return null}},qG=Array(12).fill(0),GG=({visible:t,className:e})=>k.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},k.createElement("div",{className:"sonner-spinner"},qG.map((r,n)=>k.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),KG=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},k.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),XG=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},k.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),YG=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},k.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ZG=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},k.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),QG=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},k.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),k.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),JG=()=>{let[t,e]=k.useState(document.hidden);return k.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},_2=1,eK=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,a=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:_2++,i=this.toasts.find(s=>s.id===a),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(s=>s.id===a?(this.publish({...s,...t,id:a,title:r}),{...s,...t,id:a,dismissible:o,title:r}):s):this.addToast({title:r,...n,dismissible:o,id:a}),a},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),a=r!==void 0,i,o=n.then(async l=>{if(i=["resolve",l],k.isValidElement(l))a=!1,this.create({id:r,type:"default",message:l});else if(rK(l)&&!l.ok){a=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:r,type:"error",message:u,description:d})}else if(e.success!==void 0){a=!1;let u=typeof e.success=="function"?await e.success(l):e.success,d=typeof e.description=="function"?await e.description(l):e.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async l=>{if(i=["reject",l],e.error!==void 0){a=!1;let u=typeof e.error=="function"?await e.error(l):e.error,d=typeof e.description=="function"?await e.description(l):e.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var l;a&&(this.dismiss(r),r=void 0),(l=e.finally)==null||l.call(e)}),s=()=>new Promise((l,u)=>o.then(()=>i[0]==="reject"?u(i[1]):l(i[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:s}:Object.assign(r,{unwrap:s})},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||_2++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ua=new eK,tK=(t,e)=>{let r=(e==null?void 0:e.id)||_2++;return ua.addToast({title:t,...e,id:r}),r},rK=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",nK=tK,aK=()=>ua.toasts,iK=()=>ua.getActiveToasts(),lT=Object.assign(nK,{success:ua.success,info:ua.info,warning:ua.warning,error:ua.error,custom:ua.custom,message:ua.message,promise:ua.promise,dismiss:ua.dismiss,loading:ua.loading},{getHistory:aK,getToasts:iK});function oK(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}oK(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function fg(t){return t.label!==void 0}var sK=3,lK="32px",cK="16px",cT=4e3,uK=356,dK=14,fK=20,hK=200;function ki(...t){return t.filter(Boolean).join(" ")}function pK(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var mK=t=>{var e,r,n,a,i,o,s,l,u,d,f;let{invert:h,toast:p,unstyled:v,interacting:m,setHeights:g,visibleToasts:x,heights:y,index:w,toasts:_,expanded:S,removeToast:C,defaultRichColors:E,closeButton:A,style:j,cancelButtonStyle:T,actionButtonStyle:N,className:O="",descriptionClassName:$="",duration:R,position:F,gap:B,loadingIcon:M,expandByDefault:I,classNames:P,icons:V,closeButtonAriaLabel:z="Close toast",pauseWhenPageIsHidden:H}=t,[K,re]=k.useState(null),[ue,oe]=k.useState(null),[te,pe]=k.useState(!1),[ee,se]=k.useState(!1),[ve,Z]=k.useState(!1),[Ge,Be]=k.useState(!1),[ht,yt]=k.useState(!1),[Kt,gn]=k.useState(0),[Wr,U]=k.useState(0),q=k.useRef(p.duration||R||cT),L=k.useRef(null),X=k.useRef(null),ne=w===0,ie=w+1<=x,ae=p.type,Ue=p.dismissible!==!1,ct=p.className||"",Or=p.descriptionClassName||"",aa=k.useMemo(()=>y.findIndex(et=>et.toastId===p.id)||0,[y,p.id]),Bn=k.useMemo(()=>{var et;return(et=p.closeButton)!=null?et:A},[p.closeButton,A]),$u=k.useMemo(()=>p.duration||R||cT,[p.duration,R]),es=k.useRef(0),Qa=k.useRef(0),yn=k.useRef(0),_a=k.useRef(null),[uc,ts]=F.split("-"),BN=k.useMemo(()=>y.reduce((et,Ht,mr)=>mr>=aa?et:et+Ht.height,0),[y,aa]),UN=JG(),vW=p.invert||h,jw=ae==="loading";Qa.current=k.useMemo(()=>aa*B+BN,[aa,BN]),k.useEffect(()=>{q.current=$u},[$u]),k.useEffect(()=>{pe(!0)},[]),k.useEffect(()=>{let et=X.current;if(et){let Ht=et.getBoundingClientRect().height;return U(Ht),g(mr=>[{toastId:p.id,height:Ht,position:p.position},...mr]),()=>g(mr=>mr.filter(Ni=>Ni.toastId!==p.id))}},[g,p.id]),k.useLayoutEffect(()=>{if(!te)return;let et=X.current,Ht=et.style.height;et.style.height="auto";let mr=et.getBoundingClientRect().height;et.style.height=Ht,U(mr),g(Ni=>Ni.find(Oi=>Oi.toastId===p.id)?Ni.map(Oi=>Oi.toastId===p.id?{...Oi,height:mr}:Oi):[{toastId:p.id,height:mr,position:p.position},...Ni])},[te,p.title,p.description,g,p.id]);let qs=k.useCallback(()=>{se(!0),gn(Qa.current),g(et=>et.filter(Ht=>Ht.toastId!==p.id)),setTimeout(()=>{C(p)},hK)},[p,C,g,Qa]);k.useEffect(()=>{if(p.promise&&ae==="loading"||p.duration===1/0||p.type==="loading")return;let et;return S||m||H&&UN?(()=>{if(yn.current<es.current){let Ht=new Date().getTime()-es.current;q.current=q.current-Ht}yn.current=new Date().getTime()})():q.current!==1/0&&(es.current=new Date().getTime(),et=setTimeout(()=>{var Ht;(Ht=p.onAutoClose)==null||Ht.call(p,p),qs()},q.current)),()=>clearTimeout(et)},[S,m,p,ae,H,UN,qs]),k.useEffect(()=>{p.delete&&qs()},[qs,p.delete]);function gW(){var et,Ht,mr;return V!=null&&V.loading?k.createElement("div",{className:ki(P==null?void 0:P.loader,(et=p==null?void 0:p.classNames)==null?void 0:et.loader,"sonner-loader"),"data-visible":ae==="loading"},V.loading):M?k.createElement("div",{className:ki(P==null?void 0:P.loader,(Ht=p==null?void 0:p.classNames)==null?void 0:Ht.loader,"sonner-loader"),"data-visible":ae==="loading"},M):k.createElement(GG,{className:ki(P==null?void 0:P.loader,(mr=p==null?void 0:p.classNames)==null?void 0:mr.loader),visible:ae==="loading"})}return k.createElement("li",{tabIndex:0,ref:X,className:ki(O,ct,P==null?void 0:P.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,P==null?void 0:P.default,P==null?void 0:P[ae],(r=p==null?void 0:p.classNames)==null?void 0:r[ae]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:E,"data-styled":!(p.jsx||p.unstyled||v),"data-mounted":te,"data-promise":!!p.promise,"data-swiped":ht,"data-removed":ee,"data-visible":ie,"data-y-position":uc,"data-x-position":ts,"data-index":w,"data-front":ne,"data-swiping":ve,"data-dismissible":Ue,"data-type":ae,"data-invert":vW,"data-swipe-out":Ge,"data-swipe-direction":ue,"data-expanded":!!(S||I&&te),style:{"--index":w,"--toasts-before":w,"--z-index":_.length-w,"--offset":`${ee?Kt:Qa.current}px`,"--initial-height":I?"auto":`${Wr}px`,...j,...p.style},onDragEnd:()=>{Z(!1),re(null),_a.current=null},onPointerDown:et=>{jw||!Ue||(L.current=new Date,gn(Qa.current),et.target.setPointerCapture(et.pointerId),et.target.tagName!=="BUTTON"&&(Z(!0),_a.current={x:et.clientX,y:et.clientY}))},onPointerUp:()=>{var et,Ht,mr,Ni;if(Ge||!Ue)return;_a.current=null;let Oi=Number(((et=X.current)==null?void 0:et.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Gs=Number(((Ht=X.current)==null?void 0:Ht.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),dc=new Date().getTime()-((mr=L.current)==null?void 0:mr.getTime()),Ti=K==="x"?Oi:Gs,Ks=Math.abs(Ti)/dc;if(Math.abs(Ti)>=fK||Ks>.11){gn(Qa.current),(Ni=p.onDismiss)==null||Ni.call(p,p),oe(K==="x"?Oi>0?"right":"left":Gs>0?"down":"up"),qs(),Be(!0),yt(!1);return}Z(!1),re(null)},onPointerMove:et=>{var Ht,mr,Ni,Oi;if(!_a.current||!Ue||((Ht=window.getSelection())==null?void 0:Ht.toString().length)>0)return;let Gs=et.clientY-_a.current.y,dc=et.clientX-_a.current.x,Ti=(mr=t.swipeDirections)!=null?mr:pK(F);!K&&(Math.abs(dc)>1||Math.abs(Gs)>1)&&re(Math.abs(dc)>Math.abs(Gs)?"x":"y");let Ks={x:0,y:0};K==="y"?(Ti.includes("top")||Ti.includes("bottom"))&&(Ti.includes("top")&&Gs<0||Ti.includes("bottom")&&Gs>0)&&(Ks.y=Gs):K==="x"&&(Ti.includes("left")||Ti.includes("right"))&&(Ti.includes("left")&&dc<0||Ti.includes("right")&&dc>0)&&(Ks.x=dc),(Math.abs(Ks.x)>0||Math.abs(Ks.y)>0)&&yt(!0),(Ni=X.current)==null||Ni.style.setProperty("--swipe-amount-x",`${Ks.x}px`),(Oi=X.current)==null||Oi.style.setProperty("--swipe-amount-y",`${Ks.y}px`)}},Bn&&!p.jsx?k.createElement("button",{"aria-label":z,"data-disabled":jw,"data-close-button":!0,onClick:jw||!Ue?()=>{}:()=>{var et;qs(),(et=p.onDismiss)==null||et.call(p,p)},className:ki(P==null?void 0:P.closeButton,(a=p==null?void 0:p.classNames)==null?void 0:a.closeButton)},(i=V==null?void 0:V.close)!=null?i:QG):null,p.jsx||b.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:k.createElement(k.Fragment,null,ae||p.icon||p.promise?k.createElement("div",{"data-icon":"",className:ki(P==null?void 0:P.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||gW():null,p.type!=="loading"?p.icon||(V==null?void 0:V[ae])||HG(ae):null):null,k.createElement("div",{"data-content":"",className:ki(P==null?void 0:P.content,(s=p==null?void 0:p.classNames)==null?void 0:s.content)},k.createElement("div",{"data-title":"",className:ki(P==null?void 0:P.title,(l=p==null?void 0:p.classNames)==null?void 0:l.title)},typeof p.title=="function"?p.title():p.title),p.description?k.createElement("div",{"data-description":"",className:ki($,Or,P==null?void 0:P.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),b.isValidElement(p.cancel)?p.cancel:p.cancel&&fg(p.cancel)?k.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||T,onClick:et=>{var Ht,mr;fg(p.cancel)&&Ue&&((mr=(Ht=p.cancel).onClick)==null||mr.call(Ht,et),qs())},className:ki(P==null?void 0:P.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,b.isValidElement(p.action)?p.action:p.action&&fg(p.action)?k.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||N,onClick:et=>{var Ht,mr;fg(p.action)&&((mr=(Ht=p.action).onClick)==null||mr.call(Ht,et),!et.defaultPrevented&&qs())},className:ki(P==null?void 0:P.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function uT(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function vK(t,e){let r={};return[t,e].forEach((n,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",s=i?cK:lK;function l(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=s:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):l(s)}),r}var gK=b.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:s,offset:l,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:p,visibleToasts:v=sK,toastOptions:m,dir:g=uT(),gap:x=dK,loadingIcon:y,icons:w,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:S}=t,[C,E]=k.useState([]),A=k.useMemo(()=>Array.from(new Set([n].concat(C.filter(H=>H.position).map(H=>H.position)))),[C,n]),[j,T]=k.useState([]),[N,O]=k.useState(!1),[$,R]=k.useState(!1),[F,B]=k.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),M=k.useRef(null),I=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=k.useRef(null),V=k.useRef(!1),z=k.useCallback(H=>{E(K=>{var re;return(re=K.find(ue=>ue.id===H.id))!=null&&re.delete||ua.dismiss(H.id),K.filter(({id:ue})=>ue!==H.id)})},[]);return k.useEffect(()=>ua.subscribe(H=>{if(H.dismiss){E(K=>K.map(re=>re.id===H.id?{...re,delete:!0}:re));return}setTimeout(()=>{dM.flushSync(()=>{E(K=>{let re=K.findIndex(ue=>ue.id===H.id);return re!==-1?[...K.slice(0,re),{...K[re],...H},...K.slice(re+1)]:[H,...K]})})})}),[]),k.useEffect(()=>{if(d!=="system"){B(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?B("dark"):B("light")),typeof window>"u")return;let H=window.matchMedia("(prefers-color-scheme: dark)");try{H.addEventListener("change",({matches:K})=>{B(K?"dark":"light")})}catch{H.addListener(({matches:re})=>{try{B(re?"dark":"light")}catch(ue){console.error(ue)}})}},[d]),k.useEffect(()=>{C.length<=1&&O(!1)},[C]),k.useEffect(()=>{let H=K=>{var re,ue;a.every(oe=>K[oe]||K.code===oe)&&(O(!0),(re=M.current)==null||re.focus()),K.code==="Escape"&&(document.activeElement===M.current||(ue=M.current)!=null&&ue.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[a]),k.useEffect(()=>{if(M.current)return()=>{P.current&&(P.current.focus({preventScroll:!0}),P.current=null,V.current=!1)}},[M.current]),k.createElement("section",{ref:e,"aria-label":`${_} ${I}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},A.map((H,K)=>{var re;let[ue,oe]=H.split("-");return C.length?k.createElement("ol",{key:H,dir:g==="auto"?uT():g,tabIndex:-1,ref:M,className:s,"data-sonner-toaster":!0,"data-theme":F,"data-y-position":ue,"data-lifted":N&&C.length>1&&!i,"data-x-position":oe,style:{"--front-toast-height":`${((re=j[0])==null?void 0:re.height)||0}px`,"--width":`${uK}px`,"--gap":`${x}px`,...p,...vK(l,u)},onBlur:te=>{V.current&&!te.currentTarget.contains(te.relatedTarget)&&(V.current=!1,P.current&&(P.current.focus({preventScroll:!0}),P.current=null))},onFocus:te=>{te.target instanceof HTMLElement&&te.target.dataset.dismissible==="false"||V.current||(V.current=!0,P.current=te.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{$||O(!1)},onDragEnd:()=>O(!1),onPointerDown:te=>{te.target instanceof HTMLElement&&te.target.dataset.dismissible==="false"||R(!0)},onPointerUp:()=>R(!1)},C.filter(te=>!te.position&&K===0||te.position===H).map((te,pe)=>{var ee,se;return k.createElement(mK,{key:te.id,icons:w,index:pe,toast:te,defaultRichColors:f,duration:(ee=m==null?void 0:m.duration)!=null?ee:h,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:r,visibleToasts:v,closeButton:(se=m==null?void 0:m.closeButton)!=null?se:o,interacting:$,position:H,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:z,toasts:C.filter(ve=>ve.position==te.position),heights:j.filter(ve=>ve.position==te.position),setHeights:T,expandByDefault:i,gap:x,loadingIcon:y,expanded:N,pauseWhenPageIsHidden:S,swipeDirections:t.swipeDirections})})):null}))});const yK=({...t})=>{const{theme:e="system"}=zG();return c.jsx(gK,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var xK=cE[" useId ".trim().toString()]||(()=>{}),wK=0;function $a(t){const[e,r]=b.useState(xK());return on(()=>{r(n=>n??String(wK++))},[t]),e?`radix-${e}`:""}const bK=["top","right","bottom","left"],ql=Math.min,Oa=Math.max,L0=Math.round,hg=Math.floor,ko=t=>({x:t,y:t}),_K={left:"right",right:"left",bottom:"top",top:"bottom"},SK={start:"end",end:"start"};function S2(t,e,r){return Oa(t,ql(e,r))}function ks(t,e){return typeof t=="function"?t(e):t}function Is(t){return t.split("-")[0]}function eh(t){return t.split("-")[1]}function fA(t){return t==="x"?"y":"x"}function hA(t){return t==="y"?"height":"width"}const CK=new Set(["top","bottom"]);function Eo(t){return CK.has(Is(t))?"y":"x"}function pA(t){return fA(Eo(t))}function EK(t,e,r){r===void 0&&(r=!1);const n=eh(t),a=pA(t),i=hA(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=F0(o)),[o,F0(o)]}function AK(t){const e=F0(t);return[C2(t),e,C2(e)]}function C2(t){return t.replace(/start|end/g,e=>SK[e])}const dT=["left","right"],fT=["right","left"],jK=["top","bottom"],NK=["bottom","top"];function OK(t,e,r){switch(t){case"top":case"bottom":return r?e?fT:dT:e?dT:fT;case"left":case"right":return e?jK:NK;default:return[]}}function TK(t,e,r,n){const a=eh(t);let i=OK(Is(t),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),e&&(i=i.concat(i.map(C2)))),i}function F0(t){return t.replace(/left|right|bottom|top/g,e=>_K[e])}function PK(t){return{top:0,right:0,bottom:0,left:0,...t}}function l6(t){return typeof t!="number"?PK(t):{top:t,right:t,bottom:t,left:t}}function B0(t){const{x:e,y:r,width:n,height:a}=t;return{width:n,height:a,top:r,left:e,right:e+n,bottom:r+a,x:e,y:r}}function hT(t,e,r){let{reference:n,floating:a}=t;const i=Eo(e),o=pA(e),s=hA(o),l=Is(e),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[s]/2-a[s]/2;let p;switch(l){case"top":p={x:d,y:n.y-a.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-a.width,y:f};break;default:p={x:n.x,y:n.y}}switch(eh(e)){case"start":p[o]-=h*(r&&u?-1:1);break;case"end":p[o]+=h*(r&&u?-1:1);break}return p}const kK=async(t,e,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,s=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:a}),{x:d,y:f}=hT(u,n,l),h=n,p={},v=0;for(let m=0;m<s.length;m++){const{name:g,fn:x}=s[m],{x:y,y:w,data:_,reset:S}=await x({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:p,rects:u,platform:o,elements:{reference:t,floating:e}});d=y??d,f=w??f,p={...p,[g]:{...p[g],..._}},S&&v<=50&&(v++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:a}):S.rects),{x:d,y:f}=hT(u,h,l)),m=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:p}};async function Jp(t,e){var r;e===void 0&&(e={});const{x:n,y:a,platform:i,rects:o,elements:s,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=ks(e,t),v=l6(p),g=s[h?f==="floating"?"reference":"floating":f],x=B0(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(g)))==null||r?g:g.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(s.floating)),boundary:u,rootBoundary:d,strategy:l})),y=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(s.floating)),_=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},S=B0(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:y,offsetParent:w,strategy:l}):y);return{top:(x.top-S.top+v.top)/_.y,bottom:(S.bottom-x.bottom+v.bottom)/_.y,left:(x.left-S.left+v.left)/_.x,right:(S.right-x.right+v.right)/_.x}}const IK=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:a,rects:i,platform:o,elements:s,middlewareData:l}=e,{element:u,padding:d=0}=ks(t,e)||{};if(u==null)return{};const f=l6(d),h={x:r,y:n},p=pA(a),v=hA(p),m=await o.getDimensions(u),g=p==="y",x=g?"top":"left",y=g?"bottom":"right",w=g?"clientHeight":"clientWidth",_=i.reference[v]+i.reference[p]-h[p]-i.floating[v],S=h[p]-i.reference[p],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let E=C?C[w]:0;(!E||!await(o.isElement==null?void 0:o.isElement(C)))&&(E=s.floating[w]||i.floating[v]);const A=_/2-S/2,j=E/2-m[v]/2-1,T=ql(f[x],j),N=ql(f[y],j),O=T,$=E-m[v]-N,R=E/2-m[v]/2+A,F=S2(O,R,$),B=!l.arrow&&eh(a)!=null&&R!==F&&i.reference[v]/2-(R<O?T:N)-m[v]/2<0,M=B?R<O?R-O:R-$:0;return{[p]:h[p]+M,data:{[p]:F,centerOffset:R-F-M,...B&&{alignmentOffset:M}},reset:B}}}),RK=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:s,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:m=!0,...g}=ks(t,e);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const x=Is(a),y=Eo(s),w=Is(s)===s,_=await(l.isRTL==null?void 0:l.isRTL(u.floating)),S=h||(w||!m?[F0(s)]:AK(s)),C=v!=="none";!h&&C&&S.push(...TK(s,m,v,_));const E=[s,...S],A=await Jp(e,g),j=[];let T=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&j.push(A[x]),f){const R=EK(a,o,_);j.push(A[R[0]],A[R[1]])}if(T=[...T,{placement:a,overflows:j}],!j.every(R=>R<=0)){var N,O;const R=(((N=i.flip)==null?void 0:N.index)||0)+1,F=E[R];if(F&&(!(f==="alignment"?y!==Eo(F):!1)||T.every(I=>I.overflows[0]>0&&Eo(I.placement)===y)))return{data:{index:R,overflows:T},reset:{placement:F}};let B=(O=T.filter(M=>M.overflows[0]<=0).sort((M,I)=>M.overflows[1]-I.overflows[1])[0])==null?void 0:O.placement;if(!B)switch(p){case"bestFit":{var $;const M=($=T.filter(I=>{if(C){const P=Eo(I.placement);return P===y||P==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(P=>P>0).reduce((P,V)=>P+V,0)]).sort((I,P)=>I[1]-P[1])[0])==null?void 0:$[0];M&&(B=M);break}case"initialPlacement":B=s;break}if(a!==B)return{reset:{placement:B}}}return{}}}};function pT(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function mT(t){return bK.some(e=>t[e]>=0)}const DK=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...a}=ks(t,e);switch(n){case"referenceHidden":{const i=await Jp(e,{...a,elementContext:"reference"}),o=pT(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:mT(o)}}}case"escaped":{const i=await Jp(e,{...a,altBoundary:!0}),o=pT(i,r.floating);return{data:{escapedOffsets:o,escaped:mT(o)}}}default:return{}}}}},c6=new Set(["left","top"]);async function MK(t,e){const{placement:r,platform:n,elements:a}=t,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=Is(r),s=eh(r),l=Eo(r)==="y",u=c6.has(o)?-1:1,d=i&&l?-1:1,f=ks(e,t);let{mainAxis:h,crossAxis:p,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof v=="number"&&(p=s==="end"?v*-1:v),l?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const $K=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:a,y:i,placement:o,middlewareData:s}=e,l=await MK(e,t);return o===((r=s.offset)==null?void 0:r.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:a+l.x,y:i+l.y,data:{...l,placement:o}}}}},LK=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:a}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:s={fn:g=>{let{x,y}=g;return{x,y}}},...l}=ks(t,e),u={x:r,y:n},d=await Jp(e,l),f=Eo(Is(a)),h=fA(f);let p=u[h],v=u[f];if(i){const g=h==="y"?"top":"left",x=h==="y"?"bottom":"right",y=p+d[g],w=p-d[x];p=S2(y,p,w)}if(o){const g=f==="y"?"top":"left",x=f==="y"?"bottom":"right",y=v+d[g],w=v-d[x];v=S2(y,v,w)}const m=s.fn({...e,[h]:p,[f]:v});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:i,[f]:o}}}}}},FK=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=e,{offset:s=0,mainAxis:l=!0,crossAxis:u=!0}=ks(t,e),d={x:r,y:n},f=Eo(a),h=fA(f);let p=d[h],v=d[f];const m=ks(s,e),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const w=h==="y"?"height":"width",_=i.reference[h]-i.floating[w]+g.mainAxis,S=i.reference[h]+i.reference[w]-g.mainAxis;p<_?p=_:p>S&&(p=S)}if(u){var x,y;const w=h==="y"?"width":"height",_=c6.has(Is(a)),S=i.reference[f]-i.floating[w]+(_&&((x=o.offset)==null?void 0:x[f])||0)+(_?0:g.crossAxis),C=i.reference[f]+i.reference[w]+(_?0:((y=o.offset)==null?void 0:y[f])||0)-(_?g.crossAxis:0);v<S?v=S:v>C&&(v=C)}return{[h]:p,[f]:v}}}},BK=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:a,rects:i,platform:o,elements:s}=e,{apply:l=()=>{},...u}=ks(t,e),d=await Jp(e,u),f=Is(a),h=eh(a),p=Eo(a)==="y",{width:v,height:m}=i.floating;let g,x;f==="top"||f==="bottom"?(g=f,x=h===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(x=f,g=h==="end"?"top":"bottom");const y=m-d.top-d.bottom,w=v-d.left-d.right,_=ql(m-d[g],y),S=ql(v-d[x],w),C=!e.middlewareData.shift;let E=_,A=S;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(A=w),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(E=y),C&&!h){const T=Oa(d.left,0),N=Oa(d.right,0),O=Oa(d.top,0),$=Oa(d.bottom,0);p?A=v-2*(T!==0||N!==0?T+N:Oa(d.left,d.right)):E=m-2*(O!==0||$!==0?O+$:Oa(d.top,d.bottom))}await l({...e,availableWidth:A,availableHeight:E});const j=await o.getDimensions(s.floating);return v!==j.width||m!==j.height?{reset:{rects:!0}}:{}}}};function q1(){return typeof window<"u"}function th(t){return u6(t)?(t.nodeName||"").toLowerCase():"#document"}function La(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Yo(t){var e;return(e=(u6(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function u6(t){return q1()?t instanceof Node||t instanceof La(t).Node:!1}function oo(t){return q1()?t instanceof Element||t instanceof La(t).Element:!1}function Fo(t){return q1()?t instanceof HTMLElement||t instanceof La(t).HTMLElement:!1}function vT(t){return!q1()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof La(t).ShadowRoot}const UK=new Set(["inline","contents"]);function hv(t){const{overflow:e,overflowX:r,overflowY:n,display:a}=so(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!UK.has(a)}const VK=new Set(["table","td","th"]);function WK(t){return VK.has(th(t))}const zK=[":popover-open",":modal"];function G1(t){return zK.some(e=>{try{return t.matches(e)}catch{return!1}})}const HK=["transform","translate","scale","rotate","perspective"],qK=["transform","translate","scale","rotate","perspective","filter"],GK=["paint","layout","strict","content"];function mA(t){const e=vA(),r=oo(t)?so(t):t;return HK.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||qK.some(n=>(r.willChange||"").includes(n))||GK.some(n=>(r.contain||"").includes(n))}function KK(t){let e=Gl(t);for(;Fo(e)&&!cf(e);){if(mA(e))return e;if(G1(e))return null;e=Gl(e)}return null}function vA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const XK=new Set(["html","body","#document"]);function cf(t){return XK.has(th(t))}function so(t){return La(t).getComputedStyle(t)}function K1(t){return oo(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Gl(t){if(th(t)==="html")return t;const e=t.assignedSlot||t.parentNode||vT(t)&&t.host||Yo(t);return vT(e)?e.host:e}function d6(t){const e=Gl(t);return cf(e)?t.ownerDocument?t.ownerDocument.body:t.body:Fo(e)&&hv(e)?e:d6(e)}function em(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const a=d6(t),i=a===((n=t.ownerDocument)==null?void 0:n.body),o=La(a);if(i){const s=E2(o);return e.concat(o,o.visualViewport||[],hv(a)?a:[],s&&r?em(s):[])}return e.concat(a,em(a,[],r))}function E2(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function f6(t){const e=so(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const a=Fo(t),i=a?t.offsetWidth:r,o=a?t.offsetHeight:n,s=L0(r)!==i||L0(n)!==o;return s&&(r=i,n=o),{width:r,height:n,$:s}}function gA(t){return oo(t)?t:t.contextElement}function Rd(t){const e=gA(t);if(!Fo(e))return ko(1);const r=e.getBoundingClientRect(),{width:n,height:a,$:i}=f6(e);let o=(i?L0(r.width):r.width)/n,s=(i?L0(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const YK=ko(0);function h6(t){const e=La(t);return!vA()||!e.visualViewport?YK:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ZK(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==La(t)?!1:e}function lu(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const a=t.getBoundingClientRect(),i=gA(t);let o=ko(1);e&&(n?oo(n)&&(o=Rd(n)):o=Rd(t));const s=ZK(i,r,n)?h6(i):ko(0);let l=(a.left+s.x)/o.x,u=(a.top+s.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(i){const h=La(i),p=n&&oo(n)?La(n):n;let v=h,m=E2(v);for(;m&&n&&p!==v;){const g=Rd(m),x=m.getBoundingClientRect(),y=so(m),w=x.left+(m.clientLeft+parseFloat(y.paddingLeft))*g.x,_=x.top+(m.clientTop+parseFloat(y.paddingTop))*g.y;l*=g.x,u*=g.y,d*=g.x,f*=g.y,l+=w,u+=_,v=La(m),m=E2(v)}}return B0({width:d,height:f,x:l,y:u})}function yA(t,e){const r=K1(t).scrollLeft;return e?e.left+r:lu(Yo(t)).left+r}function p6(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),a=n.left+e.scrollLeft-(r?0:yA(t,n)),i=n.top+e.scrollTop;return{x:a,y:i}}function QK(t){let{elements:e,rect:r,offsetParent:n,strategy:a}=t;const i=a==="fixed",o=Yo(n),s=e?G1(e.floating):!1;if(n===o||s&&i)return r;let l={scrollLeft:0,scrollTop:0},u=ko(1);const d=ko(0),f=Fo(n);if((f||!f&&!i)&&((th(n)!=="body"||hv(o))&&(l=K1(n)),Fo(n))){const p=lu(n);u=Rd(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=o&&!f&&!i?p6(o,l,!0):ko(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-l.scrollTop*u.y+d.y+h.y}}function JK(t){return Array.from(t.getClientRects())}function eX(t){const e=Yo(t),r=K1(t),n=t.ownerDocument.body,a=Oa(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),i=Oa(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+yA(t);const s=-r.scrollTop;return so(n).direction==="rtl"&&(o+=Oa(e.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:s}}function tX(t,e){const r=La(t),n=Yo(t),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,s=0,l=0;if(a){i=a.width,o=a.height;const u=vA();(!u||u&&e==="fixed")&&(s=a.offsetLeft,l=a.offsetTop)}return{width:i,height:o,x:s,y:l}}const rX=new Set(["absolute","fixed"]);function nX(t,e){const r=lu(t,!0,e==="fixed"),n=r.top+t.clientTop,a=r.left+t.clientLeft,i=Fo(t)?Rd(t):ko(1),o=t.clientWidth*i.x,s=t.clientHeight*i.y,l=a*i.x,u=n*i.y;return{width:o,height:s,x:l,y:u}}function gT(t,e,r){let n;if(e==="viewport")n=tX(t,r);else if(e==="document")n=eX(Yo(t));else if(oo(e))n=nX(e,r);else{const a=h6(t);n={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return B0(n)}function m6(t,e){const r=Gl(t);return r===e||!oo(r)||cf(r)?!1:so(r).position==="fixed"||m6(r,e)}function aX(t,e){const r=e.get(t);if(r)return r;let n=em(t,[],!1).filter(s=>oo(s)&&th(s)!=="body"),a=null;const i=so(t).position==="fixed";let o=i?Gl(t):t;for(;oo(o)&&!cf(o);){const s=so(o),l=mA(o);!l&&s.position==="fixed"&&(a=null),(i?!l&&!a:!l&&s.position==="static"&&!!a&&rX.has(a.position)||hv(o)&&!l&&m6(t,o))?n=n.filter(d=>d!==o):a=s,o=Gl(o)}return e.set(t,n),n}function iX(t){let{element:e,boundary:r,rootBoundary:n,strategy:a}=t;const o=[...r==="clippingAncestors"?G1(e)?[]:aX(e,this._c):[].concat(r),n],s=o[0],l=o.reduce((u,d)=>{const f=gT(e,d,a);return u.top=Oa(f.top,u.top),u.right=ql(f.right,u.right),u.bottom=ql(f.bottom,u.bottom),u.left=Oa(f.left,u.left),u},gT(e,s,a));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function oX(t){const{width:e,height:r}=f6(t);return{width:e,height:r}}function sX(t,e,r){const n=Fo(e),a=Yo(e),i=r==="fixed",o=lu(t,!0,i,e);let s={scrollLeft:0,scrollTop:0};const l=ko(0);function u(){l.x=yA(a)}if(n||!n&&!i)if((th(e)!=="body"||hv(a))&&(s=K1(e)),n){const p=lu(e,!0,i,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else a&&u();i&&!n&&a&&u();const d=a&&!n&&!i?p6(a,s):ko(0),f=o.left+s.scrollLeft-l.x-d.x,h=o.top+s.scrollTop-l.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function ob(t){return so(t).position==="static"}function yT(t,e){if(!Fo(t)||so(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Yo(t)===r&&(r=r.ownerDocument.body),r}function v6(t,e){const r=La(t);if(G1(t))return r;if(!Fo(t)){let a=Gl(t);for(;a&&!cf(a);){if(oo(a)&&!ob(a))return a;a=Gl(a)}return r}let n=yT(t,e);for(;n&&WK(n)&&ob(n);)n=yT(n,e);return n&&cf(n)&&ob(n)&&!mA(n)?r:n||KK(t)||r}const lX=async function(t){const e=this.getOffsetParent||v6,r=this.getDimensions,n=await r(t.floating);return{reference:sX(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function cX(t){return so(t).direction==="rtl"}const uX={convertOffsetParentRelativeRectToViewportRelativeRect:QK,getDocumentElement:Yo,getClippingRect:iX,getOffsetParent:v6,getElementRects:lX,getClientRects:JK,getDimensions:oX,getScale:Rd,isElement:oo,isRTL:cX};function g6(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function dX(t,e){let r=null,n;const a=Yo(t);function i(){var s;clearTimeout(n),(s=r)==null||s.disconnect(),r=null}function o(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),i();const u=t.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(s||e(),!h||!p)return;const v=hg(f),m=hg(a.clientWidth-(d+h)),g=hg(a.clientHeight-(f+p)),x=hg(d),w={rootMargin:-v+"px "+-m+"px "+-g+"px "+-x+"px",threshold:Oa(0,ql(1,l))||1};let _=!0;function S(C){const E=C[0].intersectionRatio;if(E!==l){if(!_)return o();E?o(!1,E):n=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!g6(u,t.getBoundingClientRect())&&o(),_=!1}try{r=new IntersectionObserver(S,{...w,root:a.ownerDocument})}catch{r=new IntersectionObserver(S,w)}r.observe(t)}return o(!0),i}function fX(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=gA(t),d=a||i?[...u?em(u):[],...em(e)]:[];d.forEach(x=>{a&&x.addEventListener("scroll",r,{passive:!0}),i&&x.addEventListener("resize",r)});const f=u&&s?dX(u,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(x=>{let[y]=x;y&&y.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(e)})),r()}),u&&!l&&p.observe(u),p.observe(e));let v,m=l?lu(t):null;l&&g();function g(){const x=lu(t);m&&!g6(m,x)&&r(),m=x,v=requestAnimationFrame(g)}return r(),()=>{var x;d.forEach(y=>{a&&y.removeEventListener("scroll",r),i&&y.removeEventListener("resize",r)}),f==null||f(),(x=p)==null||x.disconnect(),p=null,l&&cancelAnimationFrame(v)}}const hX=$K,pX=LK,mX=RK,vX=BK,gX=DK,xT=IK,yX=FK,xX=(t,e,r)=>{const n=new Map,a={platform:uX,...r},i={...a.platform,_c:n};return kK(t,e,{...a,platform:i})};var wX=typeof document<"u",bX=function(){},a0=wX?b.useLayoutEffect:bX;function U0(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,a;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!U0(t[n],e[n]))return!1;return!0}if(a=Object.keys(t),r=a.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&t.$$typeof)&&!U0(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function y6(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function wT(t,e){const r=y6(t);return Math.round(e*r)/r}function sb(t){const e=b.useRef(t);return a0(()=>{e.current=t}),e}function _X(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:s=!0,whileElementsMounted:l,open:u}=t,[d,f]=b.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=b.useState(n);U0(h,n)||p(n);const[v,m]=b.useState(null),[g,x]=b.useState(null),y=b.useCallback(I=>{I!==C.current&&(C.current=I,m(I))},[]),w=b.useCallback(I=>{I!==E.current&&(E.current=I,x(I))},[]),_=i||v,S=o||g,C=b.useRef(null),E=b.useRef(null),A=b.useRef(d),j=l!=null,T=sb(l),N=sb(a),O=sb(u),$=b.useCallback(()=>{if(!C.current||!E.current)return;const I={placement:e,strategy:r,middleware:h};N.current&&(I.platform=N.current),xX(C.current,E.current,I).then(P=>{const V={...P,isPositioned:O.current!==!1};R.current&&!U0(A.current,V)&&(A.current=V,Su.flushSync(()=>{f(V)}))})},[h,e,r,N,O]);a0(()=>{u===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,f(I=>({...I,isPositioned:!1})))},[u]);const R=b.useRef(!1);a0(()=>(R.current=!0,()=>{R.current=!1}),[]),a0(()=>{if(_&&(C.current=_),S&&(E.current=S),_&&S){if(T.current)return T.current(_,S,$);$()}},[_,S,$,T,j]);const F=b.useMemo(()=>({reference:C,floating:E,setReference:y,setFloating:w}),[y,w]),B=b.useMemo(()=>({reference:_,floating:S}),[_,S]),M=b.useMemo(()=>{const I={position:r,left:0,top:0};if(!B.floating)return I;const P=wT(B.floating,d.x),V=wT(B.floating,d.y);return s?{...I,transform:"translate("+P+"px, "+V+"px)",...y6(B.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:P,top:V}},[r,s,B.floating,d.x,d.y]);return b.useMemo(()=>({...d,update:$,refs:F,elements:B,floatingStyles:M}),[d,$,F,B,M])}const SX=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:a}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?xT({element:n.current,padding:a}).fn(r):{}:n?xT({element:n,padding:a}).fn(r):{}}}},CX=(t,e)=>({...hX(t),options:[t,e]}),EX=(t,e)=>({...pX(t),options:[t,e]}),AX=(t,e)=>({...yX(t),options:[t,e]}),jX=(t,e)=>({...mX(t),options:[t,e]}),NX=(t,e)=>({...vX(t),options:[t,e]}),OX=(t,e)=>({...gX(t),options:[t,e]}),TX=(t,e)=>({...SX(t),options:[t,e]});var PX="Arrow",x6=b.forwardRef((t,e)=>{const{children:r,width:n=10,height:a=5,...i}=t;return c.jsx(Ie.svg,{...i,ref:e,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});x6.displayName=PX;var kX=x6;function w6(t){const[e,r]=b.useState(void 0);return on(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,s;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,s=u.blockSize}else o=t.offsetWidth,s=t.offsetHeight;r({width:o,height:s})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var xA="Popper",[b6,tc]=$n(xA),[IX,_6]=b6(xA),S6=t=>{const{__scopePopper:e,children:r}=t,[n,a]=b.useState(null);return c.jsx(IX,{scope:e,anchor:n,onAnchorChange:a,children:r})};S6.displayName=xA;var C6="PopperAnchor",E6=b.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...a}=t,i=_6(C6,r),o=b.useRef(null),s=Ke(e,o);return b.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:c.jsx(Ie.div,{...a,ref:s})});E6.displayName=C6;var wA="PopperContent",[RX,DX]=b6(wA),A6=b.forwardRef((t,e)=>{var te,pe,ee,se,ve,Z;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:v,...m}=t,g=_6(wA,r),[x,y]=b.useState(null),w=Ke(e,Ge=>y(Ge)),[_,S]=b.useState(null),C=w6(_),E=(C==null?void 0:C.width)??0,A=(C==null?void 0:C.height)??0,j=n+(i!=="center"?"-"+i:""),T=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(u)?u:[u],O=N.length>0,$={padding:T,boundary:N.filter($X),altBoundary:O},{refs:R,floatingStyles:F,placement:B,isPositioned:M,middlewareData:I}=_X({strategy:"fixed",placement:j,whileElementsMounted:(...Ge)=>fX(...Ge,{animationFrame:p==="always"}),elements:{reference:g.anchor},middleware:[CX({mainAxis:a+A,alignmentAxis:o}),l&&EX({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?AX():void 0,...$}),l&&jX({...$}),NX({...$,apply:({elements:Ge,rects:Be,availableWidth:ht,availableHeight:yt})=>{const{width:Kt,height:gn}=Be.reference,Wr=Ge.floating.style;Wr.setProperty("--radix-popper-available-width",`${ht}px`),Wr.setProperty("--radix-popper-available-height",`${yt}px`),Wr.setProperty("--radix-popper-anchor-width",`${Kt}px`),Wr.setProperty("--radix-popper-anchor-height",`${gn}px`)}}),_&&TX({element:_,padding:s}),LX({arrowWidth:E,arrowHeight:A}),h&&OX({strategy:"referenceHidden",...$})]}),[P,V]=O6(B),z=Ir(v);on(()=>{M&&(z==null||z())},[M,z]);const H=(te=I.arrow)==null?void 0:te.x,K=(pe=I.arrow)==null?void 0:pe.y,re=((ee=I.arrow)==null?void 0:ee.centerOffset)!==0,[ue,oe]=b.useState();return on(()=>{x&&oe(window.getComputedStyle(x).zIndex)},[x]),c.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:M?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ue,"--radix-popper-transform-origin":[(se=I.transformOrigin)==null?void 0:se.x,(ve=I.transformOrigin)==null?void 0:ve.y].join(" "),...((Z=I.hide)==null?void 0:Z.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(RX,{scope:r,placedSide:P,onArrowChange:S,arrowX:H,arrowY:K,shouldHideArrow:re,children:c.jsx(Ie.div,{"data-side":P,"data-align":V,...m,ref:w,style:{...m.style,animation:M?void 0:"none"}})})})});A6.displayName=wA;var j6="PopperArrow",MX={top:"bottom",right:"left",bottom:"top",left:"right"},N6=b.forwardRef(function(e,r){const{__scopePopper:n,...a}=e,i=DX(j6,n),o=MX[i.placedSide];return c.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:c.jsx(kX,{...a,ref:r,style:{...a.style,display:"block"}})})});N6.displayName=j6;function $X(t){return t!==null}var LX=t=>({name:"transformOrigin",options:t,fn(e){var g,x,y;const{placement:r,rects:n,middlewareData:a}=e,o=((g=a.arrow)==null?void 0:g.centerOffset)!==0,s=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=O6(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((x=a.arrow)==null?void 0:x.x)??0)+s/2,p=(((y=a.arrow)==null?void 0:y.y)??0)+l/2;let v="",m="";return u==="bottom"?(v=o?f:`${h}px`,m=`${-l}px`):u==="top"?(v=o?f:`${h}px`,m=`${n.floating.height+l}px`):u==="right"?(v=`${-l}px`,m=o?f:`${p}px`):u==="left"&&(v=`${n.floating.width+l}px`,m=o?f:`${p}px`),{data:{x:v,y:m}}}});function O6(t){const[e,r="center"]=t.split("-");return[e,r]}var bA=S6,pv=E6,X1=A6,Y1=N6,[Z1,YDe]=$n("Tooltip",[tc]),_A=tc(),T6="TooltipProvider",FX=700,bT="tooltip.open",[BX,P6]=Z1(T6),k6=t=>{const{__scopeTooltip:e,delayDuration:r=FX,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=t,o=b.useRef(!0),s=b.useRef(!1),l=b.useRef(0);return b.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),c.jsx(BX,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:b.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:s,onPointerInTransitChange:b.useCallback(u=>{s.current=u},[]),disableHoverableContent:a,children:i})};k6.displayName=T6;var I6="Tooltip",[ZDe,Q1]=Z1(I6),A2="TooltipTrigger",UX=b.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,a=Q1(A2,r),i=P6(A2,r),o=_A(r),s=b.useRef(null),l=Ke(e,s,a.onTriggerChange),u=b.useRef(!1),d=b.useRef(!1),f=b.useCallback(()=>u.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),c.jsx(pv,{asChild:!0,...o,children:c.jsx(Ie.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:l,onPointerMove:de(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:de(t.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:de(t.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:de(t.onFocus,()=>{u.current||a.onOpen()}),onBlur:de(t.onBlur,a.onClose),onClick:de(t.onClick,a.onClose)})})});UX.displayName=A2;var VX="TooltipPortal",[QDe,WX]=Z1(VX,{forceMount:void 0}),uf="TooltipContent",R6=b.forwardRef((t,e)=>{const r=WX(uf,t.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=t,o=Q1(uf,t.__scopeTooltip);return c.jsx(mn,{present:n||o.open,children:o.disableHoverableContent?c.jsx(D6,{side:a,...i,ref:e}):c.jsx(zX,{side:a,...i,ref:e})})}),zX=b.forwardRef((t,e)=>{const r=Q1(uf,t.__scopeTooltip),n=P6(uf,t.__scopeTooltip),a=b.useRef(null),i=Ke(e,a),[o,s]=b.useState(null),{trigger:l,onClose:u}=r,d=a.current,{onPointerInTransitChange:f}=n,h=b.useCallback(()=>{s(null),f(!1)},[f]),p=b.useCallback((v,m)=>{const g=v.currentTarget,x={x:v.clientX,y:v.clientY},y=XX(x,g.getBoundingClientRect()),w=YX(x,y),_=ZX(m.getBoundingClientRect()),S=JX([...w,..._]);s(S),f(!0)},[f]);return b.useEffect(()=>()=>h(),[h]),b.useEffect(()=>{if(l&&d){const v=g=>p(g,d),m=g=>p(g,l);return l.addEventListener("pointerleave",v),d.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",m)}}},[l,d,p,h]),b.useEffect(()=>{if(o){const v=m=>{const g=m.target,x={x:m.clientX,y:m.clientY},y=(l==null?void 0:l.contains(g))||(d==null?void 0:d.contains(g)),w=!QX(x,o);y?h():w&&(h(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,d,o,u,h]),c.jsx(D6,{...t,ref:i})}),[HX,qX]=Z1(I6,{isInside:!1}),GX=mM("TooltipContent"),D6=b.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...s}=t,l=Q1(uf,r),u=_A(r),{onClose:d}=l;return b.useEffect(()=>(document.addEventListener(bT,d),()=>document.removeEventListener(bT,d)),[d]),b.useEffect(()=>{if(l.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),c.jsx(Cu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:c.jsxs(X1,{"data-state":l.stateAttribute,...u,...s,ref:e,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(GX,{children:n}),c.jsx(HX,{scope:r,isInside:!0,children:c.jsx(yq,{id:l.contentId,role:"tooltip",children:a||n})})]})})});R6.displayName=uf;var M6="TooltipArrow",KX=b.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,a=_A(r);return qX(M6,r).isInside?null:c.jsx(Y1,{...a,...n,ref:e})});KX.displayName=M6;function XX(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),a=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function YX(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function ZX(t){const{top:e,right:r,bottom:n,left:a}=t;return[{x:a,y:e},{x:r,y:e},{x:r,y:n},{x:a,y:n}]}function QX(t,e){const{x:r,y:n}=t;let a=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const s=e[i],l=e[o],u=s.x,d=s.y,f=l.x,h=l.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function JX(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),eY(e)}function eY(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const a=t[n];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))e.pop();else break}e.push(a)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const a=t[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var tY=k6,$6=R6;const rY=tY,nY=b.forwardRef(({className:t,sideOffset:e=4,...r},n)=>c.jsx($6,{ref:n,sideOffset:e,className:fe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));nY.displayName=$6.displayName;var rh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},cu=typeof window>"u"||"Deno"in globalThis;function Gn(){}function aY(t,e){return typeof t=="function"?t(e):t}function j2(t){return typeof t=="number"&&t>=0&&t!==1/0}function L6(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Dl(t,e){return typeof t=="function"?t(e):t}function ii(t,e){return typeof t=="function"?t(e):t}function _T(t,e){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:s}=t;if(o){if(n){if(e.queryHash!==SA(o,e.options))return!1}else if(!tm(e.queryKey,o))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof s=="boolean"&&e.isStale()!==s||a&&a!==e.state.fetchStatus||i&&!i(e))}function ST(t,e){const{exact:r,status:n,predicate:a,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(r){if(uu(e.options.mutationKey)!==uu(i))return!1}else if(!tm(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||a&&!a(e))}function SA(t,e){return((e==null?void 0:e.queryKeyHashFn)||uu)(t)}function uu(t){return JSON.stringify(t,(e,r)=>N2(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function tm(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>tm(t[r],e[r])):!1}function F6(t,e){if(t===e)return t;const r=CT(t)&&CT(e);if(r||N2(t)&&N2(e)){const n=r?t:Object.keys(t),a=n.length,i=r?e:Object.keys(e),o=i.length,s=r?[]:{},l=new Set(n);let u=0;for(let d=0;d<o;d++){const f=r?d:i[d];(!r&&l.has(f)||r)&&t[f]===void 0&&e[f]===void 0?(s[f]=void 0,u++):(s[f]=F6(t[f],e[f]),s[f]===t[f]&&t[f]!==void 0&&u++)}return a===o&&u===a?t:s}return e}function V0(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function CT(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function N2(t){if(!ET(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!ET(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function ET(t){return Object.prototype.toString.call(t)==="[object Object]"}function iY(t){return new Promise(e=>{setTimeout(e,t)})}function O2(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?F6(t,e):e}function oY(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function sY(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var CA=Symbol();function B6(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===CA?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function U6(t,e){return typeof t=="function"?t(...e):!!t}var Bc,fl,Vd,WR,lY=(WR=class extends rh{constructor(){super();$e(this,Bc);$e(this,fl);$e(this,Vd);Ee(this,Vd,e=>{if(!cu&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){W(this,fl)||this.setEventListener(W(this,Vd))}onUnsubscribe(){var e;this.hasListeners()||((e=W(this,fl))==null||e.call(this),Ee(this,fl,void 0))}setEventListener(e){var r;Ee(this,Vd,e),(r=W(this,fl))==null||r.call(this),Ee(this,fl,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){W(this,Bc)!==e&&(Ee(this,Bc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof W(this,Bc)=="boolean"?W(this,Bc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Bc=new WeakMap,fl=new WeakMap,Vd=new WeakMap,WR),EA=new lY,Wd,hl,zd,zR,cY=(zR=class extends rh{constructor(){super();$e(this,Wd,!0);$e(this,hl);$e(this,zd);Ee(this,zd,e=>{if(!cu&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){W(this,hl)||this.setEventListener(W(this,zd))}onUnsubscribe(){var e;this.hasListeners()||((e=W(this,hl))==null||e.call(this),Ee(this,hl,void 0))}setEventListener(e){var r;Ee(this,zd,e),(r=W(this,hl))==null||r.call(this),Ee(this,hl,e(this.setOnline.bind(this)))}setOnline(e){W(this,Wd)!==e&&(Ee(this,Wd,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return W(this,Wd)}},Wd=new WeakMap,hl=new WeakMap,zd=new WeakMap,zR),W0=new cY;function T2(){let t,e;const r=new Promise((a,i)=>{t=a,e=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),t(a)},r.reject=a=>{n({status:"rejected",reason:a}),e(a)},r}function uY(t){return Math.min(1e3*2**t,3e4)}function V6(t){return(t??"online")==="online"?W0.isOnline():!0}var W6=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function lb(t){return t instanceof W6}function z6(t){let e=!1,r=0,n=!1,a;const i=T2(),o=m=>{var g;n||(h(new W6(m)),(g=t.abort)==null||g.call(t))},s=()=>{e=!0},l=()=>{e=!1},u=()=>EA.isFocused()&&(t.networkMode==="always"||W0.isOnline())&&t.canRun(),d=()=>V6(t.networkMode)&&t.canRun(),f=m=>{var g;n||(n=!0,(g=t.onSuccess)==null||g.call(t,m),a==null||a(),i.resolve(m))},h=m=>{var g;n||(n=!0,(g=t.onError)==null||g.call(t,m),a==null||a(),i.reject(m))},p=()=>new Promise(m=>{var g;a=x=>{(n||u())&&m(x)},(g=t.onPause)==null||g.call(t)}).then(()=>{var m;a=void 0,n||(m=t.onContinue)==null||m.call(t)}),v=()=>{if(n)return;let m;const g=r===0?t.initialPromise:void 0;try{m=g??t.fn()}catch(x){m=Promise.reject(x)}Promise.resolve(m).then(f).catch(x=>{var C;if(n)return;const y=t.retry??(cu?0:3),w=t.retryDelay??uY,_=typeof w=="function"?w(r,x):w,S=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,x);if(e||!S){h(x);return}r++,(C=t.onFail)==null||C.call(t,r,x),iY(_).then(()=>u()?void 0:p()).then(()=>{e?h(x):v()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:s,continueRetry:l,canStart:d,start:()=>(d()?v():p().then(v),i)}}var dY=t=>setTimeout(t,0);function fY(){let t=[],e=0,r=s=>{s()},n=s=>{s()},a=dY;const i=s=>{e?t.push(s):a(()=>{r(s)})},o=()=>{const s=t;t=[],s.length&&a(()=>{n(()=>{s.forEach(l=>{r(l)})})})};return{batch:s=>{let l;e++;try{l=s()}finally{e--,e||o()}return l},batchCalls:s=>(...l)=>{i(()=>{s(...l)})},schedule:i,setNotifyFunction:s=>{r=s},setBatchNotifyFunction:s=>{n=s},setScheduler:s=>{a=s}}}var Qr=fY(),Uc,HR,H6=(HR=class{constructor(){$e(this,Uc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),j2(this.gcTime)&&Ee(this,Uc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(cu?1/0:5*60*1e3))}clearGcTimeout(){W(this,Uc)&&(clearTimeout(W(this,Uc)),Ee(this,Uc,void 0))}},Uc=new WeakMap,HR),Hd,Vc,ai,Wc,kn,Qm,zc,Ui,ss,qR,hY=(qR=class extends H6{constructor(e){super();$e(this,Ui);$e(this,Hd);$e(this,Vc);$e(this,ai);$e(this,Wc);$e(this,kn);$e(this,Qm);$e(this,zc);Ee(this,zc,!1),Ee(this,Qm,e.defaultOptions),this.setOptions(e.options),this.observers=[],Ee(this,Wc,e.client),Ee(this,ai,W(this,Wc).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ee(this,Hd,pY(this.options)),this.state=e.state??W(this,Hd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=W(this,kn))==null?void 0:e.promise}setOptions(e){this.options={...W(this,Qm),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&W(this,ai).remove(this)}setData(e,r){const n=O2(this.state.data,e,this.options);return at(this,Ui,ss).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){at(this,Ui,ss).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,a;const r=(n=W(this,kn))==null?void 0:n.promise;return(a=W(this,kn))==null||a.cancel(e),r?r.then(Gn).catch(Gn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(W(this,Hd))}isActive(){return this.observers.some(e=>ii(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===CA||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Dl(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!L6(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=W(this,kn))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=W(this,kn))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),W(this,ai).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(W(this,kn)&&(W(this,zc)?W(this,kn).cancel({revert:!0}):W(this,kn).cancelRetry()),this.scheduleGc()),W(this,ai).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||at(this,Ui,ss).call(this,{type:"invalidate"})}fetch(e,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(W(this,kn))return W(this,kn).continueRetry(),W(this,kn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Ee(this,zc,!0),n.signal)})},i=()=>{const h=B6(this.options,r),v=(()=>{const m={client:W(this,Wc),queryKey:this.queryKey,meta:this.meta};return a(m),m})();return Ee(this,zc,!1),this.options.persister?this.options.persister(h,v,this):h(v)},s=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:W(this,Wc),state:this.state,fetchFn:i};return a(h),h})();(u=this.options.behavior)==null||u.onFetch(s,this),Ee(this,Vc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=s.fetchOptions)==null?void 0:d.meta))&&at(this,Ui,ss).call(this,{type:"fetch",meta:(f=s.fetchOptions)==null?void 0:f.meta});const l=h=>{var p,v,m,g;lb(h)&&h.silent||at(this,Ui,ss).call(this,{type:"error",error:h}),lb(h)||((v=(p=W(this,ai).config).onError)==null||v.call(p,h,this),(g=(m=W(this,ai).config).onSettled)==null||g.call(m,this.state.data,h,this)),this.scheduleGc()};return Ee(this,kn,z6({initialPromise:r==null?void 0:r.initialPromise,fn:s.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var p,v,m,g;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(x){l(x);return}(v=(p=W(this,ai).config).onSuccess)==null||v.call(p,h,this),(g=(m=W(this,ai).config).onSettled)==null||g.call(m,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,p)=>{at(this,Ui,ss).call(this,{type:"failed",failureCount:h,error:p})},onPause:()=>{at(this,Ui,ss).call(this,{type:"pause"})},onContinue:()=>{at(this,Ui,ss).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),W(this,kn).start()}},Hd=new WeakMap,Vc=new WeakMap,ai=new WeakMap,Wc=new WeakMap,kn=new WeakMap,Qm=new WeakMap,zc=new WeakMap,Ui=new WeakSet,ss=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...q6(n.data,this.options),fetchMeta:e.meta??null};case"success":return Ee(this,Vc,void 0),{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=e.error;return lb(a)&&a.revert&&W(this,Vc)?{...W(this,Vc),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Qr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),W(this,ai).notify({query:this,type:"updated",action:e})})},qR);function q6(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:V6(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function pY(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var wo,GR,mY=(GR=class extends rh{constructor(e={}){super();$e(this,wo);this.config=e,Ee(this,wo,new Map)}build(e,r,n){const a=r.queryKey,i=r.queryHash??SA(a,r);let o=this.get(i);return o||(o=new hY({client:e,queryKey:a,queryHash:i,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(a)}),this.add(o)),o}add(e){W(this,wo).has(e.queryHash)||(W(this,wo).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=W(this,wo).get(e.queryHash);r&&(e.destroy(),r===e&&W(this,wo).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Qr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return W(this,wo).get(e)}getAll(){return[...W(this,wo).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>_T(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>_T(e,n)):r}notify(e){Qr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Qr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Qr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},wo=new WeakMap,GR),bo,zn,Hc,_o,tl,KR,vY=(KR=class extends H6{constructor(e){super();$e(this,_o);$e(this,bo);$e(this,zn);$e(this,Hc);this.mutationId=e.mutationId,Ee(this,zn,e.mutationCache),Ee(this,bo,[]),this.state=e.state||G6(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){W(this,bo).includes(e)||(W(this,bo).push(e),this.clearGcTimeout(),W(this,zn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ee(this,bo,W(this,bo).filter(r=>r!==e)),this.scheduleGc(),W(this,zn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){W(this,bo).length||(this.state.status==="pending"?this.scheduleGc():W(this,zn).remove(this))}continue(){var e;return((e=W(this,Hc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,s,l,u,d,f,h,p,v,m,g,x,y,w,_,S,C,E,A;const r=()=>{at(this,_o,tl).call(this,{type:"continue"})};Ee(this,Hc,z6({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(j,T)=>{at(this,_o,tl).call(this,{type:"failed",failureCount:j,error:T})},onPause:()=>{at(this,_o,tl).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>W(this,zn).canRun(this)}));const n=this.state.status==="pending",a=!W(this,Hc).canStart();try{if(n)r();else{at(this,_o,tl).call(this,{type:"pending",variables:e,isPaused:a}),await((o=(i=W(this,zn).config).onMutate)==null?void 0:o.call(i,e,this));const T=await((l=(s=this.options).onMutate)==null?void 0:l.call(s,e));T!==this.state.context&&at(this,_o,tl).call(this,{type:"pending",context:T,variables:e,isPaused:a})}const j=await W(this,Hc).start();return await((d=(u=W(this,zn).config).onSuccess)==null?void 0:d.call(u,j,e,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,j,e,this.state.context)),await((v=(p=W(this,zn).config).onSettled)==null?void 0:v.call(p,j,null,this.state.variables,this.state.context,this)),await((g=(m=this.options).onSettled)==null?void 0:g.call(m,j,null,e,this.state.context)),at(this,_o,tl).call(this,{type:"success",data:j}),j}catch(j){try{throw await((y=(x=W(this,zn).config).onError)==null?void 0:y.call(x,j,e,this.state.context,this)),await((_=(w=this.options).onError)==null?void 0:_.call(w,j,e,this.state.context)),await((C=(S=W(this,zn).config).onSettled)==null?void 0:C.call(S,void 0,j,this.state.variables,this.state.context,this)),await((A=(E=this.options).onSettled)==null?void 0:A.call(E,void 0,j,e,this.state.context)),j}finally{at(this,_o,tl).call(this,{type:"error",error:j})}}finally{W(this,zn).runNext(this)}}},bo=new WeakMap,zn=new WeakMap,Hc=new WeakMap,_o=new WeakSet,tl=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Qr.batch(()=>{W(this,bo).forEach(n=>{n.onMutationUpdate(e)}),W(this,zn).notify({mutation:this,type:"updated",action:e})})},KR);function G6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var fs,Vi,Jm,XR,gY=(XR=class extends rh{constructor(e={}){super();$e(this,fs);$e(this,Vi);$e(this,Jm);this.config=e,Ee(this,fs,new Set),Ee(this,Vi,new Map),Ee(this,Jm,0)}build(e,r,n){const a=new vY({mutationCache:this,mutationId:++Hv(this,Jm)._,options:e.defaultMutationOptions(r),state:n});return this.add(a),a}add(e){W(this,fs).add(e);const r=pg(e);if(typeof r=="string"){const n=W(this,Vi).get(r);n?n.push(e):W(this,Vi).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(W(this,fs).delete(e)){const r=pg(e);if(typeof r=="string"){const n=W(this,Vi).get(r);if(n)if(n.length>1){const a=n.indexOf(e);a!==-1&&n.splice(a,1)}else n[0]===e&&W(this,Vi).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=pg(e);if(typeof r=="string"){const n=W(this,Vi).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===e}else return!0}runNext(e){var n;const r=pg(e);if(typeof r=="string"){const a=(n=W(this,Vi).get(r))==null?void 0:n.find(i=>i!==e&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Qr.batch(()=>{W(this,fs).forEach(e=>{this.notify({type:"removed",mutation:e})}),W(this,fs).clear(),W(this,Vi).clear()})}getAll(){return Array.from(W(this,fs))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>ST(r,n))}findAll(e={}){return this.getAll().filter(r=>ST(e,r))}notify(e){Qr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Qr.batch(()=>Promise.all(e.map(r=>r.continue().catch(Gn))))}},fs=new WeakMap,Vi=new WeakMap,Jm=new WeakMap,XR);function pg(t){var e;return(e=t.options.scope)==null?void 0:e.id}function AT(t){return{onFetch:(e,r)=>{var d,f,h,p,v;const n=e.options,a=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((p=e.state.data)==null?void 0:p.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let s={pages:[],pageParams:[]},l=0;const u=async()=>{let m=!1;const g=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},x=B6(e.options,e.fetchOptions),y=async(w,_,S)=>{if(m)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const E=(()=>{const N={client:e.client,queryKey:e.queryKey,pageParam:_,direction:S?"backward":"forward",meta:e.options.meta};return g(N),N})(),A=await x(E),{maxPages:j}=e.options,T=S?sY:oY;return{pages:T(w.pages,A,j),pageParams:T(w.pageParams,_,j)}};if(a&&i.length){const w=a==="backward",_=w?yY:jT,S={pages:i,pageParams:o},C=_(n,S);s=await y(S,C,w)}else{const w=t??i.length;do{const _=l===0?o[0]??n.initialPageParam:jT(n,s);if(l>0&&_==null)break;s=await y(s,_),l++}while(l<w)}return s};e.options.persister?e.fetchFn=()=>{var m,g;return(g=(m=e.options).persister)==null?void 0:g.call(m,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function jT(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function yY(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Cr,pl,ml,qd,Gd,vl,Kd,Xd,YR,xY=(YR=class{constructor(t={}){$e(this,Cr);$e(this,pl);$e(this,ml);$e(this,qd);$e(this,Gd);$e(this,vl);$e(this,Kd);$e(this,Xd);Ee(this,Cr,t.queryCache||new mY),Ee(this,pl,t.mutationCache||new gY),Ee(this,ml,t.defaultOptions||{}),Ee(this,qd,new Map),Ee(this,Gd,new Map),Ee(this,vl,0)}mount(){Hv(this,vl)._++,W(this,vl)===1&&(Ee(this,Kd,EA.subscribe(async t=>{t&&(await this.resumePausedMutations(),W(this,Cr).onFocus())})),Ee(this,Xd,W0.subscribe(async t=>{t&&(await this.resumePausedMutations(),W(this,Cr).onOnline())})))}unmount(){var t,e;Hv(this,vl)._--,W(this,vl)===0&&((t=W(this,Kd))==null||t.call(this),Ee(this,Kd,void 0),(e=W(this,Xd))==null||e.call(this),Ee(this,Xd,void 0))}isFetching(t){return W(this,Cr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return W(this,pl).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=W(this,Cr).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=W(this,Cr).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Dl(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return W(this,Cr).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),a=W(this,Cr).get(n.queryHash),i=a==null?void 0:a.state.data,o=aY(e,i);if(o!==void 0)return W(this,Cr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return Qr.batch(()=>W(this,Cr).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=W(this,Cr).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=W(this,Cr);Qr.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=W(this,Cr);return Qr.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=Qr.batch(()=>W(this,Cr).findAll(t).map(a=>a.cancel(r)));return Promise.all(n).then(Gn).catch(Gn)}invalidateQueries(t,e={}){return Qr.batch(()=>(W(this,Cr).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=Qr.batch(()=>W(this,Cr).findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Gn)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Gn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=W(this,Cr).build(this,e);return r.isStaleByTime(Dl(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Gn).catch(Gn)}fetchInfiniteQuery(t){return t.behavior=AT(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Gn).catch(Gn)}ensureInfiniteQueryData(t){return t.behavior=AT(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return W0.isOnline()?W(this,pl).resumePausedMutations():Promise.resolve()}getQueryCache(){return W(this,Cr)}getMutationCache(){return W(this,pl)}getDefaultOptions(){return W(this,ml)}setDefaultOptions(t){Ee(this,ml,t)}setQueryDefaults(t,e){W(this,qd).set(uu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...W(this,qd).values()],r={};return e.forEach(n=>{tm(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){W(this,Gd).set(uu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...W(this,Gd).values()],r={};return e.forEach(n=>{tm(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...W(this,ml).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=SA(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===CA&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...W(this,ml).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){W(this,Cr).clear(),W(this,pl).clear()}},Cr=new WeakMap,pl=new WeakMap,ml=new WeakMap,qd=new WeakMap,Gd=new WeakMap,vl=new WeakMap,Kd=new WeakMap,Xd=new WeakMap,YR),sa,dt,ev,Hn,qc,Yd,gl,yl,tv,Zd,Qd,Gc,Kc,xl,Jd,Ot,np,P2,k2,I2,R2,D2,M2,$2,K6,ZR,wY=(ZR=class extends rh{constructor(e,r){super();$e(this,Ot);$e(this,sa);$e(this,dt);$e(this,ev);$e(this,Hn);$e(this,qc);$e(this,Yd);$e(this,gl);$e(this,yl);$e(this,tv);$e(this,Zd);$e(this,Qd);$e(this,Gc);$e(this,Kc);$e(this,xl);$e(this,Jd,new Set);this.options=r,Ee(this,sa,e),Ee(this,yl,null),Ee(this,gl,T2()),this.options.experimental_prefetchInRender||W(this,gl).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(W(this,dt).addObserver(this),NT(W(this,dt),this.options)?at(this,Ot,np).call(this):this.updateResult(),at(this,Ot,R2).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return L2(W(this,dt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return L2(W(this,dt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,at(this,Ot,D2).call(this),at(this,Ot,M2).call(this),W(this,dt).removeObserver(this)}setOptions(e){const r=this.options,n=W(this,dt);if(this.options=W(this,sa).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ii(this.options.enabled,W(this,dt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");at(this,Ot,$2).call(this),W(this,dt).setOptions(this.options),r._defaulted&&!V0(this.options,r)&&W(this,sa).getQueryCache().notify({type:"observerOptionsUpdated",query:W(this,dt),observer:this});const a=this.hasListeners();a&&OT(W(this,dt),n,this.options,r)&&at(this,Ot,np).call(this),this.updateResult(),a&&(W(this,dt)!==n||ii(this.options.enabled,W(this,dt))!==ii(r.enabled,W(this,dt))||Dl(this.options.staleTime,W(this,dt))!==Dl(r.staleTime,W(this,dt)))&&at(this,Ot,P2).call(this);const i=at(this,Ot,k2).call(this);a&&(W(this,dt)!==n||ii(this.options.enabled,W(this,dt))!==ii(r.enabled,W(this,dt))||i!==W(this,xl))&&at(this,Ot,I2).call(this,i)}getOptimisticResult(e){const r=W(this,sa).getQueryCache().build(W(this,sa),e),n=this.createResult(r,e);return _Y(this,n)&&(Ee(this,Hn,n),Ee(this,Yd,this.options),Ee(this,qc,W(this,dt).state)),n}getCurrentResult(){return W(this,Hn)}trackResult(e,r){return new Proxy(e,{get:(n,a)=>(this.trackProp(a),r==null||r(a),Reflect.get(n,a))})}trackProp(e){W(this,Jd).add(e)}getCurrentQuery(){return W(this,dt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=W(this,sa).defaultQueryOptions(e),n=W(this,sa).getQueryCache().build(W(this,sa),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return at(this,Ot,np).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),W(this,Hn)))}createResult(e,r){var j;const n=W(this,dt),a=this.options,i=W(this,Hn),o=W(this,qc),s=W(this,Yd),u=e!==n?e.state:W(this,ev),{state:d}=e;let f={...d},h=!1,p;if(r._optimisticResults){const T=this.hasListeners(),N=!T&&NT(e,r),O=T&&OT(e,n,r,a);(N||O)&&(f={...f,...q6(d.data,e.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:m,status:g}=f;p=f.data;let x=!1;if(r.placeholderData!==void 0&&p===void 0&&g==="pending"){let T;i!=null&&i.isPlaceholderData&&r.placeholderData===(s==null?void 0:s.placeholderData)?(T=i.data,x=!0):T=typeof r.placeholderData=="function"?r.placeholderData((j=W(this,Qd))==null?void 0:j.state.data,W(this,Qd)):r.placeholderData,T!==void 0&&(g="success",p=O2(i==null?void 0:i.data,T,r),h=!0)}if(r.select&&p!==void 0&&!x)if(i&&p===(o==null?void 0:o.data)&&r.select===W(this,tv))p=W(this,Zd);else try{Ee(this,tv,r.select),p=r.select(p),p=O2(i==null?void 0:i.data,p,r),Ee(this,Zd,p),Ee(this,yl,null)}catch(T){Ee(this,yl,T)}W(this,yl)&&(v=W(this,yl),p=W(this,Zd),m=Date.now(),g="error");const y=f.fetchStatus==="fetching",w=g==="pending",_=g==="error",S=w&&y,C=p!==void 0,A={status:g,fetchStatus:f.fetchStatus,isPending:w,isSuccess:g==="success",isError:_,isInitialLoading:S,isLoading:S,data:p,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:m,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!w,isLoadingError:_&&!C,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:_&&C,isStale:AA(e,r),refetch:this.refetch,promise:W(this,gl),isEnabled:ii(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const T=$=>{A.status==="error"?$.reject(A.error):A.data!==void 0&&$.resolve(A.data)},N=()=>{const $=Ee(this,gl,A.promise=T2());T($)},O=W(this,gl);switch(O.status){case"pending":e.queryHash===n.queryHash&&T(O);break;case"fulfilled":(A.status==="error"||A.data!==O.value)&&N();break;case"rejected":(A.status!=="error"||A.error!==O.reason)&&N();break}}return A}updateResult(){const e=W(this,Hn),r=this.createResult(W(this,dt),this.options);if(Ee(this,qc,W(this,dt).state),Ee(this,Yd,this.options),W(this,qc).data!==void 0&&Ee(this,Qd,W(this,dt)),V0(r,e))return;Ee(this,Hn,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!W(this,Jd).size)return!0;const o=new Set(i??W(this,Jd));return this.options.throwOnError&&o.add("error"),Object.keys(W(this,Hn)).some(s=>{const l=s;return W(this,Hn)[l]!==e[l]&&o.has(l)})};at(this,Ot,K6).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&at(this,Ot,R2).call(this)}},sa=new WeakMap,dt=new WeakMap,ev=new WeakMap,Hn=new WeakMap,qc=new WeakMap,Yd=new WeakMap,gl=new WeakMap,yl=new WeakMap,tv=new WeakMap,Zd=new WeakMap,Qd=new WeakMap,Gc=new WeakMap,Kc=new WeakMap,xl=new WeakMap,Jd=new WeakMap,Ot=new WeakSet,np=function(e){at(this,Ot,$2).call(this);let r=W(this,dt).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Gn)),r},P2=function(){at(this,Ot,D2).call(this);const e=Dl(this.options.staleTime,W(this,dt));if(cu||W(this,Hn).isStale||!j2(e))return;const n=L6(W(this,Hn).dataUpdatedAt,e)+1;Ee(this,Gc,setTimeout(()=>{W(this,Hn).isStale||this.updateResult()},n))},k2=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(W(this,dt)):this.options.refetchInterval)??!1},I2=function(e){at(this,Ot,M2).call(this),Ee(this,xl,e),!(cu||ii(this.options.enabled,W(this,dt))===!1||!j2(W(this,xl))||W(this,xl)===0)&&Ee(this,Kc,setInterval(()=>{(this.options.refetchIntervalInBackground||EA.isFocused())&&at(this,Ot,np).call(this)},W(this,xl)))},R2=function(){at(this,Ot,P2).call(this),at(this,Ot,I2).call(this,at(this,Ot,k2).call(this))},D2=function(){W(this,Gc)&&(clearTimeout(W(this,Gc)),Ee(this,Gc,void 0))},M2=function(){W(this,Kc)&&(clearInterval(W(this,Kc)),Ee(this,Kc,void 0))},$2=function(){const e=W(this,sa).getQueryCache().build(W(this,sa),this.options);if(e===W(this,dt))return;const r=W(this,dt);Ee(this,dt,e),Ee(this,ev,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},K6=function(e){Qr.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(W(this,Hn))}),W(this,sa).getQueryCache().notify({query:W(this,dt),type:"observerResultsUpdated"})})},ZR);function bY(t,e){return ii(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function NT(t,e){return bY(t,e)||t.state.data!==void 0&&L2(t,e,e.refetchOnMount)}function L2(t,e,r){if(ii(e.enabled,t)!==!1&&Dl(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&AA(t,e)}return!1}function OT(t,e,r,n){return(t!==e||ii(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&AA(t,r)}function AA(t,e){return ii(e.enabled,t)!==!1&&t.isStaleByTime(Dl(e.staleTime,t))}function _Y(t,e){return!V0(t.getCurrentResult(),e)}var wl,bl,la,hs,As,i0,F2,QR,SY=(QR=class extends rh{constructor(r,n){super();$e(this,As);$e(this,wl);$e(this,bl);$e(this,la);$e(this,hs);Ee(this,wl,r),this.setOptions(n),this.bindMethods(),at(this,As,i0).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=W(this,wl).defaultMutationOptions(r),V0(this.options,n)||W(this,wl).getMutationCache().notify({type:"observerOptionsUpdated",mutation:W(this,la),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&uu(n.mutationKey)!==uu(this.options.mutationKey)?this.reset():((a=W(this,la))==null?void 0:a.state.status)==="pending"&&W(this,la).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=W(this,la))==null||r.removeObserver(this)}onMutationUpdate(r){at(this,As,i0).call(this),at(this,As,F2).call(this,r)}getCurrentResult(){return W(this,bl)}reset(){var r;(r=W(this,la))==null||r.removeObserver(this),Ee(this,la,void 0),at(this,As,i0).call(this),at(this,As,F2).call(this)}mutate(r,n){var a;return Ee(this,hs,n),(a=W(this,la))==null||a.removeObserver(this),Ee(this,la,W(this,wl).getMutationCache().build(W(this,wl),this.options)),W(this,la).addObserver(this),W(this,la).execute(r)}},wl=new WeakMap,bl=new WeakMap,la=new WeakMap,hs=new WeakMap,As=new WeakSet,i0=function(){var n;const r=((n=W(this,la))==null?void 0:n.state)??G6();Ee(this,bl,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},F2=function(r){Qr.batch(()=>{var n,a,i,o,s,l,u,d;if(W(this,hs)&&this.hasListeners()){const f=W(this,bl).variables,h=W(this,bl).context;(r==null?void 0:r.type)==="success"?((a=(n=W(this,hs)).onSuccess)==null||a.call(n,r.data,f,h),(o=(i=W(this,hs)).onSettled)==null||o.call(i,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((l=(s=W(this,hs)).onError)==null||l.call(s,r.error,f,h),(d=(u=W(this,hs)).onSettled)==null||d.call(u,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(W(this,bl))})})},QR),X6=b.createContext(void 0),Nn=t=>{const e=b.useContext(X6);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},CY=({client:t,children:e})=>(b.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(X6.Provider,{value:t,children:e})),Y6=b.createContext(!1),EY=()=>b.useContext(Y6);Y6.Provider;function AY(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var jY=b.createContext(AY()),NY=()=>b.useContext(jY),OY=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},TY=t=>{b.useEffect(()=>{t.clearReset()},[t])},PY=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:a})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(a&&t.data===void 0||U6(r,[t.error,n])),kY=t=>{if(t.suspense){const e=n=>n==="static"?n:Math.max(n??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...n)=>e(r(...n)):e(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},IY=(t,e)=>t.isLoading&&t.isFetching&&!e,RY=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,TT=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function DY(t,e,r){var f,h,p,v,m;const n=EY(),a=NY(),i=Nn(),o=i.defaultQueryOptions(t);(h=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,o),o._optimisticResults=n?"isRestoring":"optimistic",kY(o),OY(o,a),TY(a);const s=!i.getQueryCache().get(o.queryHash),[l]=b.useState(()=>new e(i,o)),u=l.getOptimisticResult(o),d=!n&&t.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(g=>{const x=d?l.subscribe(Qr.batchCalls(g)):Gn;return l.updateResult(),x},[l,d]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),b.useEffect(()=>{l.setOptions(o)},[o,l]),RY(o,u))throw TT(o,l,a);if(PY({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((v=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||v.call(p,o,u),o.experimental_prefetchInRender&&!cu&&IY(u,n)){const g=s?TT(o,l,a):(m=i.getQueryCache().get(o.queryHash))==null?void 0:m.promise;g==null||g.catch(Gn).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?u:l.trackResult(u)}function Ln(t,e){return DY(t,wY)}function Ze(t,e){const r=Nn(),[n]=b.useState(()=>new SY(r,t));b.useEffect(()=>{n.setOptions(t)},[n,t]);const a=b.useSyncExternalStore(b.useCallback(o=>n.subscribe(Qr.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=b.useCallback((o,s)=>{n.mutate(o,s).catch(Gn)},[n]);if(a.error&&U6(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rm(){return rm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rm.apply(this,arguments)}var Cl;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Cl||(Cl={}));const PT="popstate";function MY(t){t===void 0&&(t={});function e(n,a){let{pathname:i,search:o,hash:s}=n.location;return B2("",{pathname:i,search:o,hash:s},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:z0(a)}return LY(e,r,null,t)}function Ur(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Z6(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $Y(){return Math.random().toString(36).substr(2,8)}function kT(t,e){return{usr:t.state,key:t.key,idx:e}}function B2(t,e,r,n){return r===void 0&&(r=null),rm({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?nh(e):e,{state:r,key:e&&e.key||n||$Y()})}function z0(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function nh(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function LY(t,e,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,s=Cl.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(rm({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){s=Cl.Pop;let g=d(),x=g==null?null:g-u;u=g,l&&l({action:s,location:m.location,delta:x})}function h(g,x){s=Cl.Push;let y=B2(m.location,g,x);u=d()+1;let w=kT(y,u),_=m.createHref(y);try{o.pushState(w,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(_)}i&&l&&l({action:s,location:m.location,delta:1})}function p(g,x){s=Cl.Replace;let y=B2(m.location,g,x);u=d();let w=kT(y,u),_=m.createHref(y);o.replaceState(w,"",_),i&&l&&l({action:s,location:m.location,delta:0})}function v(g){let x=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof g=="string"?g:z0(g);return y=y.replace(/ $/,"%20"),Ur(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let m={get action(){return s},get location(){return t(a,o)},listen(g){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(PT,f),l=g,()=>{a.removeEventListener(PT,f),l=null}},createHref(g){return e(a,g)},createURL:v,encodeLocation(g){let x=v(g);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:p,go(g){return o.go(g)}};return m}var IT;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(IT||(IT={}));function FY(t,e,r){return r===void 0&&(r="/"),BY(t,e,r,!1)}function BY(t,e,r,n){let a=typeof e=="string"?nh(e):e,i=jA(a.pathname||"/",r);if(i==null)return null;let o=Q6(t);UY(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let u=QY(i);s=YY(o[l],u,n)}return s}function Q6(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,s)=>{let l={relativePath:s===void 0?i.path||"":s,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Ur(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Ml([n,l.relativePath]),d=r.concat(l);i.children&&i.children.length>0&&(Ur(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Q6(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:KY(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var s;if(i.path===""||!((s=i.path)!=null&&s.includes("?")))a(i,o);else for(let l of J6(i.path))a(i,o,l)}),e}function J6(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=J6(n.join("/")),s=[];return s.push(...o.map(l=>l===""?i:[i,l].join("/"))),a&&s.push(...o),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function UY(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:XY(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const VY=/^:[\w-]+$/,WY=3,zY=2,HY=1,qY=10,GY=-2,RT=t=>t==="*";function KY(t,e){let r=t.split("/"),n=r.length;return r.some(RT)&&(n+=GY),e&&(n+=zY),r.filter(a=>!RT(a)).reduce((a,i)=>a+(VY.test(i)?WY:i===""?HY:qY),n)}function XY(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function YY(t,e,r){let{routesMeta:n}=t,a={},i="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],u=s===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=DT({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=DT({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Ml([i,f.pathname]),pathnameBase:rZ(Ml([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Ml([i,f.pathnameBase]))}return o}function DT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=ZY(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let m=s[f]||"";o=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const v=s[f];return p&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function ZY(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Z6(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(n.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function QY(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Z6(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function jA(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function JY(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?nh(t):t;return{pathname:r?r.startsWith("/")?r:eZ(r,e):e,search:nZ(n),hash:aZ(a)}}function eZ(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function cb(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function tZ(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function e5(t,e){let r=tZ(t);return e?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function t5(t,e,r,n){n===void 0&&(n=!1);let a;typeof t=="string"?a=nh(t):(a=rm({},t),Ur(!a.pathname||!a.pathname.includes("?"),cb("?","pathname","search",a)),Ur(!a.pathname||!a.pathname.includes("#"),cb("#","pathname","hash",a)),Ur(!a.search||!a.search.includes("#"),cb("#","search","hash",a)));let i=t===""||a.pathname==="",o=i?"/":a.pathname,s;if(o==null)s=r;else{let f=e.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}s=f>=0?e[f]:"/"}let l=JY(a,s),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Ml=t=>t.join("/").replace(/\/\/+/g,"/"),rZ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nZ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,aZ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function iZ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const r5=["post","put","patch","delete"];new Set(r5);const oZ=["get",...r5];new Set(oZ);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nm(){return nm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nm.apply(this,arguments)}const NA=b.createContext(null),sZ=b.createContext(null),ju=b.createContext(null),J1=b.createContext(null),Nu=b.createContext({outlet:null,matches:[],isDataRoute:!1}),n5=b.createContext(null);function lZ(t,e){let{relative:r}=e===void 0?{}:e;mv()||Ur(!1);let{basename:n,navigator:a}=b.useContext(ju),{hash:i,pathname:o,search:s}=i5(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:Ml([n,o])),a.createHref({pathname:l,search:s,hash:i})}function mv(){return b.useContext(J1)!=null}function ah(){return mv()||Ur(!1),b.useContext(J1).location}function a5(t){b.useContext(ju).static||b.useLayoutEffect(t)}function ex(){let{isDataRoute:t}=b.useContext(Nu);return t?bZ():cZ()}function cZ(){mv()||Ur(!1);let t=b.useContext(NA),{basename:e,future:r,navigator:n}=b.useContext(ju),{matches:a}=b.useContext(Nu),{pathname:i}=ah(),o=JSON.stringify(e5(a,r.v7_relativeSplatPath)),s=b.useRef(!1);return a5(()=>{s.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!s.current)return;if(typeof u=="number"){n.go(u);return}let f=t5(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ml([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,o,i,t])}function i5(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=b.useContext(ju),{matches:a}=b.useContext(Nu),{pathname:i}=ah(),o=JSON.stringify(e5(a,n.v7_relativeSplatPath));return b.useMemo(()=>t5(t,JSON.parse(o),i,r==="path"),[t,o,i,r])}function uZ(t,e){return dZ(t,e)}function dZ(t,e,r,n){mv()||Ur(!1);let{navigator:a}=b.useContext(ju),{matches:i}=b.useContext(Nu),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=ah(),d;if(e){var f;let g=typeof e=="string"?nh(e):e;l==="/"||(f=g.pathname)!=null&&f.startsWith(l)||Ur(!1),d=g}else d=u;let h=d.pathname||"/",p=h;if(l!=="/"){let g=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(g.length).join("/")}let v=FY(t,{pathname:p}),m=vZ(v&&v.map(g=>Object.assign({},g,{params:Object.assign({},s,g.params),pathname:Ml([l,a.encodeLocation?a.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?l:Ml([l,a.encodeLocation?a.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r,n);return e&&m?b.createElement(J1.Provider,{value:{location:nm({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Cl.Pop}},m):m}function fZ(){let t=wZ(),e=iZ(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),r?b.createElement("pre",{style:a},r):null,null)}const hZ=b.createElement(fZ,null);class pZ extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?b.createElement(Nu.Provider,{value:this.props.routeContext},b.createElement(n5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mZ(t){let{routeContext:e,match:r,children:n}=t,a=b.useContext(NA);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(Nu.Provider,{value:e},n)}function vZ(t,e,r,n){var a;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,s=(a=r)==null?void 0:a.errors;if(s!=null){let d=o.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);d>=0||Ur(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,v=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||v){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let p,v=!1,m=null,g=null;r&&(p=s&&f.route.id?s[f.route.id]:void 0,m=f.route.errorElement||hZ,l&&(u<0&&h===0?(v=!0,g=null):u===h&&(v=!0,g=f.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,h+1)),y=()=>{let w;return p?w=m:v?w=g:f.route.Component?w=b.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,b.createElement(mZ,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?b.createElement(pZ,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var o5=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(o5||{}),H0=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(H0||{});function gZ(t){let e=b.useContext(NA);return e||Ur(!1),e}function yZ(t){let e=b.useContext(sZ);return e||Ur(!1),e}function xZ(t){let e=b.useContext(Nu);return e||Ur(!1),e}function s5(t){let e=xZ(),r=e.matches[e.matches.length-1];return r.route.id||Ur(!1),r.route.id}function wZ(){var t;let e=b.useContext(n5),r=yZ(H0.UseRouteError),n=s5(H0.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function bZ(){let{router:t}=gZ(o5.UseNavigateStable),e=s5(H0.UseNavigateStable),r=b.useRef(!1);return a5(()=>{r.current=!0}),b.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,nm({fromRouteId:e},i)))},[t,e])}function _Z(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function oa(t){Ur(!1)}function SZ(t){let{basename:e="/",children:r=null,location:n,navigationType:a=Cl.Pop,navigator:i,static:o=!1,future:s}=t;mv()&&Ur(!1);let l=e.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:l,navigator:i,static:o,future:nm({v7_relativeSplatPath:!1},s)}),[l,s,i,o]);typeof n=="string"&&(n=nh(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:v="default"}=n,m=b.useMemo(()=>{let g=jA(d,l);return g==null?null:{location:{pathname:g,search:f,hash:h,state:p,key:v},navigationType:a}},[l,d,f,h,p,v,a]);return m==null?null:b.createElement(ju.Provider,{value:u},b.createElement(J1.Provider,{children:r,value:m}))}function CZ(t){let{children:e,location:r}=t;return uZ(U2(e),r)}new Promise(()=>{});function U2(t,e){e===void 0&&(e=[]);let r=[];return b.Children.forEach(t,(n,a)=>{if(!b.isValidElement(n))return;let i=[...e,a];if(n.type===b.Fragment){r.push.apply(r,U2(n.props.children,i));return}n.type!==oa&&Ur(!1),!n.props.index||!n.props.children||Ur(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=U2(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function V2(){return V2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},V2.apply(this,arguments)}function EZ(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function AZ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function jZ(t,e){return t.button===0&&(!e||e==="_self")&&!AZ(t)}const NZ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],OZ="6";try{window.__reactRouterVersion=OZ}catch{}const TZ="startTransition",MT=cE[TZ];function PZ(t){let{basename:e,children:r,future:n,window:a}=t,i=b.useRef();i.current==null&&(i.current=MY({window:a,v5Compat:!0}));let o=i.current,[s,l]=b.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=b.useCallback(f=>{u&&MT?MT(()=>l(f)):l(f)},[l,u]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.useEffect(()=>_Z(n),[n]),b.createElement(SZ,{basename:e,children:r,location:s.location,navigationType:s.action,navigator:o,future:n})}const kZ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",IZ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ub=b.forwardRef(function(e,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:s,target:l,to:u,preventScrollReset:d,viewTransition:f}=e,h=EZ(e,NZ),{basename:p}=b.useContext(ju),v,m=!1;if(typeof u=="string"&&IZ.test(u)&&(v=u,kZ))try{let w=new URL(window.location.href),_=u.startsWith("//")?new URL(w.protocol+u):new URL(u),S=jA(_.pathname,p);_.origin===w.origin&&S!=null?u=S+_.search+_.hash:m=!0}catch{}let g=lZ(u,{relative:a}),x=RZ(u,{replace:o,state:s,target:l,preventScrollReset:d,relative:a,viewTransition:f});function y(w){n&&n(w),w.defaultPrevented||x(w)}return b.createElement("a",V2({},h,{href:v||g,onClick:m||i?n:y,ref:r,target:l}))});var $T;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})($T||($T={}));var LT;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(LT||(LT={}));function RZ(t,e){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:s}=e===void 0?{}:e,l=ex(),u=ah(),d=i5(t,{relative:o});return b.useCallback(f=>{if(jZ(f,r)){f.preventDefault();let h=n!==void 0?n:z0(u)===z0(d);l(t,{replace:h,state:a,preventScrollReset:i,relative:o,viewTransition:s})}},[u,l,d,n,a,r,t,i,o,s])}var Co=function(){return Co=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Co.apply(this,arguments)};function ih(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function DZ(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(s,l)}u((n=n.apply(t,e||[])).next())})}function MZ(t,e,r){if(r||arguments.length===2)for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}const $Z=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class OA extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class LZ extends OA{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class FT extends OA{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class BT extends OA{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var W2;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(W2||(W2={}));class FZ{constructor(e,{headers:r={},customFetch:n,region:a=W2.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=$Z(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return DZ(this,arguments,void 0,function*(r,n={}){var a;let i,o;try{const{headers:s,method:l,body:u,signal:d,timeout:f}=n;let h={},{region:p}=n;p||(p=this.region);const v=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,v.searchParams.set("forceFunctionRegion",p));let m;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=u):typeof u=="string"?(h["Content-Type"]="text/plain",m=u):typeof FormData<"u"&&u instanceof FormData?m=u:(h["Content-Type"]="application/json",m=JSON.stringify(u)):m=u;let g=d;f&&(o=new AbortController,i=setTimeout(()=>o.abort(),f),d?(g=o.signal,d.addEventListener("abort",()=>o.abort())):g=o.signal);const x=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:m,signal:g}).catch(S=>{throw new LZ(S)}),y=x.headers.get("x-relay-error");if(y&&y==="true")throw new FT(x);if(!x.ok)throw new BT(x);let w=((a=x.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),_;return w==="application/json"?_=yield x.json():w==="application/octet-stream"||w==="application/pdf"?_=yield x.blob():w==="text/event-stream"?_=x:w==="multipart/form-data"?_=yield x.formData():_=yield x.text(),{data:_,error:null,response:x}}catch(s){return{data:null,error:s,response:s instanceof BT||s instanceof FT?s.context:void 0}}finally{i&&clearTimeout(i)}})}}var BZ=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},UZ=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,s=null,l=null,u=i.status,d=i.statusText;if(i.ok){var f,h;if(r.method!=="HEAD"){var p;const x=await i.text();x===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?s=x:s=JSON.parse(x))}const m=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),g=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");m&&g&&g.length>1&&(l=parseInt(g[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(s)&&(s.length>1?(o={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,l=null,u=406,d="Not Acceptable"):s.length===1?s=s[0]:s=null)}else{var v;const m=await i.text();try{o=JSON.parse(m),Array.isArray(o)&&i.status===404&&(s=[],o=null,u=200,d="OK")}catch{i.status===404&&m===""?(u=204,d="No Content"):o={message:m}}if(o&&r.isMaybeSingle&&(!(o==null||(v=o.details)===null||v===void 0)&&v.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&r.shouldThrowOnError)throw new BZ(o)}return{error:o,data:s,count:l,status:u,statusText:d}});return this.shouldThrowOnError||(a=a.catch(i=>{var o;let s="";const l=i==null?void 0:i.cause;if(l){var u,d,f,h;const v=(u=l==null?void 0:l.message)!==null&&u!==void 0?u:"",m=(d=l==null?void 0:l.code)!==null&&d!==void 0?d:"";s=`${(f=i==null?void 0:i.name)!==null&&f!==void 0?f:"FetchError"}: ${i==null?void 0:i.message}`,s+=`

Caused by: ${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"Error"}: ${v}`,m&&(s+=` (${m})`),l!=null&&l.stack&&(s+=`
${l.stack}`)}else{var p;s=(p=i==null?void 0:i.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:s,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(t,e)}returns(){return this}overrideTypes(){return this}},VZ=class extends UZ{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const i=a?`${a}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(i,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:i="text"}={}){var o;const s=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${s};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const UT=new RegExp("[,()]");var ed=class extends VZ{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&UT.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&UT.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${a}fts${i}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},WZ=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}select(t,e){const{head:r=!1,count:n}=e??{},a=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(s=>/\s/.test(s)&&!i?"":(s==='"'&&(i=!i),s)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new ed({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const a="POST";if(e&&this.headers.append("Prefer",`count=${e}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const i=t.reduce((o,s)=>o.concat(Object.keys(s)),[]);if(i.length>0){const o=[...new Set(i)].map(s=>`"${s}"`);this.url.searchParams.set("columns",o.join(","))}}return new ed({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var i;const o="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),n&&this.headers.append("Prefer",`count=${n}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const s=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(s.length>0){const l=[...new Set(s)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new ed({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:e}={}){var r;const n="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new ed({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new ed({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},zZ=class l5{constructor(e,{headers:r={},schema:n,fetch:a}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new WZ(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new l5(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:a=!1,count:i}={}){var o;let s;const l=new URL(`${this.url}/rpc/${e}`);let u;n||a?(s=n?"HEAD":"GET",Object.entries(r).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{l.searchParams.append(f,h)})):(s="POST",u=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new ed({method:s,url:l,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class HZ{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const qZ="2.89.0",GZ=`realtime-js/${qZ}`,c5="1.0.0",KZ="2.0.0",VT=c5,z2=1e4,XZ=1e3,YZ=100;var il;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(il||(il={}));var qr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(qr||(qr={}));var Hi;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Hi||(Hi={}));var H2;(function(t){t.websocket="websocket"})(H2||(H2={}));var jc;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(jc||(jc={}));class ZZ{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const a=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var r,n;const a=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,r,n){var a,i;const o=e.topic,s=(a=e.ref)!==null&&a!==void 0?a:"",l=(i=e.join_ref)!==null&&i!==void 0?i:"",u=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+o.length+u.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let v=new DataView(p),m=0;v.setUint8(m++,this.KINDS.userBroadcastPush),v.setUint8(m++,l.length),v.setUint8(m++,s.length),v.setUint8(m++,o.length),v.setUint8(m++,u.length),v.setUint8(m++,f.length),v.setUint8(m++,r),Array.from(l,x=>v.setUint8(m++,x.charCodeAt(0))),Array.from(s,x=>v.setUint8(m++,x.charCodeAt(0))),Array.from(o,x=>v.setUint8(m++,x.charCodeAt(0))),Array.from(u,x=>v.setUint8(m++,x.charCodeAt(0))),Array.from(f,x=>v.setUint8(m++,x.charCodeAt(0)));var g=new Uint8Array(p.byteLength+n.byteLength);return g.set(new Uint8Array(p),0),g.set(new Uint8Array(n),p.byteLength),g.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[a,i,o,s,l]=n;return r({join_ref:a,ref:i,topic:o,event:s,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,a)}}_decodeUserBroadcast(e,r,n){const a=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),s=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(e.slice(l,l+a));l=l+a;const d=n.decode(e.slice(l,l+i));l=l+i;const f=n.decode(e.slice(l,l+o));l=l+o;const h=e.slice(l,e.byteLength),p=s===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,v={type:this.BROADCAST_EVENT,event:d,payload:p};return o>0&&(v.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class u5{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Yt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Yt||(Yt={}));const WT=(t,e,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=QZ(o,t,e,a),i),{}):{}},QZ=(t,e,r,n)=>{const a=e.find(s=>s.name===t),i=a==null?void 0:a.type,o=r[t];return i&&!n.includes(i)?d5(i,o):q2(o)},d5=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return rQ(e,r)}switch(t){case Yt.bool:return JZ(e);case Yt.float4:case Yt.float8:case Yt.int2:case Yt.int4:case Yt.int8:case Yt.numeric:case Yt.oid:return eQ(e);case Yt.json:case Yt.jsonb:return tQ(e);case Yt.timestamp:return nQ(e);case Yt.abstime:case Yt.date:case Yt.daterange:case Yt.int4range:case Yt.int8range:case Yt.money:case Yt.reltime:case Yt.text:case Yt.time:case Yt.timestamptz:case Yt.timetz:case Yt.tsrange:case Yt.tstzrange:return q2(e);default:return q2(e)}},q2=t=>t,JZ=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},eQ=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},tQ=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},rQ=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(s=>d5(e,s))}return t},nQ=t=>typeof t=="string"?t.replace(" ","T"):t,f5=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class db{constructor(e,r,n={},a=z2){this.channel=e,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var zT;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(zT||(zT={}));class _p{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_p.syncState(this.state,a,i,o),this.pendingDiffs.forEach(l=>{this.state=_p.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],s()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=_p.syncDiff(this.state,a,i,o),s())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,a){const i=this.cloneDeep(e),o=this.transformState(r),s={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(g=>g.presence_ref),p=f.map(g=>g.presence_ref),v=d.filter(g=>p.indexOf(g.presence_ref)<0),m=f.filter(g=>h.indexOf(g.presence_ref)<0);v.length>0&&(s[u]=v),m.length>0&&(l[u]=m)}else s[u]=d}),this.syncDiff(i,{joins:s,leaves:l},n,a)}static syncDiff(e,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(s,l)=>{var u;const d=(u=e[s])!==null&&u!==void 0?u:[];if(e[s]=this.cloneDeep(l),d.length>0){const f=e[s].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);e[s].unshift(...h)}n(s,d,l)}),this.map(o,(s,l)=>{let u=e[s];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[s]=u,a(s,u,l),u.length===0&&delete e[s]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const a=e[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var HT;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(HT||(HT={}));var Sp;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Sp||(Sp={}));var cs;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(cs||(cs={}));class gd{constructor(e,r={config:{}},n){var a,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=qr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new db(this,Hi.join,this.params,this.timeout),this.rejoinTimer=new u5(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qr.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=qr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=qr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Hi.reply,{},(o,s)=>{this._trigger(this._replyEventName(s),o)}),this.presence=new _p(this),this.broadcastEndpointURL=f5(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==qr.closed){const{config:{broadcast:o,presence:s,private:l}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[Sp.PRESENCE]&&this.bindings[Sp.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(cs.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(cs.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){e==null||e(cs.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,g=(v=m==null?void 0:m.length)!==null&&v!==void 0?v:0,x=[];for(let y=0;y<g;y++){const w=m[y],{filter:{event:_,schema:S,table:C,filter:E}}=w,A=p&&p[y];if(A&&A.event===_&&gd.isFilterValueEqual(A.schema,S)&&gd.isFilterValueEqual(A.table,C)&&gd.isFilterValueEqual(A.filter,E))x.push(Object.assign(Object.assign({},w),{id:A.id}));else{this.unsubscribe(),this.state=qr.errored,e==null||e(cs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(cs.SUBSCRIBED);return}}).receive("error",p=>{this.state=qr.errored,e==null||e(cs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(cs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===qr.joined&&e===Sp.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const u=await s.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,s,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=qr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Hi.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new db(this,Hi.leave,{},e),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=qr.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new db(this,e,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>YZ){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var a,i;const o=e.toLocaleLowerCase(),{close:s,error:l,leave:u,join:d}=Hi;if(n&&[s,l,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var v,m,g;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((g=(m=p.filter)===null||m===void 0?void 0:m.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var v,m,g,x,y,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const _=p.id,S=(v=p.filter)===null||v===void 0?void 0:v.event;return _&&((m=r.ids)===null||m===void 0?void 0:m.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const _=(y=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return _==="*"||_===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:m,table:g,commit_timestamp:x,type:y,errors:w}=v;h=Object.assign(Object.assign({},{schema:m,table:g,commit_timestamp:x,eventType:y,new:{},old:{},errors:w}),this._getPayloadRecords(v))}p.callback(h,n)})}_isClosed(){return this.state===qr.closed}_isJoined(){return this.state===qr.joined}_isJoining(){return this.state===qr.joining}_isLeaving(){return this.state===qr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const a=e.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&gd.isEqual(a.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Hi.close,{},e)}_onError(e){this._on(Hi.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=WT(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=WT(e.columns,e.old_record)),r}}const fb=()=>{},mg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},aQ=[1e3,2e3,5e3,1e4],iQ=1e4,oQ=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class sQ{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=z2,this.transport=null,this.heartbeatIntervalMs=mg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=fb,this.ref=0,this.reconnectTimer=null,this.vsn=VT,this.logger=fb,this.conn=null,this.sendBuffer=[],this.serializer=new ZZ,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${H2.websocket}`,this.httpEndpoint=f5(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=HZ.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case il.connecting:return jc.Connecting;case il.open:return jc.Open;case il.closing:return jc.Closing;default:return jc.Closed}}isConnected(){return this.connectionState()===jc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new gd(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:a,ref:i}=e,o=()=>{this.encode(e,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(XZ,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},mg.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,s=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${a} ${s}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===il.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===il.open||this.conn.readyState===il.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Hi.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${n}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([oQ],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const i={access_token:r,version:GZ};r&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(Hi.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new u5(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},mg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,a,i,o,s,l,u,d,f,h,p;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:z2,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:mg.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=e==null?void 0:e.heartbeatCallback)!==null&&s!==void 0?s:fb,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:VT,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:v=>aQ[v-1]||iQ,this.vsn){case c5:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(v,m)=>m(JSON.stringify(v)),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:(v,m)=>m(JSON.parse(v));break;case KZ:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var am=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function lQ(t,e,r){const n=new URL(e,t);if(r)for(const[a,i]of Object.entries(r))i!==void 0&&n.searchParams.set(a,i);return n.toString()}async function cQ(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function uQ(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:i,headers:o}){const s=lQ(t.baseUrl,n,a),l=await cQ(t.auth),u=await e(s,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const p=f?h:void 0,v=p==null?void 0:p.error;throw new am((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:p})}return{status:u.status,headers:u.headers,data:h}}}}function vg(t){return t.join("")}var dQ=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:vg(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${vg(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vg(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${vg(t.namespace)}`}),!0}catch(e){if(e instanceof am&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof am&&r.status===409)return;throw r}}};function Fu(t){return t.join("")}var fQ=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Fu(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Fu(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Fu(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Fu(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Fu(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Fu(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof am&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof am&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},hQ=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=uQ({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new dQ(this.client,e),this.tableOps=new fQ(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},tx=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function wr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var pQ=class extends tx{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},G2=class extends tx{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const TA=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),mQ=()=>Response,K2=t=>{if(Array.isArray(t))return t.map(r=>K2(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[a]=K2(n)}),e},vQ=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},gQ=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function im(t){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},im(t)}function yQ(t,e){if(im(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xQ(t){var e=yQ(t,"string");return im(e)=="symbol"?e:e+""}function wQ(t,e,r){return(e=xQ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function He(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qT(Object(r),!0).forEach(function(n){wQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const hb=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},bQ=async(t,e,r)=>{t instanceof await mQ()&&!(r!=null&&r.noResolveJson)?t.json().then(n=>{const a=t.status||500,i=(n==null?void 0:n.statusCode)||a+"";e(new pQ(hb(n),a,i))}).catch(n=>{e(new G2(hb(n),n))}):e(new G2(hb(t),t))},_Q=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?a:(vQ(n)?(a.headers=He({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(n)):a.body=n,e!=null&&e.duplex&&(a.duplex=e.duplex),He(He({},a),r))};async function vv(t,e,r,n,a,i){return new Promise((o,s)=>{t(r,_Q(e,n,a,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>bQ(l,s,n))})}async function om(t,e,r,n){return vv(t,"GET",e,r,n)}async function Bi(t,e,r,n,a){return vv(t,"POST",e,n,a,r)}async function X2(t,e,r,n,a){return vv(t,"PUT",e,n,a,r)}async function SQ(t,e,r,n){return vv(t,"HEAD",e,He(He({},r),{},{noResolveJson:!0}),n)}async function PA(t,e,r,n,a){return vv(t,"DELETE",e,n,a,r)}var CQ=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(wr(e))return{data:null,error:e};throw e}}};let h5;h5=Symbol.toStringTag;var EQ=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[h5]="BlobDownloadBuilder",this.promise=null}asStream(){return new CQ(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(wr(e))return{data:null,error:e};throw e}}};const AQ={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},GT={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var jQ=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=TA(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,r,n){var a=this;try{let i;const o=He(He({},GT),n);let s=He(He({},a.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",a.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",a.encodeMetadata(l))):(i=r,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,l&&(s["x-metadata"]=a.toBase64(a.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(s=He(He({},s),n.headers));const u=a._removeEmptyFolders(e),d=a._getFinalPath(u),f=await(t=="PUT"?X2:Bi)(a.fetch,`${a.url}/object/${d}`,i,He({headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(wr(i))return{data:null,error:i};throw i}}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var a=this;const i=a._removeEmptyFolders(t),o=a._getFinalPath(i),s=new URL(a.url+`/object/upload/sign/${o}`);s.searchParams.set("token",e);try{let l;const u=He({upsert:GT.upsert},n),d=He(He({},a.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:i,fullPath:(await X2(a.fetch,s.toString(),l,{headers:d})).Key},error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(wr(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(t,e){var r=this;try{let n=r._getFinalPath(t);const a=He({},r.headers);e!=null&&e.upsert&&(a["x-upsert"]="true");const i=await Bi(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(r.url+i.url),s=o.searchParams.get("token");if(!s)throw new tx("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:s},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(wr(n))return{data:null,error:n};throw n}}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;try{return{data:await Bi(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(wr(a))return{data:null,error:a};throw a}}async copy(t,e,r){var n=this;try{return{data:{path:(await Bi(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(wr(a))return{data:null,error:a};throw a}}async createSignedUrl(t,e,r){var n=this;try{let a=n._getFinalPath(t),i=await Bi(n.fetch,`${n.url}/object/sign/${a}`,He({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(wr(a))return{data:null,error:a};throw a}}async createSignedUrls(t,e,r){var n=this;try{const a=await Bi(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(o=>He(He({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(wr(a))return{data:null,error:a};throw a}}download(t,e){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),a=n?`?${n}`:"",i=this._getFinalPath(t),o=()=>om(this.fetch,`${this.url}/${r}/${i}${a}`,{headers:this.headers,noResolveJson:!0});return new EQ(o,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);try{return{data:K2(await om(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(wr(n))return{data:null,error:n};throw n}}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await SQ(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(wr(n)&&n instanceof G2){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],a=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";a!==""&&n.push(a);const i=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});o!==""&&n.push(o);let s=n.join("&");return s!==""&&(s=`?${s}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${s}`)}}}async remove(t){var e=this;try{return{data:await PA(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(wr(r))return{data:null,error:r};throw r}}async list(t,e,r){var n=this;try{const a=He(He(He({},AQ),e),{},{prefix:t||""});return{data:await Bi(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(wr(a))return{data:null,error:a};throw a}}async listV2(t,e){var r=this;try{const n=He({},t);return{data:await Bi(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(wr(n))return{data:null,error:n};throw n}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const p5="2.89.0",m5={"X-Client-Info":`storage-js/${p5}`};var NQ=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1;const a=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=He(He({},m5),e),this.fetch=TA(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const r=e.listBucketOptionsToQueryString(t);return{data:await om(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(wr(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await om(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(wr(r))return{data:null,error:r};throw r}}async createBucket(t,e={public:!1}){var r=this;try{return{data:await Bi(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(wr(n))return{data:null,error:n};throw n}}async updateBucket(t,e){var r=this;try{return{data:await X2(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(wr(n))return{data:null,error:n};throw n}}async emptyBucket(t){var e=this;try{return{data:await Bi(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(wr(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await PA(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(wr(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},OQ=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=He(He({},m5),e),this.fetch=TA(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Bi(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(wr(r))return{data:null,error:r};throw r}}async listBuckets(t){var e=this;try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),a=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return{data:await om(e.fetch,a,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(wr(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await PA(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(wr(r))return{data:null,error:r};throw r}}from(t){var e=this;if(!gQ(t))throw new tx("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new hQ({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,i){const o=a[i];return typeof o!="function"?o:async(...s)=>{try{return{data:await o.apply(a,s),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}};const kA={"X-Client-Info":`storage-js/${p5}`,"Content-Type":"application/json"};var v5=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Pa(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var pb=class extends v5{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},TQ=class extends v5{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const IA=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),PQ=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},KT=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),kQ=async(t,e,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const n=t.status||500,a=t;if(typeof a.json=="function")a.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||n+"";e(new pb(KT(i),n,o))}).catch(()=>{const i=n+"";e(new pb(a.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";e(new pb(a.statusText||`HTTP ${n} error`,n,i))}}else e(new TQ(KT(t),t))},IQ=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(PQ(n)?(a.headers=He({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(n)):a.body=n,He(He({},a),r)):a};async function RQ(t,e,r,n,a,i){return new Promise((o,s)=>{t(r,IQ(e,n,a,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>kQ(l,s,n))})}async function ka(t,e,r,n,a){return RQ(t,"POST",e,n,a,r)}var DQ=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=He(He({},kA),e),this.fetch=IA(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await ka(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pa(r))return{data:null,error:r};throw r}}async getIndex(t,e){var r=this;try{return{data:await ka(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Pa(n))return{data:null,error:n};throw n}}async listIndexes(t){var e=this;try{return{data:await ka(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pa(r))return{data:null,error:r};throw r}}async deleteIndex(t,e){var r=this;try{return{data:await ka(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Pa(n))return{data:null,error:n};throw n}}},MQ=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=He(He({},kA),e),this.fetch=IA(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await ka(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pa(r))return{data:null,error:r};throw r}}async getVectors(t){var e=this;try{return{data:await ka(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pa(r))return{data:null,error:r};throw r}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await ka(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pa(r))return{data:null,error:r};throw r}}async queryVectors(t){var e=this;try{return{data:await ka(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pa(r))return{data:null,error:r};throw r}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await ka(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pa(r))return{data:null,error:r};throw r}}},$Q=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=He(He({},kA),e),this.fetch=IA(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await ka(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pa(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await ka(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pa(r))return{data:null,error:r};throw r}}async listBuckets(t={}){var e=this;try{return{data:await ka(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pa(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await ka(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pa(r))return{data:null,error:r};throw r}}},LQ=class extends $Q{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new FQ(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},FQ=class extends DQ{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,He(He({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,He(He({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new BQ(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},BQ=class extends MQ{constructor(t,e,r,n,a){super(t,e,a),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,He(He({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,He(He({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,He(He({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,He(He({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,He(He({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},UQ=class extends NQ{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new jQ(this.url,this.headers,t,this.fetch)}get vectors(){return new LQ(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new OQ(this.url+"/iceberg",this.headers,this.fetch)}};const g5="2.89.0",td=30*1e3,Y2=3,mb=Y2*td,VQ="http://localhost:9999",WQ="supabase.auth.token",zQ={"X-Client-Info":`gotrue-js/${g5}`},Z2="X-Supabase-Api-Version",y5={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},HQ=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,qQ=10*60*1e3;class sm extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function De(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class GQ extends sm{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function KQ(t){return De(t)&&t.name==="AuthApiError"}class Nc extends sm{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Bs extends sm{constructor(e,r,n,a){super(e,n,a),this.name=r,this.status=n}}class Sa extends Bs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function XQ(t){return De(t)&&t.name==="AuthSessionMissingError"}class Bu extends Bs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class gg extends Bs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class yg extends Bs{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function YQ(t){return De(t)&&t.name==="AuthImplicitGrantRedirectError"}class XT extends Bs{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ZQ extends Bs{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Q2 extends Bs{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function vb(t){return De(t)&&t.name==="AuthRetryableFetchError"}class YT extends Bs{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class J2 extends Bs{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const q0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ZT=` 	
\r=`.split(""),QQ=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<ZT.length;e+=1)t[ZT[e].charCodeAt(0)]=-2;for(let e=0;e<q0.length;e+=1)t[q0[e].charCodeAt(0)]=e;return t})();function QT(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(q0[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(q0[n]),e.queuedBits-=6}}function x5(t,e,r){const n=QQ[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function JT(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{tJ(o,n,r)};for(let o=0;o<t.length;o+=1)x5(t.charCodeAt(o),a,i);return e.join("")}function JQ(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function eJ(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}JQ(n,e)}}function tJ(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Dd(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)x5(t.charCodeAt(a),r,n);return new Uint8Array(e)}function rJ(t){const e=[];return eJ(t,r=>e.push(r)),new Uint8Array(e)}function Ic(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};return t.forEach(a=>QT(a,r,n)),QT(null,r,n),e.join("")}function nJ(t){return Math.round(Date.now()/1e3)+t}function aJ(){return Symbol("auth-callback")}const wn=()=>typeof window<"u"&&typeof document<"u",fc={tested:!1,writable:!1},w5=()=>{if(!wn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(fc.tested)return fc.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),fc.tested=!0,fc.writable=!0}catch{fc.tested=!0,fc.writable=!1}return fc.writable};function iJ(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{e[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{e[a]=n}),e}const b5=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),oJ=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",rd=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},hc=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},xn=async(t,e)=>{await t.removeItem(e)};class rx{constructor(){this.promise=new rx.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}rx.promiseConstructor=Promise;function gb(t){const e=t.split(".");if(e.length!==3)throw new J2("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!HQ.test(e[n]))throw new J2("JWT not in base64url format");return{header:JSON.parse(JT(e[0])),payload:JSON.parse(JT(e[1])),signature:Dd(e[2]),raw:{header:e[0],payload:e[1]}}}async function sJ(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function lJ(t,e){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){a(o);return}}})()})}function cJ(t){return("0"+t.toString(16)).substr(-2)}function uJ(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,cJ).join("")}async function dJ(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function fJ(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await dJ(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Uu(t,e,r=!1){const n=uJ();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await rd(t,`${e}-code-verifier`,a);const i=await fJ(n);return[i,n===i?"plain":"s256"]}const hJ=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function pJ(t){const e=t.headers.get(Z2);if(!e||!e.match(hJ))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function mJ(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function vJ(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const gJ=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Vu(t){if(!gJ.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function yb(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function yJ(t,e){return new Proxy(t,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,a)}})}function eP(t){return JSON.parse(JSON.stringify(t))}const bc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),xJ=[502,503,504];async function tP(t){var e;if(!oJ(t))throw new Q2(bc(t),0);if(xJ.includes(t.status))throw new Q2(bc(t),t.status);let r;try{r=await t.json()}catch(i){throw new Nc(bc(i),i)}let n;const a=pJ(t);if(a&&a.getTime()>=y5["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new YT(bc(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Sa}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new YT(bc(r),t.status,r.weak_password.reasons);throw new GQ(bc(r),t.status||500,n)}const wJ=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function ze(t,e,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[Z2]||(i[Z2]=y5["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await bJ(t,e,r+s,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function bJ(t,e,r,n,a,i){const o=wJ(e,n,a,i);let s;try{s=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new Q2(bc(l),0)}if(s.ok||await tP(s),n!=null&&n.noResolveJson)return s;try{return await s.json()}catch(l){await tP(l)}}function Mi(t){var e;let r=null;CJ(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=nJ(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function rP(t){const e=Mi(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function dl(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function _J(t){return{data:t,error:null}}function SJ(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=t,o=ih(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},l=Object.assign({},o);return{data:{properties:s,user:l},error:null}}function nP(t){return t}function CJ(t){return t.access_token&&t.refresh_token&&t.expires_in}const xb=["global","local","others"];class EJ{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=b5(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=xb[0]){if(xb.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${xb.join(", ")}`);try{return await ze(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(De(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await ze(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:dl})}catch(n){if(De(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=ih(e,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await ze(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:SJ,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(De(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ze(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:dl})}catch(r){if(De(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,a,i,o,s,l;try{const u={nextPage:null,lastPage:0,total:0},d=await ze(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:nP});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(v.split(";")[1].split("=")[1]);u[`${g}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(De(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Vu(e);try{return await ze(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:dl})}catch(r){if(De(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Vu(e);try{return await ze(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:dl})}catch(n){if(De(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Vu(e);try{return await ze(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:dl})}catch(n){if(De(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Vu(e.userId);try{const{data:r,error:n}=await ze(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(De(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Vu(e.userId),Vu(e.id);try{return{data:await ze(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,a,i,o,s,l;try{const u={nextPage:null,lastPage:0,total:0},d=await ze(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:nP});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(v.split(";")[1].split("=")[1]);u[`${g}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(De(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await ze(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(De(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await ze(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(De(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await ze(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(De(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await ze(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await ze(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(De(r))return{data:null,error:r};throw r}}}function aP(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Wu={debug:!!(globalThis&&w5()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _5 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class AJ extends _5{}async function jJ(t,e,r){Wu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Wu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Wu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{Wu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw Wu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new AJ(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Wu.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function NJ(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function S5(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function OJ(t){return parseInt(t,16)}function TJ(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function PJ(t){var e;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:s,requestId:l,resources:u,scheme:d,uri:f,version:h}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=S5(t.address),v=d?`${d}://${n}`:n,m=t.statement?`${t.statement}
`:"",g=`${v} wants you to sign in with your Ethereum account:
${p}

${m}`;let x=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(x+=`
Expiration Time: ${a.toISOString()}`),s&&(x+=`
Not Before: ${s.toISOString()}`),l&&(x+=`
Request ID: ${l}`),u){let y=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);y+=`
- ${w}`}x+=y}return`${g}
${x}`}class Lr extends Error{constructor({message:e,code:r,cause:n,name:a}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class G0 extends Lr{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function kJ({error:t,options:e}){var r,n,a;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Lr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Lr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Lr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Lr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Lr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Lr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new Lr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Lr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(C5(o)){if(i.rp.id!==o)return new Lr({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Lr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Lr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Lr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Lr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function IJ({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Lr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Lr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(C5(n)){if(r.rpId!==n)return new Lr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Lr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Lr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Lr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class RJ{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const DJ=new RJ;function MJ(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,a=ih(t,["challenge","user","excludeCredentials"]),i=Dd(e).buffer,o=Object.assign(Object.assign({},r),{id:Dd(r.id).buffer}),s=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){s.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];s.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Dd(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function $J(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=ih(t,["challenge","allowCredentials"]),a=Dd(e).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const s=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},s),{id:Dd(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return i}function LJ(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Ic(new Uint8Array(t.response.attestationObject)),clientDataJSON:Ic(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function FJ(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Ic(new Uint8Array(a.authenticatorData)),clientDataJSON:Ic(new Uint8Array(a.clientDataJSON)),signature:Ic(new Uint8Array(a.signature)),userHandle:a.userHandle?Ic(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function C5(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function iP(){var t,e;return!!(wn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function BJ(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new G0("Browser returned unexpected credential type",e)}:{data:null,error:new G0("Empty credential response",e)}}catch(e){return{data:null,error:kJ({error:e,options:t})}}}async function UJ(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new G0("Browser returned unexpected credential type",e)}:{data:null,error:new G0("Empty credential response",e)}}catch(e){return{data:null,error:IJ({error:e,options:t})}}}const VJ={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},WJ={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function K0(...t){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of t)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(e(o)){const s=n[i];e(s)?n[i]=K0(s,o):n[i]=K0(o)}else n[i]=o}return n}function zJ(t,e){return K0(VJ,t,e||{})}function HJ(t,e){return K0(WJ,t,e||{})}class qJ{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:s}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:s};const l=a??DJ.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=zJ(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await BJ({publicKey:u,signal:l});return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=HJ(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await UJ(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return De(o)?{data:null,error:o}:{data:null,error:new Nc("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new sm("rpId is required for WebAuthn authentication")};try{if(!iP())return{data:null,error:new Nc("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:s};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return De(o)?{data:null,error:o}:{data:null,error:new Nc("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new sm("rpId is required for WebAuthn registration")};try{if(!iP())return{data:null,error:new Nc("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:s};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return De(o)?{data:null,error:o}:{data:null,error:new Nc("Unexpected error in register",o)}}}}NJ();const GJ={url:VQ,storageKey:WQ,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:zQ,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function oP(t,e,r){return await r()}const zu={};class lm{get jwks(){var e,r;return(r=(e=zu[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){zu[this.storageKey]=Object.assign(Object.assign({},zu[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=zu[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){zu[this.storageKey]=Object.assign(Object.assign({},zu[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},GJ),e);if(this.storageKey=i.storageKey,this.instanceID=(r=lm.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,lm.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&wn()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new EJ({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=b5(i.fetch),this.lock=i.lock||oP,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&wn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=jJ:this.lock=oP,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new qJ(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:w5()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=aP(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=aP(this.memoryStorage)),wn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${g5}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(wn()&&(r=iJ(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),wn()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),YQ(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:s}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return De(r)?this._returnResult({error:r}):this._returnResult({error:new Nc("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,a;try{const i=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:Mi}),{data:o,error:s}=i;if(s||!o)return this._returnResult({data:{user:null,session:null},error:s});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(De(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,a;try{let i;if("email"in e){const{email:d,password:f,options:h}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await Uu(this.storage,this.storageKey)),i=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:v},xform:Mi})}else if("phone"in e){const{phone:d,password:f,options:h}=e;i=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Mi})}else throw new gg("You must provide either an email or phone number and a password");const{data:o,error:s}=i;if(s||!o)return await xn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await xn(this.storage,`${this.storageKey}-code-verifier`),De(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:s}=e;r=await ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:rP})}else if("phone"in e){const{phone:i,password:o,options:s}=e;r=await ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:rP})}else throw new gg("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new Bu;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(De(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,a,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,a,i,o,s,l,u,d,f,h;let p,v;if("message"in e)p=e.message,v=e.signature;else{const{chain:m,wallet:g,statement:x,options:y}=e;let w;if(wn())if(typeof g=="object")w=g;else{const j=window;if("ethereum"in j&&typeof j.ethereum=="object"&&"request"in j.ethereum&&typeof j.ethereum.request=="function")w=j.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=g}const _=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href),S=await w.request({method:"eth_requestAccounts"}).then(j=>j).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=S5(S[0]);let E=(n=y==null?void 0:y.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const j=await w.request({method:"eth_chainId"});E=OJ(j)}const A={domain:_.host,address:C,statement:x,uri:_.href,version:"1",chainId:E,nonce:(a=y==null?void 0:y.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=y==null?void 0:y.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=PJ(A),v=await w.request({method:"personal_sign",params:[TJ(p),C]})}try{const{data:m,error:g}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:v},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Mi});if(g)throw g;if(!m||!m.session||!m.user){const x=new Bu;return this._returnResult({data:{user:null,session:null},error:x})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:g})}catch(m){if(De(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(e){var r,n,a,i,o,s,l,u,d,f,h,p;let v,m;if("message"in e)v=e.message,m=e.signature;else{const{chain:g,wallet:x,statement:y,options:w}=e;let _;if(wn())if(typeof x=="object")_=x;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))_=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const S=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const C=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),y?{statement:y}:null));let E;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")E=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)E=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)v=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),m=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(a=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const C=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=C}}try{const{data:g,error:x}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Ic(m)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Mi});if(x)throw x;if(!g||!g.session||!g.user){const y=new Bu;return this._returnResult({data:{user:null,session:null},error:y})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:x})}catch(g){if(De(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async _exchangeCodeForSession(e){const r=await hc(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new ZQ;const{data:i,error:o}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Mi});if(await xn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const s=new Bu;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(await xn(this.storage,`${this.storageKey}-code-verifier`),De(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=e,s=await ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Mi}),{data:l,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const d=new Bu;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(De(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,a,i,o;try{if("email"in e){const{email:s,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Uu(this.storage,this.storageKey));const{error:f}=await ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){const{phone:s,options:l}=e,{data:u,error:d}=await ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(a=l==null?void 0:l.data)!==null&&a!==void 0?a:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new gg("You must provide either an email or phone number.")}catch(s){if(await xn(this.storage,`${this.storageKey}-code-verifier`),De(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(e){var r,n;try{let a,i;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:s}=await ze(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Mi});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(a){if(De(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var r,n,a,i,o;try{let s=null,l=null;this.flowType==="pkce"&&([s,l]=await Uu(this.storage,this.storageKey));const u=await ze(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:_J});return!((i=u.data)===null||i===void 0)&&i.url&&wn()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(s){if(await xn(this.storage,`${this.storageKey}-code-verifier`),De(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Sa;const{error:a}=await ze(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(De(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:i}=e,{error:o}=await ze(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:a,options:i}=e,{data:o,error:s}=await ze(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s})}throw new gg("You must provide either an email or phone number and a type")}catch(r){if(De(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await hc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<mb:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await hc(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=yb()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=yJ(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:dl}):await this._useSession(async r=>{var n,a,i;const{data:o,error:s}=r;if(s)throw s;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Sa}:await ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:dl})})}catch(r){if(De(r))return XQ(r)&&(await this._removeSession(),await xn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Sa;const o=a.session;let s=null,l=null;this.flowType==="pkce"&&e.email!=null&&([s,l]=await Uu(this.storage,this.storageKey));const{data:u,error:d}=await ze(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:l}),jwt:o.access_token,xform:dl});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await xn(this.storage,`${this.storageKey}-code-verifier`),De(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Sa;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=gb(e.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:s,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};i=s}else{const{data:s,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(De(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:s}=r;if(s)throw s;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Sa;const{data:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(De(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!wn())throw new yg("No browser detected.");if(e.error||e.error_description||e.error_code)throw new yg(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new XT("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new yg("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new XT("No code detected.");const{data:y,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:s,expires_at:l,token_type:u}=e;if(!i||!s||!o||!u)throw new yg("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(s);let h=d+f;l&&(h=parseInt(l));const p=h-d;p*1e3<=td&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const v=h-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,d);const{data:m,error:g}=await this._getUser(i);if(g)throw g;const x={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:x,redirectType:e.type},error:null})}catch(n){if(De(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await hc(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:s}=await this.admin.signOut(o,e);if(s&&!(KQ(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return e!=="others"&&(await this._removeSession(),await xn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=aJ(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Uu(this.storage,this.storageKey,!0));try{return await ze(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await xn(this.storage,`${this.storageKey}-code-verifier`),De(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,s,l,u,d;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ze(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return wn()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(De(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:s,token:l,access_token:u,nonce:d}=e,f=await ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:s,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Mi}),{data:h,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Bu}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(a){if(await xn(this.storage,`${this.storageKey}-code-verifier`),De(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await ze(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await lJ(async a=>(a>0&&await sJ(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await ze(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Mi})),(a,i)=>{const o=200*Math.pow(2,a);return i&&vb(i)&&Date.now()+o-n<td})}catch(n){if(this._debug(r,"error",n),De(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),wn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await hc(this.storage,this.storageKey);if(a&&this.userStorage){let o=await hc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await rd(this.userStorage,this.storageKey+"-user",o)),a.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:yb()}else if(a&&!a.user&&!a.user){const o=await hc(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await xn(this.storage,this.storageKey+"-user"),await rd(this.storage,this.storageKey,a)):a.user=yb()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<mb;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${mb}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),vb(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(a.access_token);!s&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Sa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new rx;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Sa;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const s={data:i.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(i){if(this._debug(a,"error",i),De(i)){const o={data:null,error:i};return vb(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let s=0;s<i.length;s+=1)console.error(i[s]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await xn(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await rd(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=eP(a);await rd(this.storage,this.storageKey,i)}else{const a=eP(r);await rd(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await xn(this.storage,this.storageKey),await xn(this.storage,this.storageKey+"-code-verifier"),await xn(this.storage,this.storageKey+"-user"),this.userStorage&&await xn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&wn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),td);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/td);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${td}ms, refresh threshold is ${Y2} ticks`),a<=Y2&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof _5)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!wn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Uu(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(s.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await ze(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await ze(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((a=l==null?void 0:l.totp)===null||a===void 0)&&a.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?LJ(e.webauthn.credential_response):FJ(e.webauthn.credential_response)})}:{code:e.code}),{data:s,error:l}=await ze(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await ze(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:s}=o;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:MJ(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:$J(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=gb(n.access_token);let o=null;i.aal&&(o=i.aal);let s=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(s="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:s,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await ze(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Sa})})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new Sa});const o=await ze(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&wn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(De(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new Sa});const o=await ze(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&wn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(De(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await ze(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Sa})})}catch(e){if(De(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await ze(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Sa})})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(s=>s.kid===e);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(s=>s.kid===e),n&&this.jwks_cached_at+qQ>a)return n;const{data:i,error:o}=await ze(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(s=>s.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:p,error:v}=await this.getSession();if(v||!p.session)return this._returnResult({data:null,error:v});n=p.session.access_token}const{header:a,payload:i,signature:o,raw:{header:s,payload:l}}=gb(n);r!=null&&r.allowExpired||mJ(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:a,signature:o},error:null}}const d=vJ(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,rJ(`${s}.${l}`)))throw new J2("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(De(n))return this._returnResult({data:null,error:n});throw n}}}lm.nextInstanceID={};const KJ=lm,XJ="2.89.0";let ap="";typeof Deno<"u"?ap="deno":typeof document<"u"?ap="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ap="react-native":ap="node";const YJ={"X-Client-Info":`supabase-js-${ap}/${XJ}`},ZJ={headers:YJ},QJ={schema:"public"},JJ={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},eee={};function cm(t){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cm(t)}function tee(t,e){if(cm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ree(t){var e=tee(t,"string");return cm(e)=="symbol"?e:e+""}function nee(t,e,r){return(e=ree(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Er(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sP(Object(r),!0).forEach(function(n){nee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const aee=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),iee=()=>Headers,oee=(t,e,r)=>{const n=aee(r),a=iee();return async(i,o)=>{var s;const l=(s=await e())!==null&&s!==void 0?s:t;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Er(Er({},o),{},{headers:u}))}};function see(t){return t.endsWith("/")?t:t+"/"}function lee(t,e){var r,n;const{db:a,auth:i,realtime:o,global:s}=t,{db:l,auth:u,realtime:d,global:f}=e,h={db:Er(Er({},l),a),auth:Er(Er({},u),i),realtime:Er(Er({},d),o),storage:{},global:Er(Er(Er({},f),s),{},{headers:Er(Er({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=s==null?void 0:s.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function cee(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(see(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var uee=class extends KJ{constructor(t){super(t)}},dee=class{constructor(t,e,r){var n,a;this.supabaseUrl=t,this.supabaseKey=e;const i=cee(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,s={db:QJ,realtime:eee,auth:Er(Er({},JJ),{},{storageKey:o}),global:ZJ},l=lee(r??{},s);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=l.global.headers)!==null&&a!==void 0?a:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=oee(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Er({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new zZ(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new UQ(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new FZ(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:i,flowType:o,lock:s,debug:l,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new uee({url:this.authUrl.href,headers:Er(Er({},h),d),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:a,flowType:o,lock:s,debug:l,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new sQ(this.realtimeUrl.href,Er(Er({},t),{},{params:Er(Er({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const fee=(t,e,r)=>new dee(t,e,r);function hee(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}hee()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const pee="https://szburzfibchvdyxksokr.supabase.co",mee="sb_publishable_zti2zxT2mp4cVaEFhHzMeA_focEGt6N",le=fee(pee,mee,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}});function E5(){const[t,e]=b.useState(null),[r,n]=b.useState(null),[a,i]=b.useState(!0);return b.useEffect(()=>{const{data:{subscription:s}}=le.auth.onAuthStateChange((l,u)=>{n(u),e((u==null?void 0:u.user)??null),i(!1)});return le.auth.getSession().then(({data:{session:l}})=>{n(l),e((l==null?void 0:l.user)??null),i(!1)}),()=>s.unsubscribe()},[]),{user:t,session:r,loading:a,signOut:async()=>{await le.auth.signOut()}}}function Ii({children:t}){const{user:e,loading:r}=E5(),n=ex();return b.useEffect(()=>{!r&&!e&&n("/auth",{replace:!0})},[e,r,n]),r?c.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:c.jsxs("div",{className:"flex flex-col items-center gap-4",children:[c.jsx(Mn,{className:"h-8 w-8 animate-spin text-primary"}),c.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):e?c.jsx(c.Fragment,{children:t}):null}const um=cv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Y=b.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...a},i)=>{const o=n?hM:"button";return c.jsx(o,{className:fe(um({variant:e,size:r,className:t})),ref:i,...a})});Y.displayName="Button";const ye=b.forwardRef(({className:t,type:e,...r},n)=>c.jsx("input",{type:e,className:fe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));ye.displayName="Input";var vee="Label",A5=b.forwardRef((t,e)=>c.jsx(Ie.label,{...t,ref:e,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=t.onMouseDown)==null||a.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));A5.displayName=vee;var j5=A5;const gee=cv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Bt=b.forwardRef(({className:t,...e},r)=>c.jsx(j5,{ref:r,className:fe(gee(),t),...e}));Bt.displayName=j5.displayName;const yee=()=>{const[t,e]=b.useState(!0),[r,n]=b.useState(""),[a,i]=b.useState(""),[o,s]=b.useState(""),[l,u]=b.useState(!1),[d,f]=b.useState(!0),h=ex(),{toast:p}=pr();b.useEffect(()=>{const{data:{subscription:m}}=le.auth.onAuthStateChange((g,x)=>{x!=null&&x.user&&h("/",{replace:!0}),f(!1)});return le.auth.getSession().then(({data:{session:g}})=>{g!=null&&g.user&&h("/",{replace:!0}),f(!1)}),()=>m.unsubscribe()},[h]);const v=async m=>{m.preventDefault(),u(!0);try{if(t){const{error:g}=await le.auth.signInWithPassword({email:r,password:a});if(g)throw g;p({title:"Welcome back!",description:"You have successfully logged in."})}else{const{error:g}=await le.auth.signUp({email:r,password:a,options:{emailRedirectTo:`${window.location.origin}/`,data:{full_name:o}}});if(g)throw g;p({title:"Account created!",description:"You can now log in with your credentials."}),e(!0)}}catch(g){let x=g.message;g.message.includes("User already registered")&&(x="This email is already registered. Please log in instead."),p({title:"Error",description:x,variant:"destructive"})}finally{u(!1)}};return d?c.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:c.jsx(Mn,{className:"h-8 w-8 animate-spin text-primary"})}):c.jsxs("div",{className:"flex min-h-screen",children:[c.jsxs("div",{className:"hidden w-1/2 flex-col justify-between luxury-gradient p-12 lg:flex",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"font-display text-4xl font-bold text-primary-foreground",children:"Quppayam"}),c.jsx("p",{className:"mt-2 text-lg text-primary-foreground/80",children:"Boutique Management System"})]}),c.jsx("div",{className:"space-y-6",children:c.jsxs("blockquote",{className:"border-l-2 border-gold/50 pl-6 text-primary-foreground/90",children:[c.jsx("p",{className:"text-xl italic",children:'"Elegance is the only beauty that never fades."'}),c.jsx("footer",{className:"mt-2 text-sm text-primary-foreground/70",children:" Audrey Hepburn"})]})}),c.jsx("p",{className:"text-sm text-primary-foreground/60",children:" 2024 Quppayam. All rights reserved."})]}),c.jsx("div",{className:"flex w-full flex-col justify-center px-8 lg:w-1/2 lg:px-16",children:c.jsxs("div",{className:"mx-auto w-full max-w-md",children:[c.jsxs("div",{className:"mb-8 lg:hidden",children:[c.jsx("h1",{className:"font-display text-3xl font-bold text-primary",children:"Quppayam"}),c.jsx("p",{className:"text-muted-foreground",children:"Boutique Management System"})]}),c.jsxs("div",{className:"mb-8",children:[c.jsx("h2",{className:"font-display text-2xl font-semibold text-foreground",children:t?"Welcome back":"Create an account"}),c.jsx("p",{className:"mt-2 text-muted-foreground",children:t?"Enter your credentials to access your account":"Enter your details to get started"})]}),c.jsxs("form",{onSubmit:v,className:"space-y-4",children:[!t&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(Bt,{htmlFor:"fullName",children:"Full Name"}),c.jsx(ye,{id:"fullName",type:"text",placeholder:"Enter your full name",value:o,onChange:m=>s(m.target.value),required:!t})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Bt,{htmlFor:"email",children:"Email"}),c.jsx(ye,{id:"email",type:"email",placeholder:"Enter your email",value:r,onChange:m=>n(m.target.value),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Bt,{htmlFor:"password",children:"Password"}),c.jsx(ye,{id:"password",type:"password",placeholder:"Enter your password",value:a,onChange:m=>i(m.target.value),required:!0,minLength:6})]}),c.jsxs(Y,{type:"submit",className:"w-full",disabled:l,children:[l&&c.jsx(Mn,{className:"mr-2 h-4 w-4 animate-spin"}),t?"Sign In":"Create Account"]})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsx("button",{type:"button",onClick:()=>e(!t),className:"text-sm text-muted-foreground hover:text-primary",children:t?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})})]})};var wb="focusScope.autoFocusOnMount",bb="focusScope.autoFocusOnUnmount",lP={bubbles:!1,cancelable:!0},xee="FocusScope",gv=b.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=t,[s,l]=b.useState(null),u=Ir(a),d=Ir(i),f=b.useRef(null),h=Ke(e,m=>l(m)),p=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(n){let m=function(w){if(p.paused||!s)return;const _=w.target;s.contains(_)?f.current=_:rl(f.current,{select:!0})},g=function(w){if(p.paused||!s)return;const _=w.relatedTarget;_!==null&&(s.contains(_)||rl(f.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&rl(s)};document.addEventListener("focusin",m),document.addEventListener("focusout",g);const y=new MutationObserver(x);return s&&y.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",g),y.disconnect()}}},[n,s,p.paused]),b.useEffect(()=>{if(s){uP.add(p);const m=document.activeElement;if(!s.contains(m)){const x=new CustomEvent(wb,lP);s.addEventListener(wb,u),s.dispatchEvent(x),x.defaultPrevented||(wee(Eee(N5(s)),{select:!0}),document.activeElement===m&&rl(s))}return()=>{s.removeEventListener(wb,u),setTimeout(()=>{const x=new CustomEvent(bb,lP);s.addEventListener(bb,d),s.dispatchEvent(x),x.defaultPrevented||rl(m??document.body,{select:!0}),s.removeEventListener(bb,d),uP.remove(p)},0)}}},[s,u,d,p]);const v=b.useCallback(m=>{if(!r&&!n||p.paused)return;const g=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,x=document.activeElement;if(g&&x){const y=m.currentTarget,[w,_]=bee(y);w&&_?!m.shiftKey&&x===_?(m.preventDefault(),r&&rl(w,{select:!0})):m.shiftKey&&x===w&&(m.preventDefault(),r&&rl(_,{select:!0})):x===y&&m.preventDefault()}},[r,n,p.paused]);return c.jsx(Ie.div,{tabIndex:-1,...o,ref:h,onKeyDown:v})});gv.displayName=xee;function wee(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(rl(n,{select:e}),document.activeElement!==r)return}function bee(t){const e=N5(t),r=cP(e,t),n=cP(e.reverse(),t);return[r,n]}function N5(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function cP(t,e){for(const r of t)if(!_ee(r,{upTo:e}))return r}function _ee(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function See(t){return t instanceof HTMLInputElement&&"select"in t}function rl(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&See(t)&&e&&t.select()}}var uP=Cee();function Cee(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=dP(t,e),t.unshift(e)},remove(e){var r;t=dP(t,e),(r=t[0])==null||r.resume()}}}function dP(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function Eee(t){return t.filter(e=>e.tagName!=="A")}var _b=0;function nx(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??fP()),document.body.insertAdjacentElement("beforeend",t[1]??fP()),_b++,()=>{_b===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),_b--}},[])}function fP(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var o0="right-scroll-bar-position",s0="width-before-scroll-bar",Aee="with-scroll-bars-hidden",jee="--removed-body-scroll-bar-size";function Sb(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Nee(t,e){var r=b.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=e,r.facade}var Oee=typeof window<"u"?b.useLayoutEffect:b.useEffect,hP=new WeakMap;function Tee(t,e){var r=Nee(null,function(n){return t.forEach(function(a){return Sb(a,n)})});return Oee(function(){var n=hP.get(r);if(n){var a=new Set(n),i=new Set(t),o=r.current;a.forEach(function(s){i.has(s)||Sb(s,null)}),i.forEach(function(s){a.has(s)||Sb(s,o)})}hP.set(r,t)},[t]),r}function Pee(t){return t}function kee(t,e){e===void 0&&(e=Pee);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(i){var o=e(i,n);return r.push(o),function(){r=r.filter(function(s){return s!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(s){return i(s)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var s=r;r=[],s.forEach(i),o=r}var l=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function Iee(t){t===void 0&&(t={});var e=kee(null);return e.options=Co({async:!0,ssr:!1},t),e}var O5=function(t){var e=t.sideCar,r=ih(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return b.createElement(n,Co({},r))};O5.isSideCarExport=!0;function Ree(t,e){return t.useMedium(e),O5}var T5=Iee(),Cb=function(){},ax=b.forwardRef(function(t,e){var r=b.useRef(null),n=b.useState({onScrollCapture:Cb,onWheelCapture:Cb,onTouchMoveCapture:Cb}),a=n[0],i=n[1],o=t.forwardProps,s=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,p=t.noRelative,v=t.noIsolation,m=t.inert,g=t.allowPinchZoom,x=t.as,y=x===void 0?"div":x,w=t.gapMode,_=ih(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,C=Tee([r,e]),E=Co(Co({},_),a);return b.createElement(b.Fragment,null,d&&b.createElement(S,{sideCar:T5,removeScrollBar:u,shards:f,noRelative:p,noIsolation:v,inert:m,setCallbacks:i,allowPinchZoom:!!g,lockRef:r,gapMode:w}),o?b.cloneElement(b.Children.only(s),Co(Co({},E),{ref:C})):b.createElement(y,Co({},E,{className:l,ref:C}),s))});ax.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ax.classNames={fullWidth:s0,zeroRight:o0};var Dee=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Mee(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Dee();return e&&t.setAttribute("nonce",e),t}function $ee(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Lee(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Fee=function(){var t=0,e=null;return{add:function(r){t==0&&(e=Mee())&&($ee(e,r),Lee(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Bee=function(){var t=Fee();return function(e,r){b.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},P5=function(){var t=Bee(),e=function(r){var n=r.styles,a=r.dynamic;return t(n,a),null};return e},Uee={left:0,top:0,right:0,gap:0},Eb=function(t){return parseInt(t||"",10)||0},Vee=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],a=e[t==="padding"?"paddingRight":"marginRight"];return[Eb(r),Eb(n),Eb(a)]},Wee=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Uee;var e=Vee(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},zee=P5(),Md="data-scroll-locked",Hee=function(t,e,r,n){var a=t.left,i=t.top,o=t.right,s=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(Aee,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(s,"px ").concat(n,`;
  }
  body[`).concat(Md,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(o0,` {
    right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(s0,` {
    margin-right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(o0," .").concat(o0,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(s0," .").concat(s0,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Md,`] {
    `).concat(jee,": ").concat(s,`px;
  }
`)},pP=function(){var t=parseInt(document.body.getAttribute(Md)||"0",10);return isFinite(t)?t:0},qee=function(){b.useEffect(function(){return document.body.setAttribute(Md,(pP()+1).toString()),function(){var t=pP()-1;t<=0?document.body.removeAttribute(Md):document.body.setAttribute(Md,t.toString())}},[])},Gee=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,a=n===void 0?"margin":n;qee();var i=b.useMemo(function(){return Wee(a)},[a]);return b.createElement(zee,{styles:Hee(i,!e,a,r?"":"!important")})},eS=!1;if(typeof window<"u")try{var xg=Object.defineProperty({},"passive",{get:function(){return eS=!0,!0}});window.addEventListener("test",xg,xg),window.removeEventListener("test",xg,xg)}catch{eS=!1}var Hu=eS?{passive:!1}:!1,Kee=function(t){return t.tagName==="TEXTAREA"},k5=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!Kee(t)&&r[e]==="visible")},Xee=function(t){return k5(t,"overflowY")},Yee=function(t){return k5(t,"overflowX")},mP=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=I5(t,n);if(a){var i=R5(t,n),o=i[1],s=i[2];if(o>s)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Zee=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},Qee=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},I5=function(t,e){return t==="v"?Xee(e):Yee(e)},R5=function(t,e){return t==="v"?Zee(e):Qee(e)},Jee=function(t,e){return t==="h"&&e==="rtl"?-1:1},ete=function(t,e,r,n,a){var i=Jee(t,window.getComputedStyle(e).direction),o=i*n,s=r.target,l=e.contains(s),u=!1,d=o>0,f=0,h=0;do{if(!s)break;var p=R5(t,s),v=p[0],m=p[1],g=p[2],x=m-g-i*v;(v||x)&&I5(t,s)&&(f+=x,h+=v);var y=s.parentNode;s=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!l&&s!==document.body||l&&(e.contains(s)||e===s));return(d&&(Math.abs(f)<1||!a)||!d&&(Math.abs(h)<1||!a))&&(u=!0),u},wg=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},vP=function(t){return[t.deltaX,t.deltaY]},gP=function(t){return t&&"current"in t?t.current:t},tte=function(t,e){return t[0]===e[0]&&t[1]===e[1]},rte=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},nte=0,qu=[];function ate(t){var e=b.useRef([]),r=b.useRef([0,0]),n=b.useRef(),a=b.useState(nte++)[0],i=b.useState(P5)[0],o=b.useRef(t);b.useEffect(function(){o.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var m=MZ([t.lockRef.current],(t.shards||[]).map(gP),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var s=b.useCallback(function(m,g){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var x=wg(m),y=r.current,w="deltaX"in m?m.deltaX:y[0]-x[0],_="deltaY"in m?m.deltaY:y[1]-x[1],S,C=m.target,E=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in m&&E==="h"&&C.type==="range")return!1;var A=mP(E,C);if(!A)return!0;if(A?S=E:(S=E==="v"?"h":"v",A=mP(E,C)),!A)return!1;if(!n.current&&"changedTouches"in m&&(w||_)&&(n.current=S),!S)return!0;var j=n.current||S;return ete(j,g,m,j==="h"?w:_,!0)},[]),l=b.useCallback(function(m){var g=m;if(!(!qu.length||qu[qu.length-1]!==i)){var x="deltaY"in g?vP(g):wg(g),y=e.current.filter(function(S){return S.name===g.type&&(S.target===g.target||g.target===S.shadowParent)&&tte(S.delta,x)})[0];if(y&&y.should){g.cancelable&&g.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(gP).filter(Boolean).filter(function(S){return S.contains(g.target)}),_=w.length>0?s(g,w[0]):!o.current.noIsolation;_&&g.cancelable&&g.preventDefault()}}},[]),u=b.useCallback(function(m,g,x,y){var w={name:m,delta:g,target:x,should:y,shadowParent:ite(x)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(_){return _!==w})},1)},[]),d=b.useCallback(function(m){r.current=wg(m),n.current=void 0},[]),f=b.useCallback(function(m){u(m.type,vP(m),m.target,s(m,t.lockRef.current))},[]),h=b.useCallback(function(m){u(m.type,wg(m),m.target,s(m,t.lockRef.current))},[]);b.useEffect(function(){return qu.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Hu),document.addEventListener("touchmove",l,Hu),document.addEventListener("touchstart",d,Hu),function(){qu=qu.filter(function(m){return m!==i}),document.removeEventListener("wheel",l,Hu),document.removeEventListener("touchmove",l,Hu),document.removeEventListener("touchstart",d,Hu)}},[]);var p=t.removeScrollBar,v=t.inert;return b.createElement(b.Fragment,null,v?b.createElement(i,{styles:rte(a)}):null,p?b.createElement(Gee,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function ite(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const ote=Ree(T5,ate);var yv=b.forwardRef(function(t,e){return b.createElement(ax,Co({},t,{ref:e,sideCar:ote}))});yv.classNames=ax.classNames;var ste=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Gu=new WeakMap,bg=new WeakMap,_g={},Ab=0,D5=function(t){return t&&(t.host||D5(t.parentNode))},lte=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=D5(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},cte=function(t,e,r,n){var a=lte(e,Array.isArray(t)?t:[t]);_g[r]||(_g[r]=new WeakMap);var i=_g[r],o=[],s=new Set,l=new Set(a),u=function(f){!f||s.has(f)||(s.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(s.has(h))d(h);else try{var p=h.getAttribute(n),v=p!==null&&p!=="false",m=(Gu.get(h)||0)+1,g=(i.get(h)||0)+1;Gu.set(h,m),i.set(h,g),o.push(h),m===1&&v&&bg.set(h,!0),g===1&&h.setAttribute(r,"true"),v||h.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(e),s.clear(),Ab++,function(){o.forEach(function(f){var h=Gu.get(f)-1,p=i.get(f)-1;Gu.set(f,h),i.set(f,p),h||(bg.has(f)||f.removeAttribute(n),bg.delete(f)),p||f.removeAttribute(r)}),Ab--,Ab||(Gu=new WeakMap,Gu=new WeakMap,bg=new WeakMap,_g={})}},ix=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),a=ste(t);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),cte(n,a,r,"aria-hidden")):function(){return null}},ox="Dialog",[M5,$5]=$n(ox),[ute,fo]=M5(ox),L5=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=t,s=b.useRef(null),l=b.useRef(null),[u,d]=xi({prop:n,defaultProp:a??!1,onChange:i,caller:ox});return c.jsx(ute,{scope:e,triggerRef:s,contentRef:l,contentId:$a(),titleId:$a(),descriptionId:$a(),open:u,onOpenChange:d,onOpenToggle:b.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};L5.displayName=ox;var F5="DialogTrigger",B5=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=fo(F5,r),i=Ke(e,a.triggerRef);return c.jsx(Ie.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":MA(a.open),...n,ref:i,onClick:de(t.onClick,a.onOpenToggle)})});B5.displayName=F5;var RA="DialogPortal",[dte,U5]=M5(RA,{forceMount:void 0}),V5=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:a}=t,i=fo(RA,e);return c.jsx(dte,{scope:e,forceMount:r,children:b.Children.map(n,o=>c.jsx(mn,{present:r||i.open,children:c.jsx(Qf,{asChild:!0,container:a,children:o})}))})};V5.displayName=RA;var X0="DialogOverlay",W5=b.forwardRef((t,e)=>{const r=U5(X0,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,i=fo(X0,t.__scopeDialog);return i.modal?c.jsx(mn,{present:n||i.open,children:c.jsx(hte,{...a,ref:e})}):null});W5.displayName=X0;var fte=Wl("DialogOverlay.RemoveScroll"),hte=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=fo(X0,r);return c.jsx(yv,{as:fte,allowPinchZoom:!0,shards:[a.contentRef],children:c.jsx(Ie.div,{"data-state":MA(a.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),du="DialogContent",z5=b.forwardRef((t,e)=>{const r=U5(du,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,i=fo(du,t.__scopeDialog);return c.jsx(mn,{present:n||i.open,children:i.modal?c.jsx(pte,{...a,ref:e}):c.jsx(mte,{...a,ref:e})})});z5.displayName=du;var pte=b.forwardRef((t,e)=>{const r=fo(du,t.__scopeDialog),n=b.useRef(null),a=Ke(e,r.contentRef,n);return b.useEffect(()=>{const i=n.current;if(i)return ix(i)},[]),c.jsx(H5,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:de(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:de(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,s=o.button===0&&o.ctrlKey===!0;(o.button===2||s)&&i.preventDefault()}),onFocusOutside:de(t.onFocusOutside,i=>i.preventDefault())})}),mte=b.forwardRef((t,e)=>{const r=fo(du,t.__scopeDialog),n=b.useRef(!1),a=b.useRef(!1);return c.jsx(H5,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,s;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(n.current||(s=r.triggerRef.current)==null||s.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),H5=b.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=t,s=fo(du,r),l=b.useRef(null),u=Ke(e,l);return nx(),c.jsxs(c.Fragment,{children:[c.jsx(gv,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:c.jsx(Cu,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":MA(s.open),...o,ref:u,onDismiss:()=>s.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(gte,{titleId:s.titleId}),c.jsx(xte,{contentRef:l,descriptionId:s.descriptionId})]})]})}),DA="DialogTitle",q5=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=fo(DA,r);return c.jsx(Ie.h2,{id:a.titleId,...n,ref:e})});q5.displayName=DA;var G5="DialogDescription",K5=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=fo(G5,r);return c.jsx(Ie.p,{id:a.descriptionId,...n,ref:e})});K5.displayName=G5;var X5="DialogClose",Y5=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=fo(X5,r);return c.jsx(Ie.button,{type:"button",...n,ref:e,onClick:de(t.onClick,()=>a.onOpenChange(!1))})});Y5.displayName=X5;function MA(t){return t?"open":"closed"}var Z5="DialogTitleWarning",[vte,Q5]=KH(Z5,{contentName:du,titleName:DA,docsSlug:"dialog"}),gte=({titleId:t})=>{const e=Q5(Z5),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},yte="DialogDescriptionWarning",xte=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Q5(yte).contentName}}.`;return b.useEffect(()=>{var i;const a=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&a&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},$A=L5,LA=B5,FA=V5,xv=W5,wv=z5,oh=q5,bv=K5,sx=Y5;const wte=$A,bte=LA,_te=FA,J5=b.forwardRef(({className:t,...e},r)=>c.jsx(xv,{className:fe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));J5.displayName=xv.displayName;const Ste=cv("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),e$=b.forwardRef(({side:t="right",className:e,children:r,title:n="Dialog",...a},i)=>c.jsxs(_te,{children:[c.jsx(J5,{}),c.jsxs(wv,{ref:i,className:fe(Ste({side:t}),e),...a,children:[c.jsx(oh,{className:"sr-only",children:n}),r,t!=="left"&&c.jsxs(sx,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[c.jsx(z1,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));e$.displayName=wv.displayName;const Cte=b.forwardRef(({className:t,...e},r)=>c.jsx(oh,{ref:r,className:fe("text-lg font-semibold text-foreground",t),...e}));Cte.displayName=oh.displayName;const Ete=b.forwardRef(({className:t,...e},r)=>c.jsx(bv,{ref:r,className:fe("text-sm text-muted-foreground",t),...e}));Ete.displayName=bv.displayName;const Ate=[{name:"Dashboard",href:"/",icon:Hq},{name:"Customers",href:"/customers",icon:lf},{name:"Orders",href:"/orders",icon:zl},{name:"Online Orders",href:"/online-orders",icon:zl},{name:"Measurements",href:"/measurements",icon:su},{name:"Inventory",href:"/inventory",icon:$o},{name:"Services",href:"/services",icon:Jq},{name:"Employees",href:"/employees",icon:nG},{name:"Stores",href:"/stores",icon:VM},{name:"Reports",href:"/reports",icon:Uq}],jte=[{name:"Settings",href:"/settings",icon:eG}];function t$({collapsed:t,onCollapse:e,onNavigate:r}){const n=ah(),[a,i]=b.useState("Desktop");return b.useEffect(()=>{const o=()=>{if(typeof window>"u")return;const s=window.innerWidth;s>=1024?i("Desktop"):s>=640?i("Tablet"):i("Mobile")};return o(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]),c.jsxs("div",{className:"flex h-full flex-col",children:[c.jsxs("div",{className:"flex h-20 items-center justify-between border-b border-sidebar-border px-4",children:[c.jsxs(ub,{to:"/",className:"flex items-center gap-3",onClick:r,children:[c.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-sidebar-accent",children:c.jsx("span",{className:"font-display text-xl font-bold text-gold",children:"Q"})}),!t&&c.jsx("span",{className:"font-display text-xl font-semibold tracking-wide text-sidebar-foreground",children:"Quppayam"})]}),e&&c.jsx("button",{onClick:e,className:"flex h-8 w-8 items-center justify-center rounded-lg text-sidebar-foreground/70 transition-colors hover:bg-sidebar-accent hover:text-sidebar-foreground",children:t?c.jsx(V1,{size:18}):c.jsx(aA,{size:18})})]}),c.jsx("nav",{className:"flex-1 space-y-1 px-3 py-4",children:Ate.map(o=>{const s=n.pathname===o.href;return c.jsxs(ub,{to:o.href,onClick:r,className:fe("group flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium transition-all duration-200",s?"bg-sidebar-accent text-sidebar-foreground":"text-sidebar-foreground/70 hover:bg-sidebar-accent/50 hover:text-sidebar-foreground"),children:[c.jsx(o.icon,{size:20,className:fe("flex-shrink-0 transition-colors",s?"text-gold":"text-sidebar-foreground/60 group-hover:text-sidebar-foreground")}),!t&&c.jsx("span",{children:o.name})]},o.name)})}),c.jsxs("div",{className:"px-3 py-2",children:[c.jsx("div",{className:"text-xs text-muted-foreground",children:"Current view"}),c.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[c.jsx("span",{className:fe("inline-block h-2 w-2 rounded-full",a==="Desktop"?"bg-gold":a==="Tablet"?"bg-amber-500":"bg-emerald-500")}),c.jsx("span",{className:"text-sm text-sidebar-foreground",children:a})]})]}),c.jsx("div",{className:"border-t border-sidebar-border px-3 py-4",children:jte.map(o=>{const s=n.pathname===o.href;return c.jsxs(ub,{to:o.href,onClick:r,className:fe("group flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium transition-all duration-200",s?"bg-sidebar-accent text-sidebar-foreground":"text-sidebar-foreground/70 hover:bg-sidebar-accent/50 hover:text-sidebar-foreground"),children:[c.jsx(o.icon,{size:20,className:fe("flex-shrink-0",s?"text-gold":"text-sidebar-foreground/60")}),!t&&c.jsx("span",{children:o.name})]},o.name)})})]})}function Nte({collapsed:t,onCollapse:e}){return c.jsx("aside",{className:fe("fixed left-0 top-0 z-40 hidden h-screen bg-sidebar transition-all duration-300 ease-in-out lg:block",t?"w-20":"w-64"),children:c.jsx(t$,{collapsed:t,onCollapse:e})})}function Ote(){const[t,e]=b.useState(!1);return c.jsxs(wte,{open:t,onOpenChange:e,children:[c.jsx(bte,{asChild:!0,children:c.jsxs(Y,{variant:"ghost",size:"icon",className:"lg:hidden",children:[c.jsx(Kq,{className:"h-6 w-6"}),c.jsx("span",{className:"sr-only",children:"Toggle menu"})]})}),c.jsx(e$,{side:"left",className:"w-64 bg-sidebar p-0",children:c.jsx(t$,{collapsed:!1,onNavigate:()=>e(!1)})})]})}var Tte=b.createContext(void 0);function sh(t){const e=b.useContext(Tte);return t||e||"ltr"}var jb="rovingFocusGroup.onEntryFocus",Pte={bubbles:!1,cancelable:!0},_v="RovingFocusGroup",[tS,r$,kte]=sv(_v),[Ite,lx]=$n(_v,[kte]),[Rte,Dte]=Ite(_v),n$=b.forwardRef((t,e)=>c.jsx(tS.Provider,{scope:t.__scopeRovingFocusGroup,children:c.jsx(tS.Slot,{scope:t.__scopeRovingFocusGroup,children:c.jsx(Mte,{...t,ref:e})})}));n$.displayName=_v;var Mte=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,h=b.useRef(null),p=Ke(e,h),v=sh(i),[m,g]=xi({prop:o,defaultProp:s??null,onChange:l,caller:_v}),[x,y]=b.useState(!1),w=Ir(u),_=r$(r),S=b.useRef(!1),[C,E]=b.useState(0);return b.useEffect(()=>{const A=h.current;if(A)return A.addEventListener(jb,w),()=>A.removeEventListener(jb,w)},[w]),c.jsx(Rte,{scope:r,orientation:n,dir:v,loop:a,currentTabStopId:m,onItemFocus:b.useCallback(A=>g(A),[g]),onItemShiftTab:b.useCallback(()=>y(!0),[]),onFocusableItemAdd:b.useCallback(()=>E(A=>A+1),[]),onFocusableItemRemove:b.useCallback(()=>E(A=>A-1),[]),children:c.jsx(Ie.div,{tabIndex:x||C===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...t.style},onMouseDown:de(t.onMouseDown,()=>{S.current=!0}),onFocus:de(t.onFocus,A=>{const j=!S.current;if(A.target===A.currentTarget&&j&&!x){const T=new CustomEvent(jb,Pte);if(A.currentTarget.dispatchEvent(T),!T.defaultPrevented){const N=_().filter(B=>B.focusable),O=N.find(B=>B.active),$=N.find(B=>B.id===m),F=[O,$,...N].filter(Boolean).map(B=>B.ref.current);o$(F,d)}}S.current=!1}),onBlur:de(t.onBlur,()=>y(!1))})})}),a$="RovingFocusGroupItem",i$=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...s}=t,l=$a(),u=i||l,d=Dte(a$,r),f=d.currentTabStopId===u,h=r$(r),{onFocusableItemAdd:p,onFocusableItemRemove:v,currentTabStopId:m}=d;return b.useEffect(()=>{if(n)return p(),()=>v()},[n,p,v]),c.jsx(tS.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:c.jsx(Ie.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...s,ref:e,onMouseDown:de(t.onMouseDown,g=>{n?d.onItemFocus(u):g.preventDefault()}),onFocus:de(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:de(t.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){d.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const x=Fte(g,d.orientation,d.dir);if(x!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let w=h().filter(_=>_.focusable).map(_=>_.ref.current);if(x==="last")w.reverse();else if(x==="prev"||x==="next"){x==="prev"&&w.reverse();const _=w.indexOf(g.currentTarget);w=d.loop?Bte(w,_+1):w.slice(_+1)}setTimeout(()=>o$(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:m!=null}):o})})});i$.displayName=a$;var $te={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Lte(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Fte(t,e,r){const n=Lte(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return $te[n]}function o$(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function Bte(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var s$=n$,l$=i$,rS=["Enter"," "],Ute=["ArrowDown","PageUp","Home"],c$=["ArrowUp","PageDown","End"],Vte=[...Ute,...c$],Wte={ltr:[...rS,"ArrowRight"],rtl:[...rS,"ArrowLeft"]},zte={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Sv="Menu",[dm,Hte,qte]=sv(Sv),[Ou,u$]=$n(Sv,[qte,tc,lx]),cx=tc(),d$=lx(),[Gte,Tu]=Ou(Sv),[Kte,Cv]=Ou(Sv),f$=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=t,s=cx(e),[l,u]=b.useState(null),d=b.useRef(!1),f=Ir(i),h=sh(a);return b.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),c.jsx(bA,{...s,children:c.jsx(Gte,{scope:e,open:r,onOpenChange:f,content:l,onContentChange:u,children:c.jsx(Kte,{scope:e,onClose:b.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};f$.displayName=Sv;var Xte="MenuAnchor",BA=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,a=cx(r);return c.jsx(pv,{...a,...n,ref:e})});BA.displayName=Xte;var UA="MenuPortal",[Yte,h$]=Ou(UA,{forceMount:void 0}),p$=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:a}=t,i=Tu(UA,e);return c.jsx(Yte,{scope:e,forceMount:r,children:c.jsx(mn,{present:r||i.open,children:c.jsx(Qf,{asChild:!0,container:a,children:n})})})};p$.displayName=UA;var mi="MenuContent",[Zte,VA]=Ou(mi),m$=b.forwardRef((t,e)=>{const r=h$(mi,t.__scopeMenu),{forceMount:n=r.forceMount,...a}=t,i=Tu(mi,t.__scopeMenu),o=Cv(mi,t.__scopeMenu);return c.jsx(dm.Provider,{scope:t.__scopeMenu,children:c.jsx(mn,{present:n||i.open,children:c.jsx(dm.Slot,{scope:t.__scopeMenu,children:o.modal?c.jsx(Qte,{...a,ref:e}):c.jsx(Jte,{...a,ref:e})})})})}),Qte=b.forwardRef((t,e)=>{const r=Tu(mi,t.__scopeMenu),n=b.useRef(null),a=Ke(e,n);return b.useEffect(()=>{const i=n.current;if(i)return ix(i)},[]),c.jsx(WA,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:de(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Jte=b.forwardRef((t,e)=>{const r=Tu(mi,t.__scopeMenu);return c.jsx(WA,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),ere=Wl("MenuContent.ScrollLock"),WA=b.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:s,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:v,...m}=t,g=Tu(mi,r),x=Cv(mi,r),y=cx(r),w=d$(r),_=Hte(r),[S,C]=b.useState(null),E=b.useRef(null),A=Ke(e,E,g.onContentChange),j=b.useRef(0),T=b.useRef(""),N=b.useRef(0),O=b.useRef(null),$=b.useRef("right"),R=b.useRef(0),F=v?yv:b.Fragment,B=v?{as:ere,allowPinchZoom:!0}:void 0,M=P=>{var te,pe;const V=T.current+P,z=_().filter(ee=>!ee.disabled),H=document.activeElement,K=(te=z.find(ee=>ee.ref.current===H))==null?void 0:te.textValue,re=z.map(ee=>ee.textValue),ue=fre(re,V,K),oe=(pe=z.find(ee=>ee.textValue===ue))==null?void 0:pe.ref.current;(function ee(se){T.current=se,window.clearTimeout(j.current),se!==""&&(j.current=window.setTimeout(()=>ee(""),1e3))})(V),oe&&setTimeout(()=>oe.focus())};b.useEffect(()=>()=>window.clearTimeout(j.current),[]),nx();const I=b.useCallback(P=>{var z,H;return $.current===((z=O.current)==null?void 0:z.side)&&pre(P,(H=O.current)==null?void 0:H.area)},[]);return c.jsx(Zte,{scope:r,searchRef:T,onItemEnter:b.useCallback(P=>{I(P)&&P.preventDefault()},[I]),onItemLeave:b.useCallback(P=>{var V;I(P)||((V=E.current)==null||V.focus(),C(null))},[I]),onTriggerLeave:b.useCallback(P=>{I(P)&&P.preventDefault()},[I]),pointerGraceTimerRef:N,onPointerGraceIntentChange:b.useCallback(P=>{O.current=P},[]),children:c.jsx(F,{...B,children:c.jsx(gv,{asChild:!0,trapped:a,onMountAutoFocus:de(i,P=>{var V;P.preventDefault(),(V=E.current)==null||V.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:c.jsx(Cu,{asChild:!0,disableOutsidePointerEvents:s,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:c.jsx(s$,{asChild:!0,...w,dir:x.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:C,onEntryFocus:de(l,P=>{x.isUsingKeyboardRef.current||P.preventDefault()}),preventScrollOnEntryFocus:!0,children:c.jsx(X1,{role:"menu","aria-orientation":"vertical","data-state":P$(g.open),"data-radix-menu-content":"",dir:x.dir,...y,...m,ref:A,style:{outline:"none",...m.style},onKeyDown:de(m.onKeyDown,P=>{const z=P.target.closest("[data-radix-menu-content]")===P.currentTarget,H=P.ctrlKey||P.altKey||P.metaKey,K=P.key.length===1;z&&(P.key==="Tab"&&P.preventDefault(),!H&&K&&M(P.key));const re=E.current;if(P.target!==re||!Vte.includes(P.key))return;P.preventDefault();const oe=_().filter(te=>!te.disabled).map(te=>te.ref.current);c$.includes(P.key)&&oe.reverse(),ure(oe)}),onBlur:de(t.onBlur,P=>{P.currentTarget.contains(P.target)||(window.clearTimeout(j.current),T.current="")}),onPointerMove:de(t.onPointerMove,fm(P=>{const V=P.target,z=R.current!==P.clientX;if(P.currentTarget.contains(V)&&z){const H=P.clientX>R.current?"right":"left";$.current=H,R.current=P.clientX}}))})})})})})})});m$.displayName=mi;var tre="MenuGroup",zA=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return c.jsx(Ie.div,{role:"group",...n,ref:e})});zA.displayName=tre;var rre="MenuLabel",v$=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return c.jsx(Ie.div,{...n,ref:e})});v$.displayName=rre;var Y0="MenuItem",yP="menu.itemSelect",ux=b.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...a}=t,i=b.useRef(null),o=Cv(Y0,t.__scopeMenu),s=VA(Y0,t.__scopeMenu),l=Ke(e,i),u=b.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const h=new CustomEvent(yP,{bubbles:!0,cancelable:!0});f.addEventListener(yP,p=>n==null?void 0:n(p),{once:!0}),eA(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return c.jsx(g$,{...a,ref:l,disabled:r,onClick:de(t.onClick,d),onPointerDown:f=>{var h;(h=t.onPointerDown)==null||h.call(t,f),u.current=!0},onPointerUp:de(t.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:de(t.onKeyDown,f=>{const h=s.searchRef.current!=="";r||h&&f.key===" "||rS.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});ux.displayName=Y0;var g$=b.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=t,o=VA(Y0,r),s=d$(r),l=b.useRef(null),u=Ke(e,l),[d,f]=b.useState(!1),[h,p]=b.useState("");return b.useEffect(()=>{const v=l.current;v&&p((v.textContent??"").trim())},[i.children]),c.jsx(dm.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:c.jsx(l$,{asChild:!0,...s,focusable:!n,children:c.jsx(Ie.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:de(t.onPointerMove,fm(v=>{n?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:de(t.onPointerLeave,fm(v=>o.onItemLeave(v))),onFocus:de(t.onFocus,()=>f(!0)),onBlur:de(t.onBlur,()=>f(!1))})})})}),nre="MenuCheckboxItem",y$=b.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...a}=t;return c.jsx(S$,{scope:t.__scopeMenu,checked:r,children:c.jsx(ux,{role:"menuitemcheckbox","aria-checked":Z0(r)?"mixed":r,...a,ref:e,"data-state":qA(r),onSelect:de(a.onSelect,()=>n==null?void 0:n(Z0(r)?!0:!r),{checkForDefaultPrevented:!1})})})});y$.displayName=nre;var x$="MenuRadioGroup",[are,ire]=Ou(x$,{value:void 0,onValueChange:()=>{}}),w$=b.forwardRef((t,e)=>{const{value:r,onValueChange:n,...a}=t,i=Ir(n);return c.jsx(are,{scope:t.__scopeMenu,value:r,onValueChange:i,children:c.jsx(zA,{...a,ref:e})})});w$.displayName=x$;var b$="MenuRadioItem",_$=b.forwardRef((t,e)=>{const{value:r,...n}=t,a=ire(b$,t.__scopeMenu),i=r===a.value;return c.jsx(S$,{scope:t.__scopeMenu,checked:i,children:c.jsx(ux,{role:"menuitemradio","aria-checked":i,...n,ref:e,"data-state":qA(i),onSelect:de(n.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});_$.displayName=b$;var HA="MenuItemIndicator",[S$,ore]=Ou(HA,{checked:!1}),C$=b.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...a}=t,i=ore(HA,r);return c.jsx(mn,{present:n||Z0(i.checked)||i.checked===!0,children:c.jsx(Ie.span,{...a,ref:e,"data-state":qA(i.checked)})})});C$.displayName=HA;var sre="MenuSeparator",E$=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return c.jsx(Ie.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});E$.displayName=sre;var lre="MenuArrow",A$=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,a=cx(r);return c.jsx(Y1,{...a,...n,ref:e})});A$.displayName=lre;var cre="MenuSub",[eMe,j$]=Ou(cre),ip="MenuSubTrigger",N$=b.forwardRef((t,e)=>{const r=Tu(ip,t.__scopeMenu),n=Cv(ip,t.__scopeMenu),a=j$(ip,t.__scopeMenu),i=VA(ip,t.__scopeMenu),o=b.useRef(null),{pointerGraceTimerRef:s,onPointerGraceIntentChange:l}=i,u={__scopeMenu:t.__scopeMenu},d=b.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return b.useEffect(()=>d,[d]),b.useEffect(()=>{const f=s.current;return()=>{window.clearTimeout(f),l(null)}},[s,l]),c.jsx(BA,{asChild:!0,...u,children:c.jsx(g$,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":P$(r.open),...t,ref:L1(e,a.onTriggerChange),onClick:f=>{var h;(h=t.onClick)==null||h.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:de(t.onPointerMove,fm(f=>{i.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:de(t.onPointerLeave,fm(f=>{var p,v;d();const h=(p=r.content)==null?void 0:p.getBoundingClientRect();if(h){const m=(v=r.content)==null?void 0:v.dataset.side,g=m==="right",x=g?-5:5,y=h[g?"left":"right"],w=h[g?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:y,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x:y,y:h.bottom}],side:m}),window.clearTimeout(s.current),s.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:de(t.onKeyDown,f=>{var p;const h=i.searchRef.current!=="";t.disabled||h&&f.key===" "||Wte[n.dir].includes(f.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),f.preventDefault())})})})});N$.displayName=ip;var O$="MenuSubContent",T$=b.forwardRef((t,e)=>{const r=h$(mi,t.__scopeMenu),{forceMount:n=r.forceMount,...a}=t,i=Tu(mi,t.__scopeMenu),o=Cv(mi,t.__scopeMenu),s=j$(O$,t.__scopeMenu),l=b.useRef(null),u=Ke(e,l);return c.jsx(dm.Provider,{scope:t.__scopeMenu,children:c.jsx(mn,{present:n||i.open,children:c.jsx(dm.Slot,{scope:t.__scopeMenu,children:c.jsx(WA,{id:s.contentId,"aria-labelledby":s.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:de(t.onFocusOutside,d=>{d.target!==s.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:de(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:de(t.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=zte[o.dir].includes(d.key);f&&h&&(i.onOpenChange(!1),(p=s.trigger)==null||p.focus(),d.preventDefault())})})})})})});T$.displayName=O$;function P$(t){return t?"open":"closed"}function Z0(t){return t==="indeterminate"}function qA(t){return Z0(t)?"indeterminate":t?"checked":"unchecked"}function ure(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function dre(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function fre(t,e,r){const a=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let o=dre(t,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const l=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return l!==r?l:void 0}function hre(t,e){const{x:r,y:n}=t;let a=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const s=e[i],l=e[o],u=s.x,d=s.y,f=l.x,h=l.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function pre(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return hre(r,e)}function fm(t){return e=>e.pointerType==="mouse"?t(e):void 0}var mre=f$,vre=BA,gre=p$,yre=m$,xre=zA,wre=v$,bre=ux,_re=y$,Sre=w$,Cre=_$,Ere=C$,Are=E$,jre=A$,Nre=N$,Ore=T$,dx="DropdownMenu",[Tre,tMe]=$n(dx,[u$]),na=u$(),[Pre,k$]=Tre(dx),I$=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:s=!0}=t,l=na(e),u=b.useRef(null),[d,f]=xi({prop:a,defaultProp:i??!1,onChange:o,caller:dx});return c.jsx(Pre,{scope:e,triggerId:$a(),triggerRef:u,contentId:$a(),open:d,onOpenChange:f,onOpenToggle:b.useCallback(()=>f(h=>!h),[f]),modal:s,children:c.jsx(mre,{...l,open:d,onOpenChange:f,dir:n,modal:s,children:r})})};I$.displayName=dx;var R$="DropdownMenuTrigger",D$=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=t,i=k$(R$,r),o=na(r);return c.jsx(vre,{asChild:!0,...o,children:c.jsx(Ie.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:L1(e,i.triggerRef),onPointerDown:de(t.onPointerDown,s=>{!n&&s.button===0&&s.ctrlKey===!1&&(i.onOpenToggle(),i.open||s.preventDefault())}),onKeyDown:de(t.onKeyDown,s=>{n||(["Enter"," "].includes(s.key)&&i.onOpenToggle(),s.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(s.key)&&s.preventDefault())})})})});D$.displayName=R$;var kre="DropdownMenuPortal",M$=t=>{const{__scopeDropdownMenu:e,...r}=t,n=na(e);return c.jsx(gre,{...n,...r})};M$.displayName=kre;var $$="DropdownMenuContent",L$=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=k$($$,r),i=na(r),o=b.useRef(!1);return c.jsx(yre,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:e,onCloseAutoFocus:de(t.onCloseAutoFocus,s=>{var l;o.current||(l=a.triggerRef.current)==null||l.focus(),o.current=!1,s.preventDefault()}),onInteractOutside:de(t.onInteractOutside,s=>{const l=s.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,d=l.button===2||u;(!a.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});L$.displayName=$$;var Ire="DropdownMenuGroup",Rre=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=na(r);return c.jsx(xre,{...a,...n,ref:e})});Rre.displayName=Ire;var Dre="DropdownMenuLabel",F$=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=na(r);return c.jsx(wre,{...a,...n,ref:e})});F$.displayName=Dre;var Mre="DropdownMenuItem",B$=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=na(r);return c.jsx(bre,{...a,...n,ref:e})});B$.displayName=Mre;var $re="DropdownMenuCheckboxItem",U$=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=na(r);return c.jsx(_re,{...a,...n,ref:e})});U$.displayName=$re;var Lre="DropdownMenuRadioGroup",Fre=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=na(r);return c.jsx(Sre,{...a,...n,ref:e})});Fre.displayName=Lre;var Bre="DropdownMenuRadioItem",V$=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=na(r);return c.jsx(Cre,{...a,...n,ref:e})});V$.displayName=Bre;var Ure="DropdownMenuItemIndicator",W$=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=na(r);return c.jsx(Ere,{...a,...n,ref:e})});W$.displayName=Ure;var Vre="DropdownMenuSeparator",z$=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=na(r);return c.jsx(Are,{...a,...n,ref:e})});z$.displayName=Vre;var Wre="DropdownMenuArrow",zre=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=na(r);return c.jsx(jre,{...a,...n,ref:e})});zre.displayName=Wre;var Hre="DropdownMenuSubTrigger",H$=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=na(r);return c.jsx(Nre,{...a,...n,ref:e})});H$.displayName=Hre;var qre="DropdownMenuSubContent",q$=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=na(r);return c.jsx(Ore,{...a,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});q$.displayName=qre;var Gre=I$,Kre=D$,Xre=M$,G$=L$,K$=F$,X$=B$,Y$=U$,Z$=V$,Q$=W$,J$=z$,eL=H$,tL=q$;const wi=Gre,bi=Kre,Yre=b.forwardRef(({className:t,inset:e,children:r,...n},a)=>c.jsxs(eL,{ref:a,className:fe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",e&&"pl-8",t),...n,children:[r,c.jsx(V1,{className:"ml-auto h-4 w-4"})]}));Yre.displayName=eL.displayName;const Zre=b.forwardRef(({className:t,...e},r)=>c.jsx(tL,{ref:r,className:fe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));Zre.displayName=tL.displayName;const Va=b.forwardRef(({className:t,sideOffset:e=4,...r},n)=>c.jsx(Xre,{children:c.jsx(G$,{ref:n,sideOffset:e,className:fe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));Va.displayName=G$.displayName;const nt=b.forwardRef(({className:t,inset:e,...r},n)=>c.jsx(X$,{ref:n,className:fe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e&&"pl-8",t),...r}));nt.displayName=X$.displayName;const Qre=b.forwardRef(({className:t,children:e,checked:r,...n},a)=>c.jsxs(Y$,{ref:a,className:fe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:r,...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(Q$,{children:c.jsx(U1,{className:"h-4 w-4"})})}),e]}));Qre.displayName=Y$.displayName;const Jre=b.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(Z$,{ref:n,className:fe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...r,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(Q$,{children:c.jsx(WM,{className:"h-2 w-2 fill-current"})})}),e]}));Jre.displayName=Z$.displayName;const rL=b.forwardRef(({className:t,inset:e,...r},n)=>c.jsx(K$,{ref:n,className:fe("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));rL.displayName=K$.displayName;const Kl=b.forwardRef(({className:t,...e},r)=>c.jsx(J$,{ref:r,className:fe("-mx-1 my-1 h-px bg-muted",t),...e}));Kl.displayName=J$.displayName;const Vt=$A,Zo=LA,ene=FA,nL=b.forwardRef(({className:t,...e},r)=>c.jsx(xv,{ref:r,className:fe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));nL.displayName=xv.displayName;const It=b.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(ene,{children:[c.jsx(nL,{}),c.jsxs(wv,{ref:n,className:fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,c.jsxs(sx,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[c.jsx(z1,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));It.displayName=wv.displayName;const Rt=({className:t,...e})=>c.jsx("div",{className:fe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Rt.displayName="DialogHeader";const Tt=({className:t,...e})=>c.jsx("div",{className:fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Tt.displayName="DialogFooter";const Dt=b.forwardRef(({className:t,...e},r)=>c.jsx(oh,{ref:r,className:fe("text-lg font-semibold leading-none tracking-tight",t),...e}));Dt.displayName=oh.displayName;const hr=b.forwardRef(({className:t,...e},r)=>c.jsx(bv,{ref:r,className:fe("text-sm text-muted-foreground",t),...e}));hr.displayName=bv.displayName;function tne({title:t,subtitle:e,mobileMenu:r}){var l,u,d,f;const{user:n,signOut:a}=E5(),i=ex(),[o,s]=b.useState(!1);return c.jsxs("header",{className:"sticky top-0 z-30 flex h-16 items-center justify-between border-b border-border bg-background/95 px-4 backdrop-blur supports-[backdrop-filter]:bg-background/60 md:h-20 md:px-6 lg:px-8",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[r,c.jsxs("div",{children:[c.jsx("h1",{className:"font-display text-lg font-semibold text-foreground md:text-2xl",children:t}),e&&c.jsx("p",{className:"hidden text-sm text-muted-foreground md:block",children:e})]})]}),c.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[c.jsxs(Y,{variant:"ghost",size:"icon",className:"relative",children:[c.jsx(UM,{className:"h-5 w-5 text-muted-foreground"}),c.jsx("span",{className:"absolute right-2 top-2 h-2 w-2 rounded-full bg-gold"})]}),c.jsxs(wi,{children:[c.jsx(bi,{asChild:!0,children:c.jsxs(Y,{variant:"ghost",className:"flex items-center gap-2 px-2 md:gap-3 md:px-3",children:[c.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary md:h-9 md:w-9",children:c.jsx(uA,{className:"h-4 w-4 text-primary-foreground md:h-5 md:w-5"})}),c.jsxs("div",{className:"hidden text-left lg:block",children:[c.jsx("p",{className:"text-sm font-medium",children:((l=n==null?void 0:n.user_metadata)==null?void 0:l.full_name)||(n==null?void 0:n.email)||"User"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:((u=n==null?void 0:n.user_metadata)==null?void 0:u.role)||"Store Manager"})]})]})}),c.jsxs(Va,{align:"end",className:"w-56",children:[c.jsx(rL,{children:"My Account"}),c.jsx(Kl,{}),c.jsx(nt,{onClick:()=>s(!0),children:"View Profile"}),c.jsx(nt,{onClick:()=>i("/settings"),children:"Settings"}),c.jsx(Kl,{}),c.jsx(nt,{className:"text-destructive",onClick:async()=>{await a(),i("/auth")},children:"Sign out"})]})]})]}),c.jsx(Vt,{open:o,onOpenChange:s,children:c.jsxs(It,{className:"sm:max-w-md",children:[c.jsxs(Rt,{children:[c.jsx(Dt,{children:"Profile"}),c.jsx(hr,{children:"Account information"})]}),c.jsxs("div",{className:"space-y-4 py-2",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Name"}),c.jsx("p",{className:"font-medium",children:((d=n==null?void 0:n.user_metadata)==null?void 0:d.full_name)||"-"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),c.jsx("p",{className:"font-medium",children:(n==null?void 0:n.email)||"-"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Role"}),c.jsx("p",{className:"font-medium",children:((f=n==null?void 0:n.user_metadata)==null?void 0:f.role)||"-"})]})]}),c.jsx(Tt,{children:c.jsx(Y,{variant:"outline",onClick:()=>s(!1),children:"Close"})})]})})]})}function Rr({children:t,title:e,subtitle:r}){const[n,a]=b.useState(!1);return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx(Nte,{collapsed:n,onCollapse:()=>a(!n)}),c.jsxs("main",{className:fe("transition-all duration-300",n?"lg:ml-20":"lg:ml-64"),children:[c.jsx(tne,{title:e,subtitle:r,mobileMenu:c.jsx(Ote,{})}),c.jsx("div",{className:"p-4 md:p-6 lg:p-8",children:t})]})]})}function ps({title:t,value:e,change:r,changeType:n="neutral",icon:a,className:i}){return c.jsx("div",{className:fe("card-luxury p-2 md:p-3 lg:p-3 xl:p-6",i),children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs md:text-sm font-medium text-muted-foreground",children:t}),c.jsx("p",{className:"mt-1 font-display text-lg md:text-xl lg:text-2xl xl:text-3xl font-semibold text-foreground",children:e}),r&&c.jsx("p",{className:fe("mt-1 text-sm font-medium hidden xl:block",n==="positive"&&"text-emerald-600",n==="negative"&&"text-destructive",n==="neutral"&&"text-muted-foreground"),children:r})]}),c.jsx("div",{className:"flex h-8 w-8 md:h-9 md:w-9 lg:h-10 lg:w-10 xl:h-12 xl:w-12 items-center justify-center rounded-xl bg-primary/10",children:a})]})})}function vt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Wa(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Kn(t,e){const r=vt(t);return isNaN(e)?Wa(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function lo(t,e){const r=vt(t);if(isNaN(e))return Wa(t,NaN);if(!e)return r;const n=r.getDate(),a=Wa(t,r.getTime());a.setMonth(r.getMonth()+e+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const GA=6048e5,rne=864e5;let nne={};function Ev(){return nne}function Bo(t,e){var s,l,u,d;const r=Ev(),n=(e==null?void 0:e.weekStartsOn)??((l=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=vt(t),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function fu(t){return Bo(t,{weekStartsOn:1})}function aL(t){const e=vt(t),r=e.getFullYear(),n=Wa(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=fu(n),i=Wa(t,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=fu(i);return e.getTime()>=a.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function df(t){const e=vt(t);return e.setHours(0,0,0,0),e}function Q0(t){const e=vt(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Ao(t,e){const r=df(t),n=df(e),a=+r-Q0(r),i=+n-Q0(n);return Math.round((a-i)/rne)}function ane(t){const e=aL(t),r=Wa(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),fu(r)}function nS(t,e){const r=e*7;return Kn(t,r)}function ine(t,e){return lo(t,e*12)}function one(t){let e;return t.forEach(function(r){const n=vt(r);(e===void 0||e<n||isNaN(Number(n)))&&(e=n)}),e||new Date(NaN)}function sne(t){let e;return t.forEach(r=>{const n=vt(r);(!e||e>n||isNaN(+n))&&(e=n)}),e||new Date(NaN)}function pa(t,e){const r=df(t),n=df(e);return+r==+n}function KA(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function lne(t){if(!KA(t)&&typeof t!="number")return!1;const e=vt(t);return!isNaN(Number(e))}function hm(t,e){const r=vt(t),n=vt(e),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function cne(t,e,r){const n=Bo(t,r),a=Bo(e,r),i=+n-Q0(n),o=+a-Q0(a);return Math.round((i-o)/GA)}function XA(t){const e=vt(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function xa(t){const e=vt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function iL(t){const e=vt(t),r=Wa(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}function YA(t,e){var s,l,u,d;const r=Ev(),n=(e==null?void 0:e.weekStartsOn)??((l=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=vt(t),i=a.getDay(),o=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function oL(t){return YA(t,{weekStartsOn:1})}const une={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},dne=(t,e,r)=>{let n;const a=une[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Nb(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const fne={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},hne={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},pne={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},mne={date:Nb({formats:fne,defaultWidth:"full"}),time:Nb({formats:hne,defaultWidth:"full"}),dateTime:Nb({formats:pne,defaultWidth:"full"})},vne={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},gne=(t,e,r,n)=>vne[t];function Mh(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,s=r!=null&&r.width?String(r.width):o;a=t.formattingValues[s]||t.formattingValues[o]}else{const o=t.defaultWidth,s=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[s]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return a[i]}}const yne={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},xne={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},wne={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},bne={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_ne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Sne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Cne=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Ene={ordinalNumber:Cne,era:Mh({values:yne,defaultWidth:"wide"}),quarter:Mh({values:xne,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Mh({values:wne,defaultWidth:"wide"}),day:Mh({values:bne,defaultWidth:"wide"}),dayPeriod:Mh({values:_ne,defaultWidth:"wide",formattingValues:Sne,defaultFormattingWidth:"wide"})};function $h(t){return(e,r={})=>{const n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(a);if(!i)return null;const o=i[0],s=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(s)?jne(s,f=>f.test(o)):Ane(s,f=>f.test(o));let u;u=t.valueCallback?t.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function Ane(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function jne(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Nne(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const a=n[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const s=e.slice(a.length);return{value:o,rest:s}}}const One=/^(\d+)(th|st|nd|rd)?/i,Tne=/\d+/i,Pne={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},kne={any:[/^b/i,/^(a|c)/i]},Ine={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Rne={any:[/1/i,/2/i,/3/i,/4/i]},Dne={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Mne={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$ne={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Lne={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Fne={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Bne={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Une={ordinalNumber:Nne({matchPattern:One,parsePattern:Tne,valueCallback:t=>parseInt(t,10)}),era:$h({matchPatterns:Pne,defaultMatchWidth:"wide",parsePatterns:kne,defaultParseWidth:"any"}),quarter:$h({matchPatterns:Ine,defaultMatchWidth:"wide",parsePatterns:Rne,defaultParseWidth:"any",valueCallback:t=>t+1}),month:$h({matchPatterns:Dne,defaultMatchWidth:"wide",parsePatterns:Mne,defaultParseWidth:"any"}),day:$h({matchPatterns:$ne,defaultMatchWidth:"wide",parsePatterns:Lne,defaultParseWidth:"any"}),dayPeriod:$h({matchPatterns:Fne,defaultMatchWidth:"any",parsePatterns:Bne,defaultParseWidth:"any"})},sL={code:"en-US",formatDistance:dne,formatLong:mne,formatRelative:gne,localize:Ene,match:Une,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Vne(t){const e=vt(t);return Ao(e,iL(e))+1}function lL(t){const e=vt(t),r=+fu(e)-+ane(e);return Math.round(r/GA)+1}function cL(t,e){var d,f,h,p;const r=vt(t),n=r.getFullYear(),a=Ev(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(h=a.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=Wa(t,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const s=Bo(o,e),l=Wa(t,0);l.setFullYear(n,0,i),l.setHours(0,0,0,0);const u=Bo(l,e);return r.getTime()>=s.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Wne(t,e){var s,l,u,d;const r=Ev(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=cL(t,e),i=Wa(t,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Bo(i,e)}function uL(t,e){const r=vt(t),n=+Bo(r,e)-+Wne(r,e);return Math.round(n/GA)+1}function Ft(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Qs={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Ft(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Ft(r+1,2)},d(t,e){return Ft(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Ft(t.getHours()%12||12,e.length)},H(t,e){return Ft(t.getHours(),e.length)},m(t,e){return Ft(t.getMinutes(),e.length)},s(t,e){return Ft(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Ft(a,e.length)}},Ku={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},xP={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Qs.y(t,e)},Y:function(t,e,r,n){const a=cL(t,n),i=a>0?a:1-a;if(e==="YY"){const o=i%100;return Ft(o,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):Ft(i,e.length)},R:function(t,e){const r=aL(t);return Ft(r,e.length)},u:function(t,e){const r=t.getFullYear();return Ft(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Ft(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Ft(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Qs.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Ft(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const a=uL(t,n);return e==="wo"?r.ordinalNumber(a,{unit:"week"}):Ft(a,e.length)},I:function(t,e,r){const n=lL(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Ft(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Qs.d(t,e)},D:function(t,e,r){const n=Vne(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ft(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Ft(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Ft(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return Ft(a,e.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let a;switch(n===12?a=Ku.noon:n===0?a=Ku.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let a;switch(n>=17?a=Ku.evening:n>=12?a=Ku.afternoon:n>=4?a=Ku.morning:a=Ku.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Qs.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Qs.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ft(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ft(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Qs.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Qs.s(t,e)},S:function(t,e){return Qs.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return bP(n);case"XXXX":case"XX":return _c(n);case"XXXXX":case"XXX":default:return _c(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return bP(n);case"xxxx":case"xx":return _c(n);case"xxxxx":case"xxx":default:return _c(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+wP(n,":");case"OOOO":default:return"GMT"+_c(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+wP(n,":");case"zzzz":default:return"GMT"+_c(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return Ft(n,e.length)},T:function(t,e,r){const n=t.getTime();return Ft(n,e.length)}};function wP(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+e+Ft(i,2)}function bP(t,e){return t%60===0?(t>0?"-":"+")+Ft(Math.abs(t)/60,2):_c(t,e)}function _c(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Ft(Math.trunc(n/60),2),i=Ft(n%60,2);return r+a+e+i}const _P=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},dL=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},zne=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return _P(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",_P(n,e)).replace("{{time}}",dL(a,e))},Hne={p:dL,P:zne},qne=/^D+$/,Gne=/^Y+$/,Kne=["D","DD","YY","YYYY"];function Xne(t){return qne.test(t)}function Yne(t){return Gne.test(t)}function Zne(t,e,r){const n=Qne(t,e,r);if(console.warn(n),Kne.includes(t))throw new RangeError(n)}function Qne(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Jne=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,eae=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,tae=/^'([^]*?)'?$/,rae=/''/g,nae=/[a-zA-Z]/;function it(t,e,r){var d,f,h,p,v,m,g,x;const n=Ev(),a=(r==null?void 0:r.locale)??n.locale??sL,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((m=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((x=(g=n.locale)==null?void 0:g.options)==null?void 0:x.weekStartsOn)??0,s=vt(t);if(!lne(s))throw new RangeError("Invalid time value");let l=e.match(eae).map(y=>{const w=y[0];if(w==="p"||w==="P"){const _=Hne[w];return _(y,a.formatLong)}return y}).join("").match(Jne).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const w=y[0];if(w==="'")return{isToken:!1,value:aae(y)};if(xP[w])return{isToken:!0,value:y};if(w.match(nae))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(l=a.localize.preprocessor(s,l));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return l.map(y=>{if(!y.isToken)return y.value;const w=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Yne(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Xne(w))&&Zne(w,e,String(t));const _=xP[w[0]];return _(s,w,a.localize,u)}).join("")}function aae(t){const e=t.match(tae);return e?e[1].replace(rae,"'"):t}function iae(t){const e=vt(t),r=e.getFullYear(),n=e.getMonth(),a=Wa(t,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function oae(t){return Math.trunc(+vt(t)/1e3)}function sae(t){const e=vt(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(0,0,0,0),e}function lae(t,e){return cne(sae(t),xa(t),e)+1}function aS(t,e){const r=vt(t),n=vt(e);return r.getTime()>n.getTime()}function fL(t,e){const r=vt(t),n=vt(e);return+r<+n}function ZA(t,e){const r=vt(t),n=vt(e);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function cae(t,e){const r=vt(t),n=vt(e);return r.getFullYear()===n.getFullYear()}function Ob(t,e){return Kn(t,-e)}function Tb(t,e){const r=vt(t),n=r.getFullYear(),a=r.getDate(),i=Wa(t,0);i.setFullYear(n,e,15),i.setHours(0,0,0,0);const o=iae(i);return r.setMonth(e,Math.min(a,o)),r}function SP(t,e){const r=vt(t);return isNaN(+r)?Wa(t,NaN):(r.setFullYear(e),r)}const uae={draft:{label:"Draft",className:"bg-slate-100 text-slate-800 border-slate-200 dark:bg-slate-900/30 dark:text-slate-400 dark:border-slate-800"},pending:{label:"Pending",className:"bg-amber-100 text-amber-800 border-amber-200 dark:bg-amber-900/30 dark:text-amber-400 dark:border-amber-800"},deposit_paid:{label:"Deposit Paid",className:"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-400 dark:border-blue-800"},materials_ordered:{label:"Materials Ordered",className:"bg-indigo-100 text-indigo-800 border-indigo-200 dark:bg-indigo-900/30 dark:text-indigo-400 dark:border-indigo-800"},in_production:{label:"In Production",className:"bg-purple-100 text-purple-800 border-purple-200 dark:bg-purple-900/30 dark:text-purple-400 dark:border-purple-800"},ready_for_fitting:{label:"Ready for Fitting",className:"bg-cyan-100 text-cyan-800 border-cyan-200 dark:bg-cyan-900/30 dark:text-cyan-400 dark:border-cyan-800"},ready_for_pickup:{label:"Ready for Pickup",className:"bg-emerald-100 text-emerald-800 border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-400 dark:border-emerald-800"},completed:{label:"Completed",className:"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-800"},cancelled:{label:"Cancelled",className:"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-400 dark:border-red-800"}};function ff({status:t,className:e}){const r=uae[t];return c.jsx("span",{className:fe("status-badge border",r.className,e),children:r.label})}function dae({orders:t}){return c.jsxs("div",{className:"card-luxury overflow-hidden",children:[c.jsx("div",{className:"border-b border-border px-4 py-3 sm:px-6 sm:py-4",children:c.jsx("h3",{className:"font-display text-lg font-semibold text-foreground",children:"Recent Orders"})}),c.jsx("div",{className:"space-y-2 lg:hidden p-2",children:t.map(e=>c.jsx("div",{className:"card-luxury p-3",children:c.jsx("div",{className:"flex items-start justify-between",children:c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("span",{className:"font-medium text-foreground",children:["#",e.orderNumber]}),c.jsx("p",{className:"mt-0.5 text-xs text-muted-foreground",children:e.store})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"font-medium text-sm",children:["",e.total.toLocaleString()]}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["Due ",it(e.dueDate,"MMM d")]})]})]}),c.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm text-foreground",children:e.customerName}),e.isVip&&c.jsx(Ma,{className:"h-4 w-4 text-gold"})]}),c.jsx(ff,{status:e.status})]})]})})},e.id))}),c.jsx("div",{className:"overflow-x-auto hidden lg:block",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-border bg-muted/30",children:[c.jsx("th",{className:"px-2 py-2 md:px-4 lg:px-6 lg:py-3 text-left text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Order"}),c.jsx("th",{className:"px-2 py-2 md:px-4 lg:px-6 lg:py-3 text-left text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Customer"}),c.jsx("th",{className:"px-2 py-2 md:px-4 lg:px-6 lg:py-3 text-left text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Status"}),c.jsx("th",{className:"px-2 py-2 md:px-4 lg:px-6 lg:py-3 text-left text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Total"}),c.jsx("th",{className:"px-2 py-2 md:px-4 lg:px-6 lg:py-3 text-left text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Balance"}),c.jsx("th",{className:"px-2 py-2 md:px-4 lg:px-6 lg:py-3 text-left text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Due Date"})]})}),c.jsx("tbody",{className:"divide-y divide-border",children:t.map(e=>c.jsxs("tr",{className:"transition-colors hover:bg-muted/20",children:[c.jsx("td",{className:"whitespace-nowrap px-2 py-2 md:px-4 lg:px-6 lg:py-4",children:c.jsxs("span",{className:"font-medium text-foreground",children:["#",e.orderNumber]})}),c.jsx("td",{className:"whitespace-nowrap px-2 py-2 md:px-4 lg:px-6 lg:py-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-foreground",children:e.customerName}),e.isVip&&c.jsx(Ma,{className:"h-4 w-4 text-gold"})]})}),c.jsx("td",{className:"whitespace-nowrap px-2 py-2 md:px-4 lg:px-6 lg:py-4",children:c.jsx(ff,{status:e.status})}),c.jsxs("td",{className:"whitespace-nowrap px-2 py-2 md:px-4 lg:px-6 lg:py-4 font-medium text-foreground",children:["",e.total.toLocaleString()]}),c.jsx("td",{className:"whitespace-nowrap px-2 py-2 md:px-4 lg:px-6 lg:py-4",children:c.jsxs("span",{className:e.total-e.paidAmount>0?"font-medium text-amber-600":"text-muted-foreground",children:["",(e.total-e.paidAmount).toLocaleString()]})}),c.jsx("td",{className:"whitespace-nowrap px-2 py-2 md:px-4 lg:px-6 lg:py-4 text-muted-foreground",children:it(e.dueDate,"MMM d, yyyy")})]},e.id))})]})})]})}function fae({customers:t}){return c.jsxs("div",{className:"card-luxury overflow-hidden",children:[c.jsx("div",{className:"border-b border-border px-2 py-2 md:px-4 lg:px-5 xl:px-6 lg:py-4",children:c.jsx("h3",{className:"font-display text-lg font-semibold text-foreground",children:"VIP Customers"})}),c.jsx("div",{className:"divide-y divide-border",children:t.map(e=>c.jsxs("div",{className:"flex items-center justify-between px-2 py-2 md:px-4 lg:px-5 xl:px-6 transition-colors hover:bg-muted/20",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"flex h-10 w-10 md:h-12 md:w-12 items-center justify-center rounded-full bg-primary/10 font-display text-lg font-semibold text-primary",children:e.name.charAt(0)}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-medium text-foreground",children:e.name}),e.isVip&&c.jsx(Ma,{className:"h-4 w-4 text-gold"})]}),c.jsxs("div",{className:"mt-1 flex items-center gap-2 text-xs text-muted-foreground",children:[c.jsx(Au,{className:"h-3.5 w-3.5"}),c.jsx("span",{children:e.phone})]})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"font-medium text-foreground",children:["",e.totalSpent.toLocaleString()]}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.totalOrders," orders"]})]}),c.jsxs(wi,{children:[c.jsx(bi,{asChild:!0,children:c.jsx(Y,{variant:"ghost",size:"icon",children:c.jsx(Ps,{className:"h-4 w-4 text-muted-foreground"})})}),c.jsxs(Va,{align:"end",children:[c.jsx(nt,{children:"View Profile"}),c.jsx(nt,{children:"New Order"}),c.jsx(nt,{children:"Send WhatsApp"})]})]})]})]},e.id))})]})}function hae({tasks:t}){return c.jsxs("div",{className:"card-luxury overflow-hidden",children:[c.jsx("div",{className:"border-b border-border px-4 py-3 sm:px-6 sm:py-4",children:c.jsx("h3",{className:"font-display text-lg font-semibold text-foreground",children:"Today's Tasks"})}),c.jsx("div",{className:"divide-y divide-border",children:t.map(e=>c.jsxs("div",{className:fe("flex items-center gap-3 px-2 py-2 md:px-4 lg:px-5 xl:px-6 transition-colors hover:bg-muted/20",e.completed&&"opacity-60"),children:[c.jsx("button",{className:fe("flex h-5 w-5 flex-shrink-0 items-center justify-center rounded-full border-2 transition-colors",e.completed?"border-emerald-500 bg-emerald-500":"border-border hover:border-primary"),children:e.completed?c.jsx(U1,{className:"h-3 w-3 text-white"}):c.jsx(WM,{className:"h-3 w-3 text-transparent"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:fe("font-medium",e.completed?"text-muted-foreground line-through":"text-foreground"),children:e.title}),c.jsxs("p",{className:"mt-0.5 text-xs text-muted-foreground",children:["Order #",e.orderNumber,"  ",e.assignee]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:fe("status-badge",e.priority==="high"&&"bg-red-100 text-red-800",e.priority==="medium"&&"bg-amber-100 text-amber-800",e.priority==="low"&&"bg-blue-100 text-blue-800"),children:e.priority}),c.jsx("span",{className:"text-sm text-muted-foreground",children:e.dueTime})]})]},e.id))})]})}var Av=t=>t.type==="checkbox",Rc=t=>t instanceof Date,Xn=t=>t==null;const hL=t=>typeof t=="object";var Dr=t=>!Xn(t)&&!Array.isArray(t)&&hL(t)&&!Rc(t),pL=t=>Dr(t)&&t.target?Av(t.target)?t.target.checked:t.target.value:t,pae=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,mL=(t,e)=>t.has(pae(e)),mae=t=>{const e=t.constructor&&t.constructor.prototype;return Dr(e)&&e.hasOwnProperty("isPrototypeOf")},QA=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Gr(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(QA&&(t instanceof Blob||n))&&(r||Dr(t)))if(e=r?[]:{},!r&&!mae(t))e=t;else for(const a in t)t.hasOwnProperty(a)&&(e[a]=Gr(t[a]));else return t;return e}var fx=t=>/^\w*$/.test(t),Pr=t=>t===void 0,JA=t=>Array.isArray(t)?t.filter(Boolean):[],ej=t=>JA(t.replace(/["|']|\]/g,"").split(/\.|\[/)),xe=(t,e,r)=>{if(!e||!Dr(t))return r;const n=(fx(e)?[e]:ej(e)).reduce((a,i)=>Xn(a)?a:a[i],t);return Pr(n)||n===t?Pr(t[e])?r:t[e]:n},Na=t=>typeof t=="boolean",$t=(t,e,r)=>{let n=-1;const a=fx(e)?[e]:ej(e),i=a.length,o=i-1;for(;++n<i;){const s=a[n];let l=r;if(n!==o){const u=t[s];l=Dr(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(s==="__proto__"||s==="constructor"||s==="prototype")return;t[s]=l,t=t[s]}};const J0={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Xi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ns={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},tj=k.createContext(null);tj.displayName="HookFormContext";const hx=()=>k.useContext(tj),vae=t=>{const{children:e,...r}=t;return k.createElement(tj.Provider,{value:r},e)};var vL=(t,e,r,n=!0)=>{const a={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(a,i,{get:()=>{const o=i;return e._proxyFormState[o]!==Xi.all&&(e._proxyFormState[o]=!n||Xi.all),r&&(r[o]=!0),t[o]}});return a};const rj=typeof window<"u"?k.useLayoutEffect:k.useEffect;function gae(t){const e=hx(),{control:r=e.control,disabled:n,name:a,exact:i}=t||{},[o,s]=k.useState(r._formState),l=k.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return rj(()=>r._subscribe({name:a,formState:l.current,exact:i,callback:u=>{!n&&s({...r._formState,...u})}}),[a,n,i]),k.useEffect(()=>{l.current.isValid&&r._setValid(!0)},[r]),k.useMemo(()=>vL(o,r,l.current,!1),[o,r])}var jo=t=>typeof t=="string",gL=(t,e,r,n,a)=>jo(t)?(n&&e.watch.add(t),xe(r,t,a)):Array.isArray(t)?t.map(i=>(n&&e.watch.add(i),xe(r,i))):(n&&(e.watchAll=!0),r),iS=t=>Xn(t)||!hL(t);function ms(t,e,r=new WeakSet){if(iS(t)||iS(e))return t===e;if(Rc(t)&&Rc(e))return t.getTime()===e.getTime();const n=Object.keys(t),a=Object.keys(e);if(n.length!==a.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const i of n){const o=t[i];if(!a.includes(i))return!1;if(i!=="ref"){const s=e[i];if(Rc(o)&&Rc(s)||Dr(o)&&Dr(s)||Array.isArray(o)&&Array.isArray(s)?!ms(o,s,r):o!==s)return!1}}return!0}function yae(t){const e=hx(),{control:r=e.control,name:n,defaultValue:a,disabled:i,exact:o,compute:s}=t||{},l=k.useRef(a),u=k.useRef(s),d=k.useRef(void 0);u.current=s;const f=k.useMemo(()=>r._getWatch(n,l.current),[r,n]),[h,p]=k.useState(u.current?u.current(f):f);return rj(()=>r._subscribe({name:n,formState:{values:!0},exact:o,callback:v=>{if(!i){const m=gL(n,r._names,v.values||r._formValues,!1,l.current);if(u.current){const g=u.current(m);ms(g,d.current)||(p(g),d.current=g)}else p(m)}}}),[r,i,n,o]),k.useEffect(()=>r._removeUnmounted()),h}function xae(t){const e=hx(),{name:r,disabled:n,control:a=e.control,shouldUnregister:i,defaultValue:o}=t,s=mL(a._names.array,r),l=k.useMemo(()=>xe(a._formValues,r,xe(a._defaultValues,r,o)),[a,r,o]),u=yae({control:a,name:r,defaultValue:l,exact:!0}),d=gae({control:a,name:r,exact:!0}),f=k.useRef(t),h=k.useRef(a.register(r,{...t.rules,value:u,...Na(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const p=k.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!xe(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!xe(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!xe(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!xe(d.validatingFields,r)},error:{enumerable:!0,get:()=>xe(d.errors,r)}}),[d,r]),v=k.useCallback(y=>h.current.onChange({target:{value:pL(y),name:r},type:J0.CHANGE}),[r]),m=k.useCallback(()=>h.current.onBlur({target:{value:xe(a._formValues,r),name:r},type:J0.BLUR}),[r,a._formValues]),g=k.useCallback(y=>{const w=xe(a._fields,r);w&&y&&(w._f.ref={focus:()=>y.focus&&y.focus(),select:()=>y.select&&y.select(),setCustomValidity:_=>y.setCustomValidity(_),reportValidity:()=>y.reportValidity()})},[a._fields,r]),x=k.useMemo(()=>({name:r,value:u,...Na(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:v,onBlur:m,ref:g}),[r,n,d.disabled,v,m,g,u]);return k.useEffect(()=>{const y=a._options.shouldUnregister||i;a.register(r,{...f.current.rules,...Na(f.current.disabled)?{disabled:f.current.disabled}:{}});const w=(_,S)=>{const C=xe(a._fields,_);C&&C._f&&(C._f.mount=S)};if(w(r,!0),y){const _=Gr(xe(a._options.defaultValues,r));$t(a._defaultValues,r,_),Pr(xe(a._formValues,r))&&$t(a._formValues,r,_)}return!s&&a.register(r),()=>{(s?y&&!a._state.action:y)?a.unregister(r):w(r,!1)}},[r,a,s,i]),k.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),k.useMemo(()=>({field:x,formState:d,fieldState:p}),[x,d,p])}const wae=t=>t.render(xae(t));var yL=(t,e,r,n,a)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:a||!0}}:{},Cp=t=>Array.isArray(t)?t:[t],CP=()=>{let t=[];return{get observers(){return t},next:a=>{for(const i of t)i.next&&i.next(a)},subscribe:a=>(t.push(a),{unsubscribe:()=>{t=t.filter(i=>i!==a)}}),unsubscribe:()=>{t=[]}}},ca=t=>Dr(t)&&!Object.keys(t).length,nj=t=>t.type==="file",Yi=t=>typeof t=="function",ey=t=>{if(!QA)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},xL=t=>t.type==="select-multiple",aj=t=>t.type==="radio",bae=t=>aj(t)||Av(t),Pb=t=>ey(t)&&t.isConnected;function _ae(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Pr(t)?n++:t[e[n++]];return t}function Sae(t){for(const e in t)if(t.hasOwnProperty(e)&&!Pr(t[e]))return!1;return!0}function Mr(t,e){const r=Array.isArray(e)?e:fx(e)?[e]:ej(e),n=r.length===1?t:_ae(t,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(Dr(n)&&ca(n)||Array.isArray(n)&&Sae(n))&&Mr(t,r.slice(0,-1)),t}var wL=t=>{for(const e in t)if(Yi(t[e]))return!0;return!1};function ty(t,e={}){const r=Array.isArray(t);if(Dr(t)||r)for(const n in t)Array.isArray(t[n])||Dr(t[n])&&!wL(t[n])?(e[n]=Array.isArray(t[n])?[]:{},ty(t[n],e[n])):Xn(t[n])||(e[n]=!0);return e}function bL(t,e,r){const n=Array.isArray(t);if(Dr(t)||n)for(const a in t)Array.isArray(t[a])||Dr(t[a])&&!wL(t[a])?Pr(e)||iS(r[a])?r[a]=Array.isArray(t[a])?ty(t[a],[]):{...ty(t[a])}:bL(t[a],Xn(e)?{}:e[a],r[a]):r[a]=!ms(t[a],e[a]);return r}var Lh=(t,e)=>bL(t,e,ty(e));const EP={value:!1,isValid:!1},AP={value:!0,isValid:!0};var _L=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Pr(t[0].attributes.value)?Pr(t[0].value)||t[0].value===""?AP:{value:t[0].value,isValid:!0}:AP:EP}return EP},SL=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Pr(t)?t:e?t===""?NaN:t&&+t:r&&jo(t)?new Date(t):n?n(t):t;const jP={isValid:!1,value:null};var CL=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,jP):jP;function NP(t){const e=t.ref;return nj(e)?e.files:aj(e)?CL(t.refs).value:xL(e)?[...e.selectedOptions].map(({value:r})=>r):Av(e)?_L(t.refs).value:SL(Pr(e.value)?t.ref.value:e.value,t)}var Cae=(t,e,r,n)=>{const a={};for(const i of t){const o=xe(e,i);o&&$t(a,i,o._f)}return{criteriaMode:r,names:[...t],fields:a,shouldUseNativeValidation:n}},ry=t=>t instanceof RegExp,Fh=t=>Pr(t)?t:ry(t)?t.source:Dr(t)?ry(t.value)?t.value.source:t.value:t,OP=t=>({isOnSubmit:!t||t===Xi.onSubmit,isOnBlur:t===Xi.onBlur,isOnChange:t===Xi.onChange,isOnAll:t===Xi.all,isOnTouch:t===Xi.onTouched});const TP="AsyncFunction";var Eae=t=>!!t&&!!t.validate&&!!(Yi(t.validate)&&t.validate.constructor.name===TP||Dr(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===TP)),Aae=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),PP=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Ep=(t,e,r,n)=>{for(const a of r||Object.keys(t)){const i=xe(t,a);if(i){const{_f:o,...s}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],a)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(Ep(s,e))break}else if(Dr(s)&&Ep(s,e))break}}};function kP(t,e,r){const n=xe(t,r);if(n||fx(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=xe(e,i),s=xe(t,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(s&&s.type)return{name:i,error:s};if(s&&s.root&&s.root.type)return{name:`${i}.root`,error:s.root};a.pop()}return{name:r}}var jae=(t,e,r,n)=>{r(t);const{name:a,...i}=t;return ca(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!n||Xi.all))},Nae=(t,e,r)=>!t||!e||t===e||Cp(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),Oae=(t,e,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(e||t):(r?n.isOnBlur:a.isOnBlur)?!t:(r?n.isOnChange:a.isOnChange)?t:!0,Tae=(t,e)=>!JA(xe(t,e)).length&&Mr(t,e),Pae=(t,e,r)=>{const n=Cp(xe(t,r));return $t(n,"root",e[r]),$t(t,r,n),t},l0=t=>jo(t);function IP(t,e,r="validate"){if(l0(t)||Array.isArray(t)&&t.every(l0)||Na(t)&&!t)return{type:r,message:l0(t)?t:"",ref:e}}var Xu=t=>Dr(t)&&!ry(t)?t:{value:t,message:""},RP=async(t,e,r,n,a,i)=>{const{ref:o,refs:s,required:l,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:v,name:m,valueAsNumber:g,mount:x}=t._f,y=xe(r,m);if(!x||e.has(m))return{};const w=s?s[0]:o,_=O=>{a&&w.reportValidity&&(w.setCustomValidity(Na(O)?"":O||""),w.reportValidity())},S={},C=aj(o),E=Av(o),A=C||E,j=(g||nj(o))&&Pr(o.value)&&Pr(y)||ey(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,T=yL.bind(null,m,n,S),N=(O,$,R,F=ns.maxLength,B=ns.minLength)=>{const M=O?$:R;S[m]={type:O?F:B,message:M,ref:o,...T(O?F:B,M)}};if(i?!Array.isArray(y)||!y.length:l&&(!A&&(j||Xn(y))||Na(y)&&!y||E&&!_L(s).isValid||C&&!CL(s).isValid)){const{value:O,message:$}=l0(l)?{value:!!l,message:l}:Xu(l);if(O&&(S[m]={type:ns.required,message:$,ref:w,...T(ns.required,$)},!n))return _($),S}if(!j&&(!Xn(f)||!Xn(h))){let O,$;const R=Xu(h),F=Xu(f);if(!Xn(y)&&!isNaN(y)){const B=o.valueAsNumber||y&&+y;Xn(R.value)||(O=B>R.value),Xn(F.value)||($=B<F.value)}else{const B=o.valueAsDate||new Date(y),M=V=>new Date(new Date().toDateString()+" "+V),I=o.type=="time",P=o.type=="week";jo(R.value)&&y&&(O=I?M(y)>M(R.value):P?y>R.value:B>new Date(R.value)),jo(F.value)&&y&&($=I?M(y)<M(F.value):P?y<F.value:B<new Date(F.value))}if((O||$)&&(N(!!O,R.message,F.message,ns.max,ns.min),!n))return _(S[m].message),S}if((u||d)&&!j&&(jo(y)||i&&Array.isArray(y))){const O=Xu(u),$=Xu(d),R=!Xn(O.value)&&y.length>+O.value,F=!Xn($.value)&&y.length<+$.value;if((R||F)&&(N(R,O.message,$.message),!n))return _(S[m].message),S}if(p&&!j&&jo(y)){const{value:O,message:$}=Xu(p);if(ry(O)&&!y.match(O)&&(S[m]={type:ns.pattern,message:$,ref:o,...T(ns.pattern,$)},!n))return _($),S}if(v){if(Yi(v)){const O=await v(y,r),$=IP(O,w);if($&&(S[m]={...$,...T(ns.validate,$.message)},!n))return _($.message),S}else if(Dr(v)){let O={};for(const $ in v){if(!ca(O)&&!n)break;const R=IP(await v[$](y,r),w,$);R&&(O={...R,...T($,R.message)},_(R.message),n&&(S[m]=O))}if(!ca(O)&&(S[m]={ref:w,...O},!n))return S}}return _(!0),S};const kae={mode:Xi.onSubmit,reValidateMode:Xi.onChange,shouldFocusError:!0};function Iae(t={}){let e={...kae,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Yi(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},a=Dr(e.defaultValues)||Dr(e.values)?Gr(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:Gr(a),o={action:!1,mount:!1,watch:!1},s={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:CP(),state:CP()},p=e.criteriaMode===Xi.all,v=U=>q=>{clearTimeout(u),u=setTimeout(U,q)},m=async U=>{if(!e.disabled&&(d.isValid||f.isValid||U)){const q=e.resolver?ca((await E()).errors):await j(n,!0);q!==r.isValid&&h.state.next({isValid:q})}},g=(U,q)=>{!e.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((U||Array.from(s.mount)).forEach(L=>{L&&(q?$t(r.validatingFields,L,q):Mr(r.validatingFields,L))}),h.state.next({validatingFields:r.validatingFields,isValidating:!ca(r.validatingFields)}))},x=(U,q=[],L,X,ne=!0,ie=!0)=>{if(X&&L&&!e.disabled){if(o.action=!0,ie&&Array.isArray(xe(n,U))){const ae=L(xe(n,U),X.argA,X.argB);ne&&$t(n,U,ae)}if(ie&&Array.isArray(xe(r.errors,U))){const ae=L(xe(r.errors,U),X.argA,X.argB);ne&&$t(r.errors,U,ae),Tae(r.errors,U)}if((d.touchedFields||f.touchedFields)&&ie&&Array.isArray(xe(r.touchedFields,U))){const ae=L(xe(r.touchedFields,U),X.argA,X.argB);ne&&$t(r.touchedFields,U,ae)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Lh(a,i)),h.state.next({name:U,isDirty:N(U,q),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else $t(i,U,q)},y=(U,q)=>{$t(r.errors,U,q),h.state.next({errors:r.errors})},w=U=>{r.errors=U,h.state.next({errors:r.errors,isValid:!1})},_=(U,q,L,X)=>{const ne=xe(n,U);if(ne){const ie=xe(i,U,Pr(L)?xe(a,U):L);Pr(ie)||X&&X.defaultChecked||q?$t(i,U,q?ie:NP(ne._f)):R(U,ie),o.mount&&m()}},S=(U,q,L,X,ne)=>{let ie=!1,ae=!1;const Ue={name:U};if(!e.disabled){if(!L||X){(d.isDirty||f.isDirty)&&(ae=r.isDirty,r.isDirty=Ue.isDirty=N(),ie=ae!==Ue.isDirty);const ct=ms(xe(a,U),q);ae=!!xe(r.dirtyFields,U),ct?Mr(r.dirtyFields,U):$t(r.dirtyFields,U,!0),Ue.dirtyFields=r.dirtyFields,ie=ie||(d.dirtyFields||f.dirtyFields)&&ae!==!ct}if(L){const ct=xe(r.touchedFields,U);ct||($t(r.touchedFields,U,L),Ue.touchedFields=r.touchedFields,ie=ie||(d.touchedFields||f.touchedFields)&&ct!==L)}ie&&ne&&h.state.next(Ue)}return ie?Ue:{}},C=(U,q,L,X)=>{const ne=xe(r.errors,U),ie=(d.isValid||f.isValid)&&Na(q)&&r.isValid!==q;if(e.delayError&&L?(l=v(()=>y(U,L)),l(e.delayError)):(clearTimeout(u),l=null,L?$t(r.errors,U,L):Mr(r.errors,U)),(L?!ms(ne,L):ne)||!ca(X)||ie){const ae={...X,...ie&&Na(q)?{isValid:q}:{},errors:r.errors,name:U};r={...r,...ae},h.state.next(ae)}},E=async U=>{g(U,!0);const q=await e.resolver(i,e.context,Cae(U||s.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return g(U),q},A=async U=>{const{errors:q}=await E(U);if(U)for(const L of U){const X=xe(q,L);X?$t(r.errors,L,X):Mr(r.errors,L)}else r.errors=q;return q},j=async(U,q,L={valid:!0})=>{for(const X in U){const ne=U[X];if(ne){const{_f:ie,...ae}=ne;if(ie){const Ue=s.array.has(ie.name),ct=ne._f&&Eae(ne._f);ct&&d.validatingFields&&g([X],!0);const Or=await RP(ne,s.disabled,i,p,e.shouldUseNativeValidation&&!q,Ue);if(ct&&d.validatingFields&&g([X]),Or[ie.name]&&(L.valid=!1,q))break;!q&&(xe(Or,ie.name)?Ue?Pae(r.errors,Or,ie.name):$t(r.errors,ie.name,Or[ie.name]):Mr(r.errors,ie.name))}!ca(ae)&&await j(ae,q,L)}}return L.valid},T=()=>{for(const U of s.unMount){const q=xe(n,U);q&&(q._f.refs?q._f.refs.every(L=>!Pb(L)):!Pb(q._f.ref))&&te(U)}s.unMount=new Set},N=(U,q)=>!e.disabled&&(U&&q&&$t(i,U,q),!ms(V(),a)),O=(U,q,L)=>gL(U,s,{...o.mount?i:Pr(q)?a:jo(U)?{[U]:q}:q},L,q),$=U=>JA(xe(o.mount?i:a,U,e.shouldUnregister?xe(a,U,[]):[])),R=(U,q,L={})=>{const X=xe(n,U);let ne=q;if(X){const ie=X._f;ie&&(!ie.disabled&&$t(i,U,SL(q,ie)),ne=ey(ie.ref)&&Xn(q)?"":q,xL(ie.ref)?[...ie.ref.options].forEach(ae=>ae.selected=ne.includes(ae.value)):ie.refs?Av(ie.ref)?ie.refs.forEach(ae=>{(!ae.defaultChecked||!ae.disabled)&&(Array.isArray(ne)?ae.checked=!!ne.find(Ue=>Ue===ae.value):ae.checked=ne===ae.value||!!ne)}):ie.refs.forEach(ae=>ae.checked=ae.value===ne):nj(ie.ref)?ie.ref.value="":(ie.ref.value=ne,ie.ref.type||h.state.next({name:U,values:Gr(i)})))}(L.shouldDirty||L.shouldTouch)&&S(U,ne,L.shouldTouch,L.shouldDirty,!0),L.shouldValidate&&P(U)},F=(U,q,L)=>{for(const X in q){if(!q.hasOwnProperty(X))return;const ne=q[X],ie=U+"."+X,ae=xe(n,ie);(s.array.has(U)||Dr(ne)||ae&&!ae._f)&&!Rc(ne)?F(ie,ne,L):R(ie,ne,L)}},B=(U,q,L={})=>{const X=xe(n,U),ne=s.array.has(U),ie=Gr(q);$t(i,U,ie),ne?(h.array.next({name:U,values:Gr(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&L.shouldDirty&&h.state.next({name:U,dirtyFields:Lh(a,i),isDirty:N(U,ie)})):X&&!X._f&&!Xn(ie)?F(U,ie,L):R(U,ie,L),PP(U,s)&&h.state.next({...r,name:U}),h.state.next({name:o.mount?U:void 0,values:Gr(i)})},M=async U=>{o.mount=!0;const q=U.target;let L=q.name,X=!0;const ne=xe(n,L),ie=ct=>{X=Number.isNaN(ct)||Rc(ct)&&isNaN(ct.getTime())||ms(ct,xe(i,L,ct))},ae=OP(e.mode),Ue=OP(e.reValidateMode);if(ne){let ct,Or;const aa=q.type?NP(ne._f):pL(U),Bn=U.type===J0.BLUR||U.type===J0.FOCUS_OUT,$u=!Aae(ne._f)&&!e.resolver&&!xe(r.errors,L)&&!ne._f.deps||Oae(Bn,xe(r.touchedFields,L),r.isSubmitted,Ue,ae),es=PP(L,s,Bn);$t(i,L,aa),Bn?(ne._f.onBlur&&ne._f.onBlur(U),l&&l(0)):ne._f.onChange&&ne._f.onChange(U);const Qa=S(L,aa,Bn),yn=!ca(Qa)||es;if(!Bn&&h.state.next({name:L,type:U.type,values:Gr(i)}),$u)return(d.isValid||f.isValid)&&(e.mode==="onBlur"?Bn&&m():Bn||m()),yn&&h.state.next({name:L,...es?{}:Qa});if(!Bn&&es&&h.state.next({...r}),e.resolver){const{errors:_a}=await E([L]);if(ie(aa),X){const uc=kP(r.errors,n,L),ts=kP(_a,n,uc.name||L);ct=ts.error,L=ts.name,Or=ca(_a)}}else g([L],!0),ct=(await RP(ne,s.disabled,i,p,e.shouldUseNativeValidation))[L],g([L]),ie(aa),X&&(ct?Or=!1:(d.isValid||f.isValid)&&(Or=await j(n,!0)));X&&(ne._f.deps&&P(ne._f.deps),C(L,Or,ct,Qa))}},I=(U,q)=>{if(xe(r.errors,q)&&U.focus)return U.focus(),1},P=async(U,q={})=>{let L,X;const ne=Cp(U);if(e.resolver){const ie=await A(Pr(U)?U:ne);L=ca(ie),X=U?!ne.some(ae=>xe(ie,ae)):L}else U?(X=(await Promise.all(ne.map(async ie=>{const ae=xe(n,ie);return await j(ae&&ae._f?{[ie]:ae}:ae)}))).every(Boolean),!(!X&&!r.isValid)&&m()):X=L=await j(n);return h.state.next({...!jo(U)||(d.isValid||f.isValid)&&L!==r.isValid?{}:{name:U},...e.resolver||!U?{isValid:L}:{},errors:r.errors}),q.shouldFocus&&!X&&Ep(n,I,U?ne:s.mount),X},V=U=>{const q={...o.mount?i:a};return Pr(U)?q:jo(U)?xe(q,U):U.map(L=>xe(q,L))},z=(U,q)=>({invalid:!!xe((q||r).errors,U),isDirty:!!xe((q||r).dirtyFields,U),error:xe((q||r).errors,U),isValidating:!!xe(r.validatingFields,U),isTouched:!!xe((q||r).touchedFields,U)}),H=U=>{U&&Cp(U).forEach(q=>Mr(r.errors,q)),h.state.next({errors:U?r.errors:{}})},K=(U,q,L)=>{const X=(xe(n,U,{_f:{}})._f||{}).ref,ne=xe(r.errors,U)||{},{ref:ie,message:ae,type:Ue,...ct}=ne;$t(r.errors,U,{...ct,...q,ref:X}),h.state.next({name:U,errors:r.errors,isValid:!1}),L&&L.shouldFocus&&X&&X.focus&&X.focus()},re=(U,q)=>Yi(U)?h.state.subscribe({next:L=>"values"in L&&U(O(void 0,q),L)}):O(U,q,!0),ue=U=>h.state.subscribe({next:q=>{Nae(U.name,q.name,U.exact)&&jae(q,U.formState||d,Kt,U.reRenderRoot)&&U.callback({values:{...i},...r,...q,defaultValues:a})}}).unsubscribe,oe=U=>(o.mount=!0,f={...f,...U.formState},ue({...U,formState:f})),te=(U,q={})=>{for(const L of U?Cp(U):s.mount)s.mount.delete(L),s.array.delete(L),q.keepValue||(Mr(n,L),Mr(i,L)),!q.keepError&&Mr(r.errors,L),!q.keepDirty&&Mr(r.dirtyFields,L),!q.keepTouched&&Mr(r.touchedFields,L),!q.keepIsValidating&&Mr(r.validatingFields,L),!e.shouldUnregister&&!q.keepDefaultValue&&Mr(a,L);h.state.next({values:Gr(i)}),h.state.next({...r,...q.keepDirty?{isDirty:N()}:{}}),!q.keepIsValid&&m()},pe=({disabled:U,name:q})=>{(Na(U)&&o.mount||U||s.disabled.has(q))&&(U?s.disabled.add(q):s.disabled.delete(q))},ee=(U,q={})=>{let L=xe(n,U);const X=Na(q.disabled)||Na(e.disabled);return $t(n,U,{...L||{},_f:{...L&&L._f?L._f:{ref:{name:U}},name:U,mount:!0,...q}}),s.mount.add(U),L?pe({disabled:Na(q.disabled)?q.disabled:e.disabled,name:U}):_(U,!0,q.value),{...X?{disabled:q.disabled||e.disabled}:{},...e.progressive?{required:!!q.required,min:Fh(q.min),max:Fh(q.max),minLength:Fh(q.minLength),maxLength:Fh(q.maxLength),pattern:Fh(q.pattern)}:{},name:U,onChange:M,onBlur:M,ref:ne=>{if(ne){ee(U,q),L=xe(n,U);const ie=Pr(ne.value)&&ne.querySelectorAll&&ne.querySelectorAll("input,select,textarea")[0]||ne,ae=bae(ie),Ue=L._f.refs||[];if(ae?Ue.find(ct=>ct===ie):ie===L._f.ref)return;$t(n,U,{_f:{...L._f,...ae?{refs:[...Ue.filter(Pb),ie,...Array.isArray(xe(a,U))?[{}]:[]],ref:{type:ie.type,name:U}}:{ref:ie}}}),_(U,!1,void 0,ie)}else L=xe(n,U,{}),L._f&&(L._f.mount=!1),(e.shouldUnregister||q.shouldUnregister)&&!(mL(s.array,U)&&o.action)&&s.unMount.add(U)}}},se=()=>e.shouldFocusError&&Ep(n,I,s.mount),ve=U=>{Na(U)&&(h.state.next({disabled:U}),Ep(n,(q,L)=>{const X=xe(n,L);X&&(q.disabled=X._f.disabled||U,Array.isArray(X._f.refs)&&X._f.refs.forEach(ne=>{ne.disabled=X._f.disabled||U}))},0,!1))},Z=(U,q)=>async L=>{let X;L&&(L.preventDefault&&L.preventDefault(),L.persist&&L.persist());let ne=Gr(i);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:ie,values:ae}=await E();r.errors=ie,ne=Gr(ae)}else await j(n);if(s.disabled.size)for(const ie of s.disabled)Mr(ne,ie);if(Mr(r.errors,"root"),ca(r.errors)){h.state.next({errors:{}});try{await U(ne,L)}catch(ie){X=ie}}else q&&await q({...r.errors},L),se(),setTimeout(se);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ca(r.errors)&&!X,submitCount:r.submitCount+1,errors:r.errors}),X)throw X},Ge=(U,q={})=>{xe(n,U)&&(Pr(q.defaultValue)?B(U,Gr(xe(a,U))):(B(U,q.defaultValue),$t(a,U,Gr(q.defaultValue))),q.keepTouched||Mr(r.touchedFields,U),q.keepDirty||(Mr(r.dirtyFields,U),r.isDirty=q.defaultValue?N(U,Gr(xe(a,U))):N()),q.keepError||(Mr(r.errors,U),d.isValid&&m()),h.state.next({...r}))},Be=(U,q={})=>{const L=U?Gr(U):a,X=Gr(L),ne=ca(U),ie=ne?a:X;if(q.keepDefaultValues||(a=L),!q.keepValues){if(q.keepDirtyValues){const ae=new Set([...s.mount,...Object.keys(Lh(a,i))]);for(const Ue of Array.from(ae))xe(r.dirtyFields,Ue)?$t(ie,Ue,xe(i,Ue)):B(Ue,xe(ie,Ue))}else{if(QA&&Pr(U))for(const ae of s.mount){const Ue=xe(n,ae);if(Ue&&Ue._f){const ct=Array.isArray(Ue._f.refs)?Ue._f.refs[0]:Ue._f.ref;if(ey(ct)){const Or=ct.closest("form");if(Or){Or.reset();break}}}}if(q.keepFieldsRef)for(const ae of s.mount)B(ae,xe(ie,ae));else n={}}i=e.shouldUnregister?q.keepDefaultValues?Gr(a):{}:Gr(ie),h.array.next({values:{...ie}}),h.state.next({values:{...ie}})}s={mount:q.keepDirtyValues?s.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!q.keepIsValid||!!q.keepDirtyValues,o.watch=!!e.shouldUnregister,h.state.next({submitCount:q.keepSubmitCount?r.submitCount:0,isDirty:ne?!1:q.keepDirty?r.isDirty:!!(q.keepDefaultValues&&!ms(U,a)),isSubmitted:q.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ne?{}:q.keepDirtyValues?q.keepDefaultValues&&i?Lh(a,i):r.dirtyFields:q.keepDefaultValues&&U?Lh(a,U):q.keepDirty?r.dirtyFields:{},touchedFields:q.keepTouched?r.touchedFields:{},errors:q.keepErrors?r.errors:{},isSubmitSuccessful:q.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},ht=(U,q)=>Be(Yi(U)?U(i):U,q),yt=(U,q={})=>{const L=xe(n,U),X=L&&L._f;if(X){const ne=X.refs?X.refs[0]:X.ref;ne.focus&&(ne.focus(),q.shouldSelect&&Yi(ne.select)&&ne.select())}},Kt=U=>{r={...r,...U}},Wr={control:{register:ee,unregister:te,getFieldState:z,handleSubmit:Z,setError:K,_subscribe:ue,_runSchema:E,_focusError:se,_getWatch:O,_getDirty:N,_setValid:m,_setFieldArray:x,_setDisabledField:pe,_setErrors:w,_getFieldArray:$,_reset:Be,_resetDefaultValues:()=>Yi(e.defaultValues)&&e.defaultValues().then(U=>{ht(U,e.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:T,_disableForm:ve,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(U){o=U},get _defaultValues(){return a},get _names(){return s},set _names(U){s=U},get _formState(){return r},get _options(){return e},set _options(U){e={...e,...U}}},subscribe:oe,trigger:P,register:ee,handleSubmit:Z,watch:re,setValue:B,getValues:V,reset:ht,resetField:Ge,clearErrors:H,unregister:te,setError:K,setFocus:yt,getFieldState:z};return{...Wr,formControl:Wr}}function za(t={}){const e=k.useRef(void 0),r=k.useRef(void 0),[n,a]=k.useState({isDirty:!1,isValidating:!1,isLoading:Yi(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Yi(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!Yi(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...s}=Iae(t);e.current={...s,formState:n}}const i=e.current.control;return i._options=t,rj(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(s=>({...s,isReady:!0})),i._formState.isReady=!0,o},[i]),k.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),k.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),k.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),k.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),k.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),k.useEffect(()=>{t.values&&!ms(t.values,r.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=t.values,a(o=>({...o}))):i._resetDefaultValues()},[i,t.values]),k.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=vL(n,i),e.current}const DP=(t,e,r)=>{if(t&&"reportValidity"in t){const n=xe(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},EL=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?DP(n.ref,r,t):n.refs&&n.refs.forEach(a=>DP(a,r,t))}},Rae=(t,e)=>{e.shouldUseNativeValidation&&EL(t,e);const r={};for(const n in t){const a=xe(e.fields,n),i=Object.assign(t[n]||{},{ref:a&&a.ref});if(Dae(e.names||Object.keys(t),n)){const o=Object.assign({},xe(r,n));$t(o,"root",i),$t(r,n,o)}else $t(r,n,i)}return r},Dae=(t,e)=>t.some(r=>r.startsWith(e+"."));var Mae=function(t,e){for(var r={};t.length;){var n=t[0],a=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var s=n.unionErrors[0].errors[0];r[o]={message:s.message,type:s.code}}else r[o]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return t.push(f)})}),e){var l=r[o].types,u=l&&l[n.code];r[o]=yL(o,e,r,a,u?[].concat(u,n.message):n.message)}t.shift()}return r},Ha=function(t,e,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(o,s){try{var l=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(u){return i.shouldUseNativeValidation&&EL({},i),{errors:{},values:r.raw?n:u}})}catch(u){return s(u)}return l&&l.then?l.then(void 0,s):l}(0,function(o){if(function(s){return Array.isArray(s==null?void 0:s.errors)}(o))return{values:{},errors:Rae(Mae(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},wt;(function(t){t.assertEqual=a=>{};function e(a){}t.assertIs=e;function r(a){throw new Error}t.assertNever=r,t.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},t.getValidEnumValues=a=>{const i=t.objectKeys(a).filter(s=>typeof a[a[s]]!="number"),o={};for(const s of i)o[s]=a[s];return t.objectValues(o)},t.objectValues=a=>t.objectKeys(a).map(function(i){return a[i]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},t.find=(a,i)=>{for(const o of a)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(wt||(wt={}));var MP;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(MP||(MP={}));const Pe=wt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ol=t=>{switch(typeof t){case"undefined":return Pe.undefined;case"string":return Pe.string;case"number":return Number.isNaN(t)?Pe.nan:Pe.number;case"boolean":return Pe.boolean;case"function":return Pe.function;case"bigint":return Pe.bigint;case"symbol":return Pe.symbol;case"object":return Array.isArray(t)?Pe.array:t===null?Pe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Pe.promise:typeof Map<"u"&&t instanceof Map?Pe.map:typeof Set<"u"&&t instanceof Set?Pe.set:typeof Date<"u"&&t instanceof Date?Pe.date:Pe.object;default:return Pe.unknown}},he=wt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Rs extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let s=n,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(s[u]=s[u]||{_errors:[]},s[u]._errors.push(r(o))):s[u]=s[u]||{_errors:[]},s=s[u],l++}}};return a(this),n}static assert(e){if(!(e instanceof Rs))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,wt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(e(a))}else n.push(e(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Rs.create=t=>new Rs(t);const oS=(t,e)=>{let r;switch(t.code){case he.invalid_type:t.received===Pe.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case he.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,wt.jsonStringifyReplacer)}`;break;case he.unrecognized_keys:r=`Unrecognized key(s) in object: ${wt.joinValues(t.keys,", ")}`;break;case he.invalid_union:r="Invalid input";break;case he.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${wt.joinValues(t.options)}`;break;case he.invalid_enum_value:r=`Invalid enum value. Expected ${wt.joinValues(t.options)}, received '${t.received}'`;break;case he.invalid_arguments:r="Invalid function arguments";break;case he.invalid_return_type:r="Invalid function return type";break;case he.invalid_date:r="Invalid date";break;case he.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:wt.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case he.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case he.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case he.custom:r="Invalid input";break;case he.invalid_intersection_types:r="Intersection results could not be merged";break;case he.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case he.not_finite:r="Number must be finite";break;default:r=e.defaultError,wt.assertNever(t)}return{message:r}};let $ae=oS;function Lae(){return $ae}const Fae=t=>{const{data:e,path:r,errorMaps:n,issueData:a}=t,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let s="";const l=n.filter(u=>!!u).slice().reverse();for(const u of l)s=u(o,{data:e,defaultError:s}).message;return{...a,path:i,message:s}};function Ae(t,e){const r=Lae(),n=Fae({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===oS?void 0:oS].filter(a=>!!a)});t.common.issues.push(n)}class qa{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const a of r){if(a.status==="aborted")return Ye;a.status==="dirty"&&e.dirty(),n.push(a.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const a of r){const i=await a.key,o=await a.value;n.push({key:i,value:o})}return qa.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return Ye;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:e.value,value:n}}}const Ye=Object.freeze({status:"aborted"}),op=t=>({status:"dirty",value:t}),Si=t=>({status:"valid",value:t}),$P=t=>t.status==="aborted",LP=t=>t.status==="dirty",hf=t=>t.status==="valid",ny=t=>typeof Promise<"u"&&t instanceof Promise;var Re;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Re||(Re={}));class Xl{constructor(e,r,n,a){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const FP=(t,e)=>{if(hf(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Rs(t.common.issues);return this._error=r,this._error}}};function lt(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:a}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(o,s)=>{const{message:l}=t;return o.code==="invalid_enum_value"?{message:l??s.defaultError}:typeof s.data>"u"?{message:l??n??s.defaultError}:o.code!=="invalid_type"?{message:s.defaultError}:{message:l??r??s.defaultError}},description:a}}class gt{get description(){return this._def.description}_getType(e){return ol(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:ol(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new qa,ctx:{common:e.parent.common,data:e.data,parsedType:ol(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(ny(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ol(e)},a=this._parseSync({data:e,path:n.path,parent:n});return FP(n,a)}"~validate"(e){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ol(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:r});return hf(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(a=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(i=>hf(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ol(e)},a=this._parse({data:e,path:n.path,parent:n}),i=await(ny(a)?a:Promise.resolve(a));return FP(n,i)}refine(e,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=e(a),s=()=>i.addIssue({code:he.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(s(),!1)):o?!0:(s(),!1)})}refinement(e,r){return this._refinement((n,a)=>e(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(e){return new vf({schema:this,typeName:Qe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return $l.create(this,this._def)}nullable(){return gf.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Io.create(this)}promise(){return oy.create(this,this._def)}or(e){return ay.create([this,e],this._def)}and(e){return iy.create(this,e,this._def)}transform(e){return new vf({...lt(this._def),schema:this,typeName:Qe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new cS({...lt(this._def),innerType:this,defaultValue:r,typeName:Qe.ZodDefault})}brand(){return new lie({typeName:Qe.ZodBranded,type:this,...lt(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new uS({...lt(this._def),innerType:this,catchValue:r,typeName:Qe.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return ij.create(this,e)}readonly(){return dS.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Bae=/^c[^\s-]{8,}$/i,Uae=/^[0-9a-z]+$/,Vae=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Wae=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,zae=/^[a-z0-9_-]{21}$/i,Hae=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,qae=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Gae=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Kae="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let kb;const Xae=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Yae=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Zae=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Qae=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Jae=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,eie=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,AL="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",tie=new RegExp(`^${AL}$`);function jL(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function rie(t){return new RegExp(`^${jL(t)}$`)}function nie(t){let e=`${AL}T${jL(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function aie(t,e){return!!((e==="v4"||!e)&&Xae.test(t)||(e==="v6"||!e)&&Zae.test(t))}function iie(t,e){if(!Hae.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||e&&a.alg!==e)}catch{return!1}}function oie(t,e){return!!((e==="v4"||!e)&&Yae.test(t)||(e==="v6"||!e)&&Qae.test(t))}class El extends gt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Pe.string){const i=this._getOrReturnCtx(e);return Ae(i,{code:he.invalid_type,expected:Pe.string,received:i.parsedType}),Ye}const n=new qa;let a;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(a=this._getOrReturnCtx(e,a),Ae(a,{code:he.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(a=this._getOrReturnCtx(e,a),Ae(a,{code:he.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,s=e.data.length<i.value;(o||s)&&(a=this._getOrReturnCtx(e,a),o?Ae(a,{code:he.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):s&&Ae(a,{code:he.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")Gae.test(e.data)||(a=this._getOrReturnCtx(e,a),Ae(a,{validation:"email",code:he.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")kb||(kb=new RegExp(Kae,"u")),kb.test(e.data)||(a=this._getOrReturnCtx(e,a),Ae(a,{validation:"emoji",code:he.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")Wae.test(e.data)||(a=this._getOrReturnCtx(e,a),Ae(a,{validation:"uuid",code:he.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")zae.test(e.data)||(a=this._getOrReturnCtx(e,a),Ae(a,{validation:"nanoid",code:he.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")Bae.test(e.data)||(a=this._getOrReturnCtx(e,a),Ae(a,{validation:"cuid",code:he.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")Uae.test(e.data)||(a=this._getOrReturnCtx(e,a),Ae(a,{validation:"cuid2",code:he.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")Vae.test(e.data)||(a=this._getOrReturnCtx(e,a),Ae(a,{validation:"ulid",code:he.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),Ae(a,{validation:"url",code:he.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),Ae(a,{validation:"regex",code:he.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(e,a),Ae(a,{code:he.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(a=this._getOrReturnCtx(e,a),Ae(a,{code:he.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(a=this._getOrReturnCtx(e,a),Ae(a,{code:he.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?nie(i).test(e.data)||(a=this._getOrReturnCtx(e,a),Ae(a,{code:he.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?tie.test(e.data)||(a=this._getOrReturnCtx(e,a),Ae(a,{code:he.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?rie(i).test(e.data)||(a=this._getOrReturnCtx(e,a),Ae(a,{code:he.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?qae.test(e.data)||(a=this._getOrReturnCtx(e,a),Ae(a,{validation:"duration",code:he.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?aie(e.data,i.version)||(a=this._getOrReturnCtx(e,a),Ae(a,{validation:"ip",code:he.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?iie(e.data,i.alg)||(a=this._getOrReturnCtx(e,a),Ae(a,{validation:"jwt",code:he.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?oie(e.data,i.version)||(a=this._getOrReturnCtx(e,a),Ae(a,{validation:"cidr",code:he.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?Jae.test(e.data)||(a=this._getOrReturnCtx(e,a),Ae(a,{validation:"base64",code:he.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?eie.test(e.data)||(a=this._getOrReturnCtx(e,a),Ae(a,{validation:"base64url",code:he.invalid_string,message:i.message}),n.dirty()):wt.assertNever(i);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(a=>e.test(a),{validation:r,code:he.invalid_string,...Re.errToObj(n)})}_addCheck(e){return new El({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Re.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Re.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Re.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Re.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Re.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Re.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Re.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Re.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Re.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Re.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Re.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Re.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Re.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Re.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Re.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Re.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Re.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...Re.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Re.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Re.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Re.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Re.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Re.errToObj(r)})}nonempty(e){return this.min(1,Re.errToObj(e))}trim(){return new El({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new El({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new El({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}El.create=t=>new El({checks:[],typeName:Qe.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...lt(t)});function sie(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(t.toFixed(a).replace(".","")),o=Number.parseInt(e.toFixed(a).replace(".",""));return i%o/10**a}class pf extends gt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Pe.number){const i=this._getOrReturnCtx(e);return Ae(i,{code:he.invalid_type,expected:Pe.number,received:i.parsedType}),Ye}let n;const a=new qa;for(const i of this._def.checks)i.kind==="int"?wt.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Ae(n,{code:he.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),Ae(n,{code:he.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),Ae(n,{code:he.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?sie(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),Ae(n,{code:he.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Ae(n,{code:he.not_finite,message:i.message}),a.dirty()):wt.assertNever(i);return{status:a.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Re.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Re.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Re.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Re.toString(r))}setLimit(e,r,n,a){return new pf({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Re.toString(a)}]})}_addCheck(e){return new pf({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Re.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Re.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Re.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Re.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Re.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Re.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Re.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Re.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Re.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&wt.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}pf.create=t=>new pf({checks:[],typeName:Qe.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...lt(t)});class pm extends gt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Pe.bigint)return this._getInvalidInput(e);let n;const a=new qa;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),Ae(n,{code:he.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),Ae(n,{code:he.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Ae(n,{code:he.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):wt.assertNever(i);return{status:a.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return Ae(r,{code:he.invalid_type,expected:Pe.bigint,received:r.parsedType}),Ye}gte(e,r){return this.setLimit("min",e,!0,Re.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Re.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Re.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Re.toString(r))}setLimit(e,r,n,a){return new pm({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Re.toString(a)}]})}_addCheck(e){return new pm({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Re.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Re.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Re.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Re.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Re.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}pm.create=t=>new pm({checks:[],typeName:Qe.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...lt(t)});class BP extends gt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Pe.boolean){const n=this._getOrReturnCtx(e);return Ae(n,{code:he.invalid_type,expected:Pe.boolean,received:n.parsedType}),Ye}return Si(e.data)}}BP.create=t=>new BP({typeName:Qe.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...lt(t)});class mm extends gt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Pe.date){const i=this._getOrReturnCtx(e);return Ae(i,{code:he.invalid_type,expected:Pe.date,received:i.parsedType}),Ye}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return Ae(i,{code:he.invalid_date}),Ye}const n=new qa;let a;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(a=this._getOrReturnCtx(e,a),Ae(a,{code:he.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(a=this._getOrReturnCtx(e,a),Ae(a,{code:he.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):wt.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new mm({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Re.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Re.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}mm.create=t=>new mm({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Qe.ZodDate,...lt(t)});class UP extends gt{_parse(e){if(this._getType(e)!==Pe.symbol){const n=this._getOrReturnCtx(e);return Ae(n,{code:he.invalid_type,expected:Pe.symbol,received:n.parsedType}),Ye}return Si(e.data)}}UP.create=t=>new UP({typeName:Qe.ZodSymbol,...lt(t)});class VP extends gt{_parse(e){if(this._getType(e)!==Pe.undefined){const n=this._getOrReturnCtx(e);return Ae(n,{code:he.invalid_type,expected:Pe.undefined,received:n.parsedType}),Ye}return Si(e.data)}}VP.create=t=>new VP({typeName:Qe.ZodUndefined,...lt(t)});class WP extends gt{_parse(e){if(this._getType(e)!==Pe.null){const n=this._getOrReturnCtx(e);return Ae(n,{code:he.invalid_type,expected:Pe.null,received:n.parsedType}),Ye}return Si(e.data)}}WP.create=t=>new WP({typeName:Qe.ZodNull,...lt(t)});class zP extends gt{constructor(){super(...arguments),this._any=!0}_parse(e){return Si(e.data)}}zP.create=t=>new zP({typeName:Qe.ZodAny,...lt(t)});class HP extends gt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Si(e.data)}}HP.create=t=>new HP({typeName:Qe.ZodUnknown,...lt(t)});class Yl extends gt{_parse(e){const r=this._getOrReturnCtx(e);return Ae(r,{code:he.invalid_type,expected:Pe.never,received:r.parsedType}),Ye}}Yl.create=t=>new Yl({typeName:Qe.ZodNever,...lt(t)});class qP extends gt{_parse(e){if(this._getType(e)!==Pe.undefined){const n=this._getOrReturnCtx(e);return Ae(n,{code:he.invalid_type,expected:Pe.void,received:n.parsedType}),Ye}return Si(e.data)}}qP.create=t=>new qP({typeName:Qe.ZodVoid,...lt(t)});class Io extends gt{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),a=this._def;if(r.parsedType!==Pe.array)return Ae(r,{code:he.invalid_type,expected:Pe.array,received:r.parsedType}),Ye;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,s=r.data.length<a.exactLength.value;(o||s)&&(Ae(r,{code:o?he.too_big:he.too_small,minimum:s?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Ae(r,{code:he.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Ae(r,{code:he.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,s)=>a.type._parseAsync(new Xl(r,o,r.path,s)))).then(o=>qa.mergeArray(n,o));const i=[...r.data].map((o,s)=>a.type._parseSync(new Xl(r,o,r.path,s)));return qa.mergeArray(n,i)}get element(){return this._def.type}min(e,r){return new Io({...this._def,minLength:{value:e,message:Re.toString(r)}})}max(e,r){return new Io({...this._def,maxLength:{value:e,message:Re.toString(r)}})}length(e,r){return new Io({...this._def,exactLength:{value:e,message:Re.toString(r)}})}nonempty(e){return this.min(1,e)}}Io.create=(t,e)=>new Io({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Qe.ZodArray,...lt(e)});function nd(t){if(t instanceof Ar){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=$l.create(nd(n))}return new Ar({...t._def,shape:()=>e})}else return t instanceof Io?new Io({...t._def,type:nd(t.element)}):t instanceof $l?$l.create(nd(t.unwrap())):t instanceof gf?gf.create(nd(t.unwrap())):t instanceof hu?hu.create(t.items.map(e=>nd(e))):t}class Ar extends gt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=wt.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==Pe.object){const u=this._getOrReturnCtx(e);return Ae(u,{code:he.invalid_type,expected:Pe.object,received:u.parsedType}),Ye}const{status:n,ctx:a}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),s=[];if(!(this._def.catchall instanceof Yl&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||s.push(u);const l=[];for(const u of o){const d=i[u],f=a.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new Xl(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof Yl){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of s)l.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")s.length>0&&(Ae(a,{code:he.unrecognized_keys,keys:s}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of s){const f=a.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new Xl(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of l){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>qa.mergeObjectSync(n,u)):qa.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(e){return Re.errToObj,new Ar({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,o;const a=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Re.errToObj(e).message??a}:{message:a}}}:{}})}strip(){return new Ar({...this._def,unknownKeys:"strip"})}passthrough(){return new Ar({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ar({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ar({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Qe.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Ar({...this._def,catchall:e})}pick(e){const r={};for(const n of wt.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Ar({...this._def,shape:()=>r})}omit(e){const r={};for(const n of wt.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new Ar({...this._def,shape:()=>r})}deepPartial(){return nd(this)}partial(e){const r={};for(const n of wt.objectKeys(this.shape)){const a=this.shape[n];e&&!e[n]?r[n]=a:r[n]=a.optional()}return new Ar({...this._def,shape:()=>r})}required(e){const r={};for(const n of wt.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof $l;)i=i._def.innerType;r[n]=i}return new Ar({...this._def,shape:()=>r})}keyof(){return NL(wt.objectKeys(this.shape))}}Ar.create=(t,e)=>new Ar({shape:()=>t,unknownKeys:"strip",catchall:Yl.create(),typeName:Qe.ZodObject,...lt(e)});Ar.strictCreate=(t,e)=>new Ar({shape:()=>t,unknownKeys:"strict",catchall:Yl.create(),typeName:Qe.ZodObject,...lt(e)});Ar.lazycreate=(t,e)=>new Ar({shape:t,unknownKeys:"strip",catchall:Yl.create(),typeName:Qe.ZodObject,...lt(e)});class ay extends gt{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function a(i){for(const s of i)if(s.result.status==="valid")return s.result;for(const s of i)if(s.result.status==="dirty")return r.common.issues.push(...s.ctx.common.issues),s.result;const o=i.map(s=>new Rs(s.ctx.common.issues));return Ae(r,{code:he.invalid_union,unionErrors:o}),Ye}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const l of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=l._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const s=o.map(l=>new Rs(l));return Ae(r,{code:he.invalid_union,unionErrors:s}),Ye}}get options(){return this._def.options}}ay.create=(t,e)=>new ay({options:t,typeName:Qe.ZodUnion,...lt(e)});function sS(t,e){const r=ol(t),n=ol(e);if(t===e)return{valid:!0,data:t};if(r===Pe.object&&n===Pe.object){const a=wt.objectKeys(e),i=wt.objectKeys(t).filter(s=>a.indexOf(s)!==-1),o={...t,...e};for(const s of i){const l=sS(t[s],e[s]);if(!l.valid)return{valid:!1};o[s]=l.data}return{valid:!0,data:o}}else if(r===Pe.array&&n===Pe.array){if(t.length!==e.length)return{valid:!1};const a=[];for(let i=0;i<t.length;i++){const o=t[i],s=e[i],l=sS(o,s);if(!l.valid)return{valid:!1};a.push(l.data)}return{valid:!0,data:a}}else return r===Pe.date&&n===Pe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class iy extends gt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),a=(i,o)=>{if($P(i)||$P(o))return Ye;const s=sS(i.value,o.value);return s.valid?((LP(i)||LP(o))&&r.dirty(),{status:r.value,value:s.data}):(Ae(n,{code:he.invalid_intersection_types}),Ye)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}iy.create=(t,e,r)=>new iy({left:t,right:e,typeName:Qe.ZodIntersection,...lt(r)});class hu extends gt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Pe.array)return Ae(n,{code:he.invalid_type,expected:Pe.array,received:n.parsedType}),Ye;if(n.data.length<this._def.items.length)return Ae(n,{code:he.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ye;!this._def.rest&&n.data.length>this._def.items.length&&(Ae(n,{code:he.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,s)=>{const l=this._def.items[s]||this._def.rest;return l?l._parse(new Xl(n,o,n.path,s)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>qa.mergeArray(r,o)):qa.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new hu({...this._def,rest:e})}}hu.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new hu({items:t,typeName:Qe.ZodTuple,rest:null,...lt(e)})};class GP extends gt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Pe.map)return Ae(n,{code:he.invalid_type,expected:Pe.map,received:n.parsedType}),Ye;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([s,l],u)=>({key:a._parse(new Xl(n,s,n.path,[u,"key"])),value:i._parse(new Xl(n,l,n.path,[u,"value"]))}));if(n.common.async){const s=new Map;return Promise.resolve().then(async()=>{for(const l of o){const u=await l.key,d=await l.value;if(u.status==="aborted"||d.status==="aborted")return Ye;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),s.set(u.value,d.value)}return{status:r.value,value:s}})}else{const s=new Map;for(const l of o){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return Ye;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),s.set(u.value,d.value)}return{status:r.value,value:s}}}}GP.create=(t,e,r)=>new GP({valueType:e,keyType:t,typeName:Qe.ZodMap,...lt(r)});class vm extends gt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Pe.set)return Ae(n,{code:he.invalid_type,expected:Pe.set,received:n.parsedType}),Ye;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(Ae(n,{code:he.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(Ae(n,{code:he.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(l){const u=new Set;for(const d of l){if(d.status==="aborted")return Ye;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const s=[...n.data.values()].map((l,u)=>i._parse(new Xl(n,l,n.path,u)));return n.common.async?Promise.all(s).then(l=>o(l)):o(s)}min(e,r){return new vm({...this._def,minSize:{value:e,message:Re.toString(r)}})}max(e,r){return new vm({...this._def,maxSize:{value:e,message:Re.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}vm.create=(t,e)=>new vm({valueType:t,minSize:null,maxSize:null,typeName:Qe.ZodSet,...lt(e)});class KP extends gt{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}KP.create=(t,e)=>new KP({getter:t,typeName:Qe.ZodLazy,...lt(e)});class lS extends gt{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return Ae(r,{received:r.data,code:he.invalid_literal,expected:this._def.value}),Ye}return{status:"valid",value:e.data}}get value(){return this._def.value}}lS.create=(t,e)=>new lS({value:t,typeName:Qe.ZodLiteral,...lt(e)});function NL(t,e){return new mf({values:t,typeName:Qe.ZodEnum,...lt(e)})}class mf extends gt{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return Ae(r,{expected:wt.joinValues(n),received:r.parsedType,code:he.invalid_type}),Ye}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return Ae(r,{received:r.data,code:he.invalid_enum_value,options:n}),Ye}return Si(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return mf.create(e,{...this._def,...r})}exclude(e,r=this._def){return mf.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}mf.create=NL;class XP extends gt{_parse(e){const r=wt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Pe.string&&n.parsedType!==Pe.number){const a=wt.objectValues(r);return Ae(n,{expected:wt.joinValues(a),received:n.parsedType,code:he.invalid_type}),Ye}if(this._cache||(this._cache=new Set(wt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const a=wt.objectValues(r);return Ae(n,{received:n.data,code:he.invalid_enum_value,options:a}),Ye}return Si(e.data)}get enum(){return this._def.values}}XP.create=(t,e)=>new XP({values:t,typeName:Qe.ZodNativeEnum,...lt(e)});class oy extends gt{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Pe.promise&&r.common.async===!1)return Ae(r,{code:he.invalid_type,expected:Pe.promise,received:r.parsedType}),Ye;const n=r.parsedType===Pe.promise?r.data:Promise.resolve(r.data);return Si(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}oy.create=(t,e)=>new oy({type:t,typeName:Qe.ZodPromise,...lt(e)});class vf extends gt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Qe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),a=this._def.effect||null,i={addIssue:o=>{Ae(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async s=>{if(r.value==="aborted")return Ye;const l=await this._def.schema._parseAsync({data:s,path:n.path,parent:n});return l.status==="aborted"?Ye:l.status==="dirty"||r.value==="dirty"?op(l.value):l});{if(r.value==="aborted")return Ye;const s=this._def.schema._parseSync({data:o,path:n.path,parent:n});return s.status==="aborted"?Ye:s.status==="dirty"||r.value==="dirty"?op(s.value):s}}if(a.type==="refinement"){const o=s=>{const l=a.refinement(s,i);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return s};if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Ye:(s.status==="dirty"&&r.dirty(),o(s.value),{status:r.value,value:s.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>s.status==="aborted"?Ye:(s.status==="dirty"&&r.dirty(),o(s.value).then(()=>({status:r.value,value:s.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!hf(o))return Ye;const s=a.transform(o.value,i);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:s}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>hf(o)?Promise.resolve(a.transform(o.value,i)).then(s=>({status:r.value,value:s})):Ye);wt.assertNever(a)}}vf.create=(t,e,r)=>new vf({schema:t,typeName:Qe.ZodEffects,effect:e,...lt(r)});vf.createWithPreprocess=(t,e,r)=>new vf({schema:e,effect:{type:"preprocess",transform:t},typeName:Qe.ZodEffects,...lt(r)});class $l extends gt{_parse(e){return this._getType(e)===Pe.undefined?Si(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}$l.create=(t,e)=>new $l({innerType:t,typeName:Qe.ZodOptional,...lt(e)});class gf extends gt{_parse(e){return this._getType(e)===Pe.null?Si(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}gf.create=(t,e)=>new gf({innerType:t,typeName:Qe.ZodNullable,...lt(e)});class cS extends gt{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Pe.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}cS.create=(t,e)=>new cS({innerType:t,typeName:Qe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...lt(e)});class uS extends gt{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return ny(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Rs(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Rs(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}uS.create=(t,e)=>new uS({innerType:t,typeName:Qe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...lt(e)});class YP extends gt{_parse(e){if(this._getType(e)!==Pe.nan){const n=this._getOrReturnCtx(e);return Ae(n,{code:he.invalid_type,expected:Pe.nan,received:n.parsedType}),Ye}return{status:"valid",value:e.data}}}YP.create=t=>new YP({typeName:Qe.ZodNaN,...lt(t)});class lie extends gt{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class ij extends gt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Ye:i.status==="dirty"?(r.dirty(),op(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Ye:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(e,r){return new ij({in:e,out:r,typeName:Qe.ZodPipeline})}}class dS extends gt{_parse(e){const r=this._def.innerType._parse(e),n=a=>(hf(a)&&(a.value=Object.freeze(a.value)),a);return ny(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}dS.create=(t,e)=>new dS({innerType:t,typeName:Qe.ZodReadonly,...lt(e)});Ar.lazycreate;var Qe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Qe||(Qe={}));const Me=El.create,di=pf.create,cie=mm.create;Yl.create;Io.create;const Za=Ar.create;Ar.strictCreate;ay.create;iy.create;hu.create;const Zi=lS.create,px=mf.create;oy.create;$l.create;gf.create;function Ap(t){const e=(t||"").trim();if(!e)return null;try{if(e.startsWith("+")){const n=e.replace(/\D/g,"");return n?`+${n}`:null}const r=e.replace(/\D/g,"");if(!r)return null;if(r.length>=11)return`+${r}`;if(r.length===10){const n="";return null}return null}catch{return null}}async function $i(t,e){var a,i;const r=Object.assign({},(e==null?void 0:e.headers)||{});try{const o=await le.auth.getSession(),s=(i=(a=o==null?void 0:o.data)==null?void 0:a.session)==null?void 0:i.access_token;s&&(r.Authorization=`Bearer ${s}`)}catch{}try{}catch{}try{const o="sb_publishable_zti2zxT2mp4cVaEFhHzMeA_focEGt6N";o&&(r.apikey||(r.apikey=o),r["x-api-key"]||(r["x-api-key"]=o))}catch{}r["Content-Type"]||(r["Content-Type"]="application/json");try{const o="https://szburzfibchvdyxksokr.supabase.co",s="/functions/v1/whatsapp-proxy";if(typeof t=="string"&&(t.includes(s)||o&&t.includes(o)&&t.includes(s))&&!(typeof t=="string"&&t.includes(`${s}/api/whatsapp`)))try{const u=e&&e.method||"POST",d=e&&e.body?e.body:void 0,f=await le.functions.invoke("whatsapp-proxy",{method:u,body:d});if(f instanceof Response)return f;if(f&&f.error){const p=JSON.stringify(f.error);return new Response(p,{status:f.error.status||500,headers:{"Content-Type":"application/json"}})}const h=f&&f.data?JSON.stringify(f.data):JSON.stringify(f);return new Response(h,{status:200,headers:{"Content-Type":"application/json"}})}catch(u){return new Response(JSON.stringify({error:String(u)}),{status:500,headers:{"Content-Type":"application/json"}})}}catch{}return await fetch(t,Object.assign({},e,{headers:r}))}function or(t,e){try{e!==void 0?console.info("[WA]",t,e):console.info("[WA]",t)}catch{}}function ri(t,e){try{e!==void 0?console.warn("[WA]",t,e):console.warn("[WA]",t)}catch{}}function jp(t,e){try{e!==void 0?console.error("[WA]",t,e):console.error("[WA]",t)}catch{}}function uie(t,e){var r=Object.setPrototypeOf;r?r(t,e):t.__proto__=e}function die(t,e){e===void 0&&(e=t.constructor);var r=Error.captureStackTrace;r&&r(t,e)}var fie=function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o])},t(r,n)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),hie=function(t){fie(e,t);function e(r,n){var a=this.constructor,i=t.call(this,r,n)||this;return Object.defineProperty(i,"name",{value:a.name,enumerable:!1,configurable:!0}),uie(i,a.prototype),die(i),i}return e}(Error),pie=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),wa=function(t){pie(e,t);function e(r){r===void 0&&(r=void 0);var n=t.call(this,r)||this;return n.message=r,n}return e.prototype.getKind=function(){var r=this.constructor;return r.kind},e.kind="Exception",e}(hie),mie=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Tr=function(t){mie(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e}(wa),vie=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Fe=function(t){vie(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(wa),OL=function(){function t(e){if(this.binarizer=e,e===null)throw new Fe("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,r){return this.binarizer.getBlackRow(e,r)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,r,n,a){var i=this.binarizer.getLuminanceSource().crop(e,r,n,a);return new t(this.binarizer.createBinarizer(i))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t}(),gie=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Br=function(t){gie(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(wa),yie=function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t}(),er=function(){function t(){}return t.arraycopy=function(e,r,n,a,i){for(;i--;)n[a++]=e[r++]},t.currentTimeMillis=function(){return Date.now()},t}(),xie=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),oj=function(t){xie(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(wa),wie=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ZP=function(t){wie(e,t);function e(r,n){r===void 0&&(r=void 0),n===void 0&&(n=void 0);var a=t.call(this,n)||this;return a.index=r,a.message=n,a}return e.kind="ArrayIndexOutOfBoundsException",e}(oj),bie=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},en=function(){function t(){}return t.fill=function(e,r){for(var n=0,a=e.length;n<a;n++)e[n]=r},t.fillWithin=function(e,r,n,a){t.rangeCheck(e.length,r,n);for(var i=r;i<n;i++)e[i]=a},t.rangeCheck=function(e,r,n){if(r>n)throw new Fe("fromIndex("+r+") > toIndex("+n+")");if(r<0)throw new ZP(r);if(n>e)throw new ZP(n)},t.asList=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e},t.create=function(e,r,n){var a=Array.from({length:e});return a.map(function(i){return Array.from({length:r}).fill(n)})},t.createInt32Array=function(e,r,n){var a=Array.from({length:e});return a.map(function(i){return Int32Array.from({length:r}).fill(n)})},t.equals=function(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(var n=0,a=e.length;n<a;n++)if(e[n]!==r[n])return!1;return!0},t.hashCode=function(e){var r,n;if(e===null)return 0;var a=1;try{for(var i=bie(e),o=i.next();!o.done;o=i.next()){var s=o.value;a=31*a+s}}catch(l){r={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a},t.fillUint8Array=function(e,r){for(var n=0;n!==e.length;n++)e[n]=r},t.copyOf=function(e,r){return e.slice(0,r)},t.copyOfUint8Array=function(e,r){if(e.length<=r){var n=new Uint8Array(r);return n.set(e),n}return e.slice(0,r)},t.copyOfRange=function(e,r,n){var a=n-r,i=new Int32Array(a);return er.arraycopy(e,r,i,0,a),i},t.binarySearch=function(e,r,n){n===void 0&&(n=t.numberComparator);for(var a=0,i=e.length-1;a<=i;){var o=i+a>>1,s=n(r,e[o]);if(s>0)a=o+1;else if(s<0)i=o-1;else return o}return-a-1},t.numberComparator=function(e,r){return e-r},t}(),st=function(){function t(){}return t.numberOfTrailingZeros=function(e){var r;if(e===0)return 32;var n=31;return r=e<<16,r!==0&&(n-=16,e=r),r=e<<8,r!==0&&(n-=8,e=r),r=e<<4,r!==0&&(n-=4,e=r),r=e<<2,r!==0&&(n-=2,e=r),n-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,r){return Math.trunc(e/r)},t.parseInt=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),hn=function(){function t(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=t.makeArray(e):this.bits=r)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var r=t.makeArray(e);er.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,a=Math.floor(e/32),i=n[a];i&=~((1<<(e&31))-1);for(var o=n.length;i===0;){if(++a===o)return r;i=n[a]}var s=a*32+st.numberOfTrailingZeros(i);return s>r?r:s},t.prototype.getNextUnset=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,a=Math.floor(e/32),i=~n[a];i&=~((1<<(e&31))-1);for(var o=n.length;i===0;){if(++a===o)return r;i=~n[a]}var s=a*32+st.numberOfTrailingZeros(i);return s>r?r:s},t.prototype.setBulk=function(e,r){this.bits[Math.floor(e/32)]=r},t.prototype.setRange=function(e,r){if(r<e||e<0||r>this.size)throw new Fe;if(r!==e){r--;for(var n=Math.floor(e/32),a=Math.floor(r/32),i=this.bits,o=n;o<=a;o++){var s=o>n?0:e&31,l=o<a?31:r&31,u=(2<<l)-(1<<s);i[o]|=u}}},t.prototype.clear=function(){for(var e=this.bits.length,r=this.bits,n=0;n<e;n++)r[n]=0},t.prototype.isRange=function(e,r,n){if(r<e||e<0||r>this.size)throw new Fe;if(r===e)return!0;r--;for(var a=Math.floor(e/32),i=Math.floor(r/32),o=this.bits,s=a;s<=i;s++){var l=s>a?0:e&31,u=s<i?31:r&31,d=(2<<u)-(1<<l)&4294967295;if((o[s]&d)!==(n?d:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,r){if(r<0||r>32)throw new Fe("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(var n=r;n>0;n--)this.appendBit((e>>n-1&1)===1)},t.prototype.appendBitArray=function(e){var r=e.size;this.ensureCapacity(this.size+r);for(var n=0;n<r;n++)this.appendBit(e.get(n))},t.prototype.xor=function(e){if(this.size!==e.size)throw new Fe("Sizes don't match");for(var r=this.bits,n=0,a=r.length;n<a;n++)r[n]^=e.bits[n]},t.prototype.toBytes=function(e,r,n,a){for(var i=0;i<a;i++){for(var o=0,s=0;s<8;s++)this.get(e)&&(o|=1<<7-s),e++;r[n+i]=o}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),n=r+1,a=this.bits,i=0;i<n;i++){var o=a[i];o=o>>1&1431655765|(o&1431655765)<<1,o=o>>2&858993459|(o&858993459)<<2,o=o>>4&252645135|(o&252645135)<<4,o=o>>8&16711935|(o&16711935)<<8,o=o>>16&65535|(o&65535)<<16,e[r-i]=o}if(this.size!==n*32){for(var s=n*32-this.size,l=e[0]>>>s,i=1;i<n;i++){var u=e[i];l|=u<<32-s,e[i-1]=l,l=u>>>s}e[n-1]=l}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.size===r.size&&en.equals(this.bits,r.bits)},t.prototype.hashCode=function(){return 31*this.size+en.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",r=0,n=this.size;r<n;r++)r&7||(e+=" "),e+=this.get(r)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var e=[],r=0,n=this.size;r<n;r++)e.push(this.get(r));return e},t}(),fS;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",t[t.ASSUME_GS1=8]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(fS||(fS={}));const tr=fS;var _ie=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),me=function(t){_ie(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(wa),Sie=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Mt;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(Mt||(Mt={}));var Jr=function(){function t(e,r,n){for(var a,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this.valueIdentifier=e,this.name=n,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=o,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(n,this);for(var l=this.values,u=0,d=l.length;u!==d;u++){var f=l[u];t.VALUES_TO_ECI.set(f,this)}try{for(var h=Sie(o),p=h.next();!p.done;p=h.next()){var v=p.value;t.NAME_TO_ECI.set(v,this)}}catch(m){a={error:m}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new me("incorect value");var r=t.VALUES_TO_ECI.get(e);if(r===void 0)throw new me("incorect value");return r},t.getCharacterSetECIByName=function(e){var r=t.NAME_TO_ECI.get(e);if(r===void 0)throw new me("incorect value");return r},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.getName()===r.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(Mt.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(Mt.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(Mt.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(Mt.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(Mt.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(Mt.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(Mt.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(Mt.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(Mt.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(Mt.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(Mt.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(Mt.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(Mt.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(Mt.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(Mt.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(Mt.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(Mt.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(Mt.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(Mt.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(Mt.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(Mt.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(Mt.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(Mt.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(Mt.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(Mt.Big5,28,"Big5"),t.GB18030=new t(Mt.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(Mt.EUC_KR,30,"EUC_KR","EUC-KR"),t}(),Cie=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),c0=function(t){Cie(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(wa),vi=function(){function t(){}return t.decode=function(e,r){var n=this.encodingName(r);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,r){var n=this.encodingName(r);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof Jr?e:Jr.getCharacterSetECIByName(e)},t.decodeFallback=function(e,r){var n=this.encodingCharacterSet(r);if(t.isDecodeFallbackSupported(n)){for(var a="",i=0,o=e.length;i<o;i++){var s=e[i].toString(16);s.length<2&&(s="0"+s),a+="%"+s}return decodeURIComponent(a)}if(n.equals(Jr.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new c0("Encoding "+this.encodingName(r)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(Jr.UTF8)||e.equals(Jr.ISO8859_1)||e.equals(Jr.ASCII)},t.encodeFallback=function(e){for(var r=btoa(unescape(encodeURIComponent(e))),n=r.split(""),a=[],i=0;i<n.length;i++)a.push(n[i].charCodeAt(0));return new Uint8Array(a)},t}(),ft=function(){function t(){}return t.castAsNonUtf8Char=function(e,r){r===void 0&&(r=null);var n=r?r.getName():this.ISO88591;return vi.decode(new Uint8Array([e]),n)},t.guessEncoding=function(e,r){if(r!=null&&r.get(tr.CHARACTER_SET)!==void 0)return r.get(tr.CHARACTER_SET).toString();for(var n=e.length,a=!0,i=!0,o=!0,s=0,l=0,u=0,d=0,f=0,h=0,p=0,v=0,m=0,g=0,x=0,y=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,w=0;w<n&&(a||i||o);w++){var _=e[w]&255;o&&(s>0?_&128?s--:o=!1:_&128&&(_&64?(s++,_&32?(s++,_&16?(s++,_&8?o=!1:d++):u++):l++):o=!1)),a&&(_>127&&_<160?a=!1:_>159&&(_<192||_===215||_===247)&&x++),i&&(f>0?_<64||_===127||_>252?i=!1:f--:_===128||_===160||_>239?i=!1:_>160&&_<224?(h++,v=0,p++,p>m&&(m=p)):_>127?(f++,p=0,v++,v>g&&(g=v)):(p=0,v=0))}return o&&s>0&&(o=!1),i&&f>0&&(i=!1),o&&(y||l+u+d>0)?t.UTF8:i&&(t.ASSUME_SHIFT_JIS||m>=3||g>=3)?t.SHIFT_JIS:a&&i?m===2&&h===2||x*10>=n?t.SHIFT_JIS:t.ISO88591:a?t.ISO88591:i?t.SHIFT_JIS:o?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var a=-1;function i(s,l,u,d,f,h){if(s==="%%")return"%";if(r[++a]!==void 0){s=d?parseInt(d.substr(1)):void 0;var p=f?parseInt(f.substr(1)):void 0,v;switch(h){case"s":v=r[a];break;case"c":v=r[a][0];break;case"f":v=parseFloat(r[a]).toFixed(s);break;case"p":v=parseFloat(r[a]).toPrecision(s);break;case"e":v=parseFloat(r[a]).toExponential(s);break;case"x":v=parseInt(r[a]).toString(p||16);break;case"d":v=parseFloat(parseInt(r[a],p||10).toPrecision(s)).toFixed(0);break}v=typeof v=="object"?JSON.stringify(v):(+v).toString(p);for(var m=parseInt(u),g=u&&u[0]+""=="0"?"0":" ";v.length<m;)v=l!==void 0?v+g:g+v;return v}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,i)},t.getBytes=function(e,r){return vi.encode(e,r)},t.getCharCode=function(e,r){return r===void 0&&(r=0),e.charCodeAt(r)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=Jr.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=Jr.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=Jr.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t}(),ot=function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=ft.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,r,n){for(var a=r;r<r+n;a++)this.append(e[a]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)},t.prototype.substring=function(e,r){return this.value.substring(e,r)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,r){this.value=this.value.substring(0,e)+r+this.value.substring(e)},t}(),Uo=function(){function t(e,r,n,a){if(this.width=e,this.height=r,this.rowSize=n,this.bits=a,r==null&&(r=e),this.height=r,e<1||r<1)throw new Fe("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,a==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var r=e.length,n=e[0].length,a=new t(n,r),i=0;i<r;i++)for(var o=e[i],s=0;s<n;s++)o[s]&&a.set(s,i);return a},t.parseFromString=function(e,r,n){if(e===null)throw new Fe("stringRepresentation cannot be null");for(var a=new Array(e.length),i=0,o=0,s=-1,l=0,u=0;u<e.length;)if(e.charAt(u)===`
`||e.charAt(u)==="\r"){if(i>o){if(s===-1)s=i-o;else if(i-o!==s)throw new Fe("row lengths do not match");o=i,l++}u++}else if(e.substring(u,u+r.length)===r)u+=r.length,a[i]=!0,i++;else if(e.substring(u,u+n.length)===n)u+=n.length,a[i]=!1,i++;else throw new Fe("illegal character encountered: "+e.substring(u));if(i>o){if(s===-1)s=i-o;else if(i-o!==s)throw new Fe("row lengths do not match");l++}for(var d=new t(s,l),f=0;f<i;f++)a[f]&&d.set(Math.floor(f%s),Math.floor(f/s));return d},t.prototype.get=function(e,r){var n=r*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},t.prototype.set=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new Fe("input matrix dimensions do not match");for(var r=new hn(Math.floor(this.width/32)+1),n=this.rowSize,a=this.bits,i=0,o=this.height;i<o;i++)for(var s=i*n,l=e.getRow(i,r).getBitArray(),u=0;u<n;u++)a[s+u]^=l[u]},t.prototype.clear=function(){for(var e=this.bits,r=e.length,n=0;n<r;n++)e[n]=0},t.prototype.setRegion=function(e,r,n,a){if(r<0||e<0)throw new Fe("Left and top must be nonnegative");if(a<1||n<1)throw new Fe("Height and width must be at least 1");var i=e+n,o=r+a;if(o>this.height||i>this.width)throw new Fe("The region must fit inside the matrix");for(var s=this.rowSize,l=this.bits,u=r;u<o;u++)for(var d=u*s,f=e;f<i;f++)l[d+Math.floor(f/32)]|=1<<(f&31)&4294967295},t.prototype.getRow=function(e,r){r==null||r.getSize()<this.width?r=new hn(this.width):r.clear();for(var n=this.rowSize,a=this.bits,i=e*n,o=0;o<n;o++)r.setBulk(o*32,a[i+o]);return r},t.prototype.setRow=function(e,r){er.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),r=this.getHeight(),n=new hn(e),a=new hn(e),i=0,o=Math.floor((r+1)/2);i<o;i++)n=this.getRow(i,n),a=this.getRow(r-1-i,a),n.reverse(),a.reverse(),this.setRow(i,a),this.setRow(r-1-i,n)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,r=this.height,n=this.rowSize,a=this.bits,i=e,o=r,s=-1,l=-1,u=0;u<r;u++)for(var d=0;d<n;d++){var f=a[u*n+d];if(f!==0){if(u<o&&(o=u),u>l&&(l=u),d*32<i){for(var h=0;!(f<<31-h&4294967295);)h++;d*32+h<i&&(i=d*32+h)}if(d*32+31>s){for(var h=31;!(f>>>h);)h--;d*32+h>s&&(s=d*32+h)}}}return s<i||l<o?null:Int32Array.from([i,o,s-i+1,l-o+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,r=this.bits,n=0;n<r.length&&r[n]===0;)n++;if(n===r.length)return null;for(var a=n/e,i=n%e*32,o=r[n],s=0;!(o<<31-s&4294967295);)s++;return i+=s,Int32Array.from([i,a])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,r=this.bits,n=r.length-1;n>=0&&r[n]===0;)n--;if(n<0)return null;for(var a=Math.floor(n/e),i=Math.floor(n%e)*32,o=r[n],s=31;!(o>>>s);)s--;return i+=s,Int32Array.from([i,a])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&en.equals(this.bits,r.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+en.hashCode(this.bits),e},t.prototype.toString=function(e,r,n){return e===void 0&&(e="X "),r===void 0&&(r="  "),n===void 0&&(n=`
`),this.buildToString(e,r,n)},t.prototype.buildToString=function(e,r,n){for(var a=new ot,i=0,o=this.height;i<o;i++){for(var s=0,l=this.width;s<l;s++)a.append(this.get(s,i)?e:r);a.append(n)}return a.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t}(),Eie=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Q=function(t){Eie(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(wa),Aie=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),jie=function(t){Aie(e,t);function e(r){var n=t.call(this,r)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(r,n){var a=this.getLuminanceSource(),i=a.getWidth();n==null||n.getSize()<i?n=new hn(i):n.clear(),this.initArrays(i);for(var o=a.getRow(r,this.luminances),s=this.buckets,l=0;l<i;l++)s[(o[l]&255)>>e.LUMINANCE_SHIFT]++;var u=e.estimateBlackPoint(s);if(i<3)for(var l=0;l<i;l++)(o[l]&255)<u&&n.set(l);else for(var d=o[0]&255,f=o[1]&255,l=1;l<i-1;l++){var h=o[l+1]&255;(f*4-d-h)/2<u&&n.set(l),d=f,f=h}return n},e.prototype.getBlackMatrix=function(){var r=this.getLuminanceSource(),n=r.getWidth(),a=r.getHeight(),i=new Uo(n,a);this.initArrays(n);for(var o=this.buckets,s=1;s<5;s++)for(var l=Math.floor(a*s/5),u=r.getRow(l,this.luminances),d=Math.floor(n*4/5),f=Math.floor(n/5);f<d;f++){var h=u[f]&255;o[h>>e.LUMINANCE_SHIFT]++}for(var p=e.estimateBlackPoint(o),v=r.getMatrix(),s=0;s<a;s++)for(var m=s*n,f=0;f<n;f++){var h=v[m+f]&255;h<p&&i.set(f,s)}return i},e.prototype.createBinarizer=function(r){return new e(r)},e.prototype.initArrays=function(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));for(var n=this.buckets,a=0;a<e.LUMINANCE_BUCKETS;a++)n[a]=0},e.estimateBlackPoint=function(r){for(var n=r.length,a=0,i=0,o=0,s=0;s<n;s++)r[s]>o&&(i=s,o=r[s]),r[s]>a&&(a=r[s]);for(var l=0,u=0,s=0;s<n;s++){var d=s-i,f=r[s]*d*d;f>u&&(l=s,u=f)}if(i>l){var h=i;i=l,l=h}if(l-i<=n/16)throw new Q;for(var p=l-1,v=-1,s=l-1;s>i;s--){var m=s-i,f=m*m*(l-s)*(a-r[s]);f>v&&(p=s,v=f)}return p<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(yie),Nie=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),TL=function(t){Nie(e,t);function e(r){var n=t.call(this,r)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var r=this.getLuminanceSource(),n=r.getWidth(),a=r.getHeight();if(n>=e.MINIMUM_DIMENSION&&a>=e.MINIMUM_DIMENSION){var i=r.getMatrix(),o=n>>e.BLOCK_SIZE_POWER;n&e.BLOCK_SIZE_MASK&&o++;var s=a>>e.BLOCK_SIZE_POWER;a&e.BLOCK_SIZE_MASK&&s++;var l=e.calculateBlackPoints(i,o,s,n,a),u=new Uo(n,a);e.calculateThresholdForBlock(i,o,s,n,a,l,u),this.matrix=u}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(r){return new e(r)},e.calculateThresholdForBlock=function(r,n,a,i,o,s,l){for(var u=o-e.BLOCK_SIZE,d=i-e.BLOCK_SIZE,f=0;f<a;f++){var h=f<<e.BLOCK_SIZE_POWER;h>u&&(h=u);for(var p=e.cap(f,2,a-3),v=0;v<n;v++){var m=v<<e.BLOCK_SIZE_POWER;m>d&&(m=d);for(var g=e.cap(v,2,n-3),x=0,y=-2;y<=2;y++){var w=s[p+y];x+=w[g-2]+w[g-1]+w[g]+w[g+1]+w[g+2]}var _=x/25;e.thresholdBlock(r,m,h,_,i,l)}}},e.cap=function(r,n,a){return r<n?n:r>a?a:r},e.thresholdBlock=function(r,n,a,i,o,s){for(var l=0,u=a*o+n;l<e.BLOCK_SIZE;l++,u+=o)for(var d=0;d<e.BLOCK_SIZE;d++)(r[u+d]&255)<=i&&s.set(n+d,a+l)},e.calculateBlackPoints=function(r,n,a,i,o){for(var s=o-e.BLOCK_SIZE,l=i-e.BLOCK_SIZE,u=new Array(a),d=0;d<a;d++){u[d]=new Int32Array(n);var f=d<<e.BLOCK_SIZE_POWER;f>s&&(f=s);for(var h=0;h<n;h++){var p=h<<e.BLOCK_SIZE_POWER;p>l&&(p=l);for(var v=0,m=255,g=0,x=0,y=f*i+p;x<e.BLOCK_SIZE;x++,y+=i){for(var w=0;w<e.BLOCK_SIZE;w++){var _=r[y+w]&255;v+=_,_<m&&(m=_),_>g&&(g=_)}if(g-m>e.MIN_DYNAMIC_RANGE)for(x++,y+=i;x<e.BLOCK_SIZE;x++,y+=i)for(var w=0;w<e.BLOCK_SIZE;w++)v+=r[y+w]&255}var S=v>>e.BLOCK_SIZE_POWER*2;if(g-m<=e.MIN_DYNAMIC_RANGE&&(S=m/2,d>0&&h>0)){var C=(u[d-1][h]+2*u[d][h-1]+u[d-1][h-1])/4;m<C&&(S=C)}u[d][h]=S}}return u},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(jie),jv=function(){function t(e,r){this.width=e,this.height=r}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,r,n,a){throw new c0("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new c0("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new c0("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),r=new ot,n=0;n<this.height;n++){for(var a=this.getRow(n,e),i=0;i<this.width;i++){var o=a[i]&255,s=void 0;o<64?s="#":o<128?s="+":o<192?s=".":s=" ",r.append(s)}r.append(`
`)}return r.toString()},t}(),Oie=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),mx=function(t){Oie(e,t);function e(r){var n=t.call(this,r.getWidth(),r.getHeight())||this;return n.delegate=r,n}return e.prototype.getRow=function(r,n){for(var a=this.delegate.getRow(r,n),i=this.getWidth(),o=0;o<i;o++)a[o]=255-(a[o]&255);return a},e.prototype.getMatrix=function(){for(var r=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(n),i=0;i<n;i++)a[i]=255-(r[i]&255);return a},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(r,n,a,i){return new e(this.delegate.crop(r,n,a,i))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(jv),Tie=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Pie=function(t){Tie(e,t);function e(r,n){n===void 0&&(n=!1);var a=t.call(this,r.width,r.height)||this;return a.canvas=r,a.tempCanvasElement=null,a.buffer=e.makeBufferFromCanvasImageData(r,n),a}return e.makeBufferFromCanvasImageData=function(r,n){n===void 0&&(n=!1);var a=r.getContext("2d").getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(a.data,r.width,r.height,n)},e.toGrayscaleBuffer=function(r,n,a,i){i===void 0&&(i=!1);var o=new Uint8ClampedArray(n*a);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!i)for(var s=0,l=0,u=r.length;s<u;s+=4,l++){var d=void 0,f=r[s+3];if(f===0)d=255;else{var h=r[s],p=r[s+1],v=r[s+2];d=306*h+601*p+117*v+512>>10}o[l]=d}else for(var s=0,l=0,m=r.length;s<m;s+=4,l++){var d=void 0,f=r[s+3];if(f===0)d=255;else{var h=r[s],p=r[s+1],v=r[s+2];d=306*h+601*p+117*v+512>>10}o[l]=255-d}return o},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Fe("Requested row is outside the image: "+r);var a=this.getWidth(),i=r*a;return n===null?n=this.buffer.slice(i,i+a):(n.length<a&&(n=new Uint8ClampedArray(a)),n.set(this.buffer.slice(i,i+a))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,a,i){return t.prototype.crop.call(this,r,n,a,i),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement(),a=n.getContext("2d"),i=r*e.DEGREE_TO_RADIANS,o=this.canvas.width,s=this.canvas.height,l=Math.ceil(Math.abs(Math.cos(i))*o+Math.abs(Math.sin(i))*s),u=Math.ceil(Math.abs(Math.sin(i))*o+Math.abs(Math.cos(i))*s);return n.width=l,n.height=u,a.translate(l/2,u/2),a.rotate(i),a.drawImage(this.canvas,o/-2,s/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new mx(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(jv),kie=function(){function t(e,r,n){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=n||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t}(),Un=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(s,l)}u((n=n.apply(t,e||[])).next())})},Vn=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Iie=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lh=function(){function t(e,r,n){r===void 0&&(r=500),this.reader=e,this.timeBetweenScansMillis=r,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return Un(this,void 0,void 0,function(){var e,r,n,a,i,o,s,l,u,d,f,h;return Vn(this,function(p){switch(p.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=p.sent(),r=[];try{for(n=Iie(e),a=n.next();!a.done;a=n.next())i=a.value,o=i.kind==="video"?"videoinput":i.kind,o==="videoinput"&&(s=i.deviceId||i.id,l=i.label||"Video device "+(r.length+1),u=i.groupId,d={deviceId:s,label:l,kind:o,groupId:u},r.push(d))}catch(v){f={error:v}}finally{try{a&&!a.done&&(h=n.return)&&h.call(n)}finally{if(f)throw f.error}}return[2,r]}})})},t.prototype.getVideoInputDevices=function(){return Un(this,void 0,void 0,function(){var e;return Vn(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=r.sent(),[2,e.map(function(n){return new kie(n.deviceId,n.label)})]}})})},t.prototype.findDeviceById=function(e){return Un(this,void 0,void 0,function(){var r;return Vn(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(a){return a.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,r){return Un(this,void 0,void 0,function(){return Vn(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return Un(this,void 0,void 0,function(){var n,a;return Vn(this,function(i){switch(i.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},a={video:n},[4,this.decodeOnceFromConstraints(a,r)];case 1:return[2,i.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return Un(this,void 0,void 0,function(){var n;return Vn(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=a.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,a.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return Un(this,void 0,void 0,function(){var n,a;return Vn(this,function(i){switch(i.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return n=i.sent(),[4,this.decodeOnce(n)];case 2:return a=i.sent(),[2,a]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,r,n){return Un(this,void 0,void 0,function(){return Vn(this,function(a){switch(a.label){case 0:return[4,this.decodeFromVideoDevice(e,r,n)];case 1:return[2,a.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return Un(this,void 0,void 0,function(){var a,i;return Vn(this,function(o){switch(o.label){case 0:return e?a={deviceId:{exact:e}}:a={facingMode:"environment"},i={video:a},[4,this.decodeFromConstraints(i,r,n)];case 1:return[2,o.sent()]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return Un(this,void 0,void 0,function(){var a;return Vn(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return a=i.sent(),[4,this.decodeFromStream(a,r,n)];case 2:return[2,i.sent()]}})})},t.prototype.decodeFromStream=function(e,r,n){return Un(this,void 0,void 0,function(){var a;return Vn(this,function(i){switch(i.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return a=i.sent(),[4,this.decodeContinuously(a,n)];case 2:return[2,i.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,r){return Un(this,void 0,void 0,function(){var n;return Vn(this,function(a){switch(a.label){case 0:return n=this.prepareVideoElement(r),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return a.sent(),[2,n]}})})},t.prototype.playVideoOnLoadAsync=function(e){var r=this;return new Promise(function(n,a){return r.playVideoOnLoad(e,function(){return n()})})},t.prototype.playVideoOnLoad=function(e,r){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return Un(this,void 0,void 0,function(){return Vn(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[3,4];case 3:return r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new Tr("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new Tr("element with id '"+e+"' must be an "+r+" element");return n},t.prototype.decodeFromImage=function(e,r){if(!e&&!r)throw new Tr("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,r){if(!e&&!r)throw new Tr("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,r,n){if(e===void 0&&r===void 0)throw new Tr("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,n):this.decodeFromVideoElementContinuously(e,n)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new Tr("An image element must be provided.");this.reset();var r=this.prepareImageElement(e);this.imageElement=r;var n;return this.isImageLoaded(r)?n=this.decodeOnce(r,!1,!0):n=this._decodeOnLoadImage(r),n},t.prototype.decodeFromVideoElement=function(e){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)},t.prototype.decodeFromVideoElementContinuously=function(e,r){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,r)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new Tr("A video element must be provided.");this.reset();var r=this.prepareVideoElement(e);return this.videoElement=r,r},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new Tr("An URL must be provided.");this.reset();var r=this.prepareImageElement();this.imageElement=r;var n=this._decodeOnLoadImage(r);return r.src=e,n},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new Tr("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),n=this.decodeFromVideoElement(r);return r.src=e,n},t.prototype.decodeFromVideoUrlContinuously=function(e,r){if(!e)throw new Tr("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),a=this.decodeFromVideoElementContinuously(n,r);return n.src=e,a},t.prototype._decodeOnLoadImage=function(e){var r=this;return new Promise(function(n,a){r.imageLoadedListener=function(){return r.decodeOnce(e,!1,!0).then(n,a)},e.addEventListener("load",r.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return Un(this,void 0,void 0,function(){return Vn(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),[4,this.decodeOnce(e)];case 2:return[2,r.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,r){return Un(this,void 0,void 0,function(){return Vn(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,r),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r},t.prototype.prepareVideoElement=function(e){var r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.prototype.decodeOnce=function(e,r,n){var a=this;r===void 0&&(r=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var i=function(o,s){if(a._stopAsyncDecode){s(new Q("Video stream has ended before any code could be detected.")),a._stopAsyncDecode=void 0;return}try{var l=a.decode(e);o(l)}catch(h){var u=r&&h instanceof Q,d=h instanceof Br||h instanceof me,f=d&&n;if(u||f)return setTimeout(i,a._timeBetweenDecodingAttempts,o,s);s(h)}};return new Promise(function(o,s){return i(o,s)})},t.prototype.decodeContinuously=function(e,r){var n=this;this._stopContinuousDecode=!1;var a=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var i=n.decode(e);r(i,null),setTimeout(a,n.timeBetweenScansMillis)}catch(l){r(null,l);var o=l instanceof Br||l instanceof me,s=l instanceof Q;(o||s)&&setTimeout(a,n._timeBetweenDecodingAttempts)}};a()},t.prototype.decode=function(e){var r=this.createBinaryBitmap(e);return this.decodeBitmap(r)},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var r=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),r=!0):this.drawImageOnCanvas(e);var n=this.getCaptureCanvas(e),a=new Pie(n,r),i=new TL(a);return new OL(i)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var r=this.getCaptureCanvas(e),n=void 0;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.drawImageOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var r=document.createElement("canvas"),n,a;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,a=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,a=e.naturalHeight||e.height)),r.style.width=n+"px",r.style.height=a+"px",r.width=n,r.height=a,r},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t}(),Fn=function(){function t(e,r,n,a,i,o){n===void 0&&(n=r==null?0:8*r.length),o===void 0&&(o=er.currentTimeMillis()),this.text=e,this.rawBytes=r,this.numBits=n,this.resultPoints=a,this.format=i,this.timestamp=o,this.text=e,this.rawBytes=r,n==null?this.numBits=r==null?0:8*r.length:this.numBits=n,this.resultPoints=a,this.format=i,this.resultMetadata=null,o==null?this.timestamp=er.currentTimeMillis():this.timestamp=o}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(r.length+e.length);er.arraycopy(r,0,n,0,r.length),er.arraycopy(e,0,n,r.length,e.length),this.resultPoints=n}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t}(),hS;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(hS||(hS={}));const Le=hS;var pS;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(pS||(pS={}));const En=pS;var vx=function(){function t(e,r,n,a,i,o){i===void 0&&(i=-1),o===void 0&&(o=-1),this.rawBytes=e,this.text=r,this.byteSegments=n,this.ecLevel=a,this.structuredAppendSequenceNumber=i,this.structuredAppendParity=o,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t}(),sp=function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new Fe;return this.logTable[e]},t.addOrSubtract=function(e,r){return e^r},t}(),Ll=function(){function t(e,r){if(r.length===0)throw new Fe;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var a=1;a<n&&r[a]===0;)a++;a===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-a),er.arraycopy(r,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var r=this.coefficients,n;if(e===1){n=0;for(var a=0,i=r.length;a!==i;a++){var o=r[a];n=sp.addOrSubtract(n,o)}return n}n=r[0];for(var s=r.length,l=this.field,a=1;a<s;a++)n=sp.addOrSubtract(l.multiply(e,n),r[a]);return n},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new Fe("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var a=r;r=n,n=a}var i=new Int32Array(n.length),o=n.length-r.length;er.arraycopy(n,0,i,0,o);for(var s=o;s<n.length;s++)i[s]=sp.addOrSubtract(r[s-o],n[s]);return new t(this.field,i)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new Fe("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var r=this.coefficients,n=r.length,a=e.coefficients,i=a.length,o=new Int32Array(n+i-1),s=this.field,l=0;l<n;l++)for(var u=r[l],d=0;d<i;d++)o[l+d]=sp.addOrSubtract(o[l+d],s.multiply(u,a[d]));return new t(s,o)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var r=this.coefficients.length,n=this.field,a=new Int32Array(r),i=this.coefficients,o=0;o<r;o++)a[o]=n.multiply(i[o],e);return new t(n,a)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new Fe;if(r===0)return this.field.getZero();for(var n=this.coefficients,a=n.length,i=new Int32Array(a+e),o=this.field,s=0;s<a;s++)i[s]=o.multiply(n[s],r);return new t(o,i)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new Fe("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new Fe("Divide by 0");for(var r=this.field,n=r.getZero(),a=this,i=e.getCoefficient(e.getDegree()),o=r.inverse(i);a.getDegree()>=e.getDegree()&&!a.isZero();){var s=a.getDegree()-e.getDegree(),l=r.multiply(a.getCoefficient(a.getDegree()),o),u=e.multiplyByMonomial(s,l),d=r.buildMonomial(s,l);n=n.addOrSubtract(d),a=a.addOrSubtract(u)}return[n,a]},t.prototype.toString=function(){for(var e="",r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),r===0||n!==1){var a=this.field.log(n);a===0?e+="1":a===1?e+="a":(e+="a^",e+=a)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e},t}(),Rie=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),PL=function(t){Rie(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(wa),Die=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fa=function(t){Die(e,t);function e(r,n,a){var i=t.call(this)||this;i.primitive=r,i.size=n,i.generatorBase=a;for(var o=new Int32Array(n),s=1,l=0;l<n;l++)o[l]=s,s*=2,s>=n&&(s^=r,s&=n-1);i.expTable=o;for(var u=new Int32Array(n),l=0;l<n-1;l++)u[o[l]]=l;return i.logTable=u,i.zero=new Ll(i,Int32Array.from([0])),i.one=new Ll(i,Int32Array.from([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new Fe;if(n===0)return this.zero;var a=new Int32Array(r+1);return a[0]=n,new Ll(this,a)},e.prototype.inverse=function(r){if(r===0)throw new PL;return this.expTable[this.size-this.logTable[r]-1]},e.prototype.multiply=function(r,n){return r===0||n===0?0:this.expTable[(this.logTable[r]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+st.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(r){return r===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(sp),Mie=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Sg=function(t){Mie(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(wa),$ie=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Nv=function(t){$ie(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(wa),gx=function(){function t(e){this.field=e}return t.prototype.decode=function(e,r){for(var n=this.field,a=new Ll(n,e),i=new Int32Array(r),o=!0,s=0;s<r;s++){var l=a.evaluateAt(n.exp(s+n.getGeneratorBase()));i[i.length-1-s]=l,l!==0&&(o=!1)}if(!o)for(var u=new Ll(n,i),d=this.runEuclideanAlgorithm(n.buildMonomial(r,1),u,r),f=d[0],h=d[1],p=this.findErrorLocations(f),v=this.findErrorMagnitudes(h,p),s=0;s<p.length;s++){var m=e.length-1-n.log(p[s]);if(m<0)throw new Sg("Bad error location");e[m]=fa.addOrSubtract(e[m],v[s])}},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var a=e;e=r,r=a}for(var i=this.field,o=e,s=r,l=i.getZero(),u=i.getOne();s.getDegree()>=(n/2|0);){var d=o,f=l;if(o=s,l=u,o.isZero())throw new Sg("r_{i-1} was zero");s=d;for(var h=i.getZero(),p=o.getCoefficient(o.getDegree()),v=i.inverse(p);s.getDegree()>=o.getDegree()&&!s.isZero();){var m=s.getDegree()-o.getDegree(),g=i.multiply(s.getCoefficient(s.getDegree()),v);h=h.addOrSubtract(i.buildMonomial(m,g)),s=s.addOrSubtract(o.multiplyByMonomial(m,g))}if(u=h.multiply(l).addOrSubtract(f),s.getDegree()>=o.getDegree())throw new Nv("Division algorithm failed to reduce polynomial?")}var x=u.getCoefficient(0);if(x===0)throw new Sg("sigmaTilde(0) was zero");var y=i.inverse(x),w=u.multiplyScalar(y),_=s.multiplyScalar(y);return[w,_]},t.prototype.findErrorLocations=function(e){var r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(r),a=0,i=this.field,o=1;o<i.getSize()&&a<r;o++)e.evaluateAt(o)===0&&(n[a]=i.inverse(o),a++);if(a!==r)throw new Sg("Error locator degree does not match number of roots");return n},t.prototype.findErrorMagnitudes=function(e,r){for(var n=r.length,a=new Int32Array(n),i=this.field,o=0;o<n;o++){for(var s=i.inverse(r[o]),l=1,u=0;u<n;u++)if(o!==u){var d=i.multiply(r[u],s),f=d&1?d&-2:d|1;l=i.multiply(l,f)}a[o]=i.multiply(e.evaluateAt(s),i.inverse(l)),i.getGeneratorBase()!==0&&(a[o]=i.multiply(a[o],s))}return a},t}(),bn;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})(bn||(bn={}));var QP=function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var r=e.getBits(),n=this.extractBits(r),a=this.correctBits(n),i=t.convertBoolArrayToByteArray(a),o=t.getEncodedData(a),s=new vx(i,o,null,null);return s.setNumBits(a.length),s},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var r=e.length,n=bn.UPPER,a=bn.UPPER,i="",o=0;o<r;)if(a===bn.BINARY){if(r-o<5)break;var s=t.readCode(e,o,5);if(o+=5,s===0){if(r-o<11)break;s=t.readCode(e,o,11)+31,o+=11}for(var l=0;l<s;l++){if(r-o<8){o=r;break}var u=t.readCode(e,o,8);i+=ft.castAsNonUtf8Char(u),o+=8}a=n}else{var d=a===bn.DIGIT?4:5;if(r-o<d)break;var u=t.readCode(e,o,d);o+=d;var f=t.getCharacter(a,u);f.startsWith("CTRL_")?(n=a,a=t.getTable(f.charAt(5)),f.charAt(6)==="L"&&(n=a)):(i+=f,a=n)}return i},t.getTable=function(e){switch(e){case"L":return bn.LOWER;case"P":return bn.PUNCT;case"M":return bn.MIXED;case"D":return bn.DIGIT;case"B":return bn.BINARY;case"U":default:return bn.UPPER}},t.getCharacter=function(e,r){switch(e){case bn.UPPER:return t.UPPER_TABLE[r];case bn.LOWER:return t.LOWER_TABLE[r];case bn.MIXED:return t.MIXED_TABLE[r];case bn.PUNCT:return t.PUNCT_TABLE[r];case bn.DIGIT:return t.DIGIT_TABLE[r];default:throw new Nv("Bad table")}},t.prototype.correctBits=function(e){var r,n;this.ddata.getNbLayers()<=2?(n=6,r=fa.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,r=fa.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,r=fa.AZTEC_DATA_10):(n=12,r=fa.AZTEC_DATA_12);var a=this.ddata.getNbDatablocks(),i=e.length/n;if(i<a)throw new me;for(var o=e.length%n,s=new Int32Array(i),l=0;l<i;l++,o+=n)s[l]=t.readCode(e,o,n);try{var u=new gx(r);u.decode(s,i-a)}catch(g){throw new me(g)}for(var d=(1<<n)-1,f=0,l=0;l<a;l++){var h=s[l];if(h===0||h===d)throw new me;(h===1||h===d-1)&&f++}for(var p=new Array(a*n-f),v=0,l=0;l<a;l++){var h=s[l];if(h===1||h===d-1)p.fill(h>1,v,v+n-1),v+=n-1;else for(var m=n-1;m>=0;--m)p[v++]=(h&1<<m)!==0}return p},t.prototype.extractBits=function(e){var r=this.ddata.isCompact(),n=this.ddata.getNbLayers(),a=(r?11:14)+n*4,i=new Int32Array(a),o=new Array(this.totalBitsInLayer(n,r));if(r)for(var s=0;s<i.length;s++)i[s]=s;else for(var l=a+1+2*st.truncDivision(st.truncDivision(a,2)-1,15),u=a/2,d=st.truncDivision(l,2),s=0;s<u;s++){var f=s+st.truncDivision(s,15);i[u-s-1]=d-f-1,i[u+s]=d+f+1}for(var s=0,h=0;s<n;s++){for(var p=(n-s)*4+(r?9:12),v=s*2,m=a-1-v,g=0;g<p;g++)for(var x=g*2,y=0;y<2;y++)o[h+x+y]=e.get(i[v+y],i[v+g]),o[h+2*p+x+y]=e.get(i[v+g],i[m-y]),o[h+4*p+x+y]=e.get(i[m-y],i[m-g]),o[h+6*p+x+y]=e.get(i[m-g],i[v+y]);h+=p*8}return o},t.readCode=function(e,r,n){for(var a=0,i=r;i<r+n;i++)a<<=1,e[i]&&(a|=1);return a},t.readByte=function(e,r){var n=e.length-r;return n>=8?t.readCode(e,r,8):t.readCode(e,r,n)<<8-n},t.convertBoolArrayToByteArray=function(e){for(var r=new Uint8Array((e.length+7)/8),n=0;n<r.length;n++)r[n]=t.readByte(e,8*n);return r},t.prototype.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t}(),xt=function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,r,n,a){var i=e-n,o=r-a;return Math.sqrt(i*i+o*o)},t.sum=function(e){for(var r=0,n=0,a=e.length;n!==a;n++){var i=e[n];r+=i}return r},t}(),mS=function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),ke=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var r=e;return this.x===r.x&&this.y===r.y}return!1},t.prototype.hashCode=function(){return 31*mS.floatToIntBits(this.x)+mS.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var r=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),a=this.distance(e[0],e[2]),i,o,s;if(n>=r&&n>=a?(o=e[0],i=e[1],s=e[2]):a>=n&&a>=r?(o=e[1],i=e[0],s=e[2]):(o=e[2],i=e[0],s=e[1]),this.crossProductZ(i,o,s)<0){var l=i;i=s,s=l}e[0]=i,e[1]=o,e[2]=s},t.distance=function(e,r){return xt.distance(e.x,e.y,r.x,r.y)},t.crossProductZ=function(e,r,n){var a=r.x,i=r.y;return(n.x-a)*(e.y-i)-(n.y-i)*(e.x-a)},t}(),sj=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),Lie=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Fie=function(t){Lie(e,t);function e(r,n,a,i,o){var s=t.call(this,r,n)||this;return s.compact=a,s.nbDatablocks=i,s.nbLayers=o,s}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(sj),vS=function(){function t(e,r,n,a){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=t.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),a==null&&(a=e.getHeight()/2|0);var i=r/2|0;if(this.leftInit=n-i,this.rightInit=n+i,this.upInit=a-i,this.downInit=a+i,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Q}return t.prototype.detect=function(){for(var e=this.leftInit,r=this.rightInit,n=this.upInit,a=this.downInit,i=!1,o=!0,s=!1,l=!1,u=!1,d=!1,f=!1,h=this.width,p=this.height;o;){o=!1;for(var v=!0;(v||!l)&&r<h;)v=this.containsBlackPoint(n,a,r,!1),v?(r++,o=!0,l=!0):l||r++;if(r>=h){i=!0;break}for(var m=!0;(m||!u)&&a<p;)m=this.containsBlackPoint(e,r,a,!0),m?(a++,o=!0,u=!0):u||a++;if(a>=p){i=!0;break}for(var g=!0;(g||!d)&&e>=0;)g=this.containsBlackPoint(n,a,e,!1),g?(e--,o=!0,d=!0):d||e--;if(e<0){i=!0;break}for(var x=!0;(x||!f)&&n>=0;)x=this.containsBlackPoint(e,r,n,!0),x?(n--,o=!0,f=!0):f||n--;if(n<0){i=!0;break}o&&(s=!0)}if(!i&&s){for(var y=r-e,w=null,_=1;w===null&&_<y;_++)w=this.getBlackPointOnSegment(e,a-_,e+_,a);if(w==null)throw new Q;for(var S=null,_=1;S===null&&_<y;_++)S=this.getBlackPointOnSegment(e,n+_,e+_,n);if(S==null)throw new Q;for(var C=null,_=1;C===null&&_<y;_++)C=this.getBlackPointOnSegment(r,n+_,r-_,n);if(C==null)throw new Q;for(var E=null,_=1;E===null&&_<y;_++)E=this.getBlackPointOnSegment(r,a-_,r-_,a);if(E==null)throw new Q;return this.centerEdges(E,w,C,S)}else throw new Q},t.prototype.getBlackPointOnSegment=function(e,r,n,a){for(var i=xt.round(xt.distance(e,r,n,a)),o=(n-e)/i,s=(a-r)/i,l=this.image,u=0;u<i;u++){var d=xt.round(e+u*o),f=xt.round(r+u*s);if(l.get(d,f))return new ke(d,f)}return null},t.prototype.centerEdges=function(e,r,n,a){var i=e.getX(),o=e.getY(),s=r.getX(),l=r.getY(),u=n.getX(),d=n.getY(),f=a.getX(),h=a.getY(),p=t.CORR;return i<this.width/2?[new ke(f-p,h+p),new ke(s+p,l+p),new ke(u-p,d-p),new ke(i+p,o-p)]:[new ke(f+p,h+p),new ke(s+p,l-p),new ke(u-p,d+p),new ke(i-p,o-p)]},t.prototype.containsBlackPoint=function(e,r,n,a){var i=this.image;if(a){for(var o=e;o<=r;o++)if(i.get(o,n))return!0}else for(var s=e;s<=r;s++)if(i.get(n,s))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t}(),JP=function(){function t(){}return t.checkAndNudgePoints=function(e,r){for(var n=e.getWidth(),a=e.getHeight(),i=!0,o=0;o<r.length&&i;o+=2){var s=Math.floor(r[o]),l=Math.floor(r[o+1]);if(s<-1||s>n||l<-1||l>a)throw new Q;i=!1,s===-1?(r[o]=0,i=!0):s===n&&(r[o]=n-1,i=!0),l===-1?(r[o+1]=0,i=!0):l===a&&(r[o+1]=a-1,i=!0)}i=!0;for(var o=r.length-2;o>=0&&i;o-=2){var s=Math.floor(r[o]),l=Math.floor(r[o+1]);if(s<-1||s>n||l<-1||l>a)throw new Q;i=!1,s===-1?(r[o]=0,i=!0):s===n&&(r[o]=n-1,i=!0),l===-1?(r[o+1]=0,i=!0):l===a&&(r[o+1]=a-1,i=!0)}},t}(),kL=function(){function t(e,r,n,a,i,o,s,l,u){this.a11=e,this.a21=r,this.a31=n,this.a12=a,this.a22=i,this.a32=o,this.a13=s,this.a23=l,this.a33=u}return t.quadrilateralToQuadrilateral=function(e,r,n,a,i,o,s,l,u,d,f,h,p,v,m,g){var x=t.quadrilateralToSquare(e,r,n,a,i,o,s,l),y=t.squareToQuadrilateral(u,d,f,h,p,v,m,g);return y.times(x)},t.prototype.transformPoints=function(e){for(var r=e.length,n=this.a11,a=this.a12,i=this.a13,o=this.a21,s=this.a22,l=this.a23,u=this.a31,d=this.a32,f=this.a33,h=0;h<r;h+=2){var p=e[h],v=e[h+1],m=i*p+l*v+f;e[h]=(n*p+o*v+u)/m,e[h+1]=(a*p+s*v+d)/m}},t.prototype.transformPointsWithValues=function(e,r){for(var n=this.a11,a=this.a12,i=this.a13,o=this.a21,s=this.a22,l=this.a23,u=this.a31,d=this.a32,f=this.a33,h=e.length,p=0;p<h;p++){var v=e[p],m=r[p],g=i*v+l*m+f;e[p]=(n*v+o*m+u)/g,r[p]=(a*v+s*m+d)/g}},t.squareToQuadrilateral=function(e,r,n,a,i,o,s,l){var u=e-n+i-s,d=r-a+o-l;if(u===0&&d===0)return new t(n-e,i-n,e,a-r,o-a,r,0,0,1);var f=n-i,h=s-i,p=a-o,v=l-o,m=f*v-h*p,g=(u*v-h*d)/m,x=(f*d-u*p)/m;return new t(n-e+g*n,s-e+x*s,e,a-r+g*a,l-r+x*l,r,g,x,1)},t.quadrilateralToSquare=function(e,r,n,a,i,o,s,l){return t.squareToQuadrilateral(e,r,n,a,i,o,s,l).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t}(),Bie=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Uie=function(t){Bie(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(r,n,a,i,o,s,l,u,d,f,h,p,v,m,g,x,y,w,_){var S=kL.quadrilateralToQuadrilateral(i,o,s,l,u,d,f,h,p,v,m,g,x,y,w,_);return this.sampleGridWithTransform(r,n,a,S)},e.prototype.sampleGridWithTransform=function(r,n,a,i){if(n<=0||a<=0)throw new Q;for(var o=new Uo(n,a),s=new Float32Array(2*n),l=0;l<a;l++){for(var u=s.length,d=l+.5,f=0;f<u;f+=2)s[f]=f/2+.5,s[f+1]=d;i.transformPoints(s),JP.checkAndNudgePoints(r,s);try{for(var f=0;f<u;f+=2)r.get(Math.floor(s[f]),Math.floor(s[f+1]))&&o.set(f/2,l)}catch{throw new Q}}return o},e}(JP),lj=function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new Uie,t}(),ia=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.toResultPoint=function(){return new ke(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t}(),Vie=function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var r=this.getMatrixCenter(),n=this.getBullsEyeCorners(r);if(e){var a=n[0];n[0]=n[2],n[2]=a}this.extractParameters(n);var i=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),o=this.getMatrixCornerPoints(n);return new Fie(i,o,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new Q;var r=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(n,r);for(var a=0,i=0;i<4;i++){var o=n[(this.shift+i)%4];this.compact?(a<<=7,a+=o>>1&127):(a<<=10,a+=(o>>2&992)+(o>>1&31))}var s=this.getCorrectedParameterData(a,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)},t.prototype.getRotation=function(e,r){var n=0;e.forEach(function(i,o,s){var l=(i>>r-2<<1)+(i&1);n=(n<<3)+l}),n=((n&1)<<11)+(n>>1);for(var a=0;a<4;a++)if(st.bitCount(n^this.EXPECTED_CORNER_BITS[a])<=2)return a;throw new Q},t.prototype.getCorrectedParameterData=function(e,r){var n,a;r?(n=7,a=2):(n=10,a=4);for(var i=n-a,o=new Int32Array(n),s=n-1;s>=0;--s)o[s]=e&15,e>>=4;try{var l=new gx(fa.AZTEC_PARAM);l.decode(o,i)}catch{throw new Q}for(var u=0,s=0;s<a;s++)u=(u<<4)+o[s];return u},t.prototype.getBullsEyeCorners=function(e){var r=e,n=e,a=e,i=e,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var s=this.getFirstDifferent(r,o,1,-1),l=this.getFirstDifferent(n,o,1,1),u=this.getFirstDifferent(a,o,-1,1),d=this.getFirstDifferent(i,o,-1,-1);if(this.nbCenterLayers>2){var f=this.distancePoint(d,s)*this.nbCenterLayers/(this.distancePoint(i,r)*(this.nbCenterLayers+2));if(f<.75||f>1.25||!this.isWhiteOrBlackRectangle(s,l,u,d))break}r=s,n=l,a=u,i=d,o=!o}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Q;this.compact=this.nbCenterLayers===5;var h=new ke(r.getX()+.5,r.getY()-.5),p=new ke(n.getX()+.5,n.getY()+.5),v=new ke(a.getX()-.5,a.getY()+.5),m=new ke(i.getX()-.5,i.getY()-.5);return this.expandSquare([h,p,v,m],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,r,n,a;try{var i=new vS(this.image).detect();e=i[0],r=i[1],n=i[2],a=i[3]}catch{var o=this.image.getWidth()/2,s=this.image.getHeight()/2;e=this.getFirstDifferent(new ia(o+7,s-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new ia(o+7,s+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new ia(o-7,s+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new ia(o-7,s-7),!1,-1,-1).toResultPoint()}var l=xt.round((e.getX()+a.getX()+r.getX()+n.getX())/4),u=xt.round((e.getY()+a.getY()+r.getY()+n.getY())/4);try{var i=new vS(this.image,15,l,u).detect();e=i[0],r=i[1],n=i[2],a=i[3]}catch{e=this.getFirstDifferent(new ia(l+7,u-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new ia(l+7,u+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new ia(l-7,u+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new ia(l-7,u-7),!1,-1,-1).toResultPoint()}return l=xt.round((e.getX()+a.getX()+r.getX()+n.getX())/4),u=xt.round((e.getY()+a.getY()+r.getY()+n.getY())/4),new ia(l,u)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,r,n,a,i){var o=lj.getInstance(),s=this.getDimension(),l=s/2-this.nbCenterLayers,u=s/2+this.nbCenterLayers;return o.sampleGrid(e,s,s,l,l,u,l,u,u,l,u,r.getX(),r.getY(),n.getX(),n.getY(),a.getX(),a.getY(),i.getX(),i.getY())},t.prototype.sampleLine=function(e,r,n){for(var a=0,i=this.distanceResultPoint(e,r),o=i/n,s=e.getX(),l=e.getY(),u=o*(r.getX()-e.getX())/i,d=o*(r.getY()-e.getY())/i,f=0;f<n;f++)this.image.get(xt.round(s+f*u),xt.round(l+f*d))&&(a|=1<<n-f-1);return a},t.prototype.isWhiteOrBlackRectangle=function(e,r,n,a){var i=3;e=new ia(e.getX()-i,e.getY()+i),r=new ia(r.getX()-i,r.getY()-i),n=new ia(n.getX()+i,n.getY()-i),a=new ia(a.getX()+i,a.getY()+i);var o=this.getColor(a,e);if(o===0)return!1;var s=this.getColor(e,r);return s!==o||(s=this.getColor(r,n),s!==o)?!1:(s=this.getColor(n,a),s===o)},t.prototype.getColor=function(e,r){for(var n=this.distancePoint(e,r),a=(r.getX()-e.getX())/n,i=(r.getY()-e.getY())/n,o=0,s=e.getX(),l=e.getY(),u=this.image.get(e.getX(),e.getY()),d=Math.ceil(n),f=0;f<d;f++)s+=a,l+=i,this.image.get(xt.round(s),xt.round(l))!==u&&o++;var h=o/n;return h>.1&&h<.9?0:h<=.1===u?1:-1},t.prototype.getFirstDifferent=function(e,r,n,a){for(var i=e.getX()+n,o=e.getY()+a;this.isValid(i,o)&&this.image.get(i,o)===r;)i+=n,o+=a;for(i-=n,o-=a;this.isValid(i,o)&&this.image.get(i,o)===r;)i+=n;for(i-=n;this.isValid(i,o)&&this.image.get(i,o)===r;)o+=a;return o-=a,new ia(i,o)},t.prototype.expandSquare=function(e,r,n){var a=n/(2*r),i=e[0].getX()-e[2].getX(),o=e[0].getY()-e[2].getY(),s=(e[0].getX()+e[2].getX())/2,l=(e[0].getY()+e[2].getY())/2,u=new ke(s+a*i,l+a*o),d=new ke(s-a*i,l-a*o);i=e[1].getX()-e[3].getX(),o=e[1].getY()-e[3].getY(),s=(e[1].getX()+e[3].getX())/2,l=(e[1].getY()+e[3].getY())/2;var f=new ke(s+a*i,l+a*o),h=new ke(s-a*i,l-a*o),p=[u,f,d,h];return p},t.prototype.isValid=function(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()},t.prototype.isValidPoint=function(e){var r=xt.round(e.getX()),n=xt.round(e.getY());return this.isValid(r,n)},t.prototype.distancePoint=function(e,r){return xt.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.distanceResultPoint=function(e,r){return xt.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(st.truncDivision(this.nbLayers-4,8)+1)+15},t}(),sy=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=null,a=new Vie(e.getBlackMatrix()),i=null,o=null;try{var s=a.detectMirror(!1);i=s.getPoints(),this.reportFoundResultPoints(r,i),o=new QP().decode(s)}catch(f){n=f}if(o==null)try{var s=a.detectMirror(!0);i=s.getPoints(),this.reportFoundResultPoints(r,i),o=new QP().decode(s)}catch(f){throw n??f}var l=new Fn(o.getText(),o.getRawBytes(),o.getNumBits(),i,Le.AZTEC,er.currentTimeMillis()),u=o.getByteSegments();u!=null&&l.putMetadata(En.BYTE_SEGMENTS,u);var d=o.getECLevel();return d!=null&&l.putMetadata(En.ERROR_CORRECTION_LEVEL,d),l},t.prototype.reportFoundResultPoints=function(e,r){if(e!=null){var n=e.get(tr.NEED_RESULT_POINT_CALLBACK);n!=null&&r.forEach(function(a,i,o){n.foundPossibleResultPoint(a)})}},t.prototype.reset=function(){},t}(),Wie=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){Wie(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new sy,r)||this}return e})(lh);var nn=function(){function t(){}return t.prototype.decode=function(e,r){try{return this.doDecode(e,r)}catch{var n=r&&r.get(tr.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var a=e.rotateCounterClockwise(),i=this.doDecode(a,r),o=i.getResultMetadata(),s=270;o!==null&&o.get(En.ORIENTATION)===!0&&(s=s+o.get(En.ORIENTATION)%360),i.putMetadata(En.ORIENTATION,s);var l=i.getResultPoints();if(l!==null)for(var u=a.getHeight(),d=0;d<l.length;d++)l[d]=new ke(u-l[d].getY()-1,l[d].getX());return i}else throw new Q}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,r){var n=e.getWidth(),a=e.getHeight(),i=new hn(n),o=r&&r.get(tr.TRY_HARDER)===!0,s=Math.max(1,a>>(o?8:5)),l;o?l=a:l=15;for(var u=Math.trunc(a/2),d=0;d<l;d++){var f=Math.trunc((d+1)/2),h=(d&1)===0,p=u+s*(h?f:-f);if(p<0||p>=a)break;try{i=e.getBlackRow(p,i)}catch{continue}for(var v=function(y){if(y===1&&(i.reverse(),r&&r.get(tr.NEED_RESULT_POINT_CALLBACK)===!0)){var w=new Map;r.forEach(function(C,E){return w.set(E,C)}),w.delete(tr.NEED_RESULT_POINT_CALLBACK),r=w}try{var _=m.decodeRow(p,i,r);if(y===1){_.putMetadata(En.ORIENTATION,180);var S=_.getResultPoints();S!==null&&(S[0]=new ke(n-S[0].getX()-1,S[0].getY()),S[1]=new ke(n-S[1].getX()-1,S[1].getY()))}return{value:_}}catch{}},m=this,g=0;g<2;g++){var x=v(g);if(typeof x=="object")return x.value}}throw new Q},t.recordPattern=function(e,r,n){for(var a=n.length,i=0;i<a;i++)n[i]=0;var o=e.getSize();if(r>=o)throw new Q;for(var s=!e.get(r),l=0,u=r;u<o;){if(e.get(u)!==s)n[l]++;else{if(++l===a)break;n[l]=1,s=!s}u++}if(!(l===a||l===a-1&&u===o))throw new Q},t.recordPatternInReverse=function(e,r,n){for(var a=n.length,i=e.get(r);r>0&&a>=0;)e.get(--r)!==i&&(a--,i=!i);if(a>=0)throw new Q;t.recordPattern(e,r+1,n)},t.patternMatchVariance=function(e,r,n){for(var a=e.length,i=0,o=0,s=0;s<a;s++)i+=e[s],o+=r[s];if(i<o)return Number.POSITIVE_INFINITY;var l=i/o;n*=l;for(var u=0,d=0;d<a;d++){var f=e[d],h=r[d]*l,p=f>h?f-h:h-f;if(p>n)return Number.POSITIVE_INFINITY;u+=p}return u/i},t}(),zie=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),e3=function(t){zie(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(r){for(var n=r.getSize(),a=r.getNextSet(0),i=0,o=Int32Array.from([0,0,0,0,0,0]),s=a,l=!1,u=6,d=a;d<n;d++)if(r.get(d)!==l)o[i]++;else{if(i===u-1){for(var f=e.MAX_AVG_VARIANCE,h=-1,p=e.CODE_START_A;p<=e.CODE_START_C;p++){var v=nn.patternMatchVariance(o,e.CODE_PATTERNS[p],e.MAX_INDIVIDUAL_VARIANCE);v<f&&(f=v,h=p)}if(h>=0&&r.isRange(Math.max(0,s-(d-s)/2),s,!1))return Int32Array.from([s,d,h]);s+=o[0]+o[1],o=o.slice(2,o.length),o[i-1]=0,o[i]=0,i--}else i++;o[i]=1,l=!l}throw new Q},e.decodeCode=function(r,n,a){nn.recordPattern(r,a,n);for(var i=e.MAX_AVG_VARIANCE,o=-1,s=0;s<e.CODE_PATTERNS.length;s++){var l=e.CODE_PATTERNS[s],u=this.patternMatchVariance(n,l,e.MAX_INDIVIDUAL_VARIANCE);u<i&&(i=u,o=s)}if(o>=0)return o;throw new Q},e.prototype.decodeRow=function(r,n,a){var i=a&&a.get(tr.ASSUME_GS1)===!0,o=e.findStartPattern(n),s=o[2],l=0,u=new Uint8Array(20);u[l++]=s;var d;switch(s){case e.CODE_START_A:d=e.CODE_CODE_A;break;case e.CODE_START_B:d=e.CODE_CODE_B;break;case e.CODE_START_C:d=e.CODE_CODE_C;break;default:throw new me}for(var f=!1,h=!1,p="",v=o[0],m=o[1],g=Int32Array.from([0,0,0,0,0,0]),x=0,y=0,w=s,_=0,S=!0,C=!1,E=!1;!f;){var A=h;switch(h=!1,x=y,y=e.decodeCode(n,g,m),u[l++]=y,y!==e.CODE_STOP&&(S=!0),y!==e.CODE_STOP&&(_++,w+=_*y),v=m,m+=g.reduce(function(M,I){return M+I},0),y){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new me}switch(d){case e.CODE_CODE_A:if(y<64)E===C?p+=String.fromCharCode(32+y):p+=String.fromCharCode(32+y+128),E=!1;else if(y<96)E===C?p+=String.fromCharCode(y-64):p+=String.fromCharCode(y+64),E=!1;else switch(y!==e.CODE_STOP&&(S=!1),y){case e.CODE_FNC_1:i&&(p.length===0?p+="]C1":p+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!C&&E?(C=!0,E=!1):C&&E?(C=!1,E=!1):E=!0;break;case e.CODE_SHIFT:h=!0,d=e.CODE_CODE_B;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0;break}break;case e.CODE_CODE_B:if(y<96)E===C?p+=String.fromCharCode(32+y):p+=String.fromCharCode(32+y+128),E=!1;else switch(y!==e.CODE_STOP&&(S=!1),y){case e.CODE_FNC_1:i&&(p.length===0?p+="]C1":p+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!C&&E?(C=!0,E=!1):C&&E?(C=!1,E=!1):E=!0;break;case e.CODE_SHIFT:h=!0,d=e.CODE_CODE_A;break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0;break}break;case e.CODE_CODE_C:if(y<100)y<10&&(p+="0"),p+=y;else switch(y!==e.CODE_STOP&&(S=!1),y){case e.CODE_FNC_1:i&&(p.length===0?p+="]C1":p+="");break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_STOP:f=!0;break}break}A&&(d=d===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var j=m-v;if(m=n.getNextUnset(m),!n.isRange(m,Math.min(n.getSize(),m+(m-v)/2),!1))throw new Q;if(w-=_*x,w%103!==x)throw new Br;var T=p.length;if(T===0)throw new Q;T>0&&S&&(d===e.CODE_CODE_C?p=p.substring(0,T-2):p=p.substring(0,T-1));for(var N=(o[1]+o[0])/2,O=v+j/2,$=u.length,R=new Uint8Array($),F=0;F<$;F++)R[F]=u[F];var B=[new ke(N,r),new ke(O,r)];return new Fn(p,R,0,B,Le.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(nn),Hie=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ib=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},t3=function(t){Hie(e,t);function e(r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var a=t.call(this)||this;return a.usingCheckDigit=r,a.extendedMode=n,a.decodeRowResult="",a.counters=new Int32Array(9),a}return e.prototype.decodeRow=function(r,n,a){var i,o,s,l,u=this.counters;u.fill(0),this.decodeRowResult="";var d=e.findAsteriskPattern(n,u),f=n.getNextSet(d[1]),h=n.getSize(),p,v;do{e.recordPattern(n,f,u);var m=e.toNarrowWidePattern(u);if(m<0)throw new Q;p=e.patternToChar(m),this.decodeRowResult+=p,v=f;try{for(var g=(i=void 0,Ib(u)),x=g.next();!x.done;x=g.next()){var y=x.value;f+=y}}catch($){i={error:$}}finally{try{x&&!x.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}f=n.getNextSet(f)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var w=0;try{for(var _=Ib(u),S=_.next();!S.done;S=_.next()){var y=S.value;w+=y}}catch($){s={error:$}}finally{try{S&&!S.done&&(l=_.return)&&l.call(_)}finally{if(s)throw s.error}}var C=f-v-w;if(f!==h&&C*2<w)throw new Q;if(this.usingCheckDigit){for(var E=this.decodeRowResult.length-1,A=0,j=0;j<E;j++)A+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(j));if(this.decodeRowResult.charAt(E)!==e.ALPHABET_STRING.charAt(A%43))throw new Br;this.decodeRowResult=this.decodeRowResult.substring(0,E)}if(this.decodeRowResult.length===0)throw new Q;var T;this.extendedMode?T=e.decodeExtended(this.decodeRowResult):T=this.decodeRowResult;var N=(d[1]+d[0])/2,O=v+w/2;return new Fn(T,null,0,[new ke(N,r),new ke(O,r)],Le.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(r,n){for(var a=r.getSize(),i=r.getNextSet(0),o=0,s=i,l=!1,u=n.length,d=i;d<a;d++)if(r.get(d)!==l)n[o]++;else{if(o===u-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&r.isRange(Math.max(0,s-Math.floor((d-s)/2)),s,!1))return[s,d];s+=n[0]+n[1],n.copyWithin(0,2,2+o-1),n[o-1]=0,n[o]=0,o--}else o++;n[o]=1,l=!l}throw new Q},e.toNarrowWidePattern=function(r){var n,a,i=r.length,o=0,s;do{var l=2147483647;try{for(var u=(n=void 0,Ib(r)),d=u.next();!d.done;d=u.next()){var f=d.value;f<l&&f>o&&(l=f)}}catch(m){n={error:m}}finally{try{d&&!d.done&&(a=u.return)&&a.call(u)}finally{if(n)throw n.error}}o=l,s=0;for(var h=0,p=0,v=0;v<i;v++){var f=r[v];f>o&&(p|=1<<i-1-v,s++,h+=f)}if(s===3){for(var v=0;v<i&&s>0;v++){var f=r[v];if(f>o&&(s--,f*2>=h))return-1}return p}}while(s>3);return-1},e.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);if(r===e.ASTERISK_ENCODING)return"*";throw new Q},e.decodeExtended=function(r){for(var n=r.length,a="",i=0;i<n;i++){var o=r.charAt(i);if(o==="+"||o==="$"||o==="%"||o==="/"){var s=r.charAt(i+1),l="\0";switch(o){case"+":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)+32);else throw new me;break;case"$":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)-64);else throw new me;break;case"%":if(s>="A"&&s<="E")l=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")l=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")l=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")l="\0";else if(s==="V")l="@";else if(s==="W")l="`";else if(s==="X"||s==="Y"||s==="Z")l="";else throw new me;break;case"/":if(s>="A"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")l=":";else throw new me;break}a+=l,i++}else a+=o}return a},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(nn),qie=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Rb=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},r3=function(t){qie(e,t);function e(){var r=t.call(this)||this;return r.decodeRowResult="",r.counters=new Int32Array(6),r}return e.prototype.decodeRow=function(r,n,a){var i,o,s,l,u=this.findAsteriskPattern(n),d=n.getNextSet(u[1]),f=n.getSize(),h=this.counters;h.fill(0),this.decodeRowResult="";var p,v;do{e.recordPattern(n,d,h);var m=this.toPattern(h);if(m<0)throw new Q;p=this.patternToChar(m),this.decodeRowResult+=p,v=d;try{for(var g=(i=void 0,Rb(h)),x=g.next();!x.done;x=g.next()){var y=x.value;d+=y}}catch(j){i={error:j}}finally{try{x&&!x.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}d=n.getNextSet(d)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var w=0;try{for(var _=Rb(h),S=_.next();!S.done;S=_.next()){var y=S.value;w+=y}}catch(j){s={error:j}}finally{try{S&&!S.done&&(l=_.return)&&l.call(_)}finally{if(s)throw s.error}}if(d===f||!n.get(d))throw new Q;if(this.decodeRowResult.length<2)throw new Q;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var C=this.decodeExtended(this.decodeRowResult),E=(u[1]+u[0])/2,A=v+w/2;return new Fn(C,null,0,[new ke(E,r),new ke(A,r)],Le.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(r){var n=r.getSize(),a=r.getNextSet(0);this.counters.fill(0);for(var i=this.counters,o=a,s=!1,l=i.length,u=0,d=a;d<n;d++)if(r.get(d)!==s)i[u]++;else{if(u===l-1){if(this.toPattern(i)===e.ASTERISK_ENCODING)return new Int32Array([o,d]);o+=i[0]+i[1],i.copyWithin(0,2,2+u-1),i[u-1]=0,i[u]=0,u--}else u++;i[u]=1,s=!s}throw new Q},e.prototype.toPattern=function(r){var n,a,i=0;try{for(var o=Rb(r),s=o.next();!s.done;s=o.next()){var l=s.value;i+=l}}catch(v){n={error:v}}finally{try{s&&!s.done&&(a=o.return)&&a.call(o)}finally{if(n)throw n.error}}for(var u=0,d=r.length,f=0;f<d;f++){var h=Math.round(r[f]*9/i);if(h<1||h>4)return-1;if(f&1)u<<=h;else for(var p=0;p<h;p++)u=u<<1|1}return u},e.prototype.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);throw new Q},e.prototype.decodeExtended=function(r){for(var n=r.length,a="",i=0;i<n;i++){var o=r.charAt(i);if(o>="a"&&o<="d"){if(i>=n-1)throw new me;var s=r.charAt(i+1),l="\0";switch(o){case"d":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)+32);else throw new me;break;case"a":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)-64);else throw new me;break;case"b":if(s>="A"&&s<="E")l=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")l=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")l=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")l="\0";else if(s==="V")l="@";else if(s==="W")l="`";else if(s>="X"&&s<="Z")l="";else throw new me;break;case"c":if(s>="A"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")l=":";else throw new me;break}a+=l,i++}else a+=o}return a},e.prototype.checkChecksums=function(r){var n=r.length;this.checkOneChecksum(r,n-2,20),this.checkOneChecksum(r,n-1,15)},e.prototype.checkOneChecksum=function(r,n,a){for(var i=1,o=0,s=n-1;s>=0;s--)o+=i*e.ALPHABET_STRING.indexOf(r.charAt(s)),++i>a&&(i=1);if(r.charAt(n)!==e.ALPHABET_STRING[o%47])throw new Br},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e}(nn),Gie=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Kie=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},n3=function(t){Gie(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.narrowLineWidth=-1,r}return e.prototype.decodeRow=function(r,n,a){var i,o,s=this.decodeStart(n),l=this.decodeEnd(n),u=new ot;e.decodeMiddle(n,s[1],l[0],u);var d=u.toString(),f=null;a!=null&&(f=a.get(tr.ALLOWED_LENGTHS)),f==null&&(f=e.DEFAULT_ALLOWED_LENGTHS);var h=d.length,p=!1,v=0;try{for(var m=Kie(f),g=m.next();!g.done;g=m.next()){var x=g.value;if(h===x){p=!0;break}x>v&&(v=x)}}catch(_){i={error:_}}finally{try{g&&!g.done&&(o=m.return)&&o.call(m)}finally{if(i)throw i.error}}if(!p&&h>v&&(p=!0),!p)throw new me;var y=[new ke(s[1],r),new ke(l[0],r)],w=new Fn(d,null,0,y,Le.ITF,new Date().getTime());return w},e.decodeMiddle=function(r,n,a,i){var o=new Int32Array(10),s=new Int32Array(5),l=new Int32Array(5);for(o.fill(0),s.fill(0),l.fill(0);n<a;){nn.recordPattern(r,n,o);for(var u=0;u<5;u++){var d=2*u;s[u]=o[d],l[u]=o[d+1]}var f=e.decodeDigit(s);i.append(f.toString()),f=this.decodeDigit(l),i.append(f.toString()),o.forEach(function(h){n+=h})}},e.prototype.decodeStart=function(r){var n=e.skipWhiteSpace(r),a=e.findGuardPattern(r,n,e.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(r,a[0]),a},e.prototype.validateQuietZone=function(r,n){var a=this.narrowLineWidth*10;a=a<n?a:n;for(var i=n-1;a>0&&i>=0&&!r.get(i);i--)a--;if(a!==0)throw new Q},e.skipWhiteSpace=function(r){var n=r.getSize(),a=r.getNextSet(0);if(a===n)throw new Q;return a},e.prototype.decodeEnd=function(r){r.reverse();try{var n=e.skipWhiteSpace(r),a=void 0;try{a=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[0])}catch(o){o instanceof Q&&(a=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,a[0]);var i=a[0];return a[0]=r.getSize()-a[1],a[1]=r.getSize()-i,a}finally{r.reverse()}},e.findGuardPattern=function(r,n,a){var i=a.length,o=new Int32Array(i),s=r.getSize(),l=!1,u=0,d=n;o.fill(0);for(var f=n;f<s;f++)if(r.get(f)!==l)o[u]++;else{if(u===i-1){if(nn.patternMatchVariance(o,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[d,f];d+=o[0]+o[1],er.arraycopy(o,2,o,0,u-1),o[u-1]=0,o[u]=0,u--}else u++;o[u]=1,l=!l}throw new Q},e.decodeDigit=function(r){for(var n=e.MAX_AVG_VARIANCE,a=-1,i=e.PATTERNS.length,o=0;o<i;o++){var s=e.PATTERNS[o],l=nn.patternMatchVariance(r,s,e.MAX_INDIVIDUAL_VARIANCE);l<n?(n=l,a=o):l===n&&(a=-1)}if(a>=0)return a%10;throw new Q},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(nn),Xie=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),yf=function(t){Xie(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.decodeRowStringBuffer="",r}return e.findStartGuardPattern=function(r){for(var n=!1,a,i=0,o=Int32Array.from([0,0,0]);!n;){o=Int32Array.from([0,0,0]),a=e.findGuardPattern(r,i,!1,this.START_END_PATTERN,o);var s=a[0];i=a[1];var l=s-(i-s);l>=0&&(n=r.isRange(l,s,!1))}return a},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var a=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===a},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,a=0,i=n-1;i>=0;i-=2){var o=r.charAt(i).charCodeAt(0)-48;if(o<0||o>9)throw new me;a+=o}a*=3;for(var i=n-2;i>=0;i-=2){var o=r.charAt(i).charCodeAt(0)-48;if(o<0||o>9)throw new me;a+=o}return(1e3-a)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(r,n,a,i){return this.findGuardPattern(r,n,a,i,new Int32Array(i.length))},e.findGuardPattern=function(r,n,a,i,o){var s=r.getSize();n=a?r.getNextUnset(n):r.getNextSet(n);for(var l=0,u=n,d=i.length,f=a,h=n;h<s;h++)if(r.get(h)!==f)o[l]++;else{if(l===d-1){if(nn.patternMatchVariance(o,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([u,h]);u+=o[0]+o[1];for(var p=o.slice(2,o.length),v=0;v<l-1;v++)o[v]=p[v];o[l-1]=0,o[l]=0,l--}else l++;o[l]=1,f=!f}throw new Q},e.decodeDigit=function(r,n,a,i){this.recordPattern(r,a,n);for(var o=this.MAX_AVG_VARIANCE,s=-1,l=i.length,u=0;u<l;u++){var d=i[u],f=nn.patternMatchVariance(n,d,e.MAX_INDIVIDUAL_VARIANCE);f<o&&(o=f,s=u)}if(s>=0)return s;throw new Q},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(nn),Yie=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Zie=function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var a=this.decodeRowStringBuffer,i=this.decodeMiddle(r,n,a),o=a.toString(),s=t.parseExtensionString(o),l=[new ke((n[0]+n[1])/2,e),new ke(i,e)],u=new Fn(o,null,0,l,Le.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&u.putAllMetadata(s),u},t.prototype.decodeMiddle=function(e,r,n){var a,i,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var s=e.getSize(),l=r[1],u=0,d=0;d<5&&l<s;d++){var f=yf.decodeDigit(e,o,l,yf.L_AND_G_PATTERNS);n+=String.fromCharCode(48+f%10);try{for(var h=(a=void 0,Yie(o)),p=h.next();!p.done;p=h.next()){var v=p.value;l+=v}}catch(g){a={error:g}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}f>=10&&(u|=1<<4-d),d!==4&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(n.length!==5)throw new Q;var m=this.determineCheckDigit(u);if(t.extensionChecksum(n.toString())!==m)throw new Q;return l},t.extensionChecksum=function(e){for(var r=e.length,n=0,a=r-2;a>=0;a-=2)n+=e.charAt(a).charCodeAt(0)-48;n*=3;for(var a=r-1;a>=0;a-=2)n+=e.charAt(a).charCodeAt(0)-48;return n*=3,n%10},t.prototype.determineCheckDigit=function(e){for(var r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new Q},t.parseExtensionString=function(e){if(e.length!==5)return null;var r=t.parseExtension5String(e);return r==null?null:new Map([[En.SUGGESTED_PRICE,r]])},t.parseExtension5String=function(e){var r;switch(e.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}var n=parseInt(e.substring(1)),a=(n/100).toString(),i=n%100,o=i<10?"0"+i:i.toString();return r+a+"."+o},t}(),Qie=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Jie=function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var a=this.decodeRowStringBuffer,i=this.decodeMiddle(r,n,a),o=a.toString(),s=t.parseExtensionString(o),l=[new ke((n[0]+n[1])/2,e),new ke(i,e)],u=new Fn(o,null,0,l,Le.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&u.putAllMetadata(s),u},t.prototype.decodeMiddle=function(e,r,n){var a,i,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var s=e.getSize(),l=r[1],u=0,d=0;d<2&&l<s;d++){var f=yf.decodeDigit(e,o,l,yf.L_AND_G_PATTERNS);n+=String.fromCharCode(48+f%10);try{for(var h=(a=void 0,Qie(o)),p=h.next();!p.done;p=h.next()){var v=p.value;l+=v}}catch(m){a={error:m}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}f>=10&&(u|=1<<1-d),d!==1&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(n.length!==2)throw new Q;if(parseInt(n.toString())%4!==u)throw new Q;return l},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[En.ISSUE_NUMBER,parseInt(e)]])},t}(),eoe=function(){function t(){}return t.decodeRow=function(e,r,n){var a=yf.findGuardPattern(r,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var i=new Zie;return i.decodeRow(e,r,a)}catch{var o=new Jie;return o.decodeRow(e,r,a)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t}(),toe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Zr=function(t){toe(e,t);function e(){var r=t.call(this)||this;r.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(s){return Int32Array.from(s)});for(var n=10;n<20;n++){for(var a=e.L_PATTERNS[n-10],i=new Int32Array(a.length),o=0;o<a.length;o++)i[o]=a[a.length-o-1];e.L_AND_G_PATTERNS[n]=i}return r}return e.prototype.decodeRow=function(r,n,a){var i=e.findStartGuardPattern(n),o=a==null?null:a.get(tr.NEED_RESULT_POINT_CALLBACK);if(o!=null){var s=new ke((i[0]+i[1])/2,r);o.foundPossibleResultPoint(s)}var l=this.decodeMiddle(n,i,this.decodeRowStringBuffer),u=l.rowOffset,d=l.resultString;if(o!=null){var f=new ke(u,r);o.foundPossibleResultPoint(f)}var h=e.decodeEnd(n,u);if(o!=null){var p=new ke((h[0]+h[1])/2,r);o.foundPossibleResultPoint(p)}var v=h[1],m=v+(v-h[0]);if(m>=n.getSize()||!n.isRange(v,m,!1))throw new Q;var g=d.toString();if(g.length<8)throw new me;if(!e.checkChecksum(g))throw new Br;var x=(i[1]+i[0])/2,y=(h[1]+h[0])/2,w=this.getBarcodeFormat(),_=[new ke(x,r),new ke(y,r)],S=new Fn(g,null,0,_,w,new Date().getTime()),C=0;try{var E=eoe.decodeRow(r,n,h[1]);S.putMetadata(En.UPC_EAN_EXTENSION,E.getText()),S.putAllMetadata(E.getResultMetadata()),S.addResultPoints(E.getResultPoints()),C=E.getText().length}catch{}var A=a==null?null:a.get(tr.ALLOWED_EAN_EXTENSIONS);if(A!=null){var j=!1;for(var T in A)if(C.toString()===T){j=!0;break}if(!j)throw new Q}return w===Le.EAN_13||Le.UPC_A,S},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var a=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===a},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,a=0,i=n-1;i>=0;i-=2){var o=r.charAt(i).charCodeAt(0)-48;if(o<0||o>9)throw new me;a+=o}a*=3;for(var i=n-2;i>=0;i-=2){var o=r.charAt(i).charCodeAt(0)-48;if(o<0||o>9)throw new me;a+=o}return(1e3-a)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(yf),roe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),a3=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gS=function(t){roe(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,a){var i,o,s,l,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var d=r.getSize(),f=n[1],h=0,p=0;p<6&&f<d;p++){var v=Zr.decodeDigit(r,u,f,Zr.L_AND_G_PATTERNS);a+=String.fromCharCode(48+v%10);try{for(var m=(i=void 0,a3(u)),g=m.next();!g.done;g=m.next()){var x=g.value;f+=x}}catch(S){i={error:S}}finally{try{g&&!g.done&&(o=m.return)&&o.call(m)}finally{if(i)throw i.error}}v>=10&&(h|=1<<5-p)}a=e.determineFirstDigit(a,h);var y=Zr.findGuardPattern(r,f,!0,Zr.MIDDLE_PATTERN,new Int32Array(Zr.MIDDLE_PATTERN.length).fill(0));f=y[1];for(var p=0;p<6&&f<d;p++){var v=Zr.decodeDigit(r,u,f,Zr.L_PATTERNS);a+=String.fromCharCode(48+v);try{for(var w=(s=void 0,a3(u)),_=w.next();!_.done;_=w.next()){var x=_.value;f+=x}}catch(E){s={error:E}}finally{try{_&&!_.done&&(l=w.return)&&l.call(w)}finally{if(s)throw s.error}}}return{rowOffset:f,resultString:a}},e.prototype.getBarcodeFormat=function(){return Le.EAN_13},e.determineFirstDigit=function(r,n){for(var a=0;a<10;a++)if(n===this.FIRST_DIGIT_ENCODINGS[a])return r=String.fromCharCode(48+a)+r,r;throw new Q},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(Zr),noe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),i3=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},o3=function(t){noe(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,a){var i,o,s,l,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var d=r.getSize(),f=n[1],h=0;h<4&&f<d;h++){var p=Zr.decodeDigit(r,u,f,Zr.L_PATTERNS);a+=String.fromCharCode(48+p);try{for(var v=(i=void 0,i3(u)),m=v.next();!m.done;m=v.next()){var g=m.value;f+=g}}catch(_){i={error:_}}finally{try{m&&!m.done&&(o=v.return)&&o.call(v)}finally{if(i)throw i.error}}}var x=Zr.findGuardPattern(r,f,!0,Zr.MIDDLE_PATTERN,new Int32Array(Zr.MIDDLE_PATTERN.length).fill(0));f=x[1];for(var h=0;h<4&&f<d;h++){var p=Zr.decodeDigit(r,u,f,Zr.L_PATTERNS);a+=String.fromCharCode(48+p);try{for(var y=(s=void 0,i3(u)),w=y.next();!w.done;w=y.next()){var g=w.value;f+=g}}catch(C){s={error:C}}finally{try{w&&!w.done&&(l=y.return)&&l.call(y)}finally{if(s)throw s.error}}}return{rowOffset:f,resultString:a}},e.prototype.getBarcodeFormat=function(){return Le.EAN_8},e}(Zr),aoe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),s3=function(t){aoe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.ean13Reader=new gS,r}return e.prototype.getBarcodeFormat=function(){return Le.UPC_A},e.prototype.decode=function(r,n){return this.maybeReturnResult(this.ean13Reader.decode(r))},e.prototype.decodeRow=function(r,n,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,n,a))},e.prototype.decodeMiddle=function(r,n,a){return this.ean13Reader.decodeMiddle(r,n,a)},e.prototype.maybeReturnResult=function(r){var n=r.getText();if(n.charAt(0)==="0"){var a=new Fn(n.substring(1),null,null,r.getResultPoints(),Le.UPC_A);return r.getResultMetadata()!=null&&a.putAllMetadata(r.getResultMetadata()),a}else throw new Q},e.prototype.reset=function(){this.ean13Reader.reset()},e}(Zr),ioe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ooe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},l3=function(t){ioe(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=new Int32Array(4),r}return e.prototype.decodeMiddle=function(r,n,a){var i,o,s=this.decodeMiddleCounters.map(function(g){return g});s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var l=r.getSize(),u=n[1],d=0,f=0;f<6&&u<l;f++){var h=e.decodeDigit(r,s,u,e.L_AND_G_PATTERNS);a+=String.fromCharCode(48+h%10);try{for(var p=(i=void 0,ooe(s)),v=p.next();!v.done;v=p.next()){var m=v.value;u+=m}}catch(g){i={error:g}}finally{try{v&&!v.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}h>=10&&(d|=1<<5-f)}return e.determineNumSysAndCheckDigit(new ot(a),d),u},e.prototype.decodeEnd=function(r,n){return e.findGuardPatternWithoutCounters(r,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(r){return Zr.checkChecksum(e.convertUPCEtoUPCA(r))},e.determineNumSysAndCheckDigit=function(r,n){for(var a=0;a<=1;a++)for(var i=0;i<10;i++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][i]){r.insert(0,"0"+a),r.append("0"+i);return}throw Q.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return Le.UPC_E},e.convertUPCEtoUPCA=function(r){var n=r.slice(1,7).split("").map(function(o){return o.charCodeAt(0)}),a=new ot;a.append(r.charAt(0));var i=n[5];switch(i){case 0:case 1:case 2:a.appendChars(n,0,2),a.append(i),a.append("0000"),a.appendChars(n,2,3);break;case 3:a.appendChars(n,0,3),a.append("00000"),a.appendChars(n,3,2);break;case 4:a.appendChars(n,0,4),a.append("00000"),a.append(n[4]);break;default:a.appendChars(n,0,5),a.append("0000"),a.append(i);break}return r.length>=8&&a.append(r.charAt(7)),a.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(Zr),soe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),c3=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Db=function(t){soe(e,t);function e(r){var n=t.call(this)||this,a=r==null?null:r.get(tr.POSSIBLE_FORMATS),i=[];return a!=null&&(a.indexOf(Le.EAN_13)>-1&&i.push(new gS),a.indexOf(Le.UPC_A)>-1&&i.push(new s3),a.indexOf(Le.EAN_8)>-1&&i.push(new o3),a.indexOf(Le.UPC_E)>-1&&i.push(new l3)),i.length===0&&(i.push(new gS),i.push(new s3),i.push(new o3),i.push(new l3)),n.readers=i,n}return e.prototype.decodeRow=function(r,n,a){var i,o;try{for(var s=c3(this.readers),l=s.next();!l.done;l=s.next()){var u=l.value;try{var d=u.decodeRow(r,n,a),f=d.getBarcodeFormat()===Le.EAN_13&&d.getText().charAt(0)==="0",h=a==null?null:a.get(tr.POSSIBLE_FORMATS),p=h==null||h.includes(Le.UPC_A);if(f&&p){var v=d.getRawBytes(),m=new Fn(d.getText().substring(1),v,v?v.length:null,d.getResultPoints(),Le.UPC_A);return m.putAllMetadata(d.getResultMetadata()),m}return d}catch{}}}catch(g){i={error:g}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}throw new Q},e.prototype.reset=function(){var r,n;try{for(var a=c3(this.readers),i=a.next();!i.done;i=a.next()){var o=i.value;o.reset()}}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}},e}(nn),loe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),coe=function(t){loe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},r}return e.prototype.decodeRow=function(r,n,a){var i=this.getValidRowData(n);if(!i)throw new Q;var o=this.codaBarDecodeRow(i.row);if(!o)throw new Q;return new Fn(o,null,0,[new ke(i.left,r),new ke(i.right,r)],Le.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(r){var n=r.toArray(),a=n.indexOf(!0);if(a===-1)return null;var i=n.lastIndexOf(!0);if(i<=a)return null;n=n.slice(a,i+1);for(var o=[],s=n[0],l=1,u=1;u<n.length;u++)n[u]===s?l++:(s=n[u],o.push(l),l=1);return o.push(l),o.length<23&&(o.length+1)%8!==0?null:{row:o,left:a,right:i}},e.prototype.codaBarDecodeRow=function(r){for(var n=[],a=Math.ceil(r.reduce(function(l,u){return(l+u)/2},0));r.length>0;){var i=r.splice(0,8).splice(0,7),o=i.map(function(l){return l<a?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[o]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[o])}var s=n.join("");return this.validCodaBarString(s)?s:null},e.prototype.validCodaBarString=function(r){var n=/^[A-D].{1,}[A-D]$/;return n.test(r)},e}(nn),uoe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),doe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Sc=function(t){uoe(e,t);function e(){var r=t.call(this)||this;return r.decodeFinderCounters=new Int32Array(4),r.dataCharacterCounters=new Int32Array(8),r.oddRoundingErrors=new Array(4),r.evenRoundingErrors=new Array(4),r.oddCounts=new Array(r.dataCharacterCounters.length/2),r.evenCounts=new Array(r.dataCharacterCounters.length/2),r}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(r,n){for(var a=0;a<n.length;a++)if(nn.patternMatchVariance(r,n[a],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return a;throw new Q},e.count=function(r){return xt.sum(new Int32Array(r))},e.increment=function(r,n){for(var a=0,i=n[0],o=1;o<r.length;o++)n[o]>i&&(i=n[o],a=o);r[a]++},e.decrement=function(r,n){for(var a=0,i=n[0],o=1;o<r.length;o++)n[o]<i&&(i=n[o],a=o);r[a]--},e.isFinderPattern=function(r){var n,a,i=r[0]+r[1],o=i+r[2]+r[3],s=i/o;if(s>=e.MIN_FINDER_PATTERN_RATIO&&s<=e.MAX_FINDER_PATTERN_RATIO){var l=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;try{for(var d=doe(r),f=d.next();!f.done;f=d.next()){var h=f.value;h>u&&(u=h),h<l&&(l=h)}}catch(p){n={error:p}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(n)throw n.error}}return u<10*l}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(nn),ly=function(){function t(e,r){this.value=e,this.checksumPortion=r}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t}(),IL=function(){function t(e,r,n,a,i){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new ke(n,i)),this.resultPoints.push(new ke(a,i))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.hashCode=function(){return this.value},t}(),foe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yd=function(){function t(){}return t.getRSSvalue=function(e,r,n){var a,i,o=0;try{for(var s=foe(e),l=s.next();!l.done;l=s.next()){var u=l.value;o+=u}}catch(y){a={error:y}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(a)throw a.error}}for(var d=0,f=0,h=e.length,p=0;p<h-1;p++){var v=void 0;for(v=1,f|=1<<p;v<e[p];v++,f&=~(1<<p)){var m=t.combins(o-v-1,h-p-2);if(n&&f===0&&o-v-(h-p-1)>=h-p-1&&(m-=t.combins(o-v-(h-p),h-p-2)),h-p-1>1){for(var g=0,x=o-v-(h-p-2);x>r;x--)g+=t.combins(o-v-x-1,h-p-3);m-=g*(h-1-p)}else o-v>r&&m--;d+=m}o-=v}return d},t.combins=function(e,r){var n,a;e-r>r?(a=r,n=e-r):(a=e-r,n=r);for(var i=1,o=1,s=e;s>n;s--)i*=s,o<=a&&(i/=o,o++);for(;o<=a;)i/=o,o++;return i},t}(),hoe=function(){function t(){}return t.buildBitArray=function(e){var r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);for(var n=12*r,a=new hn(n),i=0,o=e[0],s=o.getRightChar().getValue(),l=11;l>=0;--l)s&1<<l&&a.set(i),i++;for(var l=1;l<e.length;++l){for(var u=e[l],d=u.getLeftChar().getValue(),f=11;f>=0;--f)d&1<<f&&a.set(i),i++;if(u.getRightChar()!==null)for(var h=u.getRightChar().getValue(),f=11;f>=0;--f)h&1<<f&&a.set(i),i++}return a},t}(),pc=function(){function t(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t}(),cj=function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t}(),poe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ri=function(t){poe(e,t);function e(r,n){var a=t.call(this,r)||this;return a.value=n,a}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(cj),moe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),mc=function(t){moe(e,t);function e(r,n,a){var i=t.call(this,r)||this;return a?(i.remaining=!0,i.remainingValue=i.remainingValue):(i.remaining=!1,i.remainingValue=0),i.newString=n,i}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(cj),voe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Yu=function(t){voe(e,t);function e(r,n,a){var i=t.call(this,r)||this;if(n<0||n>10||a<0||a>10)throw new me;return i.firstDigit=n,i.secondDigit=a,i}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(cj),Cg=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},goe=function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var r,n,a,i,o,s,l,u;if(!e)return null;if(e.length<2)throw new Q;var d=e.substring(0,2);try{for(var f=Cg(t.TWO_DIGIT_DATA_LENGTH),h=f.next();!h.done;h=f.next()){var p=h.value;if(p[0]===d)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,p[2],e):t.processFixedAI(2,p[1],e)}}catch(C){r={error:C}}finally{try{h&&!h.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}if(e.length<3)throw new Q;var v=e.substring(0,3);try{for(var m=Cg(t.THREE_DIGIT_DATA_LENGTH),g=m.next();!g.done;g=m.next()){var p=g.value;if(p[0]===v)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,p[2],e):t.processFixedAI(3,p[1],e)}}catch(C){a={error:C}}finally{try{g&&!g.done&&(i=m.return)&&i.call(m)}finally{if(a)throw a.error}}try{for(var x=Cg(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),y=x.next();!y.done;y=x.next()){var p=y.value;if(p[0]===v)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,p[2],e):t.processFixedAI(4,p[1],e)}}catch(C){o={error:C}}finally{try{y&&!y.done&&(s=x.return)&&s.call(x)}finally{if(o)throw o.error}}if(e.length<4)throw new Q;var w=e.substring(0,4);try{for(var _=Cg(t.FOUR_DIGIT_DATA_LENGTH),S=_.next();!S.done;S=_.next()){var p=S.value;if(p[0]===w)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,p[2],e):t.processFixedAI(4,p[1],e)}}catch(C){l={error:C}}finally{try{S&&!S.done&&(u=_.return)&&u.call(_)}finally{if(l)throw l.error}}throw new Q},t.processFixedAI=function(e,r,n){if(n.length<e)throw new Q;var a=n.substring(0,e);if(n.length<e+r)throw new Q;var i=n.substring(e,e+r),o=n.substring(e+r),s="("+a+")"+i,l=t.parseFieldsInGeneralPurpose(o);return l==null?s:s+l},t.processVariableAI=function(e,r,n){var a=n.substring(0,e),i;n.length<e+r?i=n.length:i=e+r;var o=n.substring(e,i),s=n.substring(i),l="("+a+")"+o,u=t.parseFieldsInGeneralPurpose(s);return u==null?l:l+u},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t}(),u0=function(){function t(e){this.buffer=new ot,this.information=e}return t.prototype.decodeAllCodes=function(e,r){var n=r,a=null;do{var i=this.decodeGeneralPurposeField(n,a),o=goe.parseFieldsInGeneralPurpose(i.getNewString());if(o!=null&&e.append(o),i.isRemaining()?a=""+i.getRemainingValue():a=null,n===i.getNewPosition())break;n=i.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var r=this.extractNumericValueFromBitArray(e,4);return r===0?new Yu(this.information.getSize(),Yu.FNC1,Yu.FNC1):new Yu(this.information.getSize(),r-1,Yu.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),a=(n-8)/11,i=(n-8)%11;return new Yu(e+7,a,i)},t.prototype.extractNumericValueFromBitArray=function(e,r){return t.extractNumericValueFromBitArray(this.information,e,r)},t.extractNumericValueFromBitArray=function(e,r,n){for(var a=0,i=0;i<n;++i)e.get(r+i)&&(a|=1<<n-i-1);return a},t.prototype.decodeGeneralPurposeField=function(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new mc(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new mc(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,r;do{var n=this.current.getPosition();this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished());var a=n!==this.current.getPosition();if(!a&&!e)break}while(!e);return r.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var r=void 0;return e.isSecondDigitFNC1()?r=new mc(this.current.getPosition(),this.buffer.toString()):r=new mc(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new pc(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var r=new mc(this.current.getPosition(),this.buffer.toString());return new pc(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new pc(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new mc(this.current.getPosition(),this.buffer.toString());return new pc(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new pc(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new mc(this.current.getPosition(),this.buffer.toString());return new pc(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new pc(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var a=this.extractNumericValueFromBitArray(e,8);return a>=232&&a<253},t.prototype.decodeIsoIec646=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new Ri(e+5,Ri.FNC1);if(r>=5&&r<15)return new Ri(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new Ri(e+7,""+(n+1));if(n>=90&&n<116)return new Ri(e+7,""+(n+7));var a=this.extractNumericValueFromBitArray(e,8),i;switch(a){case 232:i="!";break;case 233:i='"';break;case 234:i="%";break;case 235:i="&";break;case 236:i="'";break;case 237:i="(";break;case 238:i=")";break;case 239:i="*";break;case 240:i="+";break;case 241:i=",";break;case 242:i="-";break;case 243:i=".";break;case 244:i="/";break;case 245:i=":";break;case 246:i=";";break;case 247:i="<";break;case 248:i="=";break;case 249:i=">";break;case 250:i="?";break;case 251:i="_";break;case 252:i=" ";break;default:throw new me}return new Ri(e+8,i)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},t.prototype.decodeAlphanumeric=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new Ri(e+5,Ri.FNC1);if(r>=5&&r<15)return new Ri(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new Ri(e+6,""+(n+33));var a;switch(n){case 58:a="*";break;case 59:a=",";break;case 60:a="-";break;case 61:a=".";break;case 62:a="/";break;default:throw new Nv("Decoding invalid alphanumeric value: "+n)}return new Ri(e+6,a)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0},t}(),RL=function(){function t(e){this.information=e,this.generalDecoder=new u0(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t}(),yoe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qi=function(t){yoe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedGtin=function(r,n){r.append("(01)");var a=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,n,a)},e.prototype.encodeCompressedGtinWithoutAI=function(r,n,a){for(var i=0;i<4;++i){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*i,10);o/100===0&&r.append("0"),o/10===0&&r.append("0"),r.append(o)}e.appendCheckDigit(r,a)},e.appendCheckDigit=function(r,n){for(var a=0,i=0;i<13;i++){var o=r.charAt(i+n).charCodeAt(0)-48;a+=i&1?o:3*o}a=10-a%10,a===10&&(a=0),r.append(a)},e.GTIN_SIZE=40,e}(RL),xoe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),woe=function(t){xoe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new ot;r.append("(01)");var n=r.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return r.append(a),this.encodeCompressedGtinWithoutAI(r,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}(Qi),boe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_oe=function(t){boe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new ot;return this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}(RL),Soe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),d0=function(t){Soe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedWeight=function(r,n,a){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,a);this.addWeightCode(r,i);for(var o=this.checkWeight(i),s=1e5,l=0;l<5;++l)o/s===0&&r.append("0"),s/=10;r.append(o)},e}(Qi),Coe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),DL=function(t){Coe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+d0.GTIN_SIZE+e.WEIGHT_SIZE)throw new Q;var r=new ot;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+d0.GTIN_SIZE,e.WEIGHT_SIZE),r.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}(d0),Eoe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Aoe=function(t){Eoe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){r.append("(3103)")},e.prototype.checkWeight=function(r){return r},e}(DL),joe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Noe=function(t){joe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){n<1e4?r.append("(3202)"):r.append("(3203)")},e.prototype.checkWeight=function(r){return r<1e4?r:r-1e4},e}(DL),Ooe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Toe=function(t){Ooe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Qi.GTIN_SIZE)throw new Q;var r=new ot;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Qi.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(392"),r.append(n),r.append(")");var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Qi.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return r.append(a.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}(Qi),Poe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),koe=function(t){Poe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Qi.GTIN_SIZE)throw new Q;var r=new ot;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Qi.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(393"),r.append(n),r.append(")");var a=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Qi.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);a/100===0&&r.append("0"),a/10===0&&r.append("0"),r.append(a);var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Qi.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return r.append(i.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(Qi),Ioe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Js=function(t){Ioe(e,t);function e(r,n,a){var i=t.call(this,r)||this;return i.dateCode=a,i.firstAIdigits=n,i}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new Q;var r=new ot;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(r,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),r.toString()},e.prototype.encodeCompressedDate=function(r,n){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(a!==38400){r.append("("),r.append(this.dateCode),r.append(")");var i=a%32;a/=32;var o=a%12+1;a/=12;var s=a;s/10===0&&r.append("0"),r.append(s),o/10===0&&r.append("0"),r.append(o),i/10===0&&r.append("0"),r.append(i)}},e.prototype.addWeightCode=function(r,n){r.append("("),r.append(this.firstAIdigits),r.append(n/1e5),r.append(")")},e.prototype.checkWeight=function(r){return r%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(d0);function Roe(t){try{if(t.get(1))return new woe(t);if(!t.get(2))return new _oe(t);var e=u0.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new Aoe(t);case 5:return new Noe(t)}var r=u0.extractNumericValueFromBitArray(t,1,5);switch(r){case 12:return new Toe(t);case 13:return new koe(t)}var n=u0.extractNumericValueFromBitArray(t,1,7);switch(n){case 56:return new Js(t,"310","11");case 57:return new Js(t,"320","11");case 58:return new Js(t,"310","13");case 59:return new Js(t,"320","13");case 60:return new Js(t,"310","15");case 61:return new Js(t,"320","15");case 62:return new Js(t,"310","17");case 63:return new Js(t,"320","17")}}catch(a){throw console.log(a),new Nv("unknown decoder: "+t)}}var u3=function(){function t(e,r,n,a){this.leftchar=e,this.rightchar=r,this.finderpattern=n,this.maybeLast=a}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,r){return e instanceof t?t.equalsOrNull(e.leftchar,r.leftchar)&&t.equalsOrNull(e.rightchar,r.rightchar)&&t.equalsOrNull(e.finderpattern,r.finderpattern):!1},t.equalsOrNull=function(e,r){return e===null?r===null:t.equals(e,r)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t}(),Doe=function(){function t(e,r,n){this.pairs=e,this.rowNumber=r,this.wasReversed=n}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,r){return e instanceof t?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1},t.prototype.checkEqualitity=function(e,r){if(!(!e||!r)){var n;return e.forEach(function(a,i){r.forEach(function(o){a.getLeftChar().getValue()===o.getLeftChar().getValue()&&a.getRightChar().getValue()===o.getRightChar().getValue()&&a.getFinderPatter().getValue()===o.getFinderPatter().getValue()&&(n=!0)})}),n}},t}(),Moe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),el=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$oe=function(t){Moe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.pairs=new Array(e.MAX_PAIRS),r.rows=new Array,r.startEnd=[2],r}return e.prototype.decodeRow=function(r,n,a){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(r,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(r,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(r,n){for(var a=!1;!a;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,r))}catch(s){if(s instanceof Q){if(!this.pairs.length)throw new Q;a=!0}}if(this.checkChecksum())return this.pairs;var i;if(this.rows.length?i=!0:i=!1,this.storeRow(r,!1),i){var o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new Q},e.prototype.checkRowsBoolean=function(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(a){console.log(a)}return r&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(r,n){for(var a,i,o=n;o<this.rows.length;o++){var s=this.rows[o];this.pairs.length=0;try{for(var l=(a=void 0,el(r)),u=l.next();!u.done;u=l.next()){var d=u.value;this.pairs.push(d.getPairs())}}catch(h){a={error:h}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(a)throw a.error}}if(this.pairs.push(s.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var f=new Array(r);f.push(s);try{return this.checkRows(f,o+1)}catch(h){console.log(h)}}}throw new Q},e.isValidSequence=function(r){var n,a;try{for(var i=el(e.FINDER_PATTERN_SEQUENCES),o=i.next();!o.done;o=i.next()){var s=o.value;if(!(r.length>s.length)){for(var l=!0,u=0;u<r.length;u++)if(r[u].getFinderPattern().getValue()!==s[u]){l=!1;break}if(l)return!0}}}catch(d){n={error:d}}finally{try{o&&!o.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(r,n){for(var a=0,i=!1,o=!1;a<this.rows.length;){var s=this.rows[a];if(s.getRowNumber()>r){o=s.isEquivalent(this.pairs);break}i=s.isEquivalent(this.pairs),a++}o||i||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new Doe(this.pairs,r,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(r,n){var a,i,o,s,l,u;try{for(var d=el(n),f=d.next();!f.done;f=d.next()){var h=f.value;if(h.getPairs().length!==r.length){var p=!0;try{for(var v=(o=void 0,el(h.getPairs())),m=v.next();!m.done;m=v.next()){var g=m.value,x=!1;try{for(var y=(l=void 0,el(r)),w=y.next();!w.done;w=y.next()){var _=w.value;if(u3.equals(g,_)){x=!0;break}}}catch(S){l={error:S}}finally{try{w&&!w.done&&(u=y.return)&&u.call(y)}finally{if(l)throw l.error}}x||(p=!1)}}catch(S){o={error:S}}finally{try{m&&!m.done&&(s=v.return)&&s.call(v)}finally{if(o)throw o.error}}}}}catch(S){a={error:S}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}},e.isPartialRow=function(r,n){var a,i,o,s,l,u;try{for(var d=el(n),f=d.next();!f.done;f=d.next()){var h=f.value,p=!0;try{for(var v=(o=void 0,el(r)),m=v.next();!m.done;m=v.next()){var g=m.value,x=!1;try{for(var y=(l=void 0,el(h.getPairs())),w=y.next();!w.done;w=y.next()){var _=w.value;if(g.equals(_)){x=!0;break}}}catch(S){l={error:S}}finally{try{w&&!w.done&&(u=y.return)&&u.call(y)}finally{if(l)throw l.error}}if(!x){p=!1;break}}}catch(S){o={error:S}}finally{try{m&&!m.done&&(s=v.return)&&s.call(v)}finally{if(o)throw o.error}}if(p)return!0}}catch(S){a={error:S}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(r){var n=hoe.buildBitArray(r),a=Roe(n),i=a.parseInformation(),o=r[0].getFinderPattern().getResultPoints(),s=r[r.length-1].getFinderPattern().getResultPoints(),l=[o[0],o[1],s[0],s[1]];return new Fn(i,null,null,l,Le.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var r=this.pairs.get(0),n=r.getLeftChar(),a=r.getRightChar();if(a===null)return!1;for(var i=a.getChecksumPortion(),o=2,s=1;s<this.pairs.size();++s){var l=this.pairs.get(s);i+=l.getLeftChar().getChecksumPortion(),o++;var u=l.getRightChar();u!=null&&(i+=u.getChecksumPortion(),o++)}i%=211;var d=211*(o-4)+i;return d===n.getValue()},e.getNextSecondBar=function(r,n){var a;return r.get(n)?(a=r.getNextUnset(n),a=r.getNextSet(a)):(a=r.getNextSet(n),a=r.getNextUnset(a)),a},e.prototype.retrieveNextPair=function(r,n,a){var i=n.length%2===0;this.startFromEven&&(i=!i);var o,s=!0,l=-1;do this.findNextPair(r,n,l),o=this.parseFoundFinderPattern(r,a,i),o===null?l=e.getNextSecondBar(r,this.startEnd[0]):s=!1;while(s);var u=this.decodeDataCharacter(r,o,i,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new Q;var d;try{d=this.decodeDataCharacter(r,o,i,!1)}catch(f){d=null,console.log(f)}return new u3(u,d,o,!0)},e.prototype.isEmptyPair=function(r){return r.length===0},e.prototype.findNextPair=function(r,n,a){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;var o=r.getSize(),s;if(a>=0)s=a;else if(this.isEmptyPair(n))s=0;else{var l=n[n.length-1];s=l.getFinderPattern().getStartEnd()[1]}var u=n.length%2!==0;this.startFromEven&&(u=!u);for(var d=!1;s<o&&(d=!r.get(s),!!d);)s++;for(var f=0,h=s,p=s;p<o;p++)if(r.get(p)!==d)i[f]++;else{if(f===3){if(u&&e.reverseCounters(i),e.isFinderPattern(i)){this.startEnd[0]=h,this.startEnd[1]=p;return}u&&e.reverseCounters(i),h+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,f--}else f++;i[f]=1,d=!d}throw new Q},e.reverseCounters=function(r){for(var n=r.length,a=0;a<n/2;++a){var i=r[a];r[a]=r[n-a-1],r[n-a-1]=i}},e.prototype.parseFoundFinderPattern=function(r,n,a){var i,o,s;if(a){for(var l=this.startEnd[0]-1;l>=0&&!r.get(l);)l--;l++,i=this.startEnd[0]-l,o=l,s=this.startEnd[1]}else o=this.startEnd[0],s=r.getNextUnset(this.startEnd[1]+1),i=s-this.startEnd[1];var u=this.getDecodeFinderCounters();er.arraycopy(u,0,u,1,u.length-1),u[0]=i;var d;try{d=this.parseFinderValue(u,e.FINDER_PATTERNS)}catch{return null}return new IL(d,[o,s],o,s,n)},e.prototype.decodeDataCharacter=function(r,n,a,i){for(var o=this.getDataCharacterCounters(),s=0;s<o.length;s++)o[s]=0;if(i)e.recordPatternInReverse(r,n.getStartEnd()[0],o);else{e.recordPattern(r,n.getStartEnd()[1],o);for(var l=0,u=o.length-1;l<u;l++,u--){var d=o[l];o[l]=o[u],o[u]=d}}var f=17,h=xt.sum(new Int32Array(o))/f,p=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(h-p)/p>.3)throw new Q;for(var v=this.getOddCounts(),m=this.getEvenCounts(),g=this.getOddRoundingErrors(),x=this.getEvenRoundingErrors(),l=0;l<o.length;l++){var y=1*o[l]/h,w=y+.5;if(w<1){if(y<.3)throw new Q;w=1}else if(w>8){if(y>8.7)throw new Q;w=8}var _=l/2;l&1?(m[_]=w,x[_]=y-w):(v[_]=w,g[_]=y-w)}this.adjustOddEvenCounts(f);for(var S=4*n.getValue()+(a?0:2)+(i?0:1)-1,C=0,E=0,l=v.length-1;l>=0;l--){if(e.isNotA1left(n,a,i)){var A=e.WEIGHTS[S][2*l];E+=v[l]*A}C+=v[l]}for(var j=0,l=m.length-1;l>=0;l--)if(e.isNotA1left(n,a,i)){var A=e.WEIGHTS[S][2*l+1];j+=m[l]*A}var T=E+j;if(C&1||C>13||C<4)throw new Q;var N=(13-C)/2,O=e.SYMBOL_WIDEST[N],$=9-O,R=yd.getRSSvalue(v,O,!0),F=yd.getRSSvalue(m,$,!1),B=e.EVEN_TOTAL_SUBSET[N],M=e.GSUM[N],I=R*B+F+M;return new ly(I,T)},e.isNotA1left=function(r,n,a){return!(r.getValue()===0&&n&&a)},e.prototype.adjustOddEvenCounts=function(r){var n=xt.sum(new Int32Array(this.getOddCounts())),a=xt.sum(new Int32Array(this.getEvenCounts())),i=!1,o=!1;n>13?o=!0:n<4&&(i=!0);var s=!1,l=!1;a>13?l=!0:a<4&&(s=!0);var u=n+a-r,d=(n&1)===1,f=(a&1)===0;if(u===1)if(d){if(f)throw new Q;o=!0}else{if(!f)throw new Q;l=!0}else if(u===-1)if(d){if(f)throw new Q;i=!0}else{if(!f)throw new Q;s=!0}else if(u===0){if(d){if(!f)throw new Q;n<a?(i=!0,l=!0):(o=!0,s=!0)}else if(f)throw new Q}else throw new Q;if(i){if(o)throw new Q;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(l)throw new Q;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}l&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(Sc),Loe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Foe=function(t){Loe(e,t);function e(r,n,a){var i=t.call(this,r,n)||this;return i.count=0,i.finderPattern=a,i}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(ly),Boe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Mb=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},d3=function(t){Boe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.possibleLeftPairs=[],r.possibleRightPairs=[],r}return e.prototype.decodeRow=function(r,n,a){var i,o,s,l,u=this.decodePair(n,!1,r,a);e.addOrTally(this.possibleLeftPairs,u),n.reverse();var d=this.decodePair(n,!0,r,a);e.addOrTally(this.possibleRightPairs,d),n.reverse();try{for(var f=Mb(this.possibleLeftPairs),h=f.next();!h.done;h=f.next()){var p=h.value;if(p.getCount()>1)try{for(var v=(s=void 0,Mb(this.possibleRightPairs)),m=v.next();!m.done;m=v.next()){var g=m.value;if(g.getCount()>1&&e.checkChecksum(p,g))return e.constructResult(p,g)}}catch(x){s={error:x}}finally{try{m&&!m.done&&(l=v.return)&&l.call(v)}finally{if(s)throw s.error}}}}catch(x){i={error:x}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}throw new Q},e.addOrTally=function(r,n){var a,i;if(n!=null){var o=!1;try{for(var s=Mb(r),l=s.next();!l.done;l=s.next()){var u=l.value;if(u.getValue()===n.getValue()){u.incrementCount(),o=!0;break}}}catch(d){a={error:d}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(a)throw a.error}}o||r.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(r,n){for(var a=4537077*r.getValue()+n.getValue(),i=new String(a).toString(),o=new ot,s=13-i.length;s>0;s--)o.append("0");o.append(i);for(var l=0,s=0;s<13;s++){var u=o.charAt(s).charCodeAt(0)-48;l+=s&1?u:3*u}l=10-l%10,l===10&&(l=0),o.append(l.toString());var d=r.getFinderPattern().getResultPoints(),f=n.getFinderPattern().getResultPoints();return new Fn(o.toString(),null,0,[d[0],d[1],f[0],f[1]],Le.RSS_14,new Date().getTime())},e.checkChecksum=function(r,n){var a=(r.getChecksumPortion()+16*n.getChecksumPortion())%79,i=9*r.getFinderPattern().getValue()+n.getFinderPattern().getValue();return i>72&&i--,i>8&&i--,a===i},e.prototype.decodePair=function(r,n,a,i){try{var o=this.findFinderPattern(r,n),s=this.parseFoundFinderPattern(r,a,n,o),l=i==null?null:i.get(tr.NEED_RESULT_POINT_CALLBACK);if(l!=null){var u=(o[0]+o[1])/2;n&&(u=r.getSize()-1-u),l.foundPossibleResultPoint(new ke(u,a))}var d=this.decodeDataCharacter(r,s,!0),f=this.decodeDataCharacter(r,s,!1);return new Foe(1597*d.getValue()+f.getValue(),d.getChecksumPortion()+4*f.getChecksumPortion(),s)}catch{return null}},e.prototype.decodeDataCharacter=function(r,n,a){for(var i=this.getDataCharacterCounters(),o=0;o<i.length;o++)i[o]=0;if(a)nn.recordPatternInReverse(r,n.getStartEnd()[0],i);else{nn.recordPattern(r,n.getStartEnd()[1]+1,i);for(var s=0,l=i.length-1;s<l;s++,l--){var u=i[s];i[s]=i[l],i[l]=u}}for(var d=a?16:15,f=xt.sum(new Int32Array(i))/d,h=this.getOddCounts(),p=this.getEvenCounts(),v=this.getOddRoundingErrors(),m=this.getEvenRoundingErrors(),s=0;s<i.length;s++){var g=i[s]/f,x=Math.floor(g+.5);x<1?x=1:x>8&&(x=8);var y=Math.floor(s/2);s&1?(p[y]=x,m[y]=g-x):(h[y]=x,v[y]=g-x)}this.adjustOddEvenCounts(a,d);for(var w=0,_=0,s=h.length-1;s>=0;s--)_*=9,_+=h[s],w+=h[s];for(var S=0,C=0,s=p.length-1;s>=0;s--)S*=9,S+=p[s],C+=p[s];var E=_+3*S;if(a){if(w&1||w>12||w<4)throw new Q;var A=(12-w)/2,j=e.OUTSIDE_ODD_WIDEST[A],T=9-j,N=yd.getRSSvalue(h,j,!1),O=yd.getRSSvalue(p,T,!0),$=e.OUTSIDE_EVEN_TOTAL_SUBSET[A],R=e.OUTSIDE_GSUM[A];return new ly(N*$+O+R,E)}else{if(C&1||C>10||C<4)throw new Q;var A=(10-C)/2,j=e.INSIDE_ODD_WIDEST[A],T=9-j,N=yd.getRSSvalue(h,j,!0),O=yd.getRSSvalue(p,T,!1),F=e.INSIDE_ODD_TOTAL_SUBSET[A],R=e.INSIDE_GSUM[A];return new ly(O*F+N+R,E)}},e.prototype.findFinderPattern=function(r,n){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var i=r.getSize(),o=!1,s=0;s<i&&(o=!r.get(s),n!==o);)s++;for(var l=0,u=s,d=s;d<i;d++)if(r.get(d)!==o)a[l]++;else{if(l===3){if(Sc.isFinderPattern(a))return[u,d];u+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,l--}else l++;a[l]=1,o=!o}throw new Q},e.prototype.parseFoundFinderPattern=function(r,n,a,i){for(var o=r.get(i[0]),s=i[0]-1;s>=0&&o!==r.get(s);)s--;s++;var l=i[0]-s,u=this.getDecodeFinderCounters(),d=new Int32Array(u.length);er.arraycopy(u,0,d,1,u.length-1),d[0]=l;var f=this.parseFinderValue(d,e.FINDER_PATTERNS),h=s,p=i[1];return a&&(h=r.getSize()-1-h,p=r.getSize()-1-p),new IL(f,[s,i[1]],h,p,n)},e.prototype.adjustOddEvenCounts=function(r,n){var a=xt.sum(new Int32Array(this.getOddCounts())),i=xt.sum(new Int32Array(this.getEvenCounts())),o=!1,s=!1,l=!1,u=!1;r?(a>12?s=!0:a<4&&(o=!0),i>12?u=!0:i<4&&(l=!0)):(a>11?s=!0:a<5&&(o=!0),i>10?u=!0:i<4&&(l=!0));var d=a+i-n,f=(a&1)===(r?1:0),h=(i&1)===1;if(d===1)if(f){if(h)throw new Q;s=!0}else{if(!h)throw new Q;u=!0}else if(d===-1)if(f){if(h)throw new Q;o=!0}else{if(!h)throw new Q;l=!0}else if(d===0){if(f){if(!h)throw new Q;a<i?(o=!0,u=!0):(s=!0,l=!0)}else if(h)throw new Q}else throw new Q;if(o){if(s)throw new Q;Sc.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&Sc.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(u)throw new Q;Sc.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&Sc.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(Sc),Uoe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),xd=function(t){Uoe(e,t);function e(r){var n=t.call(this)||this;n.readers=[];var a=r?r.get(tr.POSSIBLE_FORMATS):null,i=r&&r.get(tr.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,o=r&&r.get(tr.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return a&&((a.includes(Le.EAN_13)||a.includes(Le.UPC_A)||a.includes(Le.EAN_8)||a.includes(Le.UPC_E))&&n.readers.push(new Db(r)),a.includes(Le.CODE_39)&&n.readers.push(new t3(i,o)),a.includes(Le.CODE_93)&&n.readers.push(new r3),a.includes(Le.CODE_128)&&n.readers.push(new e3),a.includes(Le.ITF)&&n.readers.push(new n3),a.includes(Le.CODABAR)&&n.readers.push(new coe),a.includes(Le.RSS_14)&&n.readers.push(new d3),a.includes(Le.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new $oe))),n.readers.length===0&&(n.readers.push(new Db(r)),n.readers.push(new t3),n.readers.push(new r3),n.readers.push(new Db(r)),n.readers.push(new e3),n.readers.push(new n3),n.readers.push(new d3)),n}return e.prototype.decodeRow=function(r,n,a){for(var i=0;i<this.readers.length;i++)try{return this.readers[i].decodeRow(r,n,a)}catch{}throw new Q},e.prototype.reset=function(){this.readers.forEach(function(r){return r.reset()})},e}(nn),Voe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){Voe(e,t);function e(r,n){return r===void 0&&(r=500),t.call(this,new xd(n),r,n)||this}return e})(lh);var f3=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jt=function(){function t(e,r,n){this.ecCodewords=e,this.ecBlocks=[r],n&&this.ecBlocks.push(n)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),St=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),Woe=function(){function t(e,r,n,a,i,o){var s,l;this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=n,this.dataRegionSizeRows=a,this.dataRegionSizeColumns=i,this.ecBlocks=o;var u=0,d=o.getECCodewords(),f=o.getECBlocks();try{for(var h=f3(f),p=h.next();!p.done;p=h.next()){var v=p.value;u+=v.getCount()*(v.getDataCodewords()+d)}}catch(m){s={error:m}}finally{try{p&&!p.done&&(l=h.return)&&l.call(h)}finally{if(s)throw s.error}}this.totalCodewords=u}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,r){var n,a;if(e&1||r&1)throw new me;try{for(var i=f3(t.VERSIONS),o=i.next();!o.done;o=i.next()){var s=o.value;if(s.symbolSizeRows===e&&s.symbolSizeColumns===r)return s}}catch(l){n={error:l}}finally{try{o&&!o.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}throw new me},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new jt(5,new St(1,3))),new t(2,12,12,10,10,new jt(7,new St(1,5))),new t(3,14,14,12,12,new jt(10,new St(1,8))),new t(4,16,16,14,14,new jt(12,new St(1,12))),new t(5,18,18,16,16,new jt(14,new St(1,18))),new t(6,20,20,18,18,new jt(18,new St(1,22))),new t(7,22,22,20,20,new jt(20,new St(1,30))),new t(8,24,24,22,22,new jt(24,new St(1,36))),new t(9,26,26,24,24,new jt(28,new St(1,44))),new t(10,32,32,14,14,new jt(36,new St(1,62))),new t(11,36,36,16,16,new jt(42,new St(1,86))),new t(12,40,40,18,18,new jt(48,new St(1,114))),new t(13,44,44,20,20,new jt(56,new St(1,144))),new t(14,48,48,22,22,new jt(68,new St(1,174))),new t(15,52,52,24,24,new jt(42,new St(2,102))),new t(16,64,64,14,14,new jt(56,new St(2,140))),new t(17,72,72,16,16,new jt(36,new St(4,92))),new t(18,80,80,18,18,new jt(48,new St(4,114))),new t(19,88,88,20,20,new jt(56,new St(4,144))),new t(20,96,96,22,22,new jt(68,new St(4,174))),new t(21,104,104,24,24,new jt(56,new St(6,136))),new t(22,120,120,18,18,new jt(68,new St(6,175))),new t(23,132,132,20,20,new jt(62,new St(8,163))),new t(24,144,144,22,22,new jt(62,new St(8,156),new St(2,155))),new t(25,8,18,6,16,new jt(7,new St(1,5))),new t(26,8,32,6,14,new jt(11,new St(1,10))),new t(27,12,26,10,24,new jt(14,new St(1,16))),new t(28,12,36,10,16,new jt(18,new St(1,22))),new t(29,16,36,14,16,new jt(24,new St(1,32))),new t(30,16,48,14,22,new jt(28,new St(1,49)))]},t.VERSIONS=t.buildVersions(),t}(),zoe=function(){function t(e){var r=e.getHeight();if(r<8||r>144||r&1)throw new me;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new Uo(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var r=e.getHeight(),n=e.getWidth();return Woe.getVersionForDimensions(r,n)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),r=0,n=4,a=0,i=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth(),s=!1,l=!1,u=!1,d=!1;do if(n===i&&a===0&&!s)e[r++]=this.readCorner1(i,o)&255,n-=2,a+=2,s=!0;else if(n===i-2&&a===0&&o&3&&!l)e[r++]=this.readCorner2(i,o)&255,n-=2,a+=2,l=!0;else if(n===i+4&&a===2&&!(o&7)&&!u)e[r++]=this.readCorner3(i,o)&255,n-=2,a+=2,u=!0;else if(n===i-2&&a===0&&(o&7)===4&&!d)e[r++]=this.readCorner4(i,o)&255,n-=2,a+=2,d=!0;else{do n<i&&a>=0&&!this.readMappingMatrix.get(a,n)&&(e[r++]=this.readUtah(n,a,i,o)&255),n-=2,a+=2;while(n>=0&&a<o);n+=1,a+=3;do n>=0&&a<o&&!this.readMappingMatrix.get(a,n)&&(e[r++]=this.readUtah(n,a,i,o)&255),n+=2,a-=2;while(n<i&&a>=0);n+=3,a+=1}while(n<i||a<o);if(r!==this.version.getTotalCodewords())throw new me;return e},t.prototype.readModule=function(e,r,n,a){return e<0&&(e+=n,r+=4-(n+4&7)),r<0&&(r+=a,e+=4-(a+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)},t.prototype.readUtah=function(e,r,n,a){var i=0;return this.readModule(e-2,r-2,n,a)&&(i|=1),i<<=1,this.readModule(e-2,r-1,n,a)&&(i|=1),i<<=1,this.readModule(e-1,r-2,n,a)&&(i|=1),i<<=1,this.readModule(e-1,r-1,n,a)&&(i|=1),i<<=1,this.readModule(e-1,r,n,a)&&(i|=1),i<<=1,this.readModule(e,r-2,n,a)&&(i|=1),i<<=1,this.readModule(e,r-1,n,a)&&(i|=1),i<<=1,this.readModule(e,r,n,a)&&(i|=1),i},t.prototype.readCorner1=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,1,e,r)&&(n|=1),n<<=1,this.readModule(e-1,2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.readCorner2=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-4,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner3=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-3,e,r)&&(n|=1),n<<=1,this.readModule(1,r-2,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner4=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.extractDataRegion=function(e){var r=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new Fe("Dimension of bitMatrix must match the version size");for(var a=this.version.getDataRegionSizeRows(),i=this.version.getDataRegionSizeColumns(),o=r/a|0,s=n/i|0,l=o*a,u=s*i,d=new Uo(u,l),f=0;f<o;++f)for(var h=f*a,p=0;p<s;++p)for(var v=p*i,m=0;m<a;++m)for(var g=f*(a+2)+1+m,x=h+m,y=0;y<i;++y){var w=p*(i+2)+1+y;if(e.get(w,g)){var _=v+y;d.set(_,x)}}return d},t}(),h3=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Hoe=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r){var n,a,i,o,s=r.getECBlocks(),l=0,u=s.getECBlocks();try{for(var d=h3(u),f=d.next();!f.done;f=d.next()){var h=f.value;l+=h.getCount()}}catch(R){n={error:R}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(n)throw n.error}}var p=new Array(l),v=0;try{for(var m=h3(u),g=m.next();!g.done;g=m.next())for(var h=g.value,x=0;x<h.getCount();x++){var y=h.getDataCodewords(),w=s.getECCodewords()+y;p[v++]=new t(y,new Uint8Array(w))}}catch(R){i={error:R}}finally{try{g&&!g.done&&(o=m.return)&&o.call(m)}finally{if(i)throw i.error}}for(var _=p[0].codewords.length,S=_-s.getECCodewords(),C=S-1,E=0,x=0;x<C;x++)for(var A=0;A<v;A++)p[A].codewords[x]=e[E++];for(var j=r.getVersionNumber()===24,T=j?8:v,A=0;A<T;A++)p[A].codewords[S-1]=e[E++];for(var N=p[0].codewords.length,x=S;x<N;x++)for(var A=0;A<v;A++){var O=j?(A+8)%v:A,$=j&&O>7?x-1:x;p[O].codewords[$]=e[E++]}if(E!==e.length)throw new Fe;return p},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),ML=function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new Fe(""+e);var r=0,n=this.bitOffset,a=this.byteOffset,i=this.bytes;if(n>0){var o=8-n,s=e<o?e:o,l=o-s,u=255>>8-s<<l;r=(i[a]&u)>>l,e-=s,n+=s,n===8&&(n=0,a++)}if(e>0){for(;e>=8;)r=r<<8|i[a]&255,a++,e-=8;if(e>0){var l=8-e,u=255>>l<<l;r=r<<e|(i[a]&u)>>l,n+=e}}return this.bitOffset=n,this.byteOffset=a,r},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t}(),Kr;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(Kr||(Kr={}));var qoe=function(){function t(){}return t.decode=function(e){var r=new ML(e),n=new ot,a=new ot,i=new Array,o=Kr.ASCII_ENCODE;do if(o===Kr.ASCII_ENCODE)o=this.decodeAsciiSegment(r,n,a);else{switch(o){case Kr.C40_ENCODE:this.decodeC40Segment(r,n);break;case Kr.TEXT_ENCODE:this.decodeTextSegment(r,n);break;case Kr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,n);break;case Kr.EDIFACT_ENCODE:this.decodeEdifactSegment(r,n);break;case Kr.BASE256_ENCODE:this.decodeBase256Segment(r,n,i);break;default:throw new me}o=Kr.ASCII_ENCODE}while(o!==Kr.PAD_ENCODE&&r.available()>0);return a.length()>0&&n.append(a.toString()),new vx(e,n.toString(),i.length===0?null:i,null)},t.decodeAsciiSegment=function(e,r,n){var a=!1;do{var i=e.readBits(8);if(i===0)throw new me;if(i<=128)return a&&(i+=128),r.append(String.fromCharCode(i-1)),Kr.ASCII_ENCODE;if(i===129)return Kr.PAD_ENCODE;if(i<=229){var o=i-130;o<10&&r.append("0"),r.append(""+o)}else switch(i){case 230:return Kr.C40_ENCODE;case 231:return Kr.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:a=!0;break;case 236:r.append("[)>05"),n.insert(0,"");break;case 237:r.append("[)>06"),n.insert(0,"");break;case 238:return Kr.ANSIX12_ENCODE;case 239:return Kr.TEXT_ENCODE;case 240:return Kr.EDIFACT_ENCODE;case 241:break;default:if(i!==254||e.available()!==0)throw new me;break}}while(e.available()>0);return Kr.ASCII_ENCODE},t.decodeC40Segment=function(e,r){var n=!1,a=[],i=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),a);for(var s=0;s<3;s++){var l=a[s];switch(i){case 0:if(l<3)i=l+1;else if(l<this.C40_BASIC_SET_CHARS.length){var u=this.C40_BASIC_SET_CHARS[l];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else throw new me;break;case 1:n?(r.append(String.fromCharCode(l+128)),n=!1):r.append(String.fromCharCode(l)),i=0;break;case 2:if(l<this.C40_SHIFT2_SET_CHARS.length){var u=this.C40_SHIFT2_SET_CHARS[l];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else switch(l){case 27:r.append("");break;case 30:n=!0;break;default:throw new me}i=0;break;case 3:n?(r.append(String.fromCharCode(l+224)),n=!1):r.append(String.fromCharCode(l+96)),i=0;break;default:throw new me}}}while(e.available()>0)},t.decodeTextSegment=function(e,r){var n=!1,a=[],i=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),a);for(var s=0;s<3;s++){var l=a[s];switch(i){case 0:if(l<3)i=l+1;else if(l<this.TEXT_BASIC_SET_CHARS.length){var u=this.TEXT_BASIC_SET_CHARS[l];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else throw new me;break;case 1:n?(r.append(String.fromCharCode(l+128)),n=!1):r.append(String.fromCharCode(l)),i=0;break;case 2:if(l<this.TEXT_SHIFT2_SET_CHARS.length){var u=this.TEXT_SHIFT2_SET_CHARS[l];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else switch(l){case 27:r.append("");break;case 30:n=!0;break;default:throw new me}i=0;break;case 3:if(l<this.TEXT_SHIFT3_SET_CHARS.length){var u=this.TEXT_SHIFT3_SET_CHARS[l];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u),i=0}else throw new me;break;default:throw new me}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,r){var n=[];do{if(e.available()===8)return;var a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),n);for(var i=0;i<3;i++){var o=n[i];switch(o){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(o<14)r.append(String.fromCharCode(o+44));else if(o<40)r.append(String.fromCharCode(o+51));else throw new me;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,r,n){var a=(e<<8)+r-1,i=Math.floor(a/1600);n[0]=i,a-=i*1600,i=Math.floor(a/40),n[1]=i,n[2]=a-i*40},t.decodeEdifactSegment=function(e,r){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var a=e.readBits(6);if(a===31){var i=8-e.getBitOffset();i!==8&&e.readBits(i);return}a&32||(a|=64),r.append(String.fromCharCode(a))}}while(e.available()>0)},t.decodeBase256Segment=function(e,r,n){var a=1+e.getByteOffset(),i=this.unrandomize255State(e.readBits(8),a++),o;if(i===0?o=e.available()/8|0:i<250?o=i:o=250*(i-249)+this.unrandomize255State(e.readBits(8),a++),o<0)throw new me;for(var s=new Uint8Array(o),l=0;l<o;l++){if(e.available()<8)throw new me;s[l]=this.unrandomize255State(e.readBits(8),a++)}n.push(s);try{r.append(vi.decode(s,ft.ISO88591))}catch(u){throw new Nv("Platform does not support required encoding: "+u.message)}},t.unrandomize255State=function(e,r){var n=149*r%255+1,a=e-n;return a>=0?a:a+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],t}(),Goe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Koe=function(){function t(){this.rsDecoder=new gx(fa.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var r,n,a=new zoe(e),i=a.getVersion(),o=a.readCodewords(),s=Hoe.getDataBlocks(o,i),l=0;try{for(var u=Goe(s),d=u.next();!d.done;d=u.next()){var f=d.value;l+=f.getNumDataCodewords()}}catch(w){r={error:w}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}for(var h=new Uint8Array(l),p=s.length,v=0;v<p;v++){var m=s[v],g=m.getCodewords(),x=m.getNumDataCodewords();this.correctErrors(g,x);for(var y=0;y<x;y++)h[y*p+v]=g[y]}return qoe.decode(h)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new Br}for(var a=0;a<r;a++)e[a]=n[a]},t}(),Xoe=function(){function t(e){this.image=e,this.rectangleDetector=new vS(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new Q;r=this.shiftToModuleCenter(r);var n=r[0],a=r[1],i=r[2],o=r[3],s=this.transitionsBetween(n,o)+1,l=this.transitionsBetween(i,o)+1;(s&1)===1&&(s+=1),(l&1)===1&&(l+=1),4*s<7*l&&4*l<7*s&&(s=l=Math.max(s,l));var u=t.sampleGrid(this.image,n,a,i,o,s,l);return new sj(u,[n,a,i,o])},t.shiftPoint=function(e,r,n){var a=(r.getX()-e.getX())/(n+1),i=(r.getY()-e.getY())/(n+1);return new ke(e.getX()+a,e.getY()+i)},t.moveAway=function(e,r,n){var a=e.getX(),i=e.getY();return a<r?a-=1:a+=1,i<n?i-=1:i+=1,new ke(a,i)},t.prototype.detectSolid1=function(e){var r=e[0],n=e[1],a=e[3],i=e[2],o=this.transitionsBetween(r,n),s=this.transitionsBetween(n,a),l=this.transitionsBetween(a,i),u=this.transitionsBetween(i,r),d=o,f=[i,r,n,a];return d>s&&(d=s,f[0]=r,f[1]=n,f[2]=a,f[3]=i),d>l&&(d=l,f[0]=n,f[1]=a,f[2]=i,f[3]=r),d>u&&(f[0]=a,f[1]=i,f[2]=r,f[3]=n),f},t.prototype.detectSolid2=function(e){var r=e[0],n=e[1],a=e[2],i=e[3],o=this.transitionsBetween(r,i),s=t.shiftPoint(n,a,(o+1)*4),l=t.shiftPoint(a,n,(o+1)*4),u=this.transitionsBetween(s,r),d=this.transitionsBetween(l,i);return u<d?(e[0]=r,e[1]=n,e[2]=a,e[3]=i):(e[0]=n,e[1]=a,e[2]=i,e[3]=r),e},t.prototype.correctTopRight=function(e){var r=e[0],n=e[1],a=e[2],i=e[3],o=this.transitionsBetween(r,i),s=this.transitionsBetween(n,i),l=t.shiftPoint(r,n,(s+1)*4),u=t.shiftPoint(a,n,(o+1)*4);o=this.transitionsBetween(l,i),s=this.transitionsBetween(u,i);var d=new ke(i.getX()+(a.getX()-n.getX())/(o+1),i.getY()+(a.getY()-n.getY())/(o+1)),f=new ke(i.getX()+(r.getX()-n.getX())/(s+1),i.getY()+(r.getY()-n.getY())/(s+1));if(!this.isValid(d))return this.isValid(f)?f:null;if(!this.isValid(f))return d;var h=this.transitionsBetween(l,d)+this.transitionsBetween(u,d),p=this.transitionsBetween(l,f)+this.transitionsBetween(u,f);return h>p?d:f},t.prototype.shiftToModuleCenter=function(e){var r=e[0],n=e[1],a=e[2],i=e[3],o=this.transitionsBetween(r,i)+1,s=this.transitionsBetween(a,i)+1,l=t.shiftPoint(r,n,s*4),u=t.shiftPoint(a,n,o*4);o=this.transitionsBetween(l,i)+1,s=this.transitionsBetween(u,i)+1,(o&1)===1&&(o+=1),(s&1)===1&&(s+=1);var d=(r.getX()+n.getX()+a.getX()+i.getX())/4,f=(r.getY()+n.getY()+a.getY()+i.getY())/4;r=t.moveAway(r,d,f),n=t.moveAway(n,d,f),a=t.moveAway(a,d,f),i=t.moveAway(i,d,f);var h,p;return l=t.shiftPoint(r,n,s*4),l=t.shiftPoint(l,i,o*4),h=t.shiftPoint(n,r,s*4),h=t.shiftPoint(h,a,o*4),u=t.shiftPoint(a,i,s*4),u=t.shiftPoint(u,n,o*4),p=t.shiftPoint(i,a,s*4),p=t.shiftPoint(p,r,o*4),[l,h,u,p]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,r,n,a,i,o,s){var l=lj.getInstance();return l.sampleGrid(e,o,s,.5,.5,o-.5,.5,o-.5,s-.5,.5,s-.5,r.getX(),r.getY(),i.getX(),i.getY(),a.getX(),a.getY(),n.getX(),n.getY())},t.prototype.transitionsBetween=function(e,r){var n=Math.trunc(e.getX()),a=Math.trunc(e.getY()),i=Math.trunc(r.getX()),o=Math.trunc(r.getY()),s=Math.abs(o-a)>Math.abs(i-n);if(s){var l=n;n=a,a=l,l=i,i=o,o=l}for(var u=Math.abs(i-n),d=Math.abs(o-a),f=-u/2,h=a<o?1:-1,p=n<i?1:-1,v=0,m=this.image.get(s?a:n,s?n:a),g=n,x=a;g!==i;g+=p){var y=this.image.get(s?x:g,s?g:x);if(y!==m&&(v++,m=y),f+=d,f>0){if(x===o)break;x+=h,f-=u}}return v},t}(),cy=function(){function t(){this.decoder=new Koe}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n,a;if(r!=null&&r.has(tr.PURE_BARCODE)){var i=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(i),a=t.NO_POINTS}else{var o=new Xoe(e.getBlackMatrix()).detect();n=this.decoder.decode(o.getBits()),a=o.getPoints()}var s=n.getRawBytes(),l=new Fn(n.getText(),s,8*s.length,a,Le.DATA_MATRIX,er.currentTimeMillis()),u=n.getByteSegments();u!=null&&l.putMetadata(En.BYTE_SEGMENTS,u);var d=n.getECLevel();return d!=null&&l.putMetadata(En.ERROR_CORRECTION_LEVEL,d),l},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r==null||n==null)throw new Q;var a=this.moduleSize(r,e),i=r[1],o=n[1],s=r[0],l=n[0],u=(l-s+1)/a,d=(o-i+1)/a;if(u<=0||d<=0)throw new Q;var f=a/2;i+=f,s+=f;for(var h=new Uo(u,d),p=0;p<d;p++)for(var v=i+p*a,m=0;m<u;m++)e.get(s+m*a,v)&&h.set(m,p);return h},t.moduleSize=function(e,r){for(var n=r.getWidth(),a=e[0],i=e[1];a<n&&r.get(a,i);)a++;if(a===n)throw new Q;var o=a-e[0];if(o===0)throw new Q;return o},t.NO_POINTS=[],t}(),Yoe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){Yoe(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new cy,r)||this}return e})(lh);var wd;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})(wd||(wd={}));var Zoe=function(){function t(e,r,n){this.value=e,this.stringValue=r,this.bits=n,t.FOR_BITS.set(n,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new Tr(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new Fe;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(wd.L,"L",1),t.M=new t(wd.M,"M",0),t.Q=new t(wd.Q,"Q",3),t.H=new t(wd.H,"H",2),t}(),Qoe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$L=function(){function t(e){this.errorCorrectionLevel=Zoe.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,r){return st.bitCount(e^r)},t.decodeFormatInformation=function(e,r){var n=t.doDecodeFormatInformation(e,r);return n!==null?n:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,r^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,r){var n,a,i=Number.MAX_SAFE_INTEGER,o=0;try{for(var s=Qoe(t.FORMAT_INFO_DECODE_LOOKUP),l=s.next();!l.done;l=s.next()){var u=l.value,d=u[0];if(d===e||d===r)return new t(u[1]);var f=t.numBitsDiffering(e,d);f<i&&(o=u[1],i=f),e!==r&&(f=t.numBitsDiffering(r,d),f<i&&(o=u[1],i=f))}}catch(h){n={error:h}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}return i<=3?new t(o):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t}(),Joe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},G=function(){function t(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=r}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,r,n=0,a=this.ecBlocks;try{for(var i=Joe(a),o=i.next();!o.done;o=i.next()){var s=o.value;n+=s.getCount()}}catch(l){e={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return n},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),D=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),ese=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Zc=function(){function t(e,r){for(var n,a,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=i;var s=0,l=i[0].getECCodewordsPerBlock(),u=i[0].getECBlocks();try{for(var d=ese(u),f=d.next();!f.done;f=d.next()){var h=f.value;s+=h.getCount()*(h.getDataCodewords()+l)}}catch(p){n={error:p}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(n)throw n.error}}this.totalCodewords=s}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new me;try{return this.getVersionForNumber((e-17)/4)}catch{throw new me}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new Fe;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var r=Number.MAX_SAFE_INTEGER,n=0,a=0;a<t.VERSION_DECODE_INFO.length;a++){var i=t.VERSION_DECODE_INFO[a];if(i===e)return t.getVersionForNumber(a+7);var o=$L.numBitsDiffering(e,i);o<r&&(n=a+7,r=o)}return r<=3?t.getVersionForNumber(n):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),r=new Uo(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,a=0;a<n;a++)for(var i=this.alignmentPatternCenters[a]-2,o=0;o<n;o++)a===0&&(o===0||o===n-1)||a===n-1&&o===0||r.setRegion(this.alignmentPatternCenters[o]-2,i,5,5);return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new G(7,new D(1,19)),new G(10,new D(1,16)),new G(13,new D(1,13)),new G(17,new D(1,9))),new t(2,Int32Array.from([6,18]),new G(10,new D(1,34)),new G(16,new D(1,28)),new G(22,new D(1,22)),new G(28,new D(1,16))),new t(3,Int32Array.from([6,22]),new G(15,new D(1,55)),new G(26,new D(1,44)),new G(18,new D(2,17)),new G(22,new D(2,13))),new t(4,Int32Array.from([6,26]),new G(20,new D(1,80)),new G(18,new D(2,32)),new G(26,new D(2,24)),new G(16,new D(4,9))),new t(5,Int32Array.from([6,30]),new G(26,new D(1,108)),new G(24,new D(2,43)),new G(18,new D(2,15),new D(2,16)),new G(22,new D(2,11),new D(2,12))),new t(6,Int32Array.from([6,34]),new G(18,new D(2,68)),new G(16,new D(4,27)),new G(24,new D(4,19)),new G(28,new D(4,15))),new t(7,Int32Array.from([6,22,38]),new G(20,new D(2,78)),new G(18,new D(4,31)),new G(18,new D(2,14),new D(4,15)),new G(26,new D(4,13),new D(1,14))),new t(8,Int32Array.from([6,24,42]),new G(24,new D(2,97)),new G(22,new D(2,38),new D(2,39)),new G(22,new D(4,18),new D(2,19)),new G(26,new D(4,14),new D(2,15))),new t(9,Int32Array.from([6,26,46]),new G(30,new D(2,116)),new G(22,new D(3,36),new D(2,37)),new G(20,new D(4,16),new D(4,17)),new G(24,new D(4,12),new D(4,13))),new t(10,Int32Array.from([6,28,50]),new G(18,new D(2,68),new D(2,69)),new G(26,new D(4,43),new D(1,44)),new G(24,new D(6,19),new D(2,20)),new G(28,new D(6,15),new D(2,16))),new t(11,Int32Array.from([6,30,54]),new G(20,new D(4,81)),new G(30,new D(1,50),new D(4,51)),new G(28,new D(4,22),new D(4,23)),new G(24,new D(3,12),new D(8,13))),new t(12,Int32Array.from([6,32,58]),new G(24,new D(2,92),new D(2,93)),new G(22,new D(6,36),new D(2,37)),new G(26,new D(4,20),new D(6,21)),new G(28,new D(7,14),new D(4,15))),new t(13,Int32Array.from([6,34,62]),new G(26,new D(4,107)),new G(22,new D(8,37),new D(1,38)),new G(24,new D(8,20),new D(4,21)),new G(22,new D(12,11),new D(4,12))),new t(14,Int32Array.from([6,26,46,66]),new G(30,new D(3,115),new D(1,116)),new G(24,new D(4,40),new D(5,41)),new G(20,new D(11,16),new D(5,17)),new G(24,new D(11,12),new D(5,13))),new t(15,Int32Array.from([6,26,48,70]),new G(22,new D(5,87),new D(1,88)),new G(24,new D(5,41),new D(5,42)),new G(30,new D(5,24),new D(7,25)),new G(24,new D(11,12),new D(7,13))),new t(16,Int32Array.from([6,26,50,74]),new G(24,new D(5,98),new D(1,99)),new G(28,new D(7,45),new D(3,46)),new G(24,new D(15,19),new D(2,20)),new G(30,new D(3,15),new D(13,16))),new t(17,Int32Array.from([6,30,54,78]),new G(28,new D(1,107),new D(5,108)),new G(28,new D(10,46),new D(1,47)),new G(28,new D(1,22),new D(15,23)),new G(28,new D(2,14),new D(17,15))),new t(18,Int32Array.from([6,30,56,82]),new G(30,new D(5,120),new D(1,121)),new G(26,new D(9,43),new D(4,44)),new G(28,new D(17,22),new D(1,23)),new G(28,new D(2,14),new D(19,15))),new t(19,Int32Array.from([6,30,58,86]),new G(28,new D(3,113),new D(4,114)),new G(26,new D(3,44),new D(11,45)),new G(26,new D(17,21),new D(4,22)),new G(26,new D(9,13),new D(16,14))),new t(20,Int32Array.from([6,34,62,90]),new G(28,new D(3,107),new D(5,108)),new G(26,new D(3,41),new D(13,42)),new G(30,new D(15,24),new D(5,25)),new G(28,new D(15,15),new D(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new G(28,new D(4,116),new D(4,117)),new G(26,new D(17,42)),new G(28,new D(17,22),new D(6,23)),new G(30,new D(19,16),new D(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new G(28,new D(2,111),new D(7,112)),new G(28,new D(17,46)),new G(30,new D(7,24),new D(16,25)),new G(24,new D(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new G(30,new D(4,121),new D(5,122)),new G(28,new D(4,47),new D(14,48)),new G(30,new D(11,24),new D(14,25)),new G(30,new D(16,15),new D(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new G(30,new D(6,117),new D(4,118)),new G(28,new D(6,45),new D(14,46)),new G(30,new D(11,24),new D(16,25)),new G(30,new D(30,16),new D(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new G(26,new D(8,106),new D(4,107)),new G(28,new D(8,47),new D(13,48)),new G(30,new D(7,24),new D(22,25)),new G(30,new D(22,15),new D(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new G(28,new D(10,114),new D(2,115)),new G(28,new D(19,46),new D(4,47)),new G(28,new D(28,22),new D(6,23)),new G(30,new D(33,16),new D(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new G(30,new D(8,122),new D(4,123)),new G(28,new D(22,45),new D(3,46)),new G(30,new D(8,23),new D(26,24)),new G(30,new D(12,15),new D(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new G(30,new D(3,117),new D(10,118)),new G(28,new D(3,45),new D(23,46)),new G(30,new D(4,24),new D(31,25)),new G(30,new D(11,15),new D(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new G(30,new D(7,116),new D(7,117)),new G(28,new D(21,45),new D(7,46)),new G(30,new D(1,23),new D(37,24)),new G(30,new D(19,15),new D(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new G(30,new D(5,115),new D(10,116)),new G(28,new D(19,47),new D(10,48)),new G(30,new D(15,24),new D(25,25)),new G(30,new D(23,15),new D(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new G(30,new D(13,115),new D(3,116)),new G(28,new D(2,46),new D(29,47)),new G(30,new D(42,24),new D(1,25)),new G(30,new D(23,15),new D(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new G(30,new D(17,115)),new G(28,new D(10,46),new D(23,47)),new G(30,new D(10,24),new D(35,25)),new G(30,new D(19,15),new D(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new G(30,new D(17,115),new D(1,116)),new G(28,new D(14,46),new D(21,47)),new G(30,new D(29,24),new D(19,25)),new G(30,new D(11,15),new D(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new G(30,new D(13,115),new D(6,116)),new G(28,new D(14,46),new D(23,47)),new G(30,new D(44,24),new D(7,25)),new G(30,new D(59,16),new D(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new G(30,new D(12,121),new D(7,122)),new G(28,new D(12,47),new D(26,48)),new G(30,new D(39,24),new D(14,25)),new G(30,new D(22,15),new D(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new G(30,new D(6,121),new D(14,122)),new G(28,new D(6,47),new D(34,48)),new G(30,new D(46,24),new D(10,25)),new G(30,new D(2,15),new D(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new G(30,new D(17,122),new D(4,123)),new G(28,new D(29,46),new D(14,47)),new G(30,new D(49,24),new D(10,25)),new G(30,new D(24,15),new D(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new G(30,new D(4,122),new D(18,123)),new G(28,new D(13,46),new D(32,47)),new G(30,new D(48,24),new D(14,25)),new G(30,new D(42,15),new D(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new G(30,new D(20,117),new D(4,118)),new G(28,new D(40,47),new D(7,48)),new G(30,new D(43,24),new D(22,25)),new G(30,new D(10,15),new D(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new G(30,new D(19,118),new D(6,119)),new G(28,new D(18,47),new D(31,48)),new G(30,new D(34,24),new D(34,25)),new G(30,new D(20,15),new D(61,16)))],t}(),ln;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(ln||(ln={}));var p3=function(){function t(e,r){this.value=e,this.isMasked=r}return t.prototype.unmaskBitMatrix=function(e,r){for(var n=0;n<r;n++)for(var a=0;a<r;a++)this.isMasked(n,a)&&e.flip(a,n)},t.values=new Map([[ln.DATA_MASK_000,new t(ln.DATA_MASK_000,function(e,r){return(e+r&1)===0})],[ln.DATA_MASK_001,new t(ln.DATA_MASK_001,function(e,r){return(e&1)===0})],[ln.DATA_MASK_010,new t(ln.DATA_MASK_010,function(e,r){return r%3===0})],[ln.DATA_MASK_011,new t(ln.DATA_MASK_011,function(e,r){return(e+r)%3===0})],[ln.DATA_MASK_100,new t(ln.DATA_MASK_100,function(e,r){return(Math.floor(e/2)+Math.floor(r/3)&1)===0})],[ln.DATA_MASK_101,new t(ln.DATA_MASK_101,function(e,r){return e*r%6===0})],[ln.DATA_MASK_110,new t(ln.DATA_MASK_110,function(e,r){return e*r%6<3})],[ln.DATA_MASK_111,new t(ln.DATA_MASK_111,function(e,r){return(e+r+e*r%3&1)===0})]]),t}(),tse=function(){function t(e){var r=e.getHeight();if(r<21||(r&3)!==1)throw new me;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,r=0;r<6;r++)e=this.copyBit(r,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var a=this.bitMatrix.getHeight(),i=0,o=a-7,n=a-1;n>=o;n--)i=this.copyBit(8,n,i);for(var r=a-8;r<a;r++)i=this.copyBit(r,8,i);if(this.parsedFormatInfo=$L.decodeFormatInformation(e,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new me},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return Zc.getVersionForNumber(r);for(var n=0,a=e-11,i=5;i>=0;i--)for(var o=e-9;o>=a;o--)n=this.copyBit(o,i,n);var s=Zc.decodeVersionInformation(n);if(s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;n=0;for(var o=5;o>=0;o--)for(var i=e-9;i>=a;i--)n=this.copyBit(o,i,n);if(s=Zc.decodeVersionInformation(n),s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;throw new me},t.prototype.copyBit=function(e,r,n){var a=this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r);return a?n<<1|1:n<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),r=this.readVersion(),n=p3.values.get(e.getDataMask()),a=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,a);for(var i=r.buildFunctionPattern(),o=!0,s=new Uint8Array(r.getTotalCodewords()),l=0,u=0,d=0,f=a-1;f>0;f-=2){f===6&&f--;for(var h=0;h<a;h++)for(var p=o?a-1-h:h,v=0;v<2;v++)i.get(f-v,p)||(d++,u<<=1,this.bitMatrix.get(f-v,p)&&(u|=1),d===8&&(s[l++]=u,d=0,u=0));o=!o}if(l!==r.getTotalCodewords())throw new me;return s},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=p3.values.get(this.parsedFormatInfo.getDataMask()),r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,r=0,n=e.getWidth();r<n;r++)for(var a=r+1,i=e.getHeight();a<i;a++)e.get(r,a)!==e.get(a,r)&&(e.flip(a,r),e.flip(r,a))},t}(),m3=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rse=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r,n){var a,i,o,s;if(e.length!==r.getTotalCodewords())throw new Fe;var l=r.getECBlocksForLevel(n),u=0,d=l.getECBlocks();try{for(var f=m3(d),h=f.next();!h.done;h=f.next()){var p=h.value;u+=p.getCount()}}catch($){a={error:$}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(a)throw a.error}}var v=new Array(u),m=0;try{for(var g=m3(d),x=g.next();!x.done;x=g.next())for(var p=x.value,y=0;y<p.getCount();y++){var w=p.getDataCodewords(),_=l.getECCodewordsPerBlock()+w;v[m++]=new t(w,new Uint8Array(_))}}catch($){o={error:$}}finally{try{x&&!x.done&&(s=g.return)&&s.call(g)}finally{if(o)throw o.error}}for(var S=v[0].codewords.length,C=v.length-1;C>=0;){var E=v[C].codewords.length;if(E===S)break;C--}C++;for(var A=S-l.getECCodewordsPerBlock(),j=0,y=0;y<A;y++)for(var T=0;T<m;T++)v[T].codewords[y]=e[j++];for(var T=C;T<m;T++)v[T].codewords[A]=e[j++];for(var N=v[0].codewords.length,y=A;y<N;y++)for(var T=0;T<m;T++){var O=T<C?y:y+1;v[T].codewords[O]=e[j++]}return v},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),ni;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})(ni||(ni={}));var cr=function(){function t(e,r,n,a){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=n,this.bits=a,t.FOR_BITS.set(a,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var r=t.FOR_BITS.get(e);if(r===void 0)throw new Fe;return r},t.prototype.getCharacterCountBits=function(e){var r=e.getVersionNumber(),n;return r<=9?n=0:r<=26?n=1:n=2,this.characterCountBitsForVersions[n]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(ni.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(ni.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(ni.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(ni.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(ni.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(ni.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(ni.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(ni.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(ni.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(ni.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t}(),nse=function(){function t(){}return t.decode=function(e,r,n,a){var i=new ML(e),o=new ot,s=new Array,l=-1,u=-1;try{var d=null,f=!1,h=void 0;do{if(i.available()<4)h=cr.TERMINATOR;else{var p=i.readBits(4);h=cr.forBits(p)}switch(h){case cr.TERMINATOR:break;case cr.FNC1_FIRST_POSITION:case cr.FNC1_SECOND_POSITION:f=!0;break;case cr.STRUCTURED_APPEND:if(i.available()<16)throw new me;l=i.readBits(8),u=i.readBits(8);break;case cr.ECI:var v=t.parseECIValue(i);if(d=Jr.getCharacterSetECIByValue(v),d===null)throw new me;break;case cr.HANZI:var m=i.readBits(4),g=i.readBits(h.getCharacterCountBits(r));m===t.GB2312_SUBSET&&t.decodeHanziSegment(i,o,g);break;default:var x=i.readBits(h.getCharacterCountBits(r));switch(h){case cr.NUMERIC:t.decodeNumericSegment(i,o,x);break;case cr.ALPHANUMERIC:t.decodeAlphanumericSegment(i,o,x,f);break;case cr.BYTE:t.decodeByteSegment(i,o,x,d,s,a);break;case cr.KANJI:t.decodeKanjiSegment(i,o,x);break;default:throw new me}break}}while(h!==cr.TERMINATOR)}catch{throw new me}return new vx(e,o.toString(),s.length===0?null:s,n===null?null:n.toString(),l,u)},t.decodeHanziSegment=function(e,r,n){if(n*13>e.available())throw new me;for(var a=new Uint8Array(2*n),i=0;n>0;){var o=e.readBits(13),s=o/96<<8&4294967295|o%96;s<959?s+=41377:s+=42657,a[i]=s>>8&255,a[i+1]=s&255,i+=2,n--}try{r.append(vi.decode(a,ft.GB2312))}catch(l){throw new me(l)}},t.decodeKanjiSegment=function(e,r,n){if(n*13>e.available())throw new me;for(var a=new Uint8Array(2*n),i=0;n>0;){var o=e.readBits(13),s=o/192<<8&4294967295|o%192;s<7936?s+=33088:s+=49472,a[i]=s>>8,a[i+1]=s,i+=2,n--}try{r.append(vi.decode(a,ft.SHIFT_JIS))}catch(l){throw new me(l)}},t.decodeByteSegment=function(e,r,n,a,i,o){if(8*n>e.available())throw new me;for(var s=new Uint8Array(n),l=0;l<n;l++)s[l]=e.readBits(8);var u;a===null?u=ft.guessEncoding(s,o):u=a.getName();try{r.append(vi.decode(s,u))}catch(d){throw new me(d)}i.push(s)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new me;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,r,n,a){for(var i=r.length();n>1;){if(e.available()<11)throw new me;var o=e.readBits(11);r.append(t.toAlphaNumericChar(Math.floor(o/45))),r.append(t.toAlphaNumericChar(o%45)),n-=2}if(n===1){if(e.available()<6)throw new me;r.append(t.toAlphaNumericChar(e.readBits(6)))}if(a)for(var s=i;s<r.length();s++)r.charAt(s)==="%"&&(s<r.length()-1&&r.charAt(s+1)==="%"?r.deleteCharAt(s+1):r.setCharAt(s,""))},t.decodeNumericSegment=function(e,r,n){for(;n>=3;){if(e.available()<10)throw new me;var a=e.readBits(10);if(a>=1e3)throw new me;r.append(t.toAlphaNumericChar(Math.floor(a/100))),r.append(t.toAlphaNumericChar(Math.floor(a/10)%10)),r.append(t.toAlphaNumericChar(a%10)),n-=3}if(n===2){if(e.available()<7)throw new me;var i=e.readBits(7);if(i>=100)throw new me;r.append(t.toAlphaNumericChar(Math.floor(i/10))),r.append(t.toAlphaNumericChar(i%10))}else if(n===1){if(e.available()<4)throw new me;var o=e.readBits(4);if(o>=10)throw new me;r.append(t.toAlphaNumericChar(o))}},t.parseECIValue=function(e){var r=e.readBits(8);if(!(r&128))return r&127;if((r&192)===128){var n=e.readBits(8);return(r&63)<<8&4294967295|n}if((r&224)===192){var a=e.readBits(16);return(r&31)<<16&4294967295|a}throw new me},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t}(),LL=function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var r=e[0];e[0]=e[2],e[2]=r}},t}(),v3=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ase=function(){function t(){this.rsDecoder=new gx(fa.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,r){return this.decodeBitMatrix(Uo.parseFromBooleanArray(e),r)},t.prototype.decodeBitMatrix=function(e,r){var n=new tse(e),a=null;try{return this.decodeBitMatrixParser(n,r)}catch(o){a=o}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var i=this.decodeBitMatrixParser(n,r);return i.setOther(new LL(!0)),i}catch(o){throw a!==null?a:o}},t.prototype.decodeBitMatrixParser=function(e,r){var n,a,i,o,s=e.readVersion(),l=e.readFormatInformation().getErrorCorrectionLevel(),u=e.readCodewords(),d=rse.getDataBlocks(u,s,l),f=0;try{for(var h=v3(d),p=h.next();!p.done;p=h.next()){var v=p.value;f+=v.getNumDataCodewords()}}catch(C){n={error:C}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(n)throw n.error}}var m=new Uint8Array(f),g=0;try{for(var x=v3(d),y=x.next();!y.done;y=x.next()){var v=y.value,w=v.getCodewords(),_=v.getNumDataCodewords();this.correctErrors(w,_);for(var S=0;S<_;S++)m[g++]=w[S]}}catch(C){i={error:C}}finally{try{y&&!y.done&&(o=x.return)&&o.call(x)}finally{if(i)throw i.error}}return nse.decode(m,s,l,r)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new Br}for(var a=0;a<r;a++)e[a]=n[a]},t}(),ise=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ose=function(t){ise(e,t);function e(r,n,a){var i=t.call(this,r,n)||this;return i.estimatedModuleSize=a,i}return e.prototype.aboutEquals=function(r,n,a){if(Math.abs(n-this.getY())<=r&&Math.abs(a-this.getX())<=r){var i=Math.abs(r-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,a){var i=(this.getX()+n)/2,o=(this.getY()+r)/2,s=(this.estimatedModuleSize+a)/2;return new e(i,o,s)},e}(ke),sse=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lse=function(){function t(e,r,n,a,i,o,s){this.image=e,this.startX=r,this.startY=n,this.width=a,this.height=i,this.moduleSize=o,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,r=this.height,n=this.width,a=e+n,i=this.startY+r/2,o=new Int32Array(3),s=this.image,l=0;l<r;l++){var u=i+(l&1?-Math.floor((l+1)/2):Math.floor((l+1)/2));o[0]=0,o[1]=0,o[2]=0;for(var d=e;d<a&&!s.get(d,u);)d++;for(var f=0;d<a;){if(s.get(d,u))if(f===1)o[1]++;else if(f===2){if(this.foundPatternCross(o)){var h=this.handlePossibleCenter(o,u,d);if(h!==null)return h}o[0]=o[2],o[1]=1,o[2]=0,f=1}else o[++f]++;else f===1&&f++,o[f]++;d++}if(this.foundPatternCross(o)){var h=this.handlePossibleCenter(o,u,a);if(h!==null)return h}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Q},t.centerFromEnd=function(e,r){return r-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var r=this.moduleSize,n=r/2,a=0;a<3;a++)if(Math.abs(r-e[a])>=n)return!1;return!0},t.prototype.crossCheckVertical=function(e,r,n,a){var i=this.image,o=i.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;for(var l=e;l>=0&&i.get(r,l)&&s[1]<=n;)s[1]++,l--;if(l<0||s[1]>n)return NaN;for(;l>=0&&!i.get(r,l)&&s[0]<=n;)s[0]++,l--;if(s[0]>n)return NaN;for(l=e+1;l<o&&i.get(r,l)&&s[1]<=n;)s[1]++,l++;if(l===o||s[1]>n)return NaN;for(;l<o&&!i.get(r,l)&&s[2]<=n;)s[2]++,l++;if(s[2]>n)return NaN;var u=s[0]+s[1]+s[2];return 5*Math.abs(u-a)>=2*a?NaN:this.foundPatternCross(s)?t.centerFromEnd(s,l):NaN},t.prototype.handlePossibleCenter=function(e,r,n){var a,i,o=e[0]+e[1]+e[2],s=t.centerFromEnd(e,n),l=this.crossCheckVertical(r,s,2*e[1],o);if(!isNaN(l)){var u=(e[0]+e[1]+e[2])/3;try{for(var d=sse(this.possibleCenters),f=d.next();!f.done;f=d.next()){var h=f.value;if(h.aboutEquals(u,l,s))return h.combineEstimate(l,s,u)}}catch(v){a={error:v}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}var p=new ose(s,l,u);this.possibleCenters.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return null},t}(),cse=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),use=function(t){cse(e,t);function e(r,n,a,i){var o=t.call(this,r,n)||this;return o.estimatedModuleSize=a,o.count=i,i===void 0&&(o.count=1),o}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(r,n,a){if(Math.abs(n-this.getY())<=r&&Math.abs(a-this.getX())<=r){var i=Math.abs(r-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,a){var i=this.count+1,o=(this.count*this.getX()+n)/i,s=(this.count*this.getY()+r)/i,l=(this.count*this.estimatedModuleSize+a)/i;return new e(o,s,l,i)},e}(ke),dse=function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t}(),Bh=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fse=function(){function t(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var r=e!=null&&e.get(tr.TRY_HARDER)!==void 0,n=e!=null&&e.get(tr.PURE_BARCODE)!==void 0,a=this.image,i=a.getHeight(),o=a.getWidth(),s=Math.floor(3*i/(4*t.MAX_MODULES));(s<t.MIN_SKIP||r)&&(s=t.MIN_SKIP);for(var l=!1,u=new Int32Array(5),d=s-1;d<i&&!l;d+=s){u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0;for(var f=0,h=0;h<o;h++)if(a.get(h,d))(f&1)===1&&f++,u[f]++;else if(f&1)u[f]++;else if(f===4)if(t.foundPatternCross(u)){var p=this.handlePossibleCenter(u,d,h,n);if(p===!0)if(s=2,this.hasSkipped===!0)l=this.haveMultiplyConfirmedCenters();else{var v=this.findRowSkip();v>u[2]&&(d+=v-u[2]-s,h=o-1)}else{u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,f=3;continue}f=0,u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0}else u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,f=3;else u[++f]++;if(t.foundPatternCross(u)){var p=this.handlePossibleCenter(u,d,o,n);p===!0&&(s=u[0],this.hasSkipped&&(l=this.haveMultiplyConfirmedCenters()))}}var m=this.selectBestPatterns();return ke.orderBestPatterns(m),new dse(m)},t.centerFromEnd=function(e,r){return r-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var r=0,n=0;n<5;n++){var a=e[n];if(a===0)return!1;r+=a}if(r<7)return!1;var i=r/7,o=i/2;return Math.abs(i-e[0])<o&&Math.abs(i-e[1])<o&&Math.abs(3*i-e[2])<3*o&&Math.abs(i-e[3])<o&&Math.abs(i-e[4])<o},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,r,n,a){for(var i=this.getCrossCheckStateCount(),o=0,s=this.image;e>=o&&r>=o&&s.get(r-o,e-o);)i[2]++,o++;if(e<o||r<o)return!1;for(;e>=o&&r>=o&&!s.get(r-o,e-o)&&i[1]<=n;)i[1]++,o++;if(e<o||r<o||i[1]>n)return!1;for(;e>=o&&r>=o&&s.get(r-o,e-o)&&i[0]<=n;)i[0]++,o++;if(i[0]>n)return!1;var l=s.getHeight(),u=s.getWidth();for(o=1;e+o<l&&r+o<u&&s.get(r+o,e+o);)i[2]++,o++;if(e+o>=l||r+o>=u)return!1;for(;e+o<l&&r+o<u&&!s.get(r+o,e+o)&&i[3]<n;)i[3]++,o++;if(e+o>=l||r+o>=u||i[3]>=n)return!1;for(;e+o<l&&r+o<u&&s.get(r+o,e+o)&&i[4]<n;)i[4]++,o++;if(i[4]>=n)return!1;var d=i[0]+i[1]+i[2]+i[3]+i[4];return Math.abs(d-a)<2*a&&t.foundPatternCross(i)},t.prototype.crossCheckVertical=function(e,r,n,a){for(var i=this.image,o=i.getHeight(),s=this.getCrossCheckStateCount(),l=e;l>=0&&i.get(r,l);)s[2]++,l--;if(l<0)return NaN;for(;l>=0&&!i.get(r,l)&&s[1]<=n;)s[1]++,l--;if(l<0||s[1]>n)return NaN;for(;l>=0&&i.get(r,l)&&s[0]<=n;)s[0]++,l--;if(s[0]>n)return NaN;for(l=e+1;l<o&&i.get(r,l);)s[2]++,l++;if(l===o)return NaN;for(;l<o&&!i.get(r,l)&&s[3]<n;)s[3]++,l++;if(l===o||s[3]>=n)return NaN;for(;l<o&&i.get(r,l)&&s[4]<n;)s[4]++,l++;if(s[4]>=n)return NaN;var u=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(u-a)>=2*a?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,l):NaN},t.prototype.crossCheckHorizontal=function(e,r,n,a){for(var i=this.image,o=i.getWidth(),s=this.getCrossCheckStateCount(),l=e;l>=0&&i.get(l,r);)s[2]++,l--;if(l<0)return NaN;for(;l>=0&&!i.get(l,r)&&s[1]<=n;)s[1]++,l--;if(l<0||s[1]>n)return NaN;for(;l>=0&&i.get(l,r)&&s[0]<=n;)s[0]++,l--;if(s[0]>n)return NaN;for(l=e+1;l<o&&i.get(l,r);)s[2]++,l++;if(l===o)return NaN;for(;l<o&&!i.get(l,r)&&s[3]<n;)s[3]++,l++;if(l===o||s[3]>=n)return NaN;for(;l<o&&i.get(l,r)&&s[4]<n;)s[4]++,l++;if(s[4]>=n)return NaN;var u=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(u-a)>=a?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,l):NaN},t.prototype.handlePossibleCenter=function(e,r,n,a){var i=e[0]+e[1]+e[2]+e[3]+e[4],o=t.centerFromEnd(e,n),s=this.crossCheckVertical(r,Math.floor(o),e[2],i);if(!isNaN(s)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(s),e[2],i),!isNaN(o)&&(!a||this.crossCheckDiagonal(Math.floor(s),Math.floor(o),e[2],i)))){for(var l=i/7,u=!1,d=this.possibleCenters,f=0,h=d.length;f<h;f++){var p=d[f];if(p.aboutEquals(l,s,o)){d[f]=p.combineEstimate(s,o,l),u=!0;break}}if(!u){var v=new use(o,s,l);d.push(v),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(v)}return!0}return!1},t.prototype.findRowSkip=function(){var e,r,n=this.possibleCenters.length;if(n<=1)return 0;var a=null;try{for(var i=Bh(this.possibleCenters),o=i.next();!o.done;o=i.next()){var s=o.value;if(s.getCount()>=t.CENTER_QUORUM)if(a==null)a=s;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-s.getX())-Math.abs(a.getY()-s.getY()))/2)}}catch(l){e={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,r,n,a,i=0,o=0,s=this.possibleCenters.length;try{for(var l=Bh(this.possibleCenters),u=l.next();!u.done;u=l.next()){var d=u.value;d.getCount()>=t.CENTER_QUORUM&&(i++,o+=d.getEstimatedModuleSize())}}catch(m){e={error:m}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}if(i<3)return!1;var f=o/s,h=0;try{for(var p=Bh(this.possibleCenters),v=p.next();!v.done;v=p.next()){var d=v.value;h+=Math.abs(d.getEstimatedModuleSize()-f)}}catch(m){n={error:m}}finally{try{v&&!v.done&&(a=p.return)&&a.call(p)}finally{if(n)throw n.error}}return h<=.05*o},t.prototype.selectBestPatterns=function(){var e,r,n,a,i=this.possibleCenters.length;if(i<3)throw new Q;var o=this.possibleCenters,s;if(i>3){var l=0,u=0;try{for(var d=Bh(this.possibleCenters),f=d.next();!f.done;f=d.next()){var h=f.value,p=h.getEstimatedModuleSize();l+=p,u+=p*p}}catch(S){e={error:S}}finally{try{f&&!f.done&&(r=d.return)&&r.call(d)}finally{if(e)throw e.error}}s=l/i;var v=Math.sqrt(u/i-s*s);o.sort(function(S,C){var E=Math.abs(C.getEstimatedModuleSize()-s),A=Math.abs(S.getEstimatedModuleSize()-s);return E<A?-1:E>A?1:0});for(var m=Math.max(.2*s,v),g=0;g<o.length&&o.length>3;g++){var x=o[g];Math.abs(x.getEstimatedModuleSize()-s)>m&&(o.splice(g,1),g--)}}if(o.length>3){var l=0;try{for(var y=Bh(o),w=y.next();!w.done;w=y.next()){var _=w.value;l+=_.getEstimatedModuleSize()}}catch(C){n={error:C}}finally{try{w&&!w.done&&(a=y.return)&&a.call(y)}finally{if(n)throw n.error}}s=l/o.length,o.sort(function(C,E){if(E.getCount()===C.getCount()){var A=Math.abs(E.getEstimatedModuleSize()-s),j=Math.abs(C.getEstimatedModuleSize()-s);return A<j?1:A>j?-1:0}else return E.getCount()-C.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t}(),hse=function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(tr.NEED_RESULT_POINT_CALLBACK);var r=new fse(this.image,this.resultPointCallback),n=r.find(e);return this.processFinderPatternInfo(n)},t.prototype.processFinderPatternInfo=function(e){var r=e.getTopLeft(),n=e.getTopRight(),a=e.getBottomLeft(),i=this.calculateModuleSize(r,n,a);if(i<1)throw new Q("No pattern found in proccess finder.");var o=t.computeDimension(r,n,a,i),s=Zc.getProvisionalVersionForDimension(o),l=s.getDimensionForVersion()-7,u=null;if(s.getAlignmentPatternCenters().length>0)for(var d=n.getX()-r.getX()+a.getX(),f=n.getY()-r.getY()+a.getY(),h=1-3/l,p=Math.floor(r.getX()+h*(d-r.getX())),v=Math.floor(r.getY()+h*(f-r.getY())),m=4;m<=16;m<<=1)try{u=this.findAlignmentInRegion(i,p,v,m);break}catch(w){if(!(w instanceof Q))throw w}var g=t.createTransform(r,n,a,u,o),x=t.sampleGrid(this.image,g,o),y;return u===null?y=[a,r,n]:y=[a,r,n,u],new sj(x,y)},t.createTransform=function(e,r,n,a,i){var o=i-3.5,s,l,u,d;return a!==null?(s=a.getX(),l=a.getY(),u=o-3,d=u):(s=r.getX()-e.getX()+n.getX(),l=r.getY()-e.getY()+n.getY(),u=o,d=o),kL.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,u,d,3.5,o,e.getX(),e.getY(),r.getX(),r.getY(),s,l,n.getX(),n.getY())},t.sampleGrid=function(e,r,n){var a=lj.getInstance();return a.sampleGridWithTransform(e,n,n,r)},t.computeDimension=function(e,r,n,a){var i=xt.round(ke.distance(e,r)/a),o=xt.round(ke.distance(e,n)/a),s=Math.floor((i+o)/2)+7;switch(s&3){case 0:s++;break;case 2:s--;break;case 3:throw new Q("Dimensions could be not found.")}return s},t.prototype.calculateModuleSize=function(e,r,n){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,n))/2},t.prototype.calculateModuleSizeOneWay=function(e,r){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?a/7:isNaN(a)?n/7:(n+a)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,r,n,a){var i=this.sizeOfBlackWhiteBlackRun(e,r,n,a),o=1,s=e-(n-e);s<0?(o=e/(e-s),s=0):s>=this.image.getWidth()&&(o=(this.image.getWidth()-1-e)/(s-e),s=this.image.getWidth()-1);var l=Math.floor(r-(a-r)*o);return o=1,l<0?(o=r/(r-l),l=0):l>=this.image.getHeight()&&(o=(this.image.getHeight()-1-r)/(l-r),l=this.image.getHeight()-1),s=Math.floor(e+(s-e)*o),i+=this.sizeOfBlackWhiteBlackRun(e,r,s,l),i-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,r,n,a){var i=Math.abs(a-r)>Math.abs(n-e);if(i){var o=e;e=r,r=o,o=n,n=a,a=o}for(var s=Math.abs(n-e),l=Math.abs(a-r),u=-s/2,d=e<n?1:-1,f=r<a?1:-1,h=0,p=n+d,v=e,m=r;v!==p;v+=d){var g=i?m:v,x=i?v:m;if(h===1===this.image.get(g,x)){if(h===2)return xt.distance(v,m,e,r);h++}if(u+=l,u>0){if(m===a)break;m+=f,u-=s}}return h===2?xt.distance(n+d,a,e,r):NaN},t.prototype.findAlignmentInRegion=function(e,r,n,a){var i=Math.floor(a*e),o=Math.max(0,r-i),s=Math.min(this.image.getWidth()-1,r+i);if(s-o<e*3)throw new Q("Alignment top exceeds estimated module size.");var l=Math.max(0,n-i),u=Math.min(this.image.getHeight()-1,n+i);if(u-l<e*3)throw new Q("Alignment bottom exceeds estimated module size.");var d=new lse(this.image,o,l,s-o,u-l,e,this.resultPointCallback);return d.find()},t}(),uy=function(){function t(){this.decoder=new ase}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,r){var n,a;if(r!=null&&r.get(tr.PURE_BARCODE)!==void 0){var i=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(i,r),a=t.NO_POINTS}else{var o=new hse(e.getBlackMatrix()).detect(r);n=this.decoder.decodeBitMatrix(o.getBits(),r),a=o.getPoints()}n.getOther()instanceof LL&&n.getOther().applyMirroredCorrection(a);var s=new Fn(n.getText(),n.getRawBytes(),void 0,a,Le.QR_CODE,void 0),l=n.getByteSegments();l!==null&&s.putMetadata(En.BYTE_SEGMENTS,l);var u=n.getECLevel();return u!==null&&s.putMetadata(En.ERROR_CORRECTION_LEVEL,u),n.hasStructuredAppend()&&(s.putMetadata(En.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),s.putMetadata(En.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),s},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r===null||n===null)throw new Q;var a=this.moduleSize(r,e),i=r[1],o=n[1],s=r[0],l=n[0];if(s>=l||i>=o)throw new Q;if(o-i!==l-s&&(l=s+(o-i),l>=e.getWidth()))throw new Q;var u=Math.round((l-s+1)/a),d=Math.round((o-i+1)/a);if(u<=0||d<=0)throw new Q;if(d!==u)throw new Q;var f=Math.floor(a/2);i+=f,s+=f;var h=s+Math.floor((u-1)*a)-l;if(h>0){if(h>f)throw new Q;s-=h}var p=i+Math.floor((d-1)*a)-o;if(p>0){if(p>f)throw new Q;i-=p}for(var v=new Uo(u,d),m=0;m<d;m++)for(var g=i+Math.floor(m*a),x=0;x<u;x++)e.get(s+Math.floor(x*a),g)&&v.set(x,m);return v},t.moduleSize=function(e,r){for(var n=r.getHeight(),a=r.getWidth(),i=e[0],o=e[1],s=!0,l=0;i<a&&o<n;){if(s!==r.get(i,o)){if(++l===5)break;s=!s}i++,o++}if(i===a||o===n)throw new Q;return(i-e[0])/7},t.NO_POINTS=new Array,t}(),pse=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pt=function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return xt.sum(e)},t.toIntArray=function(e){var r,n;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var a=new Int32Array(e.length),i=0;try{for(var o=pse(e),s=o.next();!s.done;s=o.next()){var l=s.value;a[i++]=l}}catch(u){r={error:u}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},t.getCodeword=function(e){var r=en.binarySearch(t.SYMBOL_TABLE,e&262143);return r<0?-1:(t.CODEWORD_TABLE[r]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t}(),mse=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),vse=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gse=function(){function t(){}return t.detectMultiple=function(e,r,n){var a=e.getBlackMatrix(),i=t.detect(n,a);return i.length||(a=a.clone(),a.rotate180(),i=t.detect(n,a)),new mse(a,i)},t.detect=function(e,r){for(var n,a,i=new Array,o=0,s=0,l=!1;o<r.getHeight();){var u=t.findVertices(r,o,s);if(u[0]==null&&u[3]==null){if(!l)break;l=!1,s=0;try{for(var d=(n=void 0,vse(i)),f=d.next();!f.done;f=d.next()){var h=f.value;h[1]!=null&&(o=Math.trunc(Math.max(o,h[1].getY()))),h[3]!=null&&(o=Math.max(o,Math.trunc(h[3].getY())))}}catch(p){n={error:p}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(n)throw n.error}}o+=t.ROW_STEP;continue}if(l=!0,i.push(u),!e)break;u[2]!=null?(s=Math.trunc(u[2].getX()),o=Math.trunc(u[2].getY())):(s=Math.trunc(u[4].getX()),o=Math.trunc(u[4].getY()))}return i},t.findVertices=function(e,r,n){var a=e.getHeight(),i=e.getWidth(),o=new Array(8);return t.copyToResult(o,t.findRowsWithPattern(e,a,i,r,n,t.START_PATTERN),t.INDEXES_START_PATTERN),o[4]!=null&&(n=Math.trunc(o[4].getX()),r=Math.trunc(o[4].getY())),t.copyToResult(o,t.findRowsWithPattern(e,a,i,r,n,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),o},t.copyToResult=function(e,r,n){for(var a=0;a<n.length;a++)e[n[a]]=r[a]},t.findRowsWithPattern=function(e,r,n,a,i,o){for(var s=new Array(4),l=!1,u=new Int32Array(o.length);a<r;a+=t.ROW_STEP){var d=t.findGuardPattern(e,i,a,n,!1,o,u);if(d!=null){for(;a>0;){var f=t.findGuardPattern(e,i,--a,n,!1,o,u);if(f!=null)d=f;else{a++;break}}s[0]=new ke(d[0],a),s[1]=new ke(d[1],a),l=!0;break}}var h=a+1;if(l){for(var p=0,f=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);h<r;h++){var d=t.findGuardPattern(e,f[0],h,n,!1,o,u);if(d!=null&&Math.abs(f[0]-d[0])<t.MAX_PATTERN_DRIFT&&Math.abs(f[1]-d[1])<t.MAX_PATTERN_DRIFT)f=d,p=0;else{if(p>t.SKIPPED_ROW_COUNT_MAX)break;p++}}h-=p+1,s[2]=new ke(f[0],h),s[3]=new ke(f[1],h)}return h-a<t.BARCODE_MIN_HEIGHT&&en.fill(s,null),s},t.findGuardPattern=function(e,r,n,a,i,o,s){en.fillWithin(s,0,s.length,0);for(var l=r,u=0;e.get(l,n)&&l>0&&u++<t.MAX_PIXEL_DRIFT;)l--;for(var d=l,f=0,h=o.length,p=i;d<a;d++){var v=e.get(d,n);if(v!==p)s[f]++;else{if(f===h-1){if(t.patternMatchVariance(s,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([l,d]);l+=s[0]+s[1],er.arraycopy(s,2,s,0,f-1),s[f-1]=0,s[f]=0,f--}else f++;s[f]=1,p=!p}}return f===h-1&&t.patternMatchVariance(s,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([l,d-1]):null},t.patternMatchVariance=function(e,r,n){for(var a=e.length,i=0,o=0,s=0;s<a;s++)i+=e[s],o+=r[s];if(i<o)return 1/0;var l=i/o;n*=l;for(var u=0,d=0;d<a;d++){var f=e[d],h=r[d]*l,p=f>h?f-h:h-f;if(p>n)return 1/0;u+=p}return u/i},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t}(),yse=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Dc=function(){function t(e,r){if(r.length===0)throw new Fe;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var a=1;a<n&&r[a]===0;)a++;a===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-a),er.arraycopy(r,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var r,n;if(e===0)return this.getCoefficient(0);if(e===1){var a=0;try{for(var i=yse(this.coefficients),o=i.next();!o.done;o=i.next()){var s=o.value;a=this.field.add(a,s)}}catch(f){r={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a}for(var l=this.coefficients[0],u=this.coefficients.length,d=1;d<u;d++)l=this.field.add(this.field.multiply(e,l),this.coefficients[d]);return l},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new Fe("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var a=r;r=n,n=a}var i=new Int32Array(n.length),o=n.length-r.length;er.arraycopy(n,0,i,0,o);for(var s=o;s<n.length;s++)i[s]=this.field.add(r[s-o],n[s]);return new t(this.field,i)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new Fe("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new Fe("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var r=this.coefficients,n=r.length,a=e.coefficients,i=a.length,o=new Int32Array(n+i-1),s=0;s<n;s++)for(var l=r[s],u=0;u<i;u++)o[s+u]=this.field.add(o[s+u],this.field.multiply(l,a[u]));return new t(this.field,o)},t.prototype.negative=function(){for(var e=this.coefficients.length,r=new Int32Array(e),n=0;n<e;n++)r[n]=this.field.subtract(0,this.coefficients[n]);return new t(this.field,r)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var r=this.coefficients.length,n=new Int32Array(r),a=0;a<r;a++)n[a]=this.field.multiply(this.coefficients[a],e);return new t(this.field,n)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new Fe;if(r===0)return new t(this.field,new Int32Array([0]));for(var n=this.coefficients.length,a=new Int32Array(n+e),i=0;i<n;i++)a[i]=this.field.multiply(this.coefficients[i],r);return new t(this.field,a)},t.prototype.toString=function(){for(var e=new ot,r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(r===0||n!==1)&&e.append(n),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()},t}(),xse=function(){function t(){}return t.prototype.add=function(e,r){return(e+r)%this.modulus},t.prototype.subtract=function(e,r){return(this.modulus+e-r)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new Fe;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new PL;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t}(),wse=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),bse=function(t){wse(e,t);function e(r,n){var a=t.call(this)||this;a.modulus=r,a.expTable=new Int32Array(r),a.logTable=new Int32Array(r);for(var i=1,o=0;o<r;o++)a.expTable[o]=i,i=i*n%r;for(var o=0;o<r-1;o++)a.logTable[a.expTable[o]]=o;return a.zero=new Dc(a,new Int32Array([0])),a.one=new Dc(a,new Int32Array([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new Fe;if(n===0)return this.zero;var a=new Int32Array(r+1);return a[0]=n,new Dc(this,a)},e.PDF417_GF=new e(pt.NUMBER_OF_CODEWORDS,3),e}(xse),_se=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Sse=function(){function t(){this.field=bse.PDF417_GF}return t.prototype.decode=function(e,r,n){for(var a,i,o=new Dc(this.field,e),s=new Int32Array(r),l=!1,u=r;u>0;u--){var d=o.evaluateAt(this.field.exp(u));s[r-u]=d,d!==0&&(l=!0)}if(!l)return 0;var f=this.field.getOne();if(n!=null)try{for(var h=_se(n),p=h.next();!p.done;p=h.next()){var v=p.value,m=this.field.exp(e.length-1-v),g=new Dc(this.field,new Int32Array([this.field.subtract(0,m),1]));f=f.multiply(g)}}catch(A){a={error:A}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}for(var x=new Dc(this.field,s),y=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),x,r),w=y[0],_=y[1],S=this.findErrorLocations(w),C=this.findErrorMagnitudes(_,w,S),u=0;u<S.length;u++){var E=e.length-1-this.field.log(S[u]);if(E<0)throw Br.getChecksumInstance();e[E]=this.field.subtract(e[E],C[u])}return S.length},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var a=e;e=r,r=a}for(var i=e,o=r,s=this.field.getZero(),l=this.field.getOne();o.getDegree()>=Math.round(n/2);){var u=i,d=s;if(i=o,s=l,i.isZero())throw Br.getChecksumInstance();o=u;for(var f=this.field.getZero(),h=i.getCoefficient(i.getDegree()),p=this.field.inverse(h);o.getDegree()>=i.getDegree()&&!o.isZero();){var v=o.getDegree()-i.getDegree(),m=this.field.multiply(o.getCoefficient(o.getDegree()),p);f=f.add(this.field.buildMonomial(v,m)),o=o.subtract(i.multiplyByMonomial(v,m))}l=f.multiply(s).subtract(d).negative()}var g=l.getCoefficient(0);if(g===0)throw Br.getChecksumInstance();var x=this.field.inverse(g),y=l.multiply(x),w=o.multiply(x);return[y,w]},t.prototype.findErrorLocations=function(e){for(var r=e.getDegree(),n=new Int32Array(r),a=0,i=1;i<this.field.getSize()&&a<r;i++)e.evaluateAt(i)===0&&(n[a]=this.field.inverse(i),a++);if(a!==r)throw Br.getChecksumInstance();return n},t.prototype.findErrorMagnitudes=function(e,r,n){for(var a=r.getDegree(),i=new Int32Array(a),o=1;o<=a;o++)i[a-o]=this.field.multiply(o,r.getCoefficient(o));for(var s=new Dc(this.field,i),l=n.length,u=new Int32Array(l),o=0;o<l;o++){var d=this.field.inverse(n[o]),f=this.field.subtract(0,e.evaluateAt(d)),h=this.field.inverse(s.evaluateAt(d));u[o]=this.field.multiply(f,h)}return u},t}(),yS=function(){function t(e,r,n,a,i){e instanceof t?this.constructor_2(e):this.constructor_1(e,r,n,a,i)}return t.prototype.constructor_1=function(e,r,n,a,i){var o=r==null||n==null,s=a==null||i==null;if(o&&s)throw new Q;o?(r=new ke(0,a.getY()),n=new ke(0,i.getY())):s&&(a=new ke(e.getWidth()-1,r.getY()),i=new ke(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=r,this.bottomLeft=n,this.topRight=a,this.bottomRight=i,this.minX=Math.trunc(Math.min(r.getX(),n.getX())),this.maxX=Math.trunc(Math.max(a.getX(),i.getX())),this.minY=Math.trunc(Math.min(r.getY(),a.getY())),this.maxY=Math.trunc(Math.max(n.getY(),i.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,r){return e==null?r:r==null?e:new t(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)},t.prototype.addMissingRows=function(e,r,n){var a=this.topLeft,i=this.bottomLeft,o=this.topRight,s=this.bottomRight;if(e>0){var l=n?this.topLeft:this.topRight,u=Math.trunc(l.getY()-e);u<0&&(u=0);var d=new ke(l.getX(),u);n?a=d:o=d}if(r>0){var f=n?this.bottomLeft:this.bottomRight,h=Math.trunc(f.getY()+r);h>=this.image.getHeight()&&(h=this.image.getHeight()-1);var p=new ke(f.getX(),h);n?i=p:s=p}return new t(this.image,a,i,o,s)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t}(),Cse=function(){function t(e,r,n,a){this.columnCount=e,this.errorCorrectionLevel=a,this.rowCountUpperPart=r,this.rowCountLowerPart=n,this.rowCount=r+n}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t}(),uj=function(){function t(){this.buffer=""}return t.form=function(e,r){var n=-1;function a(o,s,l,u,d,f){if(o==="%%")return"%";if(r[++n]!==void 0){o=u?parseInt(u.substr(1)):void 0;var h=d?parseInt(d.substr(1)):void 0,p;switch(f){case"s":p=r[n];break;case"c":p=r[n][0];break;case"f":p=parseFloat(r[n]).toFixed(o);break;case"p":p=parseFloat(r[n]).toPrecision(o);break;case"e":p=parseFloat(r[n]).toExponential(o);break;case"x":p=parseInt(r[n]).toString(h||16);break;case"d":p=parseFloat(parseInt(r[n],h||10).toPrecision(o)).toFixed(0);break}p=typeof p=="object"?JSON.stringify(p):(+p).toString(h);for(var v=parseInt(l),m=l&&l[0]+""=="0"?"0":" ";p.length<v;)p=s!==void 0?p+m:m+p;return p}}var i=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(i,a)},t.prototype.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.buffer+=t.form(e,r)},t.prototype.toString=function(){return this.buffer},t}(),Ese=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},FL=function(){function t(e){this.boundingBox=new yS(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var r=this.getCodeword(e);if(r!=null)return r;for(var n=1;n<t.MAX_NEARBY_DISTANCE;n++){var a=this.imageRowToCodewordIndex(e)-n;if(a>=0&&(r=this.codewords[a],r!=null)||(a=this.imageRowToCodewordIndex(e)+n,a<this.codewords.length&&(r=this.codewords[a],r!=null)))return r}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,r,n=new uj,a=0;try{for(var i=Ese(this.codewords),o=i.next();!o.done;o=i.next()){var s=o.value;if(s==null){n.format("%3d:    |   %n",a++);continue}n.format("%3d: %3d|%3d%n",a++,s.getRowNumber(),s.getValue())}}catch(l){e={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return n.toString()},t.MAX_NEARBY_DISTANCE=5,t}(),Ase=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jse=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),a,i=[],o;try{for(;(e===void 0||e-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i},lp=function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)},t.prototype.getValue=function(){var e,r,n=-1,a=new Array,i=function(f,h){var p={getKey:function(){return f},getValue:function(){return h}};p.getValue()>n?(n=p.getValue(),a=[],a.push(p.getKey())):p.getValue()===n&&a.push(p.getKey())};try{for(var o=Ase(this.values.entries()),s=o.next();!s.done;s=o.next()){var l=jse(s.value,2),u=l[0],d=l[1];i(u,d)}}catch(f){e={error:f}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return pt.toIntArray(a)},t.prototype.getConfidence=function(e){return this.values.get(e)},t}(),Nse=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$b=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},g3=function(t){Nse(e,t);function e(r,n){var a=t.call(this,r)||this;return a._isLeft=n,a}return e.prototype.setRowNumbers=function(){var r,n;try{for(var a=$b(this.getCodewords()),i=a.next();!i.done;i=a.next()){var o=i.value;o!=null&&o.setRowNumberAsRowIndicatorColumn()}}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(r){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,r);for(var a=this.getBoundingBox(),i=this._isLeft?a.getTopLeft():a.getTopRight(),o=this._isLeft?a.getBottomLeft():a.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(i.getY())),l=this.imageRowToCodewordIndex(Math.trunc(o.getY())),u=-1,d=1,f=0,h=s;h<l;h++)if(n[h]!=null){var p=n[h],v=p.getRowNumber()-u;if(v===0)f++;else if(v===1)d=Math.max(d,f),f=1,u=p.getRowNumber();else if(v<0||p.getRowNumber()>=r.getRowCount()||v>h)n[h]=null;else{var m=void 0;d>2?m=(d-2)*v:m=v;for(var g=m>=h,x=1;x<=m&&!g;x++)g=n[h-x]!=null;g?n[h]=null:(u=p.getRowNumber(),f=1)}}},e.prototype.getRowHeights=function(){var r,n,a=this.getBarcodeMetadata();if(a==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(a);var i=new Int32Array(a.getRowCount());try{for(var o=$b(this.getCodewords()),s=o.next();!s.done;s=o.next()){var l=s.value;if(l!=null){var u=l.getRowNumber();if(u>=i.length)continue;i[u]++}}}catch(d){r={error:d}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(r){for(var n=this.getBoundingBox(),a=this._isLeft?n.getTopLeft():n.getTopRight(),i=this._isLeft?n.getBottomLeft():n.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(a.getY())),s=this.imageRowToCodewordIndex(Math.trunc(i.getY())),l=this.getCodewords(),u=-1,d=o;d<s;d++)if(l[d]!=null){var f=l[d];f.setRowNumberAsRowIndicatorColumn();var h=f.getRowNumber()-u;h===0||(h===1?u=f.getRowNumber():f.getRowNumber()>=r.getRowCount()?l[d]=null:u=f.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var r,n,a=this.getCodewords(),i=new lp,o=new lp,s=new lp,l=new lp;try{for(var u=$b(a),d=u.next();!d.done;d=u.next()){var f=d.value;if(f!=null){f.setRowNumberAsRowIndicatorColumn();var h=f.getValue()%30,p=f.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:o.setValue(h*3+1);break;case 1:l.setValue(h/3),s.setValue(h%3);break;case 2:i.setValue(h+1);break}}}}catch(m){r={error:m}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}if(i.getValue().length===0||o.getValue().length===0||s.getValue().length===0||l.getValue().length===0||i.getValue()[0]<1||o.getValue()[0]+s.getValue()[0]<pt.MIN_ROWS_IN_BARCODE||o.getValue()[0]+s.getValue()[0]>pt.MAX_ROWS_IN_BARCODE)return null;var v=new Cse(i.getValue()[0],o.getValue()[0],s.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(a,v),v},e.prototype.removeIncorrectCodewords=function(r,n){for(var a=0;a<r.length;a++){var i=r[a];if(r[a]!=null){var o=i.getValue()%30,s=i.getRowNumber();if(s>n.getRowCount()){r[a]=null;continue}switch(this._isLeft||(s+=2),s%3){case 0:o*3+1!==n.getRowCountUpperPart()&&(r[a]=null);break;case 1:(Math.trunc(o/3)!==n.getErrorCorrectionLevel()||o%3!==n.getRowCountLowerPart())&&(r[a]=null);break;case 2:o+1!==n.getColumnCount()&&(r[a]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e}(FL),Ose=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Tse=function(){function t(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=pt.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var r=1;r<this.barcodeColumnCount+1;r++)for(var n=this.detectionResultColumns[r].getCodewords(),a=0;a<n.length;a++)n[a]!=null&&(n[a].hasValidRowNumber()||this.adjustRowNumbers(r,a,n));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&r[n]!=null&&e[n].getRowNumber()===r[n].getRowNumber())for(var a=1;a<=this.barcodeColumnCount;a++){var i=this.detectionResultColumns[a].getCodewords()[n];i!=null&&(i.setRowNumber(e[n].getRowNumber()),i.hasValidRowNumber()||(this.detectionResultColumns[a].getCodewords()[n]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var a=r[n].getRowNumber(),i=0,o=this.barcodeColumnCount+1;o>0&&i<this.ADJUST_ROW_NUMBER_SKIP;o--){var s=this.detectionResultColumns[o].getCodewords()[n];s!=null&&(i=t.adjustRowNumberIfValid(a,i,s),s.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,r=this.detectionResultColumns[0].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var a=r[n].getRowNumber(),i=0,o=1;o<this.barcodeColumnCount+1&&i<this.ADJUST_ROW_NUMBER_SKIP;o++){var s=this.detectionResultColumns[o].getCodewords()[n];s!=null&&(i=t.adjustRowNumberIfValid(a,i,s),s.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,r,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),r=0):++r),r},t.prototype.adjustRowNumbers=function(e,r,n){var a,i;if(this.detectionResultColumns[e-1]!=null){var o=n[r],s=this.detectionResultColumns[e-1].getCodewords(),l=s;this.detectionResultColumns[e+1]!=null&&(l=this.detectionResultColumns[e+1].getCodewords());var u=new Array(14);u[2]=s[r],u[3]=l[r],r>0&&(u[0]=n[r-1],u[4]=s[r-1],u[5]=l[r-1]),r>1&&(u[8]=n[r-2],u[10]=s[r-2],u[11]=l[r-2]),r<n.length-1&&(u[1]=n[r+1],u[6]=s[r+1],u[7]=l[r+1]),r<n.length-2&&(u[9]=n[r+2],u[12]=s[r+2],u[13]=l[r+2]);try{for(var d=Ose(u),f=d.next();!f.done;f=d.next()){var h=f.value;if(t.adjustRowNumber(o,h))return}}catch(p){a={error:p}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}}},t.adjustRowNumber=function(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,r){this.detectionResultColumns[e]=r},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var r=new uj,n=0;n<e.getCodewords().length;n++){r.format("CW %3d:",n);for(var a=0;a<this.barcodeColumnCount+2;a++){if(this.detectionResultColumns[a]==null){r.format("    |   ");continue}var i=this.detectionResultColumns[a].getCodewords()[n];if(i==null){r.format("    |   ");continue}r.format(" %3d|%3d",i.getRowNumber(),i.getValue())}r.format("%n")}return r.toString()},t}(),Pse=function(){function t(e,r,n,a){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(n),this.value=Math.trunc(a)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t}(),kse=function(){function t(){}return t.initialize=function(){for(var e=0;e<pt.SYMBOL_TABLE.length;e++)for(var r=pt.SYMBOL_TABLE[e],n=r&1,a=0;a<pt.BARS_IN_MODULE;a++){for(var i=0;(r&1)===n;)i+=1,r>>=1;n=r&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(pt.BARS_IN_MODULE)),t.RATIOS_TABLE[e][pt.BARS_IN_MODULE-a-1]=Math.fround(i/pt.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var r=t.getDecodedCodewordValue(t.sampleBitCounts(e));return r!==-1?r:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var r=xt.sum(e),n=new Int32Array(pt.BARS_IN_MODULE),a=0,i=0,o=0;o<pt.MODULES_IN_CODEWORD;o++){var s=r/(2*pt.MODULES_IN_CODEWORD)+o*r/pt.MODULES_IN_CODEWORD;i+e[a]<=s&&(i+=e[a],a++),n[a]++}return n},t.getDecodedCodewordValue=function(e){var r=t.getBitValue(e);return pt.getCodeword(r)===-1?-1:r},t.getBitValue=function(e){for(var r=0,n=0;n<e.length;n++)for(var a=0;a<e[n];a++)r=r<<1|(n%2===0?1:0);return Math.trunc(r)},t.getClosestDecodedValue=function(e){var r=xt.sum(e),n=new Array(pt.BARS_IN_MODULE);if(r>1)for(var a=0;a<n.length;a++)n[a]=Math.fround(e[a]/r);var i=mS.MAX_VALUE,o=-1;this.bSymbolTableReady||t.initialize();for(var s=0;s<t.RATIOS_TABLE.length;s++){for(var l=0,u=t.RATIOS_TABLE[s],d=0;d<pt.BARS_IN_MODULE;d++){var f=Math.fround(u[d]-n[d]);if(l+=Math.fround(f*f),l>=i)break}l<i&&(i=l,o=pt.SYMBOL_TABLE[s])}return o},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(pt.SYMBOL_TABLE.length).map(function(e){return new Array(pt.BARS_IN_MODULE)}),t}(),Ise=function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t}(),y3=function(){function t(){}return t.parseLong=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t}(),Rse=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Dse=function(t){Rse(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e}(wa),Mse=function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,r,n){if(e==null)throw new Dse;if(r<0||r>e.length||n<0||r+n>e.length||r+n<0)throw new oj;if(n===0)return;for(var a=0;a<n;a++)this.write(e[r+a])},t.prototype.flush=function(){},t.prototype.close=function(){},t}(),$se=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Lse=function(t){$se(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(wa),Fse=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Bse=function(t){Fse(e,t);function e(r){r===void 0&&(r=32);var n=t.call(this)||this;if(n.count=0,r<0)throw new Fe("Negative initial size: "+r);return n.buf=new Uint8Array(r),n}return e.prototype.ensureCapacity=function(r){r-this.buf.length>0&&this.grow(r)},e.prototype.grow=function(r){var n=this.buf.length,a=n<<1;if(a-r<0&&(a=r),a<0){if(r<0)throw new Lse;a=st.MAX_VALUE}this.buf=en.copyOfUint8Array(this.buf,a)},e.prototype.write=function(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1},e.prototype.writeBytesOffset=function(r,n,a){if(n<0||n>r.length||a<0||n+a-r.length>0)throw new oj;this.ensureCapacity(this.count+a),er.arraycopy(r,n,this.buf,this.count,a),this.count+=a},e.prototype.writeTo=function(r){r.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return en.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(r){return new String(this.buf).toString()},e.prototype.toString_number=function(r){return new String(this.buf).toString()},e.prototype.close=function(){},e}(Mse),qt;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(qt||(qt={}));function BL(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var Eg;function sl(t){if(typeof Eg>"u"&&(Eg=BL()),Eg===null)throw new Error("BigInt is not supported!");return Eg(t)}function Use(){var t=[];t[0]=sl(1);var e=sl(900);t[1]=e;for(var r=2;r<16;r++)t[r]=t[r-1]*e;return t}var Vse=function(){function t(){}return t.decode=function(e,r){var n=new ot(""),a=Jr.ISO8859_1;n.enableDecoding(a);for(var i=1,o=e[i++],s=new Ise;i<e[0];){switch(o){case t.TEXT_COMPACTION_MODE_LATCH:i=t.textCompaction(e,i,n);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:i=t.byteCompaction(o,e,a,i,n);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[i++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:i=t.numericCompaction(e,i,n);break;case t.ECI_CHARSET:Jr.getCharacterSetECIByValue(e[i++]);break;case t.ECI_GENERAL_PURPOSE:i+=2;break;case t.ECI_USER_DEFINED:i++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:i=t.decodeMacroBlock(e,i,s);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new me;default:i--,i=t.textCompaction(e,i,n);break}if(i<e.length)o=e[i++];else throw me.getFormatInstance()}if(n.length()===0)throw me.getFormatInstance();var l=new vx(null,n.toString(),null,r);return l.setOther(s),l},t.decodeMacroBlock=function(e,r,n){if(r+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw me.getFormatInstance();for(var a=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),i=0;i<t.NUMBER_OF_SEQUENCE_CODEWORDS;i++,r++)a[i]=e[r];n.setSegmentIndex(st.parseInt(t.decodeBase900toBase10(a,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var o=new ot;r=t.textCompaction(e,r,o),n.setFileId(o.toString());var s=-1;for(e[r]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(s=r+1);r<e[0];)switch(e[r]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var l=new ot;r=t.textCompaction(e,r+1,l),n.setFileName(l.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var u=new ot;r=t.textCompaction(e,r+1,u),n.setSender(u.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var d=new ot;r=t.textCompaction(e,r+1,d),n.setAddressee(d.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var f=new ot;r=t.numericCompaction(e,r+1,f),n.setSegmentCount(st.parseInt(f.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var h=new ot;r=t.numericCompaction(e,r+1,h),n.setTimestamp(y3.parseLong(h.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var p=new ot;r=t.numericCompaction(e,r+1,p),n.setChecksum(st.parseInt(p.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var v=new ot;r=t.numericCompaction(e,r+1,v),n.setFileSize(y3.parseLong(v.toString()));break;default:throw me.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:r++,n.setLastSegment(!0);break;default:throw me.getFormatInstance()}if(s!==-1){var m=r-s;n.isLastSegment()&&m--,n.setOptionalData(en.copyOfRange(e,s,s+m))}return r},t.textCompaction=function(e,r,n){for(var a=new Int32Array((e[0]-r)*2),i=new Int32Array((e[0]-r)*2),o=0,s=!1;r<e[0]&&!s;){var l=e[r++];if(l<t.TEXT_COMPACTION_MODE_LATCH)a[o]=l/30,a[o+1]=l%30,o+=2;else switch(l){case t.TEXT_COMPACTION_MODE_LATCH:a[o++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,s=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a[o]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,l=e[r++],i[o]=l,o++;break}}return t.decodeTextCompaction(a,i,o,n),r},t.decodeTextCompaction=function(e,r,n,a){for(var i=qt.ALPHA,o=qt.ALPHA,s=0;s<n;){var l=e[s],u="";switch(i){case qt.ALPHA:if(l<26)u=String.fromCharCode(65+l);else switch(l){case 26:u=" ";break;case t.LL:i=qt.LOWER;break;case t.ML:i=qt.MIXED;break;case t.PS:o=i,i=qt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=qt.ALPHA;break}break;case qt.LOWER:if(l<26)u=String.fromCharCode(97+l);else switch(l){case 26:u=" ";break;case t.AS:o=i,i=qt.ALPHA_SHIFT;break;case t.ML:i=qt.MIXED;break;case t.PS:o=i,i=qt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=qt.ALPHA;break}break;case qt.MIXED:if(l<t.PL)u=t.MIXED_CHARS[l];else switch(l){case t.PL:i=qt.PUNCT;break;case 26:u=" ";break;case t.LL:i=qt.LOWER;break;case t.AL:i=qt.ALPHA;break;case t.PS:o=i,i=qt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=qt.ALPHA;break}break;case qt.PUNCT:if(l<t.PAL)u=t.PUNCT_CHARS[l];else switch(l){case t.PAL:i=qt.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=qt.ALPHA;break}break;case qt.ALPHA_SHIFT:if(i=o,l<26)u=String.fromCharCode(65+l);else switch(l){case 26:u=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:i=qt.ALPHA;break}break;case qt.PUNCT_SHIFT:if(i=o,l<t.PAL)u=t.PUNCT_CHARS[l];else switch(l){case t.PAL:i=qt.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=qt.ALPHA;break}break}u!==""&&a.append(u),s++}},t.byteCompaction=function(e,r,n,a,i){var o=new Bse,s=0,l=0,u=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var d=new Int32Array(6),f=r[a++];a<r[0]&&!u;)switch(d[s++]=f,l=900*l+f,f=r[a++],f){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:a--,u=!0;break;default:if(s%5===0&&s>0){for(var h=0;h<6;++h)o.write(Number(sl(l)>>sl(8*(5-h))));l=0,s=0}break}a===r[0]&&f<t.TEXT_COMPACTION_MODE_LATCH&&(d[s++]=f);for(var p=0;p<s;p++)o.write(d[p]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;a<r[0]&&!u;){var v=r[a++];if(v<t.TEXT_COMPACTION_MODE_LATCH)s++,l=900*l+v;else switch(v){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:a--,u=!0;break}if(s%5===0&&s>0){for(var h=0;h<6;++h)o.write(Number(sl(l)>>sl(8*(5-h))));l=0,s=0}}break}return i.append(vi.decode(o.toByteArray(),n)),a},t.numericCompaction=function(e,r,n){for(var a=0,i=!1,o=new Int32Array(t.MAX_NUMERIC_CODEWORDS);r<e[0]&&!i;){var s=e[r++];if(r===e[0]&&(i=!0),s<t.TEXT_COMPACTION_MODE_LATCH)o[a]=s,a++;else switch(s){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,i=!0;break}(a%t.MAX_NUMERIC_CODEWORDS===0||s===t.NUMERIC_COMPACTION_MODE_LATCH||i)&&a>0&&(n.append(t.decodeBase900toBase10(o,a)),a=0)}return r},t.decodeBase900toBase10=function(e,r){for(var n=sl(0),a=0;a<r;a++)n+=t.EXP900[r-a-1]*sl(e[a]);var i=n.toString();if(i.charAt(0)!=="1")throw new me;return i.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=BL()?Use():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t}(),Uh=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Wse=function(){function t(){}return t.decode=function(e,r,n,a,i,o,s){for(var l=new yS(e,r,n,a,i),u=null,d=null,f,h=!0;;h=!1){if(r!=null&&(u=t.getRowIndicatorColumn(e,l,r,!0,o,s)),a!=null&&(d=t.getRowIndicatorColumn(e,l,a,!1,o,s)),f=t.merge(u,d),f==null)throw Q.getNotFoundInstance();var p=f.getBoundingBox();if(h&&p!=null&&(p.getMinY()<l.getMinY()||p.getMaxY()>l.getMaxY()))l=p;else break}f.setBoundingBox(l);var v=f.getBarcodeColumnCount()+1;f.setDetectionResultColumn(0,u),f.setDetectionResultColumn(v,d);for(var m=u!=null,g=1;g<=v;g++){var x=m?g:v-g;if(f.getDetectionResultColumn(x)===void 0){var y=void 0;x===0||x===v?y=new g3(l,x===0):y=new FL(l),f.setDetectionResultColumn(x,y);for(var w=-1,_=w,S=l.getMinY();S<=l.getMaxY();S++){if(w=t.getStartColumn(f,x,S,m),w<0||w>l.getMaxX()){if(_===-1)continue;w=_}var C=t.detectCodeword(e,l.getMinX(),l.getMaxX(),m,w,S,o,s);C!=null&&(y.setCodeword(S,C),_=w,o=Math.min(o,C.getWidth()),s=Math.max(s,C.getWidth()))}}}return t.createDecoderResult(f)},t.merge=function(e,r){if(e==null&&r==null)return null;var n=t.getBarcodeMetadata(e,r);if(n==null)return null;var a=yS.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(r));return new Tse(n,a)},t.adjustBoundingBox=function(e){var r,n;if(e==null)return null;var a=e.getRowHeights();if(a==null)return null;var i=t.getMax(a),o=0;try{for(var s=Uh(a),l=s.next();!l.done;l=s.next()){var u=l.value;if(o+=i-u,u>0)break}}catch(p){r={error:p}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}for(var d=e.getCodewords(),f=0;o>0&&d[f]==null;f++)o--;for(var h=0,f=a.length-1;f>=0&&(h+=i-a[f],!(a[f]>0));f--);for(var f=d.length-1;h>0&&d[f]==null;f--)h--;return e.getBoundingBox().addMissingRows(o,h,e.isLeft())},t.getMax=function(e){var r,n,a=-1;try{for(var i=Uh(e),o=i.next();!o.done;o=i.next()){var s=o.value;a=Math.max(a,s)}}catch(l){r={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a},t.getBarcodeMetadata=function(e,r){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();var a;return r==null||(a=r.getBarcodeMetadata())==null?n:n.getColumnCount()!==a.getColumnCount()&&n.getErrorCorrectionLevel()!==a.getErrorCorrectionLevel()&&n.getRowCount()!==a.getRowCount()?null:n},t.getRowIndicatorColumn=function(e,r,n,a,i,o){for(var s=new g3(r,a),l=0;l<2;l++)for(var u=l===0?1:-1,d=Math.trunc(Math.trunc(n.getX())),f=Math.trunc(Math.trunc(n.getY()));f<=r.getMaxY()&&f>=r.getMinY();f+=u){var h=t.detectCodeword(e,0,e.getWidth(),a,d,f,i,o);h!=null&&(s.setCodeword(f,h),a?d=h.getStartX():d=h.getEndX())}return s},t.adjustCodewordCount=function(e,r){var n=r[0][1],a=n.getValue(),i=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(a.length===0){if(i<1||i>pt.MAX_CODEWORDS_IN_BARCODE)throw Q.getNotFoundInstance();n.setValue(i)}else a[0]!==i&&n.setValue(i)},t.createDecoderResult=function(e){var r=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,r);for(var n=new Array,a=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),i=[],o=new Array,s=0;s<e.getBarcodeRowCount();s++)for(var l=0;l<e.getBarcodeColumnCount();l++){var u=r[s][l+1].getValue(),d=s*e.getBarcodeColumnCount()+l;u.length===0?n.push(d):u.length===1?a[d]=u[0]:(o.push(d),i.push(u))}for(var f=new Array(i.length),h=0;h<f.length;h++)f[h]=i[h];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),a,pt.toIntArray(n),pt.toIntArray(o),f)},t.createDecoderResultFromAmbiguousValues=function(e,r,n,a,i){for(var o=new Int32Array(a.length),s=100;s-- >0;){for(var l=0;l<o.length;l++)r[a[l]]=i[l][o[l]];try{return t.decodeCodewords(r,e,n)}catch(d){var u=d instanceof Br;if(!u)throw d}if(o.length===0)throw Br.getChecksumInstance();for(var l=0;l<o.length;l++)if(o[l]<i[l].length-1){o[l]++;break}else if(o[l]=0,l===o.length-1)throw Br.getChecksumInstance()}throw Br.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var r,n,a,i,o=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),s=0;s<o.length;s++)for(var l=0;l<o[s].length;l++)o[s][l]=new lp;var u=0;try{for(var d=Uh(e.getDetectionResultColumns()),f=d.next();!f.done;f=d.next()){var h=f.value;if(h!=null)try{for(var p=(a=void 0,Uh(h.getCodewords())),v=p.next();!v.done;v=p.next()){var m=v.value;if(m!=null){var g=m.getRowNumber();if(g>=0){if(g>=o.length)continue;o[g][u].setValue(m.getValue())}}}}catch(x){a={error:x}}finally{try{v&&!v.done&&(i=p.return)&&i.call(p)}finally{if(a)throw a.error}}u++}}catch(x){r={error:x}}finally{try{f&&!f.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}return o},t.isValidBarcodeColumn=function(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,r,n,a){var i,o,s=a?1:-1,l=null;if(t.isValidBarcodeColumn(e,r-s)&&(l=e.getDetectionResultColumn(r-s).getCodeword(n)),l!=null)return a?l.getEndX():l.getStartX();if(l=e.getDetectionResultColumn(r).getCodewordNearby(n),l!=null)return a?l.getStartX():l.getEndX();if(t.isValidBarcodeColumn(e,r-s)&&(l=e.getDetectionResultColumn(r-s).getCodewordNearby(n)),l!=null)return a?l.getEndX():l.getStartX();for(var u=0;t.isValidBarcodeColumn(e,r-s);){r-=s;try{for(var d=(i=void 0,Uh(e.getDetectionResultColumn(r).getCodewords())),f=d.next();!f.done;f=d.next()){var h=f.value;if(h!=null)return(a?h.getEndX():h.getStartX())+s*u*(h.getEndX()-h.getStartX())}}catch(p){i={error:p}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}u++}return a?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,r,n,a,i,o,s,l){i=t.adjustCodewordStartColumn(e,r,n,a,i,o);var u=t.getModuleBitCount(e,r,n,a,i,o);if(u==null)return null;var d,f=xt.sum(u);if(a)d=i+f;else{for(var h=0;h<u.length/2;h++){var p=u[h];u[h]=u[u.length-1-h],u[u.length-1-h]=p}d=i,i=d-f}if(!t.checkCodewordSkew(f,s,l))return null;var v=kse.getDecodedValue(u),m=pt.getCodeword(v);return m===-1?null:new Pse(i,d,t.getCodewordBucketNumber(v),m)},t.getModuleBitCount=function(e,r,n,a,i,o){for(var s=i,l=new Int32Array(8),u=0,d=a?1:-1,f=a;(a?s<n:s>=r)&&u<l.length;)e.get(s,o)===f?(l[u]++,s+=d):(u++,f=!f);return u===l.length||s===(a?n:r)&&u===l.length-1?l:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,r,n,a,i,o){for(var s=i,l=a?-1:1,u=0;u<2;u++){for(;(a?s>=r:s<n)&&a===e.get(s,o);){if(Math.abs(i-s)>t.CODEWORD_SKEW_SIZE)return i;s+=l}l=-l,a=!a}return s},t.checkCodewordSkew=function(e,r,n){return r-t.CODEWORD_SKEW_SIZE<=e&&e<=n+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,r,n){if(e.length===0)throw me.getFormatInstance();var a=1<<r+1,i=t.correctErrors(e,n,a);t.verifyCodewordCount(e,a);var o=Vse.decode(e,""+r);return o.setErrorsCorrected(i),o.setErasures(n.length),o},t.correctErrors=function(e,r,n){if(r!=null&&r.length>n/2+t.MAX_ERRORS||n<0||n>t.MAX_EC_CODEWORDS)throw Br.getChecksumInstance();return t.errorCorrection.decode(e,n,r)},t.verifyCodewordCount=function(e,r){if(e.length<4)throw me.getFormatInstance();var n=e[0];if(n>e.length)throw me.getFormatInstance();if(n===0)if(r<e.length)e[0]=e.length-r;else throw me.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var r=new Int32Array(8),n=0,a=r.length-1;!((e&1)!==n&&(n=e&1,a--,a<0));)r[a]++,e>>=1;return r},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var r=new uj,n=0;n<e.length;n++){r.format("Row %2d: ",n);for(var a=0;a<e[n].length;a++){var i=e[n][a];i.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",i.getValue()[0],i.getConfidence(i.getValue()[0]))}r.format("%n")}return r.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new Sse,t}(),zse=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dy=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=t.decode(e,r,!1);if(n==null||n.length===0||n[0]==null)throw Q.getNotFoundInstance();return n[0]},t.prototype.decodeMultiple=function(e,r){r===void 0&&(r=null);try{return t.decode(e,r,!0)}catch(n){throw n instanceof me||n instanceof Br?Q.getNotFoundInstance():n}},t.decode=function(e,r,n){var a,i,o=new Array,s=gse.detectMultiple(e,r,n);try{for(var l=zse(s.getPoints()),u=l.next();!u.done;u=l.next()){var d=u.value,f=Wse.decode(s.getBits(),d[4],d[5],d[6],d[7],t.getMinCodewordWidth(d),t.getMaxCodewordWidth(d)),h=new Fn(f.getText(),f.getRawBytes(),void 0,d,Le.PDF_417);h.putMetadata(En.ERROR_CORRECTION_LEVEL,f.getECLevel());var p=f.getOther();p!=null&&h.putMetadata(En.PDF417_EXTRA_METADATA,p),o.push(h)}}catch(v){a={error:v}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(a)throw a.error}}return o.map(function(v){return v})},t.getMaxWidth=function(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMinWidth=function(e,r){return e==null||r==null?st.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*pt.MODULES_IN_CODEWORD/pt.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*pt.MODULES_IN_CODEWORD/pt.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*pt.MODULES_IN_CODEWORD/pt.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*pt.MODULES_IN_CODEWORD/pt.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t}(),Hse=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),x3=function(t){Hse(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e}(wa),w3=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},UL=function(){function t(){}return t.prototype.decode=function(e,r){return this.setHints(r),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var r=e!=null&&e.get(tr.TRY_HARDER)!==void 0,n=e==null?null:e.get(tr.POSSIBLE_FORMATS),a=new Array;if(n!=null){var i=n.some(function(o){return o===Le.UPC_A||o===Le.UPC_E||o===Le.EAN_13||o===Le.EAN_8||o===Le.CODABAR||o===Le.CODE_39||o===Le.CODE_93||o===Le.CODE_128||o===Le.ITF||o===Le.RSS_14||o===Le.RSS_EXPANDED});i&&!r&&a.push(new xd(e)),n.includes(Le.QR_CODE)&&a.push(new uy),n.includes(Le.DATA_MATRIX)&&a.push(new cy),n.includes(Le.AZTEC)&&a.push(new sy),n.includes(Le.PDF_417)&&a.push(new dy),i&&r&&a.push(new xd(e))}a.length===0&&(r||a.push(new xd(e)),a.push(new uy),a.push(new cy),a.push(new sy),a.push(new dy),r&&a.push(new xd(e))),this.readers=a},t.prototype.reset=function(){var e,r;if(this.readers!==null)try{for(var n=w3(this.readers),a=n.next();!a.done;a=n.next()){var i=a.value;i.reset()}}catch(o){e={error:o}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var r,n;if(this.readers===null)throw new x3("No readers where selected, nothing can be read.");try{for(var a=w3(this.readers),i=a.next();!i.done;i=a.next()){var o=i.value;try{return o.decode(e,this.hints)}catch(s){if(s instanceof x3)continue}}}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}throw new Q("No MultiFormat Readers were able to detect the code.")},t}(),qse=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){qse(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=500);var a=this,i=new UL;return i.setHints(r),a=t.call(this,i,n)||this,a}return e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e})(lh);var Gse=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){Gse(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new dy,r)||this}return e})(lh);var Kse=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){Kse(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new uy,r)||this}return e})(lh);var xS;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",t[t.MIN_SIZE=4]="MIN_SIZE",t[t.MAX_SIZE=5]="MAX_SIZE",t[t.MARGIN=6]="MARGIN",t[t.PDF417_COMPACT=7]="PDF417_COMPACT",t[t.PDF417_COMPACTION=8]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=10]="AZTEC_LAYERS",t[t.QR_VERSION=11]="QR_VERSION",t[t.GS1_FORMAT=12]="GS1_FORMAT",t[t.FORCE_C40=13]="FORCE_C40"})(xS||(xS={}));const Ag=xS;var VL=function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Ll(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var r=this.cachedGenerators;if(e>=r.length)for(var n=r[r.length-1],a=this.field,i=r.length;i<=e;i++){var o=n.multiply(new Ll(a,Int32Array.from([1,a.exp(i-1+a.getGeneratorBase())])));r.push(o),n=o}return r[e]},t.prototype.encode=function(e,r){if(r===0)throw new Fe("No error correction bytes");var n=e.length-r;if(n<=0)throw new Fe("No data bytes provided");var a=this.buildGenerator(r),i=new Int32Array(n);er.arraycopy(e,0,i,0,n);var o=new Ll(this.field,i);o=o.multiplyByMonomial(r,1);for(var s=o.divide(a)[1],l=s.getCoefficients(),u=r-l.length,d=0;d<u;d++)e[n+d]=0;er.arraycopy(l,0,e,n+u,l.length)},t}(),cp=function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var r=0,n=e.getArray(),a=e.getWidth(),i=e.getHeight(),o=0;o<i-1;o++)for(var s=n[o],l=0;l<a-1;l++){var u=s[l];u===s[l+1]&&u===n[o+1][l]&&u===n[o+1][l+1]&&r++}return t.N2*r},t.applyMaskPenaltyRule3=function(e){for(var r=0,n=e.getArray(),a=e.getWidth(),i=e.getHeight(),o=0;o<i;o++)for(var s=0;s<a;s++){var l=n[o];s+6<a&&l[s]===1&&l[s+1]===0&&l[s+2]===1&&l[s+3]===1&&l[s+4]===1&&l[s+5]===0&&l[s+6]===1&&(t.isWhiteHorizontal(l,s-4,s)||t.isWhiteHorizontal(l,s+7,s+11))&&r++,o+6<i&&n[o][s]===1&&n[o+1][s]===0&&n[o+2][s]===1&&n[o+3][s]===1&&n[o+4][s]===1&&n[o+5][s]===0&&n[o+6][s]===1&&(t.isWhiteVertical(n,s,o-4,o)||t.isWhiteVertical(n,s,o+7,o+11))&&r++}return r*t.N3},t.isWhiteHorizontal=function(e,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(var a=r;a<n;a++)if(e[a]===1)return!1;return!0},t.isWhiteVertical=function(e,r,n,a){n=Math.max(n,0),a=Math.min(a,e.length);for(var i=n;i<a;i++)if(e[i][r]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var r=0,n=e.getArray(),a=e.getWidth(),i=e.getHeight(),o=0;o<i;o++)for(var s=n[o],l=0;l<a;l++)s[l]===1&&r++;var u=e.getHeight()*e.getWidth(),d=Math.floor(Math.abs(r*2-u)*10/u);return d*t.N4},t.getDataMaskBit=function(e,r,n){var a,i;switch(e){case 0:a=n+r&1;break;case 1:a=n&1;break;case 2:a=r%3;break;case 3:a=(n+r)%3;break;case 4:a=Math.floor(n/2)+Math.floor(r/3)&1;break;case 5:i=n*r,a=(i&1)+i%3;break;case 6:i=n*r,a=(i&1)+i%3&1;break;case 7:i=n*r,a=i%3+(n+r&1)&1;break;default:throw new Fe("Invalid mask pattern: "+e)}return a===0},t.applyMaskPenaltyRule1Internal=function(e,r){for(var n=0,a=r?e.getHeight():e.getWidth(),i=r?e.getWidth():e.getHeight(),o=e.getArray(),s=0;s<a;s++){for(var l=0,u=-1,d=0;d<i;d++){var f=r?o[s][d]:o[d][s];f===u?l++:(l>=5&&(n+=t.N1+(l-5)),l=1,u=f)}l>=5&&(n+=t.N1+(l-5))}return n},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t}(),Xse=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Yse=function(){function t(e,r){this.width=e,this.height=r;for(var n=new Array(r),a=0;a!==r;a++)n[a]=new Uint8Array(e);this.bytes=n}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,r){return this.bytes[r][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,r,n){this.bytes[r][e]=n},t.prototype.setBoolean=function(e,r,n){this.bytes[r][e]=n?1:0},t.prototype.clear=function(e){var r,n;try{for(var a=Xse(this.bytes),i=a.next();!i.done;i=a.next()){var o=i.value;en.fill(o,e)}}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(var n=0,a=this.height;n<a;++n)for(var i=this.bytes[n],o=r.bytes[n],s=0,l=this.width;s<l;++s)if(i[s]!==o[s])return!1;return!0},t.prototype.toString=function(){for(var e=new ot,r=0,n=this.height;r<n;++r){for(var a=this.bytes[r],i=0,o=this.width;i<o;++i)switch(a[i]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t}(),wS=function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new ot;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t}(),Zse=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),sr=function(t){Zse(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e}(wa),b3=function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,r,n,a,i){t.clearMatrix(i),t.embedBasicPatterns(n,i),t.embedTypeInfo(r,a,i),t.maybeEmbedVersionInfo(n,i),t.embedDataBits(e,a,i)},t.embedBasicPatterns=function(e,r){t.embedPositionDetectionPatternsAndSeparators(r),t.embedDarkDotAtLeftBottomCorner(r),t.maybeEmbedPositionAdjustmentPatterns(e,r),t.embedTimingPatterns(r)},t.embedTypeInfo=function(e,r,n){var a=new hn;t.makeTypeInfoBits(e,r,a);for(var i=0,o=a.getSize();i<o;++i){var s=a.get(a.getSize()-1-i),l=t.TYPE_INFO_COORDINATES[i],u=l[0],d=l[1];if(n.setBoolean(u,d,s),i<8){var f=n.getWidth()-i-1,h=8;n.setBoolean(f,h,s)}else{var f=8,h=n.getHeight()-7+(i-8);n.setBoolean(f,h,s)}}},t.maybeEmbedVersionInfo=function(e,r){if(!(e.getVersionNumber()<7)){var n=new hn;t.makeVersionInfoBits(e,n);for(var a=6*3-1,i=0;i<6;++i)for(var o=0;o<3;++o){var s=n.get(a);a--,r.setBoolean(i,r.getHeight()-11+o,s),r.setBoolean(r.getHeight()-11+o,i,s)}}},t.embedDataBits=function(e,r,n){for(var a=0,i=-1,o=n.getWidth()-1,s=n.getHeight()-1;o>0;){for(o===6&&(o-=1);s>=0&&s<n.getHeight();){for(var l=0;l<2;++l){var u=o-l;if(t.isEmpty(n.get(u,s))){var d=void 0;a<e.getSize()?(d=e.get(a),++a):d=!1,r!==255&&cp.getDataMaskBit(r,u,s)&&(d=!d),n.setBoolean(u,s,d)}}s+=i}i=-i,s+=i,o-=2}if(a!==e.getSize())throw new sr("Not all bits consumed: "+a+"/"+e.getSize())},t.findMSBSet=function(e){return 32-st.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,r){if(r===0)throw new Fe("0 polynomial");var n=t.findMSBSet(r);for(e<<=n-1;t.findMSBSet(e)>=n;)e^=r<<t.findMSBSet(e)-n;return e},t.makeTypeInfoBits=function(e,r,n){if(!wS.isValidMaskPattern(r))throw new sr("Invalid mask pattern");var a=e.getBits()<<3|r;n.appendBits(a,5);var i=t.calculateBCHCode(a,t.TYPE_INFO_POLY);n.appendBits(i,10);var o=new hn;if(o.appendBits(t.TYPE_INFO_MASK_PATTERN,15),n.xor(o),n.getSize()!==15)throw new sr("should not happen but we got: "+n.getSize())},t.makeVersionInfoBits=function(e,r){r.appendBits(e.getVersionNumber(),6);var n=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(r.appendBits(n,12),r.getSize()!==18)throw new sr("should not happen but we got: "+r.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var r=8;r<e.getWidth()-8;++r){var n=(r+1)%2;t.isEmpty(e.get(r,6))&&e.setNumber(r,6,n),t.isEmpty(e.get(6,r))&&e.setNumber(6,r,n)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new sr;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,r,n){for(var a=0;a<8;++a){if(!t.isEmpty(n.get(e+a,r)))throw new sr;n.setNumber(e+a,r,0)}},t.embedVerticalSeparationPattern=function(e,r,n){for(var a=0;a<7;++a){if(!t.isEmpty(n.get(e,r+a)))throw new sr;n.setNumber(e,r+a,0)}},t.embedPositionAdjustmentPattern=function(e,r,n){for(var a=0;a<5;++a)for(var i=t.POSITION_ADJUSTMENT_PATTERN[a],o=0;o<5;++o)n.setNumber(e+o,r+a,i[o])},t.embedPositionDetectionPattern=function(e,r,n){for(var a=0;a<7;++a)for(var i=t.POSITION_DETECTION_PATTERN[a],o=0;o<7;++o)n.setNumber(e+o,r+a,i[o])},t.embedPositionDetectionPatternsAndSeparators=function(e){var r=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-r,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-r,e);var n=8;t.embedHorizontalSeparationPattern(0,n-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var a=7;t.embedVerticalSeparationPattern(a,0,e),t.embedVerticalSeparationPattern(e.getHeight()-a-1,0,e),t.embedVerticalSeparationPattern(a,e.getHeight()-a,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,r){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,a=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],i=0,o=a.length;i!==o;i++){var s=a[i];if(s>=0)for(var l=0;l!==o;l++){var u=a[l];u>=0&&t.isEmpty(r.get(u,s))&&t.embedPositionAdjustmentPattern(u-2,s-2,r)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t}(),Qse=function(){function t(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t}(),_3=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.calculateMaskPenalty=function(e){return cp.applyMaskPenaltyRule1(e)+cp.applyMaskPenaltyRule2(e)+cp.applyMaskPenaltyRule3(e)+cp.applyMaskPenaltyRule4(e)},t.encode=function(e,r,n){n===void 0&&(n=null);var a=t.DEFAULT_BYTE_MODE_ENCODING,i=n!==null&&n.get(Ag.CHARACTER_SET)!==void 0;i&&(a=n.get(Ag.CHARACTER_SET).toString());var o=this.chooseMode(e,a),s=new hn;if(o===cr.BYTE&&(i||t.DEFAULT_BYTE_MODE_ENCODING!==a)){var l=Jr.getCharacterSetECIByName(a);l!==void 0&&this.appendECI(l,s)}this.appendModeInfo(o,s);var u=new hn;this.appendBytes(e,o,u,a);var d;if(n!==null&&n.get(Ag.QR_VERSION)!==void 0){var f=Number.parseInt(n.get(Ag.QR_VERSION).toString(),10);d=Zc.getVersionForNumber(f);var h=this.calculateBitsNeeded(o,s,u,d);if(!this.willFit(h,d,r))throw new sr("Data too big for requested version")}else d=this.recommendVersion(r,o,s,u);var p=new hn;p.appendBitArray(s);var v=o===cr.BYTE?u.getSizeInBytes():e.length;this.appendLengthInfo(v,d,o,p),p.appendBitArray(u);var m=d.getECBlocksForLevel(r),g=d.getTotalCodewords()-m.getTotalECCodewords();this.terminateBits(g,p);var x=this.interleaveWithECBytes(p,d.getTotalCodewords(),g,m.getNumBlocks()),y=new wS;y.setECLevel(r),y.setMode(o),y.setVersion(d);var w=d.getDimensionForVersion(),_=new Yse(w,w),S=this.chooseMaskPattern(x,r,d,_);return y.setMaskPattern(S),b3.buildMatrix(x,r,d,S,_),y.setMatrix(_),y},t.recommendVersion=function(e,r,n,a){var i=this.calculateBitsNeeded(r,n,a,Zc.getVersionForNumber(1)),o=this.chooseVersion(i,e),s=this.calculateBitsNeeded(r,n,a,o);return this.chooseVersion(s,e)},t.calculateBitsNeeded=function(e,r,n,a){return r.getSize()+e.getCharacterCountBits(a)+n.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,r){if(r===void 0&&(r=null),Jr.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return cr.KANJI;for(var n=!1,a=!1,i=0,o=e.length;i<o;++i){var s=e.charAt(i);if(t.isDigit(s))n=!0;else if(this.getAlphanumericCode(s.charCodeAt(0))!==-1)a=!0;else return cr.BYTE}return a?cr.ALPHANUMERIC:n?cr.NUMERIC:cr.BYTE},t.isOnlyDoubleByteKanji=function(e){var r;try{r=vi.encode(e,Jr.SJIS)}catch{return!1}var n=r.length;if(n%2!==0)return!1;for(var a=0;a<n;a+=2){var i=r[a]&255;if((i<129||i>159)&&(i<224||i>235))return!1}return!0},t.chooseMaskPattern=function(e,r,n,a){for(var i=Number.MAX_SAFE_INTEGER,o=-1,s=0;s<wS.NUM_MASK_PATTERNS;s++){b3.buildMatrix(e,r,n,s,a);var l=this.calculateMaskPenalty(a);l<i&&(i=l,o=s)}return o},t.chooseVersion=function(e,r){for(var n=1;n<=40;n++){var a=Zc.getVersionForNumber(n);if(t.willFit(e,a,r))return a}throw new sr("Data too big")},t.willFit=function(e,r,n){var a=r.getTotalCodewords(),i=r.getECBlocksForLevel(n),o=i.getTotalECCodewords(),s=a-o,l=(e+7)/8;return s>=l},t.terminateBits=function(e,r){var n=e*8;if(r.getSize()>n)throw new sr("data bits cannot fit in the QR Code"+r.getSize()+" > "+n);for(var a=0;a<4&&r.getSize()<n;++a)r.appendBit(!1);var i=r.getSize()&7;if(i>0)for(var a=i;a<8;a++)r.appendBit(!1);for(var o=e-r.getSizeInBytes(),a=0;a<o;++a)r.appendBits(a&1?17:236,8);if(r.getSize()!==n)throw new sr("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,r,n,a,i,o){if(a>=n)throw new sr("Block ID too large");var s=e%n,l=n-s,u=Math.floor(e/n),d=u+1,f=Math.floor(r/n),h=f+1,p=u-f,v=d-h;if(p!==v)throw new sr("EC bytes mismatch");if(n!==l+s)throw new sr("RS blocks mismatch");if(e!==(f+p)*l+(h+v)*s)throw new sr("Total bytes mismatch");a<l?(i[0]=f,o[0]=p):(i[0]=h,o[0]=v)},t.interleaveWithECBytes=function(e,r,n,a){var i,o,s,l;if(e.getSizeInBytes()!==n)throw new sr("Number of bits and data bytes does not match");for(var u=0,d=0,f=0,h=new Array,p=0;p<a;++p){var v=new Int32Array(1),m=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(r,n,a,p,v,m);var g=v[0],x=new Uint8Array(g);e.toBytes(8*u,x,0,g);var y=t.generateECBytes(x,m[0]);h.push(new Qse(x,y)),d=Math.max(d,g),f=Math.max(f,y.length),u+=v[0]}if(n!==u)throw new sr("Data bytes does not match offset");for(var w=new hn,p=0;p<d;++p)try{for(var _=(i=void 0,_3(h)),S=_.next();!S.done;S=_.next()){var C=S.value,x=C.getDataBytes();p<x.length&&w.appendBits(x[p],8)}}catch(T){i={error:T}}finally{try{S&&!S.done&&(o=_.return)&&o.call(_)}finally{if(i)throw i.error}}for(var p=0;p<f;++p)try{for(var E=(s=void 0,_3(h)),A=E.next();!A.done;A=E.next()){var C=A.value,y=C.getErrorCorrectionBytes();p<y.length&&w.appendBits(y[p],8)}}catch(T){s={error:T}}finally{try{A&&!A.done&&(l=E.return)&&l.call(E)}finally{if(s)throw s.error}}if(r!==w.getSizeInBytes())throw new sr("Interleaving error: "+r+" and "+w.getSizeInBytes()+" differ.");return w},t.generateECBytes=function(e,r){for(var n=e.length,a=new Int32Array(n+r),i=0;i<n;i++)a[i]=e[i]&255;new VL(fa.QR_CODE_FIELD_256).encode(a,r);for(var o=new Uint8Array(r),i=0;i<r;i++)o[i]=a[n+i];return o},t.appendModeInfo=function(e,r){r.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,r,n,a){var i=n.getCharacterCountBits(r);if(e>=1<<i)throw new sr(e+" is bigger than "+((1<<i)-1));a.appendBits(e,i)},t.appendBytes=function(e,r,n,a){switch(r){case cr.NUMERIC:t.appendNumericBytes(e,n);break;case cr.ALPHANUMERIC:t.appendAlphanumericBytes(e,n);break;case cr.BYTE:t.append8BitBytes(e,n,a);break;case cr.KANJI:t.appendKanjiBytes(e,n);break;default:throw new sr("Invalid mode: "+r)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var r=t.getDigit(e);return r>=0&&r<=9},t.appendNumericBytes=function(e,r){for(var n=e.length,a=0;a<n;){var i=t.getDigit(e.charAt(a));if(a+2<n){var o=t.getDigit(e.charAt(a+1)),s=t.getDigit(e.charAt(a+2));r.appendBits(i*100+o*10+s,10),a+=3}else if(a+1<n){var o=t.getDigit(e.charAt(a+1));r.appendBits(i*10+o,7),a+=2}else r.appendBits(i,4),a++}},t.appendAlphanumericBytes=function(e,r){for(var n=e.length,a=0;a<n;){var i=t.getAlphanumericCode(e.charCodeAt(a));if(i===-1)throw new sr;if(a+1<n){var o=t.getAlphanumericCode(e.charCodeAt(a+1));if(o===-1)throw new sr;r.appendBits(i*45+o,11),a+=2}else r.appendBits(i,6),a++}},t.append8BitBytes=function(e,r,n){var a;try{a=vi.encode(e,n)}catch(l){throw new sr(l)}for(var i=0,o=a.length;i!==o;i++){var s=a[i];r.appendBits(s,8)}},t.appendKanjiBytes=function(e,r){var n;try{n=vi.encode(e,Jr.SJIS)}catch(f){throw new sr(f)}for(var a=n.length,i=0;i<a;i+=2){var o=n[i]&255,s=n[i+1]&255,l=o<<8&4294967295|s,u=-1;if(l>=33088&&l<=40956?u=l-33088:l>=57408&&l<=60351&&(u=l-49472),u===-1)throw new sr("Invalid byte sequence");var d=(u>>8)*192+(u&255);r.appendBits(d,13)}},t.appendECI=function(e,r){r.appendBits(cr.ECI.getBits(),4),r.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=Jr.UTF8.getName(),t})();var Jse=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){Jse(e,t);function e(r,n,a,i,o,s,l,u){var d=t.call(this,s,l)||this;if(d.yuvData=r,d.dataWidth=n,d.dataHeight=a,d.left=i,d.top=o,i+s>n||o+l>a)throw new Fe("Crop rectangle does not fit within image data.");return u&&d.reverseHorizontal(s,l),d}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Fe("Requested row is outside the image: "+r);var a=this.getWidth();(n==null||n.length<a)&&(n=new Uint8ClampedArray(a));var i=(r+this.top)*this.dataWidth+this.left;return er.arraycopy(this.yuvData,i,n,0,a),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.yuvData;var a=r*n,i=new Uint8ClampedArray(a),o=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return er.arraycopy(this.yuvData,o,i,0,a),i;for(var s=0;s<n;s++){var l=s*r;er.arraycopy(this.yuvData,o,i,l,r),o+=this.dataWidth}return i},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,a,i){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+n,a,i,!1)},e.prototype.renderThumbnail=function(){for(var r=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(r*n),i=this.yuvData,o=this.top*this.dataWidth+this.left,s=0;s<n;s++){for(var l=s*r,u=0;u<r;u++){var d=i[o+u*e.THUMBNAIL_SCALE_FACTOR]&255;a[l+u]=4278190080|d*65793}o+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return a},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(r,n){for(var a=this.yuvData,i=0,o=this.top*this.dataWidth+this.left;i<n;i++,o+=this.dataWidth)for(var s=o+r/2,l=o,u=o+r-1;l<s;l++,u--){var d=a[l];a[l]=a[u],a[u]=d}},e.prototype.invert=function(){return new mx(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(jv);var ele=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){ele(e,t);function e(r,n,a,i,o,s,l){var u=t.call(this,n,a)||this;if(u.dataWidth=i,u.dataHeight=o,u.left=s,u.top=l,r.BYTES_PER_ELEMENT===4){for(var d=n*a,f=new Uint8ClampedArray(d),h=0;h<d;h++){var p=r[h],v=p>>16&255,m=p>>7&510,g=p&255;f[h]=(v+m+g)/4&255}u.luminances=f}else u.luminances=r;if(i===void 0&&(u.dataWidth=n),o===void 0&&(u.dataHeight=a),s===void 0&&(u.left=0),l===void 0&&(u.top=0),u.left+n>u.dataWidth||u.top+a>u.dataHeight)throw new Fe("Crop rectangle does not fit within image data.");return u}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Fe("Requested row is outside the image: "+r);var a=this.getWidth();(n==null||n.length<a)&&(n=new Uint8ClampedArray(a));var i=(r+this.top)*this.dataWidth+this.left;return er.arraycopy(this.luminances,i,n,0,a),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.luminances;var a=r*n,i=new Uint8ClampedArray(a),o=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return er.arraycopy(this.luminances,o,i,0,a),i;for(var s=0;s<n;s++){var l=s*r;er.arraycopy(this.luminances,o,i,l,r),o+=this.dataWidth}return i},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,a,i){return new e(this.luminances,a,i,this.dataWidth,this.dataHeight,this.left+r,this.top+n)},e.prototype.invert=function(){return new mx(this)},e})(jv);var tle=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),rle=function(t){tle(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(r){return this.getCharacterSetECIByName(r)},e}(Jr),nle=function(){function t(){}return t.ISO_8859_1=Jr.ISO8859_1,t}(),bS,ale=301,ile=function(t,e){for(var r=1,n=0;n<255;n++)e[n]=r,t[r]=n,r*=2,r>=256&&(r^=ale);return{LOG:t,ALOG:e}};bS=ile([],[]),bS.LOG;bS.ALOG;var S3;(function(t){t[t.FORCE_NONE=0]="FORCE_NONE",t[t.FORCE_SQUARE=1]="FORCE_SQUARE",t[t.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(S3||(S3={}));var C3=129,WL=230,ole=231,sle=235,lle=236,cle=237,ule=238,dle=239,fle=240,Lb=254,hle=254,E3="[)>05",A3="[)>06",j3="",Lt=0,_n=1,Wn=2,Xr=3,cn=4,Pn=5,ple=function(){function t(){}return t.prototype.getEncodingMode=function(){return Lt},t.prototype.encode=function(e){var r=Ji.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(r>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var n=e.getCurrentChar(),a=Ji.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(a!==this.getEncodingMode())switch(a){case Pn:e.writeCodeword(ole),e.signalEncoderChange(Pn);return;case _n:e.writeCodeword(WL),e.signalEncoderChange(_n);return;case Xr:e.writeCodeword(ule),e.signalEncoderChange(Xr);break;case Wn:e.writeCodeword(dle),e.signalEncoderChange(Wn);break;case cn:e.writeCodeword(fle),e.signalEncoderChange(cn);break;default:throw new Error("Illegal mode: "+a)}else Ji.isExtendedASCII(n)?(e.writeCodeword(sle),e.writeCodeword(n-128+1),e.pos++):(e.writeCodeword(n+1),e.pos++)}},t.prototype.encodeASCIIDigits=function(e,r){if(Ji.isDigit(e)&&Ji.isDigit(r)){var n=(e-48)*10+(r-48);return n+130}throw new Error("not digits: "+e+r)},t}(),mle=function(){function t(){}return t.prototype.getEncodingMode=function(){return Pn},t.prototype.encode=function(e){var r=new ot;for(r.append(0);e.hasMoreCharacters();){var n=e.getCurrentChar();r.append(n),e.pos++;var a=Ji.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(a!==this.getEncodingMode()){e.signalEncoderChange(Lt);break}}var i=r.length()-1,o=1,s=e.getCodewordCount()+i+o;e.updateSymbolInfo(s);var l=e.getSymbolInfo().getDataCapacity()-s>0;if(e.hasMoreCharacters()||l)if(i<=249)r.setCharAt(0,ft.getCharAt(i));else if(i<=1555)r.setCharAt(0,ft.getCharAt(Math.floor(i/250)+249)),r.insert(1,ft.getCharAt(i%250));else throw new Error("Message length not in valid ranges: "+i);for(var u=0,n=r.length();u<n;u++)e.writeCodeword(this.randomize255State(r.charAt(u).charCodeAt(0),e.getCodewordCount()+1))},t.prototype.randomize255State=function(e,r){var n=149*r%255+1,a=e+n;return a<=255?a:a-256},t}(),dj=function(){function t(){}return t.prototype.getEncodingMode=function(){return _n},t.prototype.encodeMaximal=function(e){for(var r=new ot,n=0,a=e.pos,i=0;e.hasMoreCharacters();){var o=e.getCurrentChar();e.pos++,n=this.encodeChar(o,r),r.length()%3===0&&(a=e.pos,i=r.length())}if(i!==r.length()){var s=Math.floor(r.length()/3*2),l=Math.floor(e.getCodewordCount()+s+1);e.updateSymbolInfo(l);var u=e.getSymbolInfo().getDataCapacity()-l,d=Math.floor(r.length()%3);(d===2&&u!==2||d===1&&(n>3||u!==1))&&(e.pos=a)}r.length()>0&&e.writeCodeword(WL),this.handleEOD(e,r)},t.prototype.encode=function(e){for(var r=new ot;e.hasMoreCharacters();){var n=e.getCurrentChar();e.pos++;var a=this.encodeChar(n,r),i=Math.floor(r.length()/3)*2,o=e.getCodewordCount()+i;e.updateSymbolInfo(o);var s=e.getSymbolInfo().getDataCapacity()-o;if(!e.hasMoreCharacters()){var l=new ot;for(r.length()%3===2&&s!==2&&(a=this.backtrackOneCharacter(e,r,l,a));r.length()%3===1&&(a>3||s!==1);)a=this.backtrackOneCharacter(e,r,l,a);break}var u=r.length();if(u%3===0){var d=Ji.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(d!==this.getEncodingMode()){e.signalEncoderChange(Lt);break}}}this.handleEOD(e,r)},t.prototype.backtrackOneCharacter=function(e,r,n,a){var i=r.length(),o=r.toString().substring(0,i-a);r.setLengthToZero(),r.append(o),e.pos--;var s=e.getCurrentChar();return a=this.encodeChar(s,n),e.resetSymbolInfo(),a},t.prototype.writeNextTriplet=function(e,r){e.writeCodewords(this.encodeToCodewords(r.toString()));var n=r.toString().substring(3);r.setLengthToZero(),r.append(n)},t.prototype.handleEOD=function(e,r){var n=Math.floor(r.length()/3*2),a=r.length()%3,i=e.getCodewordCount()+n;e.updateSymbolInfo(i);var o=e.getSymbolInfo().getDataCapacity()-i;if(a===2){for(r.append("\0");r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(Lb)}else if(o===1&&a===1){for(;r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(Lb),e.pos--}else if(a===0){for(;r.length()>=3;)this.writeNextTriplet(e,r);(o>0||e.hasMoreCharacters())&&e.writeCodeword(Lb)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(Lt)},t.prototype.encodeChar=function(e,r){if(e===32)return r.append(3),1;if(e>=48&&e<=57)return r.append(e-48+4),1;if(e>=65&&e<=90)return r.append(e-65+14),1;if(e<32)return r.append(0),r.append(e),2;if(e<=47)return r.append(1),r.append(e-33),2;if(e<=64)return r.append(1),r.append(e-58+15),2;if(e<=95)return r.append(1),r.append(e-91+22),2;if(e<=127)return r.append(2),r.append(e-96),2;r.append("1");var n=2;return n+=this.encodeChar(e-128,r),n},t.prototype.encodeToCodewords=function(e){var r=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,n=r/256,a=r%256,i=new ot;return i.append(n),i.append(a),i.toString()},t}(),vle=function(){function t(){}return t.prototype.getEncodingMode=function(){return cn},t.prototype.encode=function(e){for(var r=new ot;e.hasMoreCharacters();){var n=e.getCurrentChar();this.encodeChar(n,r),e.pos++;var a=r.length();if(a>=4){e.writeCodewords(this.encodeToCodewords(r.toString()));var i=r.toString().substring(4);r.setLengthToZero(),r.append(i);var o=Ji.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){e.signalEncoderChange(Lt);break}}}r.append(ft.getCharAt(31)),this.handleEOD(e,r)},t.prototype.handleEOD=function(e,r){try{var n=r.length();if(n===0)return;if(n===1){e.updateSymbolInfo();var a=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),i=e.getRemainingCharacters();if(i>a&&(e.updateSymbolInfo(e.getCodewordCount()+1),a=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),i<=a&&a<=2)return}if(n>4)throw new Error("Count must not exceed 4");var o=n-1,s=this.encodeToCodewords(r.toString()),l=!e.hasMoreCharacters(),u=l&&o<=2;if(o<=2){e.updateSymbolInfo(e.getCodewordCount()+o);var a=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();a>=3&&(u=!1,e.updateSymbolInfo(e.getCodewordCount()+s.length))}u?(e.resetSymbolInfo(),e.pos-=o):e.writeCodewords(s)}finally{e.signalEncoderChange(Lt)}},t.prototype.encodeChar=function(e,r){e>=32&&e<=63?r.append(e):e>=64&&e<=94?r.append(ft.getCharAt(e-64)):Ji.illegalCharacter(ft.getCharAt(e))},t.prototype.encodeToCodewords=function(e){var r=e.length;if(r===0)throw new Error("StringBuilder must not be empty");var n=e.charAt(0).charCodeAt(0),a=r>=2?e.charAt(1).charCodeAt(0):0,i=r>=3?e.charAt(2).charCodeAt(0):0,o=r>=4?e.charAt(3).charCodeAt(0):0,s=(n<<18)+(a<<12)+(i<<6)+o,l=s>>16&255,u=s>>8&255,d=s&255,f=new ot;return f.append(l),r>=2&&f.append(u),r>=3&&f.append(d),f.toString()},t}(),gle=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),yle=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ct=function(){function t(e,r,n,a,i,o,s,l){s===void 0&&(s=0),l===void 0&&(l=0),this.rectangular=e,this.dataCapacity=r,this.errorCodewords=n,this.matrixWidth=a,this.matrixHeight=i,this.dataRegions=o,this.rsBlockData=s,this.rsBlockError=l}return t.lookup=function(e,r,n,a,i){var o,s;r===void 0&&(r=0),n===void 0&&(n=null),a===void 0&&(a=null),i===void 0&&(i=!0);try{for(var l=yle(wle),u=l.next();!u.done;u=l.next()){var d=u.value;if(!(r===1&&d.rectangular)&&!(r===2&&!d.rectangular)&&!(n!=null&&(d.getSymbolWidth()<n.getWidth()||d.getSymbolHeight()<n.getHeight()))&&!(a!=null&&(d.getSymbolWidth()>a.getWidth()||d.getSymbolHeight()>a.getHeight()))&&e<=d.dataCapacity)return d}}catch(f){o={error:f}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}if(i)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},t}(),xle=function(t){gle(e,t);function e(){return t.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(r){return r<=8?156:155},e}(Ct),wle=[new Ct(!1,3,5,8,8,1),new Ct(!1,5,7,10,10,1),new Ct(!0,5,7,16,6,1),new Ct(!1,8,10,12,12,1),new Ct(!0,10,11,14,6,2),new Ct(!1,12,12,14,14,1),new Ct(!0,16,14,24,10,1),new Ct(!1,18,14,16,16,1),new Ct(!1,22,18,18,18,1),new Ct(!0,22,18,16,10,2),new Ct(!1,30,20,20,20,1),new Ct(!0,32,24,16,14,2),new Ct(!1,36,24,22,22,1),new Ct(!1,44,28,24,24,1),new Ct(!0,49,28,22,14,2),new Ct(!1,62,36,14,14,4),new Ct(!1,86,42,16,16,4),new Ct(!1,114,48,18,18,4),new Ct(!1,144,56,20,20,4),new Ct(!1,174,68,22,22,4),new Ct(!1,204,84,24,24,4,102,42),new Ct(!1,280,112,14,14,16,140,56),new Ct(!1,368,144,16,16,16,92,36),new Ct(!1,456,192,18,18,16,114,48),new Ct(!1,576,224,20,20,16,144,56),new Ct(!1,696,272,22,22,16,174,68),new Ct(!1,816,336,24,24,16,136,56),new Ct(!1,1050,408,18,18,36,175,68),new Ct(!1,1304,496,20,20,36,163,62),new xle],ble=function(){function t(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var r=e.split("").map(function(s){return s.charCodeAt(0)}),n=new ot,a=0,i=r.length;a<i;a++){var o=String.fromCharCode(r[a]&255);if(o==="?"&&e.charAt(a)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(o)}this.msg=n.toString(),this.shape=0,this.codewords=new ot,this.newEncoding=-1}return t.prototype.setSymbolShape=function(e){this.shape=e},t.prototype.setSizeConstraints=function(e,r){this.minSize=e,this.maxSize=r},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(e){this.codewords.append(e)},t.prototype.writeCodeword=function(e){this.codewords.append(e)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(e){this.newEncoding=e},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=Ct.lookup(e,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t}(),_le=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Sle=function(t){_le(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Xr},e.prototype.encode=function(r){for(var n=new ot;r.hasMoreCharacters();){var a=r.getCurrentChar();r.pos++,this.encodeChar(a,n);var i=n.length();if(i%3===0){this.writeNextTriplet(r,n);var o=Ji.lookAheadTest(r.getMessage(),r.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){r.signalEncoderChange(Lt);break}}}this.handleEOD(r,n)},e.prototype.encodeChar=function(r,n){switch(r){case 13:n.append(0);break;case 42:n.append(1);break;case 62:n.append(2);break;case 32:n.append(3);break;default:r>=48&&r<=57?n.append(r-48+4):r>=65&&r<=90?n.append(r-65+14):Ji.illegalCharacter(ft.getCharAt(r));break}return 1},e.prototype.handleEOD=function(r,n){r.updateSymbolInfo();var a=r.getSymbolInfo().getDataCapacity()-r.getCodewordCount(),i=n.length();r.pos-=i,(r.getRemainingCharacters()>1||a>1||r.getRemainingCharacters()!==a)&&r.writeCodeword(hle),r.getNewEncoding()<0&&r.signalEncoderChange(Lt)},e}(dj),Cle=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ele=function(t){Cle(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Wn},e.prototype.encodeChar=function(r,n){if(r===32)return n.append(3),1;if(r>=48&&r<=57)return n.append(r-48+4),1;if(r>=97&&r<=122)return n.append(r-97+14),1;if(r<32)return n.append(0),n.append(r),2;if(r<=47)return n.append(1),n.append(r-33),2;if(r<=64)return n.append(1),n.append(r-58+15),2;if(r>=91&&r<=95)return n.append(1),n.append(r-91+22),2;if(r===96)return n.append(2),n.append(0),2;if(r<=90)return n.append(2),n.append(r-65+1),2;if(r<=127)return n.append(2),n.append(r-123+27),2;n.append("1");var a=2;return a+=this.encodeChar(r-128,n),a},e}(dj),Ji=function(){function t(){}return t.randomize253State=function(e){var r=149*e%253+1,n=C3+r;return n<=254?n:n-254},t.encodeHighLevel=function(e,r,n,a,i){r===void 0&&(r=0),n===void 0&&(n=null),a===void 0&&(a=null),i===void 0&&(i=!1);var o=new dj,s=[new ple,o,new Ele,new Sle,new vle,new mle],l=new ble(e);l.setSymbolShape(r),l.setSizeConstraints(n,a),e.startsWith(E3)&&e.endsWith(j3)?(l.writeCodeword(lle),l.setSkipAtEnd(2),l.pos+=E3.length):e.startsWith(A3)&&e.endsWith(j3)&&(l.writeCodeword(cle),l.setSkipAtEnd(2),l.pos+=A3.length);var u=Lt;for(i&&(o.encodeMaximal(l),u=l.getNewEncoding(),l.resetEncoderSignal());l.hasMoreCharacters();)s[u].encode(l),l.getNewEncoding()>=0&&(u=l.getNewEncoding(),l.resetEncoderSignal());var d=l.getCodewordCount();l.updateSymbolInfo();var f=l.getSymbolInfo().getDataCapacity();d<f&&u!==Lt&&u!==Pn&&u!==cn&&l.writeCodeword("");var h=l.getCodewords();for(h.length()<f&&h.append(C3);h.length()<f;)h.append(this.randomize253State(h.length()+1));return l.getCodewords().toString()},t.lookAheadTest=function(e,r,n){var a=this.lookAheadTestIntern(e,r,n);if(n===Xr&&a===Xr){for(var i=Math.min(r+3,e.length),o=r;o<i;o++)if(!this.isNativeX12(e.charCodeAt(o)))return Lt}else if(n===cn&&a===cn){for(var i=Math.min(r+4,e.length),o=r;o<i;o++)if(!this.isNativeEDIFACT(e.charCodeAt(o)))return Lt}return a},t.lookAheadTestIntern=function(e,r,n){if(r>=e.length)return n;var a;n===Lt?a=[0,1,1,1,1,1.25]:(a=[1,2,2,2,2,2.25],a[n]=0);for(var i=0,o=new Uint8Array(6),s=[];;){if(r+i===e.length){en.fill(o,0),en.fill(s,0);var l=this.findMinimums(a,s,st.MAX_VALUE,o),u=this.getMinimumCount(o);if(s[Lt]===l)return Lt;if(u===1){if(o[Pn]>0)return Pn;if(o[cn]>0)return cn;if(o[Wn]>0)return Wn;if(o[Xr]>0)return Xr}return _n}var d=e.charCodeAt(r+i);if(i++,this.isDigit(d)?a[Lt]+=.5:this.isExtendedASCII(d)?(a[Lt]=Math.ceil(a[Lt]),a[Lt]+=2):(a[Lt]=Math.ceil(a[Lt]),a[Lt]++),this.isNativeC40(d)?a[_n]+=2/3:this.isExtendedASCII(d)?a[_n]+=8/3:a[_n]+=4/3,this.isNativeText(d)?a[Wn]+=2/3:this.isExtendedASCII(d)?a[Wn]+=8/3:a[Wn]+=4/3,this.isNativeX12(d)?a[Xr]+=2/3:this.isExtendedASCII(d)?a[Xr]+=13/3:a[Xr]+=10/3,this.isNativeEDIFACT(d)?a[cn]+=3/4:this.isExtendedASCII(d)?a[cn]+=17/4:a[cn]+=13/4,this.isSpecialB256(d)?a[Pn]+=4:a[Pn]++,i>=4){if(en.fill(o,0),en.fill(s,0),this.findMinimums(a,s,st.MAX_VALUE,o),s[Lt]<this.min(s[Pn],s[_n],s[Wn],s[Xr],s[cn]))return Lt;if(s[Pn]<s[Lt]||s[Pn]+1<this.min(s[_n],s[Wn],s[Xr],s[cn]))return Pn;if(s[cn]+1<this.min(s[Pn],s[_n],s[Wn],s[Xr],s[Lt]))return cn;if(s[Wn]+1<this.min(s[Pn],s[_n],s[cn],s[Xr],s[Lt]))return Wn;if(s[Xr]+1<this.min(s[Pn],s[_n],s[cn],s[Wn],s[Lt]))return Xr;if(s[_n]+1<this.min(s[Lt],s[Pn],s[cn],s[Wn])){if(s[_n]<s[Xr])return _n;if(s[_n]===s[Xr]){for(var f=r+i+1;f<e.length;){var h=e.charCodeAt(f);if(this.isX12TermSep(h))return Xr;if(!this.isNativeX12(h))break;f++}return _n}}}}},t.min=function(e,r,n,a,i){var o=Math.min(e,Math.min(r,Math.min(n,a)));return i===void 0?o:Math.min(o,i)},t.findMinimums=function(e,r,n,a){for(var i=0;i<6;i++){var o=r[i]=Math.ceil(e[i]);n>o&&(n=o,en.fill(a,0)),n===o&&(a[i]=a[i]+1)}return n},t.getMinimumCount=function(e){for(var r=0,n=0;n<6;n++)r+=e[n];return r||0},t.isDigit=function(e){return e>=48&&e<=57},t.isExtendedASCII=function(e){return e>=128&&e<=255},t.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},t.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},t.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},t.isX12TermSep=function(e){return e===13||e===42||e===62},t.isNativeEDIFACT=function(e){return e>=32&&e<=94},t.isSpecialB256=function(e){return!1},t.determineConsecutiveDigitCount=function(e,r){r===void 0&&(r=0);for(var n=e.length,a=r;a<n&&this.isDigit(e.charCodeAt(a));)a++;return a-r},t.illegalCharacter=function(e){var r=st.toHexString(e.charCodeAt(0));throw r="0000".substring(0,4-r.length)+r,new Error("Illegal character: "+e+" (0x"+r+")")},t}(),Fb=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},N3=function(){function t(e){this.charset=e,this.name=e.name}return t.prototype.canEncode=function(e){try{return vi.encode(e,this.charset)!=null}catch{return!1}},t}(),Ale=function(){function t(e,r,n){var a,i,o,s,l,u;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(j){return new N3(rle.forName(j))}),this.encoders=[];var d=[];d.push(new N3(nle.ISO_8859_1));for(var f=r!=null&&r.name.startsWith("UTF"),h=0;h<e.length;h++){var p=!1;try{for(var v=(a=void 0,Fb(d)),m=v.next();!m.done;m=v.next()){var g=m.value,x=e.charAt(h),y=x.charCodeAt(0);if(y===n||g.canEncode(x)){p=!0;break}}}catch(j){a={error:j}}finally{try{m&&!m.done&&(i=v.return)&&i.call(v)}finally{if(a)throw a.error}}if(!p)try{for(var w=(o=void 0,Fb(this.ENCODERS)),_=w.next();!_.done;_=w.next()){var g=_.value;if(g.canEncode(e.charAt(h))){d.push(g),p=!0;break}}}catch(j){o={error:j}}finally{try{_&&!_.done&&(s=w.return)&&s.call(w)}finally{if(o)throw o.error}}p||(f=!0)}if(d.length===1&&!f)this.encoders=[d[0]];else{this.encoders=[];var S=0;try{for(var C=Fb(d),E=C.next();!E.done;E=C.next()){var g=E.value;this.encoders[S++]=g}}catch(j){l={error:j}}finally{try{E&&!E.done&&(u=C.return)&&u.call(C)}finally{if(l)throw l.error}}}var A=-1;if(r!=null){for(var h=0;h<this.encoders.length;h++)if(this.encoders[h]!=null&&r.name===this.encoders[h].name){A=h;break}}this.priorityEncoderIndex=A}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},t.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},t.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return!0},t.prototype.encode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return vi.encode(ft.getCharAt(e),this.encoders[r].name)},t}(),jle=3,Nle=function(){function t(e,r,n){this.fnc1=n;var a=new Ale(e,r,n);if(a.length()===1)for(var i=0;i<this.bytes.length;i++){var o=e.charAt(i).charCodeAt(0);this.bytes[i]=o===n?1e3:o}else this.bytes=this.encodeMinimally(e,a,n)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(e,r){if(e+r-1>=this.bytes.length)return!1;for(var n=0;n<r;n++)if(this.isECI(e+n))return!1;return!0},t.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},t.prototype.subSequence=function(e,r){if(e<0||e>r||r>this.length())throw new Error(""+e);for(var n=new ot,a=e;a<r;a++){if(this.isECI(a))throw new Error("value at "+a+" is not a character but an ECI");n.append(this.charAt(a))}return n.toString()},t.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},t.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},t.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},t.prototype.addEdge=function(e,r,n){(e[r][n.encoderIndex]==null||e[r][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(e[r][n.encoderIndex]=n)},t.prototype.addEdges=function(e,r,n,a,i,o){var s=e.charAt(a).charCodeAt(0),l=0,u=r.length();r.getPriorityEncoderIndex()>=0&&(s===o||r.canEncode(s,r.getPriorityEncoderIndex()))&&(l=r.getPriorityEncoderIndex(),u=l+1);for(var d=l;d<u;d++)(s===o||r.canEncode(s,d))&&this.addEdge(n,a+1,new O3(s,r,d,i,o))},t.prototype.encodeMinimally=function(e,r,n){var a=e.length,i=new O3[a+1][r.length()];this.addEdges(e,r,i,0,null,n);for(var o=1;o<=a;o++){for(var s=0;s<r.length();s++)i[o][s]!=null&&o<a&&this.addEdges(e,r,i,o,i[o][s],n);for(var s=0;s<r.length();s++)i[o-1][s]=null}for(var l=-1,u=st.MAX_VALUE,s=0;s<r.length();s++)if(i[a][s]!=null){var d=i[a][s];d.cachedTotalSize<u&&(u=d.cachedTotalSize,l=s)}if(l<0)throw new Error('Failed to encode "'+e+'"');for(var f=[],h=i[a][l];h!=null;){if(h.isFNC1())f.unshift(1e3);else for(var p=r.encode(h.c,h.encoderIndex),o=p.length-1;o>=0;o--)f.unshift(p[o]&255);var v=h.previous===null?0:h.previous.encoderIndex;v!==h.encoderIndex&&f.unshift(256+r.getECIValue(h.encoderIndex)),h=h.previous}for(var m=[],o=0;o<m.length;o++)m[o]=f[o];return m},t}(),O3=function(){function t(e,r,n,a,i){this.c=e,this.encoderSet=r,this.encoderIndex=n,this.previous=a,this.fnc1=i,this.c=e===i?1e3:e;var o=this.isFNC1()?1:r.encode(e,n).length,s=a===null?0:a.encoderIndex;s!==n&&(o+=jle),a!=null&&(o+=a.cachedTotalSize),this.cachedTotalSize=o}return t.prototype.isFNC1=function(){return this.c===1e3},t}(),Ole=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var T3;(function(t){t[t.ASCII=0]="ASCII",t[t.C40=1]="C40",t[t.TEXT=2]="TEXT",t[t.X12=3]="X12",t[t.EDF=4]="EDF",t[t.B256=5]="B256"})(T3||(T3={}));(function(t){Ole(e,t);function e(r,n,a,i,o){var s=t.call(this,r,n,a)||this;return s.shape=i,s.macroId=o,s}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(Nle);var Tle=function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t}(),P3=function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,r){return e.sort(r)[0]},t}(),Ple=function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t}(),kle=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fj=function(t){kle(e,t);function e(r,n,a){var i=t.call(this,r)||this;return i.value=n,i.bitCount=a,i}return e.prototype.appendTo=function(r,n){r.appendBits(this.value,this.bitCount)},e.prototype.add=function(r,n){return new e(this,r,n)},e.prototype.addBinaryShift=function(r,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,r,n)},e.prototype.toString=function(){var r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+st.toBinaryString(r|1<<this.bitCount).substring(1)+">"},e}(Ple),Ile=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Rle=function(t){Ile(e,t);function e(r,n,a){var i=t.call(this,r,0,0)||this;return i.binaryShiftStart=n,i.binaryShiftByteCount=a,i}return e.prototype.appendTo=function(r,n){for(var a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):a===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(n[this.binaryShiftStart+a],8)},e.prototype.addBinaryShift=function(r,n){return new e(this,r,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(fj);function Dle(t,e,r){return new Rle(t,e,r)}function Vh(t,e,r){return new fj(t,e,r)}var Mle=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Fl=0,fy=1,fi=2,zL=3,No=4,$le=new fj(null,0,0),Bb=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],Lle=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function Fle(t){var e,r;try{for(var n=Lle(t),a=n.next();!a.done;a=n.next()){var i=a.value;en.fill(i,-1)}}catch(o){e={error:o}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return t[Fl][No]=0,t[fy][No]=0,t[fy][Fl]=28,t[zL][No]=0,t[fi][No]=0,t[fi][Fl]=15,t}var HL=Fle(en.createInt32Array(6,6)),Ble=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ule=function(){function t(e,r,n,a){this.token=e,this.mode=r,this.binaryShiftByteCount=n,this.bitCount=a}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,r){var n=this.bitCount,a=this.token;if(e!==this.mode){var i=Bb[this.mode][e];a=Vh(a,i&65535,i>>16),n+=i>>16}var o=e===fi?4:5;return a=Vh(a,r,o),new t(a,e,0,n+o)},t.prototype.shiftAndAppend=function(e,r){var n=this.token,a=this.mode===fi?4:5;return n=Vh(n,HL[this.mode][e],a),n=Vh(n,r,5),new t(n,this.mode,0,this.bitCount+a+5)},t.prototype.addBinaryShiftChar=function(e){var r=this.token,n=this.mode,a=this.bitCount;if(this.mode===No||this.mode===fi){var i=Bb[n][Fl];r=Vh(r,i&65535,i>>16),a+=i>>16,n=Fl}var o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,s=new t(r,n,this.binaryShiftByteCount+1,a+o);return s.binaryShiftByteCount===2078&&(s=s.endBinaryShift(e+1)),s},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var r=this.token;return r=Dle(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(r,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var r=this.bitCount+(Bb[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount},t.prototype.toBitArray=function(e){for(var r,n,a=[],i=this.endBinaryShift(e.length).token;i!==null;i=i.getPrevious())a.unshift(i);var o=new hn;try{for(var s=Ble(a),l=s.next();!l.done;l=s.next()){var u=l.value;u.appendTo(o,e)}}catch(d){r={error:d}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},t.prototype.toString=function(){return ft.format("%s bits=%d bytes=%d",Mle[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t($le,Fl,0,0),t}();function Vle(t){var e=ft.getCharCode(" "),r=ft.getCharCode("."),n=ft.getCharCode(",");t[Fl][e]=1;for(var a=ft.getCharCode("Z"),i=ft.getCharCode("A"),o=i;o<=a;o++)t[Fl][o]=o-i+2;t[fy][e]=1;for(var s=ft.getCharCode("z"),l=ft.getCharCode("a"),o=l;o<=s;o++)t[fy][o]=o-l+2;t[fi][e]=1;for(var u=ft.getCharCode("9"),d=ft.getCharCode("0"),o=d;o<=u;o++)t[fi][o]=o-d+2;t[fi][n]=12,t[fi][r]=13;for(var f=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],h=0;h<f.length;h++)t[zL][ft.getCharCode(f[h])]=h;for(var p=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],h=0;h<p.length;h++)ft.getCharCode(p[h])>0&&(t[No][ft.getCharCode(p[h])]=h);return t}var Ub=Vle(en.createInt32Array(5,256)),jg=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Wle=function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=ft.getCharCode(" "),r=ft.getCharCode(`
`),n=P3.singletonList(Ule.INITIAL_STATE),a=0;a<this.text.length;a++){var i=void 0,o=a+1<this.text.length?this.text[a+1]:0;switch(this.text[a]){case ft.getCharCode("\r"):i=o===r?2:0;break;case ft.getCharCode("."):i=o===e?3:0;break;case ft.getCharCode(","):i=o===e?4:0;break;case ft.getCharCode(":"):i=o===e?5:0;break;default:i=0}i>0?(n=t.updateStateListForPair(n,a,i),a++):n=this.updateStateListForChar(n,a)}var s=P3.min(n,function(l,u){return l.getBitCount()-u.getBitCount()});return s.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,r){var n,a,i=[];try{for(var o=jg(e),s=o.next();!s.done;s=o.next()){var l=s.value;this.updateStateForChar(l,r,i)}}catch(u){n={error:u}}finally{try{s&&!s.done&&(a=o.return)&&a.call(o)}finally{if(n)throw n.error}}return t.simplifyStates(i)},t.prototype.updateStateForChar=function(e,r,n){for(var a=this.text[r]&255,i=Ub[e.getMode()][a]>0,o=null,s=0;s<=No;s++){var l=Ub[s][a];if(l>0){if(o==null&&(o=e.endBinaryShift(r)),!i||s===e.getMode()||s===fi){var u=o.latchAndAppend(s,l);n.push(u)}if(!i&&HL[e.getMode()][s]>=0){var d=o.shiftAndAppend(s,l);n.push(d)}}}if(e.getBinaryShiftByteCount()>0||Ub[e.getMode()][a]===0){var f=e.addBinaryShiftChar(r);n.push(f)}},t.updateStateListForPair=function(e,r,n){var a,i,o=[];try{for(var s=jg(e),l=s.next();!l.done;l=s.next()){var u=l.value;this.updateStateForPair(u,r,n,o)}}catch(d){a={error:d}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(a)throw a.error}}return this.simplifyStates(o)},t.updateStateForPair=function(e,r,n,a){var i=e.endBinaryShift(r);if(a.push(i.latchAndAppend(No,n)),e.getMode()!==No&&a.push(i.shiftAndAppend(No,n)),n===3||n===4){var o=i.latchAndAppend(fi,16-n).latchAndAppend(fi,1);a.push(o)}if(e.getBinaryShiftByteCount()>0){var s=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);a.push(s)}},t.simplifyStates=function(e){var r,n,a,i,o=[];try{for(var s=jg(e),l=s.next();!l.done;l=s.next()){var u=l.value,d=!0,f=function(g){if(g.isBetterThanOrEqualTo(u))return d=!1,"break";u.isBetterThanOrEqualTo(g)&&(o=o.filter(function(x){return x!==g}))};try{for(var h=(a=void 0,jg(o)),p=h.next();!p.done;p=h.next()){var v=p.value,m=f(v);if(m==="break")break}}catch(g){a={error:g}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}d&&o.push(u)}}catch(g){r={error:g}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},t}(),zle=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,r,n){var a=new Wle(e).encode(),i=st.truncDivision(a.getSize()*r,100)+11,o=a.getSize()+i,s,l,u,d,f;if(n!==t.DEFAULT_AZTEC_LAYERS){if(s=n<0,l=Math.abs(n),l>(s?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new Fe(ft.format("Illegal value %s for layers",n));u=t.totalBitsInLayer(l,s),d=t.WORD_SIZE[l];var h=u-u%d;if(f=t.stuffBits(a,d),f.getSize()+i>h)throw new Fe("Data to large for user specified layer");if(s&&f.getSize()>d*64)throw new Fe("Data to large for user specified layer")}else{d=0,f=null;for(var p=0;;p++){if(p>t.MAX_NB_BITS)throw new Fe("Data too large for an Aztec code");if(s=p<=3,l=s?p+1:p,u=t.totalBitsInLayer(l,s),!(o>u)){(f==null||d!==t.WORD_SIZE[l])&&(d=t.WORD_SIZE[l],f=t.stuffBits(a,d));var h=u-u%d;if(!(s&&f.getSize()>d*64)&&f.getSize()+i<=h)break}}}var v=t.generateCheckWords(f,u,d),m=f.getSize()/d,g=t.generateModeMessage(s,l,m),x=(s?11:14)+l*4,y=new Int32Array(x),w;if(s){w=x;for(var p=0;p<y.length;p++)y[p]=p}else{w=x+1+2*st.truncDivision(st.truncDivision(x,2)-1,15);for(var _=st.truncDivision(x,2),S=st.truncDivision(w,2),p=0;p<_;p++){var C=p+st.truncDivision(p,15);y[_-p-1]=S-C-1,y[_+p]=S+C+1}}for(var E=new Uo(w),p=0,A=0;p<l;p++){for(var j=(l-p)*4+(s?9:12),T=0;T<j;T++)for(var N=T*2,O=0;O<2;O++)v.get(A+N+O)&&E.set(y[p*2+O],y[p*2+T]),v.get(A+j*2+N+O)&&E.set(y[p*2+T],y[x-1-p*2-O]),v.get(A+j*4+N+O)&&E.set(y[x-1-p*2-O],y[x-1-p*2-T]),v.get(A+j*6+N+O)&&E.set(y[x-1-p*2-T],y[p*2+O]);A+=j*8}if(t.drawModeMessage(E,s,w,g),s)t.drawBullsEye(E,st.truncDivision(w,2),5);else{t.drawBullsEye(E,st.truncDivision(w,2),7);for(var p=0,T=0;p<st.truncDivision(x,2)-1;p+=15,T+=16)for(var O=st.truncDivision(w,2)&1;O<w;O+=2)E.set(st.truncDivision(w,2)-T,O),E.set(st.truncDivision(w,2)+T,O),E.set(O,st.truncDivision(w,2)-T),E.set(O,st.truncDivision(w,2)+T)}var $=new Tle;return $.setCompact(s),$.setSize(w),$.setLayers(l),$.setCodeWords(m),$.setMatrix(E),$},t.drawBullsEye=function(e,r,n){for(var a=0;a<n;a+=2)for(var i=r-a;i<=r+a;i++)e.set(i,r-a),e.set(i,r+a),e.set(r-a,i),e.set(r+a,i);e.set(r-n,r-n),e.set(r-n+1,r-n),e.set(r-n,r-n+1),e.set(r+n,r-n),e.set(r+n,r-n+1),e.set(r+n,r+n-1)},t.generateModeMessage=function(e,r,n){var a=new hn;return e?(a.appendBits(r-1,2),a.appendBits(n-1,6),a=t.generateCheckWords(a,28,4)):(a.appendBits(r-1,5),a.appendBits(n-1,11),a=t.generateCheckWords(a,40,4)),a},t.drawModeMessage=function(e,r,n,a){var i=st.truncDivision(n,2);if(r)for(var o=0;o<7;o++){var s=i-3+o;a.get(o)&&e.set(s,i-5),a.get(o+7)&&e.set(i+5,s),a.get(20-o)&&e.set(s,i+5),a.get(27-o)&&e.set(i-5,s)}else for(var o=0;o<10;o++){var s=i-5+o+st.truncDivision(o,5);a.get(o)&&e.set(s,i-7),a.get(o+10)&&e.set(i+7,s),a.get(29-o)&&e.set(s,i+7),a.get(39-o)&&e.set(i-7,s)}},t.generateCheckWords=function(e,r,n){var a,i,o=e.getSize()/n,s=new VL(t.getGF(n)),l=st.truncDivision(r,n),u=t.bitsToWords(e,n,l);s.encode(u,l-o);var d=r%n,f=new hn;f.appendBits(0,d);try{for(var h=zle(Array.from(u)),p=h.next();!p.done;p=h.next()){var v=p.value;f.appendBits(v,n)}}catch(m){a={error:m}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}return f},t.bitsToWords=function(e,r,n){var a=new Int32Array(n),i,o;for(i=0,o=e.getSize()/r;i<o;i++){for(var s=0,l=0;l<r;l++)s|=e.get(i*r+l)?1<<r-l-1:0;a[i]=s}return a},t.getGF=function(e){switch(e){case 4:return fa.AZTEC_PARAM;case 6:return fa.AZTEC_DATA_6;case 8:return fa.AZTEC_DATA_8;case 10:return fa.AZTEC_DATA_10;case 12:return fa.AZTEC_DATA_12;default:throw new Fe("Unsupported word size "+e)}},t.stuffBits=function(e,r){for(var n=new hn,a=e.getSize(),i=(1<<r)-2,o=0;o<a;o+=r){for(var s=0,l=0;l<r;l++)(o+l>=a||e.get(o+l))&&(s|=1<<r-1-l);(s&i)===i?(n.appendBits(s&i,r),o--):s&i?n.appendBits(s,r):(n.appendBits(s|1,r),o--)}return n},t.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t})();var Hle=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),qle=function(t){Hle(e,t);function e(r){var n=t.call(this,r.width,r.height)||this;return n.canvas=r,n.tempCanvasElement=null,n.buffer=e.makeBufferFromCanvasImageData(r),n}return e.makeBufferFromCanvasImageData=function(r){var n;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}if(!n)throw new Error("Couldn't get canvas context.");var a=n.getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(a.data,r.width,r.height)},e.toGrayscaleBuffer=function(r,n,a){for(var i=new Uint8ClampedArray(n*a),o=0,s=0,l=r.length;o<l;o+=4,s++){var u=void 0,d=r[o+3];if(d===0)u=255;else{var f=r[o],h=r[o+1],p=r[o+2];u=306*f+601*h+117*p+512>>10}i[s]=u}return i},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Fe("Requested row is outside the image: "+r);var a=this.getWidth(),i=r*a;return n===null?n=this.buffer.slice(i,i+a):(n.length<a&&(n=new Uint8ClampedArray(a)),n.set(this.buffer.slice(i,i+a))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,a,i){return t.prototype.crop.call(this,r,n,a,i),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.invert=function(){return new mx(this)},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement();if(!n)throw new Error("Could not create a Canvas element.");var a=r*e.DEGREE_TO_RADIANS,i=this.canvas.width,o=this.canvas.height,s=Math.ceil(Math.abs(Math.cos(a))*i+Math.abs(Math.sin(a))*o),l=Math.ceil(Math.abs(Math.sin(a))*i+Math.abs(Math.cos(a))*o);n.width=s,n.height=l;var u=n.getContext("2d");if(!u)throw new Error("Could not create a Canvas Context element.");return u.translate(s/2,l/2),u.rotate(a),u.drawImage(this.canvas,i/-2,o/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.DEGREE_TO_RADIANS=Math.PI/180,e}(jv);function qL(){return typeof navigator<"u"}function Gle(){return qL()&&!!navigator.mediaDevices}function Kle(){return!!(Gle()&&navigator.mediaDevices.enumerateDevices)}var bd=function(){return bd=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},bd.apply(this,arguments)},yr=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(s,l)}u((n=n.apply(t,e||[])).next())})},xr=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Vb=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Xle={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},ch=function(){function t(e,r,n){r===void 0&&(r=new Map),n===void 0&&(n={}),this.reader=e,this.hints=r,this.options=bd(bd({},Xle),n)}return Object.defineProperty(t.prototype,"possibleFormats",{set:function(e){this.hints.set(tr.POSSIBLE_FORMATS,e)},enumerable:!1,configurable:!0}),t.addVideoSource=function(e,r){try{e.srcObject=r}catch{console.error("got interrupted by new loading request")}},t.mediaStreamSetTorch=function(e,r){return yr(this,void 0,void 0,function(){return xr(this,function(n){switch(n.label){case 0:return[4,e.applyConstraints({advanced:[{fillLightMode:r?"flash":"off",torch:!!r}]})];case 1:return n.sent(),[2]}})})},t.mediaStreamIsTorchCompatible=function(e){var r,n,a=e.getVideoTracks();try{for(var i=Vb(a),o=i.next();!o.done;o=i.next()){var s=o.value;if(t.mediaStreamIsTorchCompatibleTrack(s))return!0}}catch(l){r={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return!1},t.mediaStreamIsTorchCompatibleTrack=function(e){try{var r=e.getCapabilities();return"torch"in r}catch(n){return console.error(n),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},t.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&e.readyState>2},t.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new Tr("element with id '".concat(e,"' not found"));if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new Tr("element with id '".concat(e,"' must be an ").concat(r," element"));return n},t.createVideoElement=function(e){if(e instanceof HTMLVideoElement)return e;if(typeof e=="string")return t.getMediaElement(e,"video");if(!e&&typeof document<"u"){var r=document.createElement("video");return r.width=200,r.height=200,r}throw new Error("Couldn't get videoElement from videoSource!")},t.prepareImageElement=function(e){if(e instanceof HTMLImageElement)return e;if(typeof e=="string")return t.getMediaElement(e,"img");if(typeof e>"u"){var r=document.createElement("img");return r.width=200,r.height=200,r}throw new Error("Couldn't get imageElement from imageSource!")},t.prepareVideoElement=function(e){var r=t.createVideoElement(e);return r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.createBinaryBitmapFromCanvas=function(e){var r=new qle(e),n=new TL(r);return new OL(n)},t.drawImageOnCanvas=function(e,r){e.drawImage(r,0,0)},t.getMediaElementDimensions=function(e){if(e instanceof HTMLVideoElement)return{height:e.videoHeight,width:e.videoWidth};if(e instanceof HTMLImageElement)return{height:e.naturalHeight||e.height,width:e.naturalWidth||e.width};throw new Error("Couldn't find the Source's dimensions!")},t.createCaptureCanvas=function(e){if(!e)throw new Tr("Cannot create a capture canvas without a media element.");if(typeof document>"u")throw new Error(`The page "Document" is undefined, make sure you're running in a browser.`);var r=document.createElement("canvas"),n=t.getMediaElementDimensions(e),a=n.width,i=n.height;return r.style.width=a+"px",r.style.height=i+"px",r.width=a,r.height=i,r},t.tryPlayVideo=function(e){return yr(this,void 0,void 0,function(){var r;return xr(this,function(n){switch(n.label){case 0:if(e!=null&&e.ended)return console.error("Trying to play video that has ended."),[2,!1];if(t.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2,!0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.play()];case 2:return n.sent(),[2,!0];case 3:return r=n.sent(),console.warn("It was not possible to play the video.",r),[2,!1];case 4:return[2]}})})},t.createCanvasFromMediaElement=function(e){var r=t.createCaptureCanvas(e),n=r.getContext("2d");if(!n)throw new Error("Couldn't find Canvas 2D Context.");return t.drawImageOnCanvas(n,e),r},t.createBinaryBitmapFromMediaElem=function(e){var r=t.createCanvasFromMediaElement(e);return t.createBinaryBitmapFromCanvas(r)},t.destroyImageElement=function(e){e.src="",e.removeAttribute("src"),e=void 0},t.listVideoInputDevices=function(){return yr(this,void 0,void 0,function(){var e,r,n,a,i,o,s,l,u,d,f,h;return xr(this,function(p){switch(p.label){case 0:if(!qL())throw new Error("Can't enumerate devices, navigator is not present.");if(!Kle())throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=p.sent(),r=[];try{for(n=Vb(e),a=n.next();!a.done;a=n.next())i=a.value,o=i.kind==="video"?"videoinput":i.kind,o==="videoinput"&&(s=i.deviceId||i.id,l=i.label||"Video device ".concat(r.length+1),u=i.groupId,d={deviceId:s,label:l,kind:o,groupId:u},r.push(d))}catch(v){f={error:v}}finally{try{a&&!a.done&&(h=n.return)&&h.call(n)}finally{if(f)throw f.error}}return[2,r]}})})},t.findDeviceById=function(e){return yr(this,void 0,void 0,function(){var r;return xr(this,function(n){switch(n.label){case 0:return[4,t.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(a){return a.deviceId===e})]:[2]}})})},t.cleanVideoSource=function(e){if(e){try{e.srcObject=null}catch{e.src=""}e&&e.removeAttribute("src")}},t.releaseAllStreams=function(){t.streamTracker.length!==0&&t.streamTracker.forEach(function(e){e.getTracks().forEach(function(r){return r.stop()})}),t.streamTracker=[]},t.playVideoOnLoadAsync=function(e,r){return yr(this,void 0,void 0,function(){var n;return xr(this,function(a){switch(a.label){case 0:return[4,t.tryPlayVideo(e)];case 1:return n=a.sent(),n?[2,!0]:[2,new Promise(function(i,o){var s=setTimeout(function(){t.isVideoPlaying(e)||(o(!1),e.removeEventListener("canplay",l))},r),l=function(){t.tryPlayVideo(e).then(function(u){clearTimeout(s),e.removeEventListener("canplay",l),i(u)})};e.addEventListener("canplay",l)})]}})})},t.attachStreamToVideo=function(e,r,n){return n===void 0&&(n=5e3),yr(this,void 0,void 0,function(){var a;return xr(this,function(i){switch(i.label){case 0:return a=t.prepareVideoElement(r),t.addVideoSource(a,e),[4,t.playVideoOnLoadAsync(a,n)];case 1:return i.sent(),[2,a]}})})},t._waitImageLoad=function(e){return new Promise(function(r,n){var a=1e4,i=setTimeout(function(){t.isImageLoaded(e)||(e.removeEventListener("load",o),n())},a),o=function(){clearTimeout(i),e.removeEventListener("load",o),r()};e.addEventListener("load",o)})},t.checkCallbackFnOrThrow=function(e){if(!e)throw new Tr("`callbackFn` is a required parameter, you cannot capture results without it.")},t.disposeMediaStream=function(e){e.getVideoTracks().forEach(function(r){return r.stop()}),e=void 0},t.prototype.decode=function(e){var r=t.createCanvasFromMediaElement(e);return this.decodeFromCanvas(r)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this.hints)},t.prototype.decodeFromCanvas=function(e){var r=t.createBinaryBitmapFromCanvas(e);return this.decodeBitmap(r)},t.prototype.decodeFromImageElement=function(e){return yr(this,void 0,void 0,function(){var r;return xr(this,function(n){switch(n.label){case 0:if(!e)throw new Tr("An image element must be provided.");return r=t.prepareImageElement(e),[4,this._decodeOnLoadImage(r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeFromImageUrl=function(e){return yr(this,void 0,void 0,function(){var r;return xr(this,function(n){switch(n.label){case 0:if(!e)throw new Tr("An URL must be provided.");r=t.prepareImageElement(),r.src=e,n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.decodeFromImageElement(r)];case 2:return[2,n.sent()];case 3:return t.destroyImageElement(r),[7];case 4:return[2]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return yr(this,void 0,void 0,function(){var a,i;return xr(this,function(o){switch(o.label){case 0:return t.checkCallbackFnOrThrow(n),[4,this.getUserMedia(e)];case 1:a=o.sent(),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,this.decodeFromStream(a,r,n)];case 3:return[2,o.sent()];case 4:throw i=o.sent(),t.disposeMediaStream(a),i;case 5:return[2]}})})},t.prototype.decodeFromStream=function(e,r,n){return yr(this,void 0,void 0,function(){var a,i,o,s,l,u,d,f,h,p=this;return xr(this,function(v){switch(v.label){case 0:return t.checkCallbackFnOrThrow(n),a=this.options.tryPlayVideoTimeout,[4,t.attachStreamToVideo(e,r,a)];case 1:return i=v.sent(),o=function(){t.disposeMediaStream(e),t.cleanVideoSource(i)},s=this.scan(i,n,o),l=e.getVideoTracks(),u=bd(bd({},s),{stop:function(){s.stop()},streamVideoConstraintsApply:function(m,g){return yr(this,void 0,void 0,function(){var x,y,w,_,S,C,E;return xr(this,function(A){switch(A.label){case 0:x=g?l.filter(g):l,A.label=1;case 1:A.trys.push([1,6,7,8]),y=Vb(x),w=y.next(),A.label=2;case 2:return w.done?[3,5]:(_=w.value,[4,_.applyConstraints(m)]);case 3:A.sent(),A.label=4;case 4:return w=y.next(),[3,2];case 5:return[3,8];case 6:return S=A.sent(),C={error:S},[3,8];case 7:try{w&&!w.done&&(E=y.return)&&E.call(y)}finally{if(C)throw C.error}return[7];case 8:return[2]}})})},streamVideoConstraintsGet:function(m){return l.find(m).getConstraints()},streamVideoSettingsGet:function(m){return l.find(m).getSettings()},streamVideoCapabilitiesGet:function(m){return l.find(m).getCapabilities()}}),d=t.mediaStreamIsTorchCompatible(e),d&&(f=l==null?void 0:l.find(function(m){return t.mediaStreamIsTorchCompatibleTrack(m)}),h=function(m){return yr(p,void 0,void 0,function(){return xr(this,function(g){switch(g.label){case 0:return[4,t.mediaStreamSetTorch(f,m)];case 1:return g.sent(),[2]}})})},u.switchTorch=h,u.stop=function(){return yr(p,void 0,void 0,function(){return xr(this,function(m){switch(m.label){case 0:return s.stop(),[4,h(!1)];case 1:return m.sent(),[2]}})})}),[2,u]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return yr(this,void 0,void 0,function(){var a,i;return xr(this,function(o){switch(o.label){case 0:return t.checkCallbackFnOrThrow(n),e?a={deviceId:{exact:e}}:a={facingMode:"environment"},i={video:a},[4,this.decodeFromConstraints(i,r,n)];case 1:return[2,o.sent()]}})})},t.prototype.decodeFromVideoElement=function(e,r){return yr(this,void 0,void 0,function(){var n,a;return xr(this,function(i){switch(i.label){case 0:if(t.checkCallbackFnOrThrow(r),!e)throw new Tr("A video element must be provided.");return n=t.prepareVideoElement(e),a=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(n,a)];case 1:return i.sent(),[2,this.scan(n,r)]}})})},t.prototype.decodeFromVideoUrl=function(e,r){return yr(this,void 0,void 0,function(){var n,a,i,o;return xr(this,function(s){switch(s.label){case 0:if(t.checkCallbackFnOrThrow(r),!e)throw new Tr("An URL must be provided.");return n=t.prepareVideoElement(),n.src=e,a=function(){t.cleanVideoSource(n)},i=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(n,i)];case 1:return s.sent(),o=this.scan(n,r,a),[2,o]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return yr(this,void 0,void 0,function(){var n;return xr(this,function(a){switch(a.label){case 0:return[4,this.getUserMedia(e)];case 1:return n=a.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,a.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return yr(this,void 0,void 0,function(){var n,a,i;return xr(this,function(o){switch(o.label){case 0:return n=!!r,[4,t.attachStreamToVideo(e,r)];case 1:a=o.sent(),o.label=2;case 2:return o.trys.push([2,,4,5]),[4,this.scanOneResult(a)];case 3:return i=o.sent(),[2,i];case 4:return n||t.cleanVideoSource(a),[7];case 5:return[2]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return yr(this,void 0,void 0,function(){var n,a;return xr(this,function(i){switch(i.label){case 0:return e?n={deviceId:{exact:e}}:n={facingMode:"environment"},a={video:n},[4,this.decodeOnceFromConstraints(a,r)];case 1:return[2,i.sent()]}})})},t.prototype.decodeOnceFromVideoElement=function(e){return yr(this,void 0,void 0,function(){var r,n;return xr(this,function(a){switch(a.label){case 0:if(!e)throw new Tr("A video element must be provided.");return r=t.prepareVideoElement(e),n=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(r,n)];case 1:return a.sent(),[4,this.scanOneResult(r)];case 2:return[2,a.sent()]}})})},t.prototype.decodeOnceFromVideoUrl=function(e){return yr(this,void 0,void 0,function(){var r,n;return xr(this,function(a){switch(a.label){case 0:if(!e)throw new Tr("An URL must be provided.");r=t.prepareVideoElement(),r.src=e,n=this.decodeOnceFromVideoElement(r),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,n];case 2:return[2,a.sent()];case 3:return t.cleanVideoSource(r),[7];case 4:return[2]}})})},t.prototype.scanOneResult=function(e,r,n,a){var i=this;return r===void 0&&(r=!0),n===void 0&&(n=!0),a===void 0&&(a=!0),new Promise(function(o,s){i.scan(e,function(l,u,d){if(l){o(l),d.stop();return}if(u){if(u instanceof Q&&r||u instanceof Br&&n||u instanceof me&&a)return;d.stop(),s(u)}})})},t.prototype.scan=function(e,r,n){var a=this;t.checkCallbackFnOrThrow(r);var i=t.createCaptureCanvas(e),o;try{o=i.getContext("2d",{willReadFrequently:!0})}catch{o=i.getContext("2d")}if(!o)throw new Error("Couldn't create canvas for visual element scan.");var s=function(){o=void 0,i=void 0},l=!1,u,d=function(){l=!0,clearTimeout(u),s(),n&&n()},f={stop:d},h=function(){if(!l)try{t.drawImageOnCanvas(o,e);var p=a.decodeFromCanvas(i);r(p,void 0,f),u=setTimeout(h,a.options.delayBetweenScanSuccess)}catch(x){r(void 0,x,f);var v=x instanceof Br,m=x instanceof me,g=x instanceof Q;if(v||m||g){u=setTimeout(h,a.options.delayBetweenScanAttempts);return}s(),n&&n(x)}};return h(),f},t.prototype._decodeOnLoadImage=function(e){return yr(this,void 0,void 0,function(){var r;return xr(this,function(n){switch(n.label){case 0:return r=t.isImageLoaded(e),r?[3,2]:[4,t._waitImageLoad(e)];case 1:n.sent(),n.label=2;case 2:return[2,this.decode(e)]}})})},t.prototype.getUserMedia=function(e){return yr(this,void 0,void 0,function(){var r;return xr(this,function(n){switch(n.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return r=n.sent(),t.streamTracker.push(r),[2,r]}})})},t.streamTracker=[],t}(),Yle=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){Yle(e,t);function e(r,n){return t.call(this,new sy,r,n)||this}return e})(ch);var Zle=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){Zle(e,t);function e(r,n){return t.call(this,new xd(r),r,n)||this}return e})(ch);var Qle=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){Qle(e,t);function e(r,n){return t.call(this,new cy,r,n)||this}return e})(ch);var Jle=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),k3=function(t){Jle(e,t);function e(r,n){var a=this,i=new UL;return i.setHints(r),a=t.call(this,i,r,n)||this,a.reader=i,a}return Object.defineProperty(e.prototype,"possibleFormats",{set:function(r){this.hints.set(tr.POSSIBLE_FORMATS,r),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e.prototype.setHints=function(r){this.hints=r,this.reader.setHints(this.hints)},e}(ch),ece=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){ece(e,t);function e(r,n){return t.call(this,new dy,r,n)||this}return e})(ch);var tce=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){tce(e,t);function e(r,n){return t.call(this,new uy,r,n)||this}return e})(ch);function rce({open:t,onOpenChange:e,onDetected:r}){const n=b.useRef(null),a=b.useRef(null),[i,o]=b.useState(!1),s=b.useRef(!1),[l,u]=b.useState(null),[d,f]=b.useState(!1);return b.useEffect(()=>{if(!t){if(a.current){try{a.current.reset()}catch{}a.current=null}o(!1);return}const h=new k3;return a.current=h,o(!0),(async()=>{try{const p={video:{facingMode:{ideal:"environment"}}};let v=!1;try{typeof h.decodeFromConstraints=="function"&&(await h.decodeFromConstraints(p,n.current,async(m,g)=>{if(m&&!s.current){s.current=!0;try{const x=(m.getText()||"").trim();if(await Promise.resolve(r(x))){try{h.reset()}catch{}e(!1)}}catch{}finally{setTimeout(()=>{s.current=!1},700)}}}),v=!0)}catch{v=!1}if(!v){const m=await k3.listVideoInputDevices();let g;if(m&&m.length>0){const x=m.find(y=>/rear|back|environment|wide|0/i.test(y.label||""));g=x&&x.deviceId||m[0].deviceId}await h.decodeFromVideoDevice(g,n.current,async(x,y)=>{if(x&&!s.current){s.current=!0;try{const w=(x.getText()||"").trim();if(await Promise.resolve(r(w))){try{h.reset()}catch{}e(!1)}}catch{}finally{setTimeout(()=>{s.current=!1},700)}}})}}catch{try{h.reset()}catch{}try{u("Camera access error")}catch{}e(!1)}})(),()=>{try{h.reset()}catch{}a.current=null,o(!1),f(!1)}},[t,r,e]),c.jsx(Vt,{open:t,onOpenChange:e,children:c.jsxs(It,{className:"sm:max-w-md",children:[c.jsx(Rt,{children:c.jsx(Dt,{children:"Scan SKU"})}),c.jsxs("div",{className:"flex flex-col gap-3",children:[c.jsx("div",{className:"w-full h-64 bg-black/5 rounded overflow-hidden flex items-center justify-center",children:c.jsx("video",{ref:n,className:"w-full h-full object-cover",onLoadedMetadata:()=>f(!0),onPlaying:()=>f(!0)})}),!d&&c.jsx("div",{className:"text-sm text-center text-muted-foreground",children:"Initializing camera..."}),l&&c.jsx("div",{className:"text-sm text-center text-destructive",children:l}),c.jsx("div",{className:"flex justify-end",children:c.jsx(Y,{variant:"outline",onClick:()=>e(!1),children:"Close"})})]})]})})}const ea=b.forwardRef(({className:t,...e},r)=>c.jsx("textarea",{className:fe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));ea.displayName="Textarea";var qe=function(){return qe=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},qe.apply(this,arguments)};function nce(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function GL(t,e,r){for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function Ov(t){return t.mode==="multiple"}function Tv(t){return t.mode==="range"}function yx(t){return t.mode==="single"}var ace={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function ice(t,e){return it(t,"LLLL y",e)}function oce(t,e){return it(t,"d",e)}function sce(t,e){return it(t,"LLLL",e)}function lce(t){return"".concat(t)}function cce(t,e){return it(t,"cccccc",e)}function uce(t,e){return it(t,"yyyy",e)}var dce=Object.freeze({__proto__:null,formatCaption:ice,formatDay:oce,formatMonthCaption:sce,formatWeekNumber:lce,formatWeekdayName:cce,formatYearCaption:uce}),fce=function(t,e,r){return it(t,"do MMMM (EEEE)",r)},hce=function(){return"Month: "},pce=function(){return"Go to next month"},mce=function(){return"Go to previous month"},vce=function(t,e){return it(t,"cccc",e)},gce=function(t){return"Week n. ".concat(t)},yce=function(){return"Year: "},xce=Object.freeze({__proto__:null,labelDay:fce,labelMonthDropdown:hce,labelNext:pce,labelPrevious:mce,labelWeekNumber:gce,labelWeekday:vce,labelYearDropdown:yce});function wce(){var t="buttons",e=ace,r=sL,n={},a={},i=1,o={},s=new Date;return{captionLayout:t,classNames:e,formatters:dce,labels:xce,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:i,styles:o,today:s,mode:"default"}}function bce(t){var e=t.fromYear,r=t.toYear,n=t.fromMonth,a=t.toMonth,i=t.fromDate,o=t.toDate;return n?i=xa(n):e&&(i=new Date(e,0,1)),a?o=XA(a):r&&(o=new Date(r,11,31)),{fromDate:i?df(i):void 0,toDate:o?df(o):void 0}}var KL=b.createContext(void 0);function _ce(t){var e,r=t.initialProps,n=wce(),a=bce(r),i=a.fromDate,o=a.toDate,s=(e=r.captionLayout)!==null&&e!==void 0?e:n.captionLayout;s!=="buttons"&&(!i||!o)&&(s="buttons");var l;(yx(r)||Ov(r)||Tv(r))&&(l=r.onSelect);var u=qe(qe(qe({},n),r),{captionLayout:s,classNames:qe(qe({},n.classNames),r.classNames),components:qe({},r.components),formatters:qe(qe({},n.formatters),r.formatters),fromDate:i,labels:qe(qe({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:qe(qe({},n.modifiers),r.modifiers),modifiersClassNames:qe(qe({},n.modifiersClassNames),r.modifiersClassNames),onSelect:l,styles:qe(qe({},n.styles),r.styles),toDate:o});return c.jsx(KL.Provider,{value:u,children:t.children})}function nr(){var t=b.useContext(KL);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function XL(t){var e=nr(),r=e.locale,n=e.classNames,a=e.styles,i=e.formatters.formatCaption;return c.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:i(t.displayMonth,{locale:r})})}function Sce(t){return c.jsx("svg",qe({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:c.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function YL(t){var e,r,n=t.onChange,a=t.value,i=t.children,o=t.caption,s=t.className,l=t.style,u=nr(),d=(r=(e=u.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&r!==void 0?r:Sce;return c.jsxs("div",{className:s,style:l,children:[c.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),c.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:n,children:i}),c.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,c.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function Cce(t){var e,r=nr(),n=r.fromDate,a=r.toDate,i=r.styles,o=r.locale,s=r.formatters.formatMonthCaption,l=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return c.jsx(c.Fragment,{});if(!a)return c.jsx(c.Fragment,{});var f=[];if(cae(n,a))for(var h=xa(n),p=n.getMonth();p<=a.getMonth();p++)f.push(Tb(h,p));else for(var h=xa(new Date),p=0;p<=11;p++)f.push(Tb(h,p));var v=function(g){var x=Number(g.target.value),y=Tb(xa(t.displayMonth),x);t.onChange(y)},m=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:YL;return c.jsx(m,{name:"months","aria-label":d(),className:l.dropdown_month,style:i.dropdown_month,onChange:v,value:t.displayMonth.getMonth(),caption:s(t.displayMonth,{locale:o}),children:f.map(function(g){return c.jsx("option",{value:g.getMonth(),children:s(g,{locale:o})},g.getMonth())})})}function Ece(t){var e,r=t.displayMonth,n=nr(),a=n.fromDate,i=n.toDate,o=n.locale,s=n.styles,l=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!a)return c.jsx(c.Fragment,{});if(!i)return c.jsx(c.Fragment,{});for(var p=a.getFullYear(),v=i.getFullYear(),m=p;m<=v;m++)h.push(SP(iL(new Date),m));var g=function(y){var w=SP(xa(r),Number(y.target.value));t.onChange(w)},x=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:YL;return c.jsx(x,{name:"years","aria-label":f(),className:l.dropdown_year,style:s.dropdown_year,onChange:g,value:r.getFullYear(),caption:d(r,{locale:o}),children:h.map(function(y){return c.jsx("option",{value:y.getFullYear(),children:d(y,{locale:o})},y.getFullYear())})})}function Ace(t,e){var r=b.useState(t),n=r[0],a=r[1],i=e===void 0?n:e;return[i,a]}function jce(t){var e=t.month,r=t.defaultMonth,n=t.today,a=e||r||n||new Date,i=t.toDate,o=t.fromDate,s=t.numberOfMonths,l=s===void 0?1:s;if(i&&hm(i,a)<0){var u=-1*(l-1);a=lo(i,u)}return o&&hm(a,o)<0&&(a=o),xa(a)}function Nce(){var t=nr(),e=jce(t),r=Ace(e,t.month),n=r[0],a=r[1],i=function(o){var s;if(!t.disableNavigation){var l=xa(o);a(l),(s=t.onMonthChange)===null||s===void 0||s.call(t,l)}};return[n,i]}function Oce(t,e){for(var r=e.reverseMonths,n=e.numberOfMonths,a=xa(t),i=xa(lo(a,n)),o=hm(i,a),s=[],l=0;l<o;l++){var u=lo(a,l);s.push(u)}return r&&(s=s.reverse()),s}function Tce(t,e){if(!e.disableNavigation){var r=e.toDate,n=e.pagedNavigation,a=e.numberOfMonths,i=a===void 0?1:a,o=n?i:1,s=xa(t);if(!r)return lo(s,o);var l=hm(r,t);if(!(l<i))return lo(s,o)}}function Pce(t,e){if(!e.disableNavigation){var r=e.fromDate,n=e.pagedNavigation,a=e.numberOfMonths,i=a===void 0?1:a,o=n?i:1,s=xa(t);if(!r)return lo(s,-o);var l=hm(s,r);if(!(l<=0))return lo(s,-o)}}var ZL=b.createContext(void 0);function kce(t){var e=nr(),r=Nce(),n=r[0],a=r[1],i=Oce(n,e),o=Tce(n,e),s=Pce(n,e),l=function(f){return i.some(function(h){return ZA(f,h)})},u=function(f,h){l(f)||(h&&fL(f,h)?a(lo(f,1+e.numberOfMonths*-1)):a(f))},d={currentMonth:n,displayMonths:i,goToMonth:a,goToDate:u,previousMonth:s,nextMonth:o,isDateDisplayed:l};return c.jsx(ZL.Provider,{value:d,children:t.children})}function Pv(){var t=b.useContext(ZL);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function I3(t){var e,r=nr(),n=r.classNames,a=r.styles,i=r.components,o=Pv().goToMonth,s=function(d){o(lo(d,t.displayIndex?-t.displayIndex:0))},l=(e=i==null?void 0:i.CaptionLabel)!==null&&e!==void 0?e:XL,u=c.jsx(l,{id:t.id,displayMonth:t.displayMonth});return c.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[c.jsx("div",{className:n.vhidden,children:u}),c.jsx(Cce,{onChange:s,displayMonth:t.displayMonth}),c.jsx(Ece,{onChange:s,displayMonth:t.displayMonth})]})}function Ice(t){return c.jsx("svg",qe({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:c.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Rce(t){return c.jsx("svg",qe({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:c.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var hy=b.forwardRef(function(t,e){var r=nr(),n=r.classNames,a=r.styles,i=[n.button_reset,n.button];t.className&&i.push(t.className);var o=i.join(" "),s=qe(qe({},a.button_reset),a.button);return t.style&&Object.assign(s,t.style),c.jsx("button",qe({},t,{ref:e,type:"button",className:o,style:s}))});function Dce(t){var e,r,n=nr(),a=n.dir,i=n.locale,o=n.classNames,s=n.styles,l=n.labels,u=l.labelPrevious,d=l.labelNext,f=n.components;if(!t.nextMonth&&!t.previousMonth)return c.jsx(c.Fragment,{});var h=u(t.previousMonth,{locale:i}),p=[o.nav_button,o.nav_button_previous].join(" "),v=d(t.nextMonth,{locale:i}),m=[o.nav_button,o.nav_button_next].join(" "),g=(e=f==null?void 0:f.IconRight)!==null&&e!==void 0?e:Rce,x=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:Ice;return c.jsxs("div",{className:o.nav,style:s.nav,children:[!t.hidePrevious&&c.jsx(hy,{name:"previous-month","aria-label":h,className:p,style:s.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:a==="rtl"?c.jsx(g,{className:o.nav_icon,style:s.nav_icon}):c.jsx(x,{className:o.nav_icon,style:s.nav_icon})}),!t.hideNext&&c.jsx(hy,{name:"next-month","aria-label":v,className:m,style:s.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:a==="rtl"?c.jsx(x,{className:o.nav_icon,style:s.nav_icon}):c.jsx(g,{className:o.nav_icon,style:s.nav_icon})})]})}function R3(t){var e=nr().numberOfMonths,r=Pv(),n=r.previousMonth,a=r.nextMonth,i=r.goToMonth,o=r.displayMonths,s=o.findIndex(function(v){return ZA(t.displayMonth,v)}),l=s===0,u=s===o.length-1,d=e>1&&(l||!u),f=e>1&&(u||!l),h=function(){n&&i(n)},p=function(){a&&i(a)};return c.jsx(Dce,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:f,nextMonth:a,previousMonth:n,onPreviousClick:h,onNextClick:p})}function Mce(t){var e,r=nr(),n=r.classNames,a=r.disableNavigation,i=r.styles,o=r.captionLayout,s=r.components,l=(e=s==null?void 0:s.CaptionLabel)!==null&&e!==void 0?e:XL,u;return a?u=c.jsx(l,{id:t.id,displayMonth:t.displayMonth}):o==="dropdown"?u=c.jsx(I3,{displayMonth:t.displayMonth,id:t.id}):o==="dropdown-buttons"?u=c.jsxs(c.Fragment,{children:[c.jsx(I3,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),c.jsx(R3,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=c.jsxs(c.Fragment,{children:[c.jsx(l,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),c.jsx(R3,{displayMonth:t.displayMonth,id:t.id})]}),c.jsx("div",{className:n.caption,style:i.caption,children:u})}function $ce(t){var e=nr(),r=e.footer,n=e.styles,a=e.classNames.tfoot;return r?c.jsx("tfoot",{className:a,style:n.tfoot,children:c.jsx("tr",{children:c.jsx("td",{colSpan:8,children:r})})}):c.jsx(c.Fragment,{})}function Lce(t,e,r){for(var n=r?fu(new Date):Bo(new Date,{locale:t,weekStartsOn:e}),a=[],i=0;i<7;i++){var o=Kn(n,i);a.push(o)}return a}function Fce(){var t=nr(),e=t.classNames,r=t.styles,n=t.showWeekNumber,a=t.locale,i=t.weekStartsOn,o=t.ISOWeek,s=t.formatters.formatWeekdayName,l=t.labels.labelWeekday,u=Lce(a,i,o);return c.jsxs("tr",{style:r.head_row,className:e.head_row,children:[n&&c.jsx("td",{style:r.head_cell,className:e.head_cell}),u.map(function(d,f){return c.jsx("th",{scope:"col",className:e.head_cell,style:r.head_cell,"aria-label":l(d,{locale:a}),children:s(d,{locale:a})},f)})]})}function Bce(){var t,e=nr(),r=e.classNames,n=e.styles,a=e.components,i=(t=a==null?void 0:a.HeadRow)!==null&&t!==void 0?t:Fce;return c.jsx("thead",{style:n.head,className:r.head,children:c.jsx(i,{})})}function Uce(t){var e=nr(),r=e.locale,n=e.formatters.formatDay;return c.jsx(c.Fragment,{children:n(t.date,{locale:r})})}var hj=b.createContext(void 0);function Vce(t){if(!Ov(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return c.jsx(hj.Provider,{value:e,children:t.children})}return c.jsx(Wce,{initialProps:t.initialProps,children:t.children})}function Wce(t){var e=t.initialProps,r=t.children,n=e.selected,a=e.min,i=e.max,o=function(u,d,f){var h,p;(h=e.onDayClick)===null||h===void 0||h.call(e,u,d,f);var v=!!(d.selected&&a&&(n==null?void 0:n.length)===a);if(!v){var m=!!(!d.selected&&i&&(n==null?void 0:n.length)===i);if(!m){var g=n?GL([],n):[];if(d.selected){var x=g.findIndex(function(y){return pa(u,y)});g.splice(x,1)}else g.push(u);(p=e.onSelect)===null||p===void 0||p.call(e,g,u,d,f)}}},s={disabled:[]};n&&s.disabled.push(function(u){var d=i&&n.length>i-1,f=n.some(function(h){return pa(h,u)});return!!(d&&!f)});var l={selected:n,onDayClick:o,modifiers:s};return c.jsx(hj.Provider,{value:l,children:r})}function pj(){var t=b.useContext(hj);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function zce(t,e){var r=e||{},n=r.from,a=r.to;return n&&a?pa(a,t)&&pa(n,t)?void 0:pa(a,t)?{from:a,to:void 0}:pa(n,t)?void 0:aS(n,t)?{from:t,to:a}:{from:n,to:t}:a?aS(t,a)?{from:a,to:t}:{from:t,to:a}:n?fL(t,n)?{from:t,to:n}:{from:n,to:t}:{from:t,to:void 0}}var mj=b.createContext(void 0);function Hce(t){if(!Tv(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return c.jsx(mj.Provider,{value:e,children:t.children})}return c.jsx(qce,{initialProps:t.initialProps,children:t.children})}function qce(t){var e=t.initialProps,r=t.children,n=e.selected,a=n||{},i=a.from,o=a.to,s=e.min,l=e.max,u=function(p,v,m){var g,x;(g=e.onDayClick)===null||g===void 0||g.call(e,p,v,m);var y=zce(p,n);(x=e.onSelect)===null||x===void 0||x.call(e,y,p,v,m)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],o?(d.range_end=[o],pa(i,o)||(d.range_middle=[{after:i,before:o}])):d.range_end=[i]):o&&(d.range_start=[o],d.range_end=[o]),s&&(i&&!o&&d.disabled.push({after:Ob(i,s-1),before:Kn(i,s-1)}),i&&o&&d.disabled.push({after:i,before:Kn(i,s-1)}),!i&&o&&d.disabled.push({after:Ob(o,s-1),before:Kn(o,s-1)})),l){if(i&&!o&&(d.disabled.push({before:Kn(i,-l+1)}),d.disabled.push({after:Kn(i,l-1)})),i&&o){var f=Ao(o,i)+1,h=l-f;d.disabled.push({before:Ob(i,h)}),d.disabled.push({after:Kn(o,h)})}!i&&o&&(d.disabled.push({before:Kn(o,-l+1)}),d.disabled.push({after:Kn(o,l-1)}))}return c.jsx(mj.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function vj(){var t=b.useContext(mj);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function f0(t){return Array.isArray(t)?GL([],t):t!==void 0?[t]:[]}function Gce(t){var e={};return Object.entries(t).forEach(function(r){var n=r[0],a=r[1];e[n]=f0(a)}),e}var co;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(co||(co={}));var Kce=co.Selected,as=co.Disabled,Xce=co.Hidden,Yce=co.Today,Wb=co.RangeEnd,zb=co.RangeMiddle,Hb=co.RangeStart,Zce=co.Outside;function Qce(t,e,r){var n,a=(n={},n[Kce]=f0(t.selected),n[as]=f0(t.disabled),n[Xce]=f0(t.hidden),n[Yce]=[t.today],n[Wb]=[],n[zb]=[],n[Hb]=[],n[Zce]=[],n);return t.fromDate&&a[as].push({before:t.fromDate}),t.toDate&&a[as].push({after:t.toDate}),Ov(t)?a[as]=a[as].concat(e.modifiers[as]):Tv(t)&&(a[as]=a[as].concat(r.modifiers[as]),a[Hb]=r.modifiers[Hb],a[zb]=r.modifiers[zb],a[Wb]=r.modifiers[Wb]),a}var QL=b.createContext(void 0);function Jce(t){var e=nr(),r=pj(),n=vj(),a=Qce(e,r,n),i=Gce(e.modifiers),o=qe(qe({},a),i);return c.jsx(QL.Provider,{value:o,children:t.children})}function JL(){var t=b.useContext(QL);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function eue(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function tue(t){return!!(t&&typeof t=="object"&&"from"in t)}function rue(t){return!!(t&&typeof t=="object"&&"after"in t)}function nue(t){return!!(t&&typeof t=="object"&&"before"in t)}function aue(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function iue(t,e){var r,n=e.from,a=e.to;if(n&&a){var i=Ao(a,n)<0;i&&(r=[a,n],n=r[0],a=r[1]);var o=Ao(t,n)>=0&&Ao(a,t)>=0;return o}return a?pa(a,t):n?pa(n,t):!1}function oue(t){return KA(t)}function sue(t){return Array.isArray(t)&&t.every(KA)}function lue(t,e){return e.some(function(r){if(typeof r=="boolean")return r;if(oue(r))return pa(t,r);if(sue(r))return r.includes(t);if(tue(r))return iue(t,r);if(aue(r))return r.dayOfWeek.includes(t.getDay());if(eue(r)){var n=Ao(r.before,t),a=Ao(r.after,t),i=n>0,o=a<0,s=aS(r.before,r.after);return s?o&&i:i||o}return rue(r)?Ao(t,r.after)>0:nue(r)?Ao(r.before,t)>0:typeof r=="function"?r(t):!1})}function gj(t,e,r){var n=Object.keys(e).reduce(function(i,o){var s=e[o];return lue(t,s)&&i.push(o),i},[]),a={};return n.forEach(function(i){return a[i]=!0}),r&&!ZA(t,r)&&(a.outside=!0),a}function cue(t,e){for(var r=xa(t[0]),n=XA(t[t.length-1]),a,i,o=r;o<=n;){var s=gj(o,e),l=!s.disabled&&!s.hidden;if(!l){o=Kn(o,1);continue}if(s.selected)return o;s.today&&!i&&(i=o),a||(a=o),o=Kn(o,1)}return i||a}var uue=365;function e7(t,e){var r=e.moveBy,n=e.direction,a=e.context,i=e.modifiers,o=e.retry,s=o===void 0?{count:0,lastFocused:t}:o,l=a.weekStartsOn,u=a.fromDate,d=a.toDate,f=a.locale,h={day:Kn,week:nS,month:lo,year:ine,startOfWeek:function(g){return a.ISOWeek?fu(g):Bo(g,{locale:f,weekStartsOn:l})},endOfWeek:function(g){return a.ISOWeek?oL(g):YA(g,{locale:f,weekStartsOn:l})}},p=h[r](t,n==="after"?1:-1);n==="before"&&u?p=one([u,p]):n==="after"&&d&&(p=sne([d,p]));var v=!0;if(i){var m=gj(p,i);v=!m.disabled&&!m.hidden}return v?p:s.count>uue?s.lastFocused:e7(p,{moveBy:r,direction:n,context:a,modifiers:i,retry:qe(qe({},s),{count:s.count+1})})}var t7=b.createContext(void 0);function due(t){var e=Pv(),r=JL(),n=b.useState(),a=n[0],i=n[1],o=b.useState(),s=o[0],l=o[1],u=cue(e.displayMonths,r),d=a??(s&&e.isDateDisplayed(s))?s:u,f=function(){l(a),i(void 0)},h=function(g){i(g)},p=nr(),v=function(g,x){if(a){var y=e7(a,{moveBy:g,direction:x,context:p,modifiers:r});pa(a,y)||(e.goToDate(y,a),h(y))}},m={focusedDay:a,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return v("day","after")},focusDayBefore:function(){return v("day","before")},focusWeekAfter:function(){return v("week","after")},focusWeekBefore:function(){return v("week","before")},focusMonthBefore:function(){return v("month","before")},focusMonthAfter:function(){return v("month","after")},focusYearBefore:function(){return v("year","before")},focusYearAfter:function(){return v("year","after")},focusStartOfWeek:function(){return v("startOfWeek","before")},focusEndOfWeek:function(){return v("endOfWeek","after")}};return c.jsx(t7.Provider,{value:m,children:t.children})}function yj(){var t=b.useContext(t7);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function fue(t,e){var r=JL(),n=gj(t,r,e);return n}var xj=b.createContext(void 0);function hue(t){if(!yx(t.initialProps)){var e={selected:void 0};return c.jsx(xj.Provider,{value:e,children:t.children})}return c.jsx(pue,{initialProps:t.initialProps,children:t.children})}function pue(t){var e=t.initialProps,r=t.children,n=function(i,o,s){var l,u,d;if((l=e.onDayClick)===null||l===void 0||l.call(e,i,o,s),o.selected&&!e.required){(u=e.onSelect)===null||u===void 0||u.call(e,void 0,i,o,s);return}(d=e.onSelect)===null||d===void 0||d.call(e,i,i,o,s)},a={selected:e.selected,onDayClick:n};return c.jsx(xj.Provider,{value:a,children:r})}function r7(){var t=b.useContext(xj);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function mue(t,e){var r=nr(),n=r7(),a=pj(),i=vj(),o=yj(),s=o.focusDayAfter,l=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,f=o.blur,h=o.focus,p=o.focusMonthBefore,v=o.focusMonthAfter,m=o.focusYearBefore,g=o.focusYearAfter,x=o.focusStartOfWeek,y=o.focusEndOfWeek,w=function(M){var I,P,V,z;yx(r)?(I=n.onDayClick)===null||I===void 0||I.call(n,t,e,M):Ov(r)?(P=a.onDayClick)===null||P===void 0||P.call(a,t,e,M):Tv(r)?(V=i.onDayClick)===null||V===void 0||V.call(i,t,e,M):(z=r.onDayClick)===null||z===void 0||z.call(r,t,e,M)},_=function(M){var I;h(t),(I=r.onDayFocus)===null||I===void 0||I.call(r,t,e,M)},S=function(M){var I;f(),(I=r.onDayBlur)===null||I===void 0||I.call(r,t,e,M)},C=function(M){var I;(I=r.onDayMouseEnter)===null||I===void 0||I.call(r,t,e,M)},E=function(M){var I;(I=r.onDayMouseLeave)===null||I===void 0||I.call(r,t,e,M)},A=function(M){var I;(I=r.onDayPointerEnter)===null||I===void 0||I.call(r,t,e,M)},j=function(M){var I;(I=r.onDayPointerLeave)===null||I===void 0||I.call(r,t,e,M)},T=function(M){var I;(I=r.onDayTouchCancel)===null||I===void 0||I.call(r,t,e,M)},N=function(M){var I;(I=r.onDayTouchEnd)===null||I===void 0||I.call(r,t,e,M)},O=function(M){var I;(I=r.onDayTouchMove)===null||I===void 0||I.call(r,t,e,M)},$=function(M){var I;(I=r.onDayTouchStart)===null||I===void 0||I.call(r,t,e,M)},R=function(M){var I;(I=r.onDayKeyUp)===null||I===void 0||I.call(r,t,e,M)},F=function(M){var I;switch(M.key){case"ArrowLeft":M.preventDefault(),M.stopPropagation(),r.dir==="rtl"?s():l();break;case"ArrowRight":M.preventDefault(),M.stopPropagation(),r.dir==="rtl"?l():s();break;case"ArrowDown":M.preventDefault(),M.stopPropagation(),u();break;case"ArrowUp":M.preventDefault(),M.stopPropagation(),d();break;case"PageUp":M.preventDefault(),M.stopPropagation(),M.shiftKey?m():p();break;case"PageDown":M.preventDefault(),M.stopPropagation(),M.shiftKey?g():v();break;case"Home":M.preventDefault(),M.stopPropagation(),x();break;case"End":M.preventDefault(),M.stopPropagation(),y();break}(I=r.onDayKeyDown)===null||I===void 0||I.call(r,t,e,M)},B={onClick:w,onFocus:_,onBlur:S,onKeyDown:F,onKeyUp:R,onMouseEnter:C,onMouseLeave:E,onPointerEnter:A,onPointerLeave:j,onTouchCancel:T,onTouchEnd:N,onTouchMove:O,onTouchStart:$};return B}function vue(){var t=nr(),e=r7(),r=pj(),n=vj(),a=yx(t)?e.selected:Ov(t)?r.selected:Tv(t)?n.selected:void 0;return a}function gue(t){return Object.values(co).includes(t)}function yue(t,e){var r=[t.classNames.day];return Object.keys(e).forEach(function(n){var a=t.modifiersClassNames[n];if(a)r.push(a);else if(gue(n)){var i=t.classNames["day_".concat(n)];i&&r.push(i)}}),r}function xue(t,e){var r=qe({},t.styles.day);return Object.keys(e).forEach(function(n){var a;r=qe(qe({},r),(a=t.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function wue(t,e,r){var n,a,i,o=nr(),s=yj(),l=fue(t,e),u=mue(t,l),d=vue(),f=!!(o.onDayClick||o.mode!=="default");b.useEffect(function(){var C;l.outside||s.focusedDay&&f&&pa(s.focusedDay,t)&&((C=r.current)===null||C===void 0||C.focus())},[s.focusedDay,t,r,f,l.outside]);var h=yue(o,l).join(" "),p=xue(o,l),v=!!(l.outside&&!o.showOutsideDays||l.hidden),m=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:Uce,g=c.jsx(m,{date:t,displayMonth:e,activeModifiers:l}),x={style:p,className:h,children:g,role:"gridcell"},y=s.focusTarget&&pa(s.focusTarget,t)&&!l.outside,w=s.focusedDay&&pa(s.focusedDay,t),_=qe(qe(qe({},x),(n={disabled:l.disabled,role:"gridcell"},n["aria-selected"]=l.selected,n.tabIndex=w||y?0:-1,n)),u),S={isButton:f,isHidden:v,activeModifiers:l,selectedDays:d,buttonProps:_,divProps:x};return S}function bue(t){var e=b.useRef(null),r=wue(t.date,t.displayMonth,e);return r.isHidden?c.jsx("div",{role:"gridcell"}):r.isButton?c.jsx(hy,qe({name:"day",ref:e},r.buttonProps)):c.jsx("div",qe({},r.divProps))}function _ue(t){var e=t.number,r=t.dates,n=nr(),a=n.onWeekNumberClick,i=n.styles,o=n.classNames,s=n.locale,l=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(e),{locale:s});if(!a)return c.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:d});var f=l(Number(e),{locale:s}),h=function(p){a(e,r,p)};return c.jsx(hy,{name:"week-number","aria-label":f,className:o.weeknumber,style:i.weeknumber,onClick:h,children:d})}function Sue(t){var e,r,n=nr(),a=n.styles,i=n.classNames,o=n.showWeekNumber,s=n.components,l=(e=s==null?void 0:s.Day)!==null&&e!==void 0?e:bue,u=(r=s==null?void 0:s.WeekNumber)!==null&&r!==void 0?r:_ue,d;return o&&(d=c.jsx("td",{className:i.cell,style:a.cell,children:c.jsx(u,{number:t.weekNumber,dates:t.dates})})),c.jsxs("tr",{className:i.row,style:a.row,children:[d,t.dates.map(function(f){return c.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:c.jsx(l,{displayMonth:t.displayMonth,date:f})},oae(f))})]})}function D3(t,e,r){for(var n=r!=null&&r.ISOWeek?oL(e):YA(e,r),a=r!=null&&r.ISOWeek?fu(t):Bo(t,r),i=Ao(n,a),o=[],s=0;s<=i;s++)o.push(Kn(a,s));var l=o.reduce(function(u,d){var f=r!=null&&r.ISOWeek?lL(d):uL(d,r),h=u.find(function(p){return p.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return l}function Cue(t,e){var r=D3(xa(t),XA(t),e);if(e!=null&&e.useFixedWeeks){var n=lae(t,e);if(n<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],o=nS(i,6-n),s=D3(nS(i,1),o,e);r.push.apply(r,s)}}return r}function Eue(t){var e,r,n,a=nr(),i=a.locale,o=a.classNames,s=a.styles,l=a.hideHead,u=a.fixedWeeks,d=a.components,f=a.weekStartsOn,h=a.firstWeekContainsDate,p=a.ISOWeek,v=Cue(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:i,weekStartsOn:f,firstWeekContainsDate:h}),m=(e=d==null?void 0:d.Head)!==null&&e!==void 0?e:Bce,g=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:Sue,x=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:$ce;return c.jsxs("table",{id:t.id,className:o.table,style:s.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!l&&c.jsx(m,{}),c.jsx("tbody",{className:o.tbody,style:s.tbody,children:v.map(function(y){return c.jsx(g,{displayMonth:t.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),c.jsx(x,{displayMonth:t.displayMonth})]})}function Aue(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var jue=Aue()?b.useLayoutEffect:b.useEffect,qb=!1,Nue=0;function M3(){return"react-day-picker-".concat(++Nue)}function Oue(t){var e,r=t??(qb?M3():null),n=b.useState(r),a=n[0],i=n[1];return jue(function(){a===null&&i(M3())},[]),b.useEffect(function(){qb===!1&&(qb=!0)},[]),(e=t??a)!==null&&e!==void 0?e:void 0}function Tue(t){var e,r,n=nr(),a=n.dir,i=n.classNames,o=n.styles,s=n.components,l=Pv().displayMonths,u=Oue(n.id?"".concat(n.id,"-").concat(t.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(t.displayIndex):void 0,f=[i.month],h=o.month,p=t.displayIndex===0,v=t.displayIndex===l.length-1,m=!p&&!v;a==="rtl"&&(e=[p,v],v=e[0],p=e[1]),p&&(f.push(i.caption_start),h=qe(qe({},h),o.caption_start)),v&&(f.push(i.caption_end),h=qe(qe({},h),o.caption_end)),m&&(f.push(i.caption_between),h=qe(qe({},h),o.caption_between));var g=(r=s==null?void 0:s.Caption)!==null&&r!==void 0?r:Mce;return c.jsxs("div",{className:f.join(" "),style:h,children:[c.jsx(g,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),c.jsx(Eue,{id:d,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function Pue(t){var e=nr(),r=e.classNames,n=e.styles;return c.jsx("div",{className:r.months,style:n.months,children:t.children})}function kue(t){var e,r,n=t.initialProps,a=nr(),i=yj(),o=Pv(),s=b.useState(!1),l=s[0],u=s[1];b.useEffect(function(){a.initialFocus&&i.focusTarget&&(l||(i.focus(i.focusTarget),u(!0)))},[a.initialFocus,l,i.focus,i.focusTarget,i]);var d=[a.classNames.root,a.className];a.numberOfMonths>1&&d.push(a.classNames.multiple_months),a.showWeekNumber&&d.push(a.classNames.with_weeknumber);var f=qe(qe({},a.styles.root),a.style),h=Object.keys(n).filter(function(v){return v.startsWith("data-")}).reduce(function(v,m){var g;return qe(qe({},v),(g={},g[m]=n[m],g))},{}),p=(r=(e=n.components)===null||e===void 0?void 0:e.Months)!==null&&r!==void 0?r:Pue;return c.jsx("div",qe({className:d.join(" "),style:f,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:c.jsx(p,{children:o.displayMonths.map(function(v,m){return c.jsx(Tue,{displayIndex:m,displayMonth:v},m)})})}))}function Iue(t){var e=t.children,r=nce(t,["children"]);return c.jsx(_ce,{initialProps:r,children:c.jsx(kce,{children:c.jsx(hue,{initialProps:r,children:c.jsx(Vce,{initialProps:r,children:c.jsx(Hce,{initialProps:r,children:c.jsx(Jce,{children:c.jsx(due,{children:e})})})})})})})}function Rue(t){return c.jsx(Iue,qe({},t,{children:c.jsx(kue,{initialProps:t})}))}function n7({className:t,classNames:e,showOutsideDays:r=!0,...n}){return c.jsx(Rue,{showOutsideDays:r,className:fe("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:fe(um({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:fe(um({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...a})=>c.jsx(aA,{className:"h-4 w-4"}),IconRight:({...a})=>c.jsx(V1,{className:"h-4 w-4"})},...n})}n7.displayName="Calendar";const Due=cv("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function $3({className:t,variant:e,...r}){return c.jsx("div",{className:fe(Due({variant:e}),t),...r})}var a7="AlertDialog",[Mue,rMe]=$n(a7,[$5]),Us=$5(),i7=t=>{const{__scopeAlertDialog:e,...r}=t,n=Us(e);return c.jsx($A,{...n,...r,modal:!0})};i7.displayName=a7;var $ue="AlertDialogTrigger",Lue=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=Us(r);return c.jsx(LA,{...a,...n,ref:e})});Lue.displayName=$ue;var Fue="AlertDialogPortal",o7=t=>{const{__scopeAlertDialog:e,...r}=t,n=Us(e);return c.jsx(FA,{...n,...r})};o7.displayName=Fue;var Bue="AlertDialogOverlay",s7=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=Us(r);return c.jsx(xv,{...a,...n,ref:e})});s7.displayName=Bue;var $d="AlertDialogContent",[Uue,Vue]=Mue($d),Wue=mM("AlertDialogContent"),l7=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...a}=t,i=Us(r),o=b.useRef(null),s=Ke(e,o),l=b.useRef(null);return c.jsx(vte,{contentName:$d,titleName:c7,docsSlug:"alert-dialog",children:c.jsx(Uue,{scope:r,cancelRef:l,children:c.jsxs(wv,{role:"alertdialog",...i,...a,ref:s,onOpenAutoFocus:de(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[c.jsx(Wue,{children:n}),c.jsx(Hue,{contentRef:o})]})})})});l7.displayName=$d;var c7="AlertDialogTitle",u7=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=Us(r);return c.jsx(oh,{...a,...n,ref:e})});u7.displayName=c7;var d7="AlertDialogDescription",f7=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=Us(r);return c.jsx(bv,{...a,...n,ref:e})});f7.displayName=d7;var zue="AlertDialogAction",h7=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=Us(r);return c.jsx(sx,{...a,...n,ref:e})});h7.displayName=zue;var p7="AlertDialogCancel",m7=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:a}=Vue(p7,r),i=Us(r),o=Ke(e,a);return c.jsx(sx,{...i,...n,ref:o})});m7.displayName=p7;var Hue=({contentRef:t})=>{const e=`\`${$d}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${$d}\` by passing a \`${d7}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${$d}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return b.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},que=i7,Gue=o7,v7=s7,g7=l7,y7=h7,x7=m7,w7=u7,b7=f7;const Ds=que,Kue=Gue,_7=b.forwardRef(({className:t,...e},r)=>c.jsx(v7,{className:fe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));_7.displayName=v7.displayName;const Vo=b.forwardRef(({className:t,...e},r)=>c.jsxs(Kue,{children:[c.jsx(_7,{}),c.jsx(g7,{ref:r,className:fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Vo.displayName=g7.displayName;const Wo=({className:t,...e})=>c.jsx("div",{className:fe("flex flex-col space-y-2 text-center sm:text-left",t),...e});Wo.displayName="AlertDialogHeader";const zo=({className:t,...e})=>c.jsx("div",{className:fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});zo.displayName="AlertDialogFooter";const Ho=b.forwardRef(({className:t,...e},r)=>c.jsx(w7,{ref:r,className:fe("text-lg font-semibold",t),...e}));Ho.displayName=w7.displayName;const qo=b.forwardRef(({className:t,...e},r)=>c.jsx(b7,{ref:r,className:fe("text-sm text-muted-foreground",t),...e}));qo.displayName=b7.displayName;const Go=b.forwardRef(({className:t,...e},r)=>c.jsx(y7,{ref:r,className:fe(um(),t),...e}));Go.displayName=y7.displayName;const uo=b.forwardRef(({className:t,...e},r)=>c.jsx(x7,{ref:r,className:fe(um({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));uo.displayName=x7.displayName;const Ga=vae,S7=b.createContext({}),Se=({...t})=>c.jsx(S7.Provider,{value:{name:t.name},children:c.jsx(wae,{...t})}),xx=()=>{const t=b.useContext(S7),e=b.useContext(C7),{getFieldState:r,formState:n}=hx(),a=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},C7=b.createContext({}),be=b.forwardRef(({className:t,...e},r)=>{const n=b.useId();return c.jsx(C7.Provider,{value:{id:n},children:c.jsx("div",{ref:r,className:fe("space-y-2",t),...e})})});be.displayName="FormItem";const we=b.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:a}=xx();return c.jsx(Bt,{ref:r,className:fe(n&&"text-destructive",t),htmlFor:a,...e})});we.displayName="FormLabel";const _e=b.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=xx();return c.jsx(hM,{ref:e,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...t})});_e.displayName="FormControl";const E7=b.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=xx();return c.jsx("p",{ref:r,id:n,className:fe("text-sm text-muted-foreground",t),...e})});E7.displayName="FormDescription";const Ce=b.forwardRef(({className:t,children:e,...r},n)=>{const{error:a,formMessageId:i}=xx(),o=a?String(a==null?void 0:a.message):e;return o?c.jsx("p",{ref:n,id:i,className:fe("text-sm font-medium text-destructive",t),...r,children:o}):null});Ce.displayName="FormMessage";function _S(t,[e,r]){return Math.min(r,Math.max(e,t))}function A7(t){const e=b.useRef({value:t,previous:t});return b.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Xue=[" ","Enter","ArrowUp","ArrowDown"],Yue=[" ","Enter"],pu="Select",[wx,bx,Zue]=sv(pu),[uh,nMe]=$n(pu,[Zue,tc]),_x=tc(),[Que,rc]=uh(pu),[Jue,ede]=uh(pu),j7=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:s,onValueChange:l,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:v}=t,m=_x(e),[g,x]=b.useState(null),[y,w]=b.useState(null),[_,S]=b.useState(!1),C=sh(u),[E,A]=xi({prop:n,defaultProp:a??!1,onChange:i,caller:pu}),[j,T]=xi({prop:o,defaultProp:s,onChange:l,caller:pu}),N=b.useRef(null),O=g?v||!!g.closest("form"):!0,[$,R]=b.useState(new Set),F=Array.from($).map(B=>B.props.value).join(";");return c.jsx(bA,{...m,children:c.jsxs(Que,{required:p,scope:e,trigger:g,onTriggerChange:x,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:$a(),value:j,onValueChange:T,open:E,onOpenChange:A,dir:C,triggerPointerDownPosRef:N,disabled:h,children:[c.jsx(wx.Provider,{scope:e,children:c.jsx(Jue,{scope:t.__scopeSelect,onNativeOptionAdd:b.useCallback(B=>{R(M=>new Set(M).add(B))},[]),onNativeOptionRemove:b.useCallback(B=>{R(M=>{const I=new Set(M);return I.delete(B),I})},[]),children:r})}),O?c.jsxs(Z7,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:j,onChange:B=>T(B.target.value),disabled:h,form:v,children:[j===void 0?c.jsx("option",{value:""}):null,Array.from($)]},F):null]})})};j7.displayName=pu;var N7="SelectTrigger",O7=b.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...a}=t,i=_x(r),o=rc(N7,r),s=o.disabled||n,l=Ke(e,o.onTriggerChange),u=bx(r),d=b.useRef("touch"),[f,h,p]=J7(m=>{const g=u().filter(w=>!w.disabled),x=g.find(w=>w.value===o.value),y=e9(g,m,x);y!==void 0&&o.onValueChange(y.value)}),v=m=>{s||(o.onOpenChange(!0),p()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return c.jsx(pv,{asChild:!0,...i,children:c.jsx(Ie.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":Q7(o.value)?"":void 0,...a,ref:l,onClick:de(a.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&v(m)}),onPointerDown:de(a.onPointerDown,m=>{d.current=m.pointerType;const g=m.target;g.hasPointerCapture(m.pointerId)&&g.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(v(m),m.preventDefault())}),onKeyDown:de(a.onKeyDown,m=>{const g=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(g&&m.key===" ")&&Xue.includes(m.key)&&(v(),m.preventDefault())})})})});O7.displayName=N7;var T7="SelectValue",P7=b.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...s}=t,l=rc(T7,r),{onValueNodeHasChildrenChange:u}=l,d=i!==void 0,f=Ke(e,l.onValueNodeChange);return on(()=>{u(d)},[u,d]),c.jsx(Ie.span,{...s,ref:f,style:{pointerEvents:"none"},children:Q7(l.value)?c.jsx(c.Fragment,{children:o}):i})});P7.displayName=T7;var tde="SelectIcon",k7=b.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...a}=t;return c.jsx(Ie.span,{"aria-hidden":!0,...a,ref:e,children:n||""})});k7.displayName=tde;var rde="SelectPortal",I7=t=>c.jsx(Qf,{asChild:!0,...t});I7.displayName=rde;var mu="SelectContent",R7=b.forwardRef((t,e)=>{const r=rc(mu,t.__scopeSelect),[n,a]=b.useState();if(on(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?Su.createPortal(c.jsx(D7,{scope:t.__scopeSelect,children:c.jsx(wx.Slot,{scope:t.__scopeSelect,children:c.jsx("div",{children:t.children})})}),i):null}return c.jsx(M7,{...t,ref:e})});R7.displayName=mu;var Li=10,[D7,nc]=uh(mu),nde="SelectContentImpl",ade=Wl("SelectContent.RemoveScroll"),M7=b.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:s,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:v,hideWhenDetached:m,avoidCollisions:g,...x}=t,y=rc(mu,r),[w,_]=b.useState(null),[S,C]=b.useState(null),E=Ke(e,te=>_(te)),[A,j]=b.useState(null),[T,N]=b.useState(null),O=bx(r),[$,R]=b.useState(!1),F=b.useRef(!1);b.useEffect(()=>{if(w)return ix(w)},[w]),nx();const B=b.useCallback(te=>{const[pe,...ee]=O().map(Z=>Z.ref.current),[se]=ee.slice(-1),ve=document.activeElement;for(const Z of te)if(Z===ve||(Z==null||Z.scrollIntoView({block:"nearest"}),Z===pe&&S&&(S.scrollTop=0),Z===se&&S&&(S.scrollTop=S.scrollHeight),Z==null||Z.focus(),document.activeElement!==ve))return},[O,S]),M=b.useCallback(()=>B([A,w]),[B,A,w]);b.useEffect(()=>{$&&M()},[$,M]);const{onOpenChange:I,triggerPointerDownPosRef:P}=y;b.useEffect(()=>{if(w){let te={x:0,y:0};const pe=se=>{var ve,Z;te={x:Math.abs(Math.round(se.pageX)-(((ve=P.current)==null?void 0:ve.x)??0)),y:Math.abs(Math.round(se.pageY)-(((Z=P.current)==null?void 0:Z.y)??0))}},ee=se=>{te.x<=10&&te.y<=10?se.preventDefault():w.contains(se.target)||I(!1),document.removeEventListener("pointermove",pe),P.current=null};return P.current!==null&&(document.addEventListener("pointermove",pe),document.addEventListener("pointerup",ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",pe),document.removeEventListener("pointerup",ee,{capture:!0})}}},[w,I,P]),b.useEffect(()=>{const te=()=>I(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[I]);const[V,z]=J7(te=>{const pe=O().filter(ve=>!ve.disabled),ee=pe.find(ve=>ve.ref.current===document.activeElement),se=e9(pe,te,ee);se&&setTimeout(()=>se.ref.current.focus())}),H=b.useCallback((te,pe,ee)=>{const se=!F.current&&!ee;(y.value!==void 0&&y.value===pe||se)&&(j(te),se&&(F.current=!0))},[y.value]),K=b.useCallback(()=>w==null?void 0:w.focus(),[w]),re=b.useCallback((te,pe,ee)=>{const se=!F.current&&!ee;(y.value!==void 0&&y.value===pe||se)&&N(te)},[y.value]),ue=n==="popper"?SS:$7,oe=ue===SS?{side:s,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:v,hideWhenDetached:m,avoidCollisions:g}:{};return c.jsx(D7,{scope:r,content:w,viewport:S,onViewportChange:C,itemRefCallback:H,selectedItem:A,onItemLeave:K,itemTextRefCallback:re,focusSelectedItem:M,selectedItemText:T,position:n,isPositioned:$,searchRef:V,children:c.jsx(yv,{as:ade,allowPinchZoom:!0,children:c.jsx(gv,{asChild:!0,trapped:y.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:de(a,te=>{var pe;(pe=y.trigger)==null||pe.focus({preventScroll:!0}),te.preventDefault()}),children:c.jsx(Cu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:c.jsx(ue,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:te=>te.preventDefault(),...x,...oe,onPlaced:()=>R(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:de(x.onKeyDown,te=>{const pe=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!pe&&te.key.length===1&&z(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let se=O().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);if(["ArrowUp","End"].includes(te.key)&&(se=se.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const ve=te.target,Z=se.indexOf(ve);se=se.slice(Z+1)}setTimeout(()=>B(se)),te.preventDefault()}})})})})})})});M7.displayName=nde;var ide="SelectItemAlignedPosition",$7=b.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...a}=t,i=rc(mu,r),o=nc(mu,r),[s,l]=b.useState(null),[u,d]=b.useState(null),f=Ke(e,E=>d(E)),h=bx(r),p=b.useRef(!1),v=b.useRef(!0),{viewport:m,selectedItem:g,selectedItemText:x,focusSelectedItem:y}=o,w=b.useCallback(()=>{if(i.trigger&&i.valueNode&&s&&u&&m&&g&&x){const E=i.trigger.getBoundingClientRect(),A=u.getBoundingClientRect(),j=i.valueNode.getBoundingClientRect(),T=x.getBoundingClientRect();if(i.dir!=="rtl"){const ve=T.left-A.left,Z=j.left-ve,Ge=E.left-Z,Be=E.width+Ge,ht=Math.max(Be,A.width),yt=window.innerWidth-Li,Kt=_S(Z,[Li,Math.max(Li,yt-ht)]);s.style.minWidth=Be+"px",s.style.left=Kt+"px"}else{const ve=A.right-T.right,Z=window.innerWidth-j.right-ve,Ge=window.innerWidth-E.right-Z,Be=E.width+Ge,ht=Math.max(Be,A.width),yt=window.innerWidth-Li,Kt=_S(Z,[Li,Math.max(Li,yt-ht)]);s.style.minWidth=Be+"px",s.style.right=Kt+"px"}const N=h(),O=window.innerHeight-Li*2,$=m.scrollHeight,R=window.getComputedStyle(u),F=parseInt(R.borderTopWidth,10),B=parseInt(R.paddingTop,10),M=parseInt(R.borderBottomWidth,10),I=parseInt(R.paddingBottom,10),P=F+B+$+I+M,V=Math.min(g.offsetHeight*5,P),z=window.getComputedStyle(m),H=parseInt(z.paddingTop,10),K=parseInt(z.paddingBottom,10),re=E.top+E.height/2-Li,ue=O-re,oe=g.offsetHeight/2,te=g.offsetTop+oe,pe=F+B+te,ee=P-pe;if(pe<=re){const ve=N.length>0&&g===N[N.length-1].ref.current;s.style.bottom="0px";const Z=u.clientHeight-m.offsetTop-m.offsetHeight,Ge=Math.max(ue,oe+(ve?K:0)+Z+M),Be=pe+Ge;s.style.height=Be+"px"}else{const ve=N.length>0&&g===N[0].ref.current;s.style.top="0px";const Ge=Math.max(re,F+m.offsetTop+(ve?H:0)+oe)+ee;s.style.height=Ge+"px",m.scrollTop=pe-re+m.offsetTop}s.style.margin=`${Li}px 0`,s.style.minHeight=V+"px",s.style.maxHeight=O+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,s,u,m,g,x,i.dir,n]);on(()=>w(),[w]);const[_,S]=b.useState();on(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const C=b.useCallback(E=>{E&&v.current===!0&&(w(),y==null||y(),v.current=!1)},[w,y]);return c.jsx(sde,{scope:r,contentWrapper:s,shouldExpandOnScrollRef:p,onScrollButtonChange:C,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:c.jsx(Ie.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});$7.displayName=ide;var ode="SelectPopperPosition",SS=b.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Li,...i}=t,o=_x(r);return c.jsx(X1,{...o,...i,ref:e,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});SS.displayName=ode;var[sde,wj]=uh(mu,{}),CS="SelectViewport",L7=b.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...a}=t,i=nc(CS,r),o=wj(CS,r),s=Ke(e,i.onViewportChange),l=b.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),c.jsx(wx.Slot,{scope:r,children:c.jsx(Ie.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:de(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const p=Math.abs(l.current-d.scrollTop);if(p>0){const v=window.innerHeight-Li*2,m=parseFloat(f.style.minHeight),g=parseFloat(f.style.height),x=Math.max(m,g);if(x<v){const y=x+p,w=Math.min(v,y),_=y-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});L7.displayName=CS;var F7="SelectGroup",[lde,cde]=uh(F7),ude=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=$a();return c.jsx(lde,{scope:r,id:a,children:c.jsx(Ie.div,{role:"group","aria-labelledby":a,...n,ref:e})})});ude.displayName=F7;var B7="SelectLabel",U7=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=cde(B7,r);return c.jsx(Ie.div,{id:a.id,...n,ref:e})});U7.displayName=B7;var py="SelectItem",[dde,V7]=uh(py),W7=b.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=t,s=rc(py,r),l=nc(py,r),u=s.value===n,[d,f]=b.useState(i??""),[h,p]=b.useState(!1),v=Ke(e,y=>{var w;return(w=l.itemRefCallback)==null?void 0:w.call(l,y,n,a)}),m=$a(),g=b.useRef("touch"),x=()=>{a||(s.onValueChange(n),s.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(dde,{scope:r,value:n,disabled:a,textId:m,isSelected:u,onItemTextChange:b.useCallback(y=>{f(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:c.jsx(wx.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:c.jsx(Ie.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:v,onFocus:de(o.onFocus,()=>p(!0)),onBlur:de(o.onBlur,()=>p(!1)),onClick:de(o.onClick,()=>{g.current!=="mouse"&&x()}),onPointerUp:de(o.onPointerUp,()=>{g.current==="mouse"&&x()}),onPointerDown:de(o.onPointerDown,y=>{g.current=y.pointerType}),onPointerMove:de(o.onPointerMove,y=>{var w;g.current=y.pointerType,a?(w=l.onItemLeave)==null||w.call(l):g.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:de(o.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=l.onItemLeave)==null||w.call(l))}),onKeyDown:de(o.onKeyDown,y=>{var _;((_=l.searchRef)==null?void 0:_.current)!==""&&y.key===" "||(Yue.includes(y.key)&&x(),y.key===" "&&y.preventDefault())})})})})});W7.displayName=py;var up="SelectItemText",z7=b.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:a,...i}=t,o=rc(up,r),s=nc(up,r),l=V7(up,r),u=ede(up,r),[d,f]=b.useState(null),h=Ke(e,x=>f(x),l.onItemTextChange,x=>{var y;return(y=s.itemTextRefCallback)==null?void 0:y.call(s,x,l.value,l.disabled)}),p=d==null?void 0:d.textContent,v=b.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:g}=u;return on(()=>(m(v),()=>g(v)),[m,g,v]),c.jsxs(c.Fragment,{children:[c.jsx(Ie.span,{id:l.textId,...i,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Su.createPortal(i.children,o.valueNode):null]})});z7.displayName=up;var H7="SelectItemIndicator",q7=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return V7(H7,r).isSelected?c.jsx(Ie.span,{"aria-hidden":!0,...n,ref:e}):null});q7.displayName=H7;var ES="SelectScrollUpButton",G7=b.forwardRef((t,e)=>{const r=nc(ES,t.__scopeSelect),n=wj(ES,t.__scopeSelect),[a,i]=b.useState(!1),o=Ke(e,n.onScrollButtonChange);return on(()=>{if(r.viewport&&r.isPositioned){let s=function(){const u=l.scrollTop>0;i(u)};const l=r.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),a?c.jsx(X7,{...t,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=r;s&&l&&(s.scrollTop=s.scrollTop-l.offsetHeight)}}):null});G7.displayName=ES;var AS="SelectScrollDownButton",K7=b.forwardRef((t,e)=>{const r=nc(AS,t.__scopeSelect),n=wj(AS,t.__scopeSelect),[a,i]=b.useState(!1),o=Ke(e,n.onScrollButtonChange);return on(()=>{if(r.viewport&&r.isPositioned){let s=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;i(d)};const l=r.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),a?c.jsx(X7,{...t,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=r;s&&l&&(s.scrollTop=s.scrollTop+l.offsetHeight)}}):null});K7.displayName=AS;var X7=b.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=t,i=nc("SelectScrollButton",r),o=b.useRef(null),s=bx(r),l=b.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return b.useEffect(()=>()=>l(),[l]),on(()=>{var d;const u=s().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[s]),c.jsx(Ie.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:de(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:de(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:de(a.onPointerLeave,()=>{l()})})}),fde="SelectSeparator",Y7=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return c.jsx(Ie.div,{"aria-hidden":!0,...n,ref:e})});Y7.displayName=fde;var jS="SelectArrow",hde=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=_x(r),i=rc(jS,r),o=nc(jS,r);return i.open&&o.position==="popper"?c.jsx(Y1,{...a,...n,ref:e}):null});hde.displayName=jS;var pde="SelectBubbleInput",Z7=b.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const a=b.useRef(null),i=Ke(n,a),o=A7(e);return b.useEffect(()=>{const s=a.current;if(!s)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&d){const f=new Event("change",{bubbles:!0});d.call(s,e),s.dispatchEvent(f)}},[o,e]),c.jsx(Ie.select,{...r,style:{...xM,...r.style},ref:i,defaultValue:e})});Z7.displayName=pde;function Q7(t){return t===""||t===void 0}function J7(t){const e=Ir(t),r=b.useRef(""),n=b.useRef(0),a=b.useCallback(o=>{const s=r.current+o;e(s),function l(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(s)},[e]),i=b.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function e9(t,e,r){const a=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let o=mde(t,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const l=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return l!==r?l:void 0}function mde(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var vde=j7,t9=O7,gde=P7,yde=k7,xde=I7,r9=R7,wde=L7,n9=U7,a9=W7,bde=z7,_de=q7,i9=G7,o9=K7,s9=Y7;const Pt=vde,kt=gde,Et=b.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(t9,{ref:n,className:fe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,c.jsx(yde,{asChild:!0,children:c.jsx(iu,{className:"h-4 w-4 opacity-50"})})]}));Et.displayName=t9.displayName;const l9=b.forwardRef(({className:t,...e},r)=>c.jsx(i9,{ref:r,className:fe("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(Qp,{className:"h-4 w-4"})}));l9.displayName=i9.displayName;const c9=b.forwardRef(({className:t,...e},r)=>c.jsx(o9,{ref:r,className:fe("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(iu,{className:"h-4 w-4"})}));c9.displayName=o9.displayName;const At=b.forwardRef(({className:t,children:e,position:r="popper",...n},a)=>c.jsx(xde,{children:c.jsxs(r9,{ref:a,className:fe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[c.jsx(l9,{}),c.jsx(wde,{className:fe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),c.jsx(c9,{})]})}));At.displayName=r9.displayName;const Sde=b.forwardRef(({className:t,...e},r)=>c.jsx(n9,{ref:r,className:fe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Sde.displayName=n9.displayName;const je=b.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(a9,{ref:n,className:fe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...r,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(_de,{children:c.jsx(U1,{className:"h-4 w-4"})})}),c.jsx(bde,{children:e})]}));je.displayName=a9.displayName;const Cde=b.forwardRef(({className:t,...e},r)=>c.jsx(s9,{ref:r,className:fe("-mx-1 my-1 h-px bg-muted",t),...e}));Cde.displayName=s9.displayName;var Sx="Popover",[u9,aMe]=$n(Sx,[tc]),kv=tc(),[Ede,ac]=u9(Sx),d9=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=t,s=kv(e),l=b.useRef(null),[u,d]=b.useState(!1),[f,h]=xi({prop:n,defaultProp:a??!1,onChange:i,caller:Sx});return c.jsx(bA,{...s,children:c.jsx(Ede,{scope:e,contentId:$a(),triggerRef:l,open:f,onOpenChange:h,onOpenToggle:b.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:u,onCustomAnchorAdd:b.useCallback(()=>d(!0),[]),onCustomAnchorRemove:b.useCallback(()=>d(!1),[]),modal:o,children:r})})};d9.displayName=Sx;var f9="PopoverAnchor",Ade=b.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=ac(f9,r),i=kv(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:s}=a;return b.useEffect(()=>(o(),()=>s()),[o,s]),c.jsx(pv,{...i,...n,ref:e})});Ade.displayName=f9;var h9="PopoverTrigger",p9=b.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=ac(h9,r),i=kv(r),o=Ke(e,a.triggerRef),s=c.jsx(Ie.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":x9(a.open),...n,ref:o,onClick:de(t.onClick,a.onOpenToggle)});return a.hasCustomAnchor?s:c.jsx(pv,{asChild:!0,...i,children:s})});p9.displayName=h9;var bj="PopoverPortal",[jde,Nde]=u9(bj,{forceMount:void 0}),m9=t=>{const{__scopePopover:e,forceMount:r,children:n,container:a}=t,i=ac(bj,e);return c.jsx(jde,{scope:e,forceMount:r,children:c.jsx(mn,{present:r||i.open,children:c.jsx(Qf,{asChild:!0,container:a,children:n})})})};m9.displayName=bj;var xf="PopoverContent",v9=b.forwardRef((t,e)=>{const r=Nde(xf,t.__scopePopover),{forceMount:n=r.forceMount,...a}=t,i=ac(xf,t.__scopePopover);return c.jsx(mn,{present:n||i.open,children:i.modal?c.jsx(Tde,{...a,ref:e}):c.jsx(Pde,{...a,ref:e})})});v9.displayName=xf;var Ode=Wl("PopoverContent.RemoveScroll"),Tde=b.forwardRef((t,e)=>{const r=ac(xf,t.__scopePopover),n=b.useRef(null),a=Ke(e,n),i=b.useRef(!1);return b.useEffect(()=>{const o=n.current;if(o)return ix(o)},[]),c.jsx(yv,{as:Ode,allowPinchZoom:!0,children:c.jsx(g9,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:de(t.onCloseAutoFocus,o=>{var s;o.preventDefault(),i.current||(s=r.triggerRef.current)==null||s.focus()}),onPointerDownOutside:de(t.onPointerDownOutside,o=>{const s=o.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0,u=s.button===2||l;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:de(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Pde=b.forwardRef((t,e)=>{const r=ac(xf,t.__scopePopover),n=b.useRef(!1),a=b.useRef(!1);return c.jsx(g9,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,s;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(n.current||(s=r.triggerRef.current)==null||s.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),g9=b.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:d,...f}=t,h=ac(xf,r),p=kv(r);return nx(),c.jsx(gv,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:c.jsx(Cu,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:c.jsx(X1,{"data-state":x9(h.open),role:"dialog",id:h.contentId,...p,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),y9="PopoverClose",kde=b.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=ac(y9,r);return c.jsx(Ie.button,{type:"button",...n,ref:e,onClick:de(t.onClick,()=>a.onOpenChange(!1))})});kde.displayName=y9;var Ide="PopoverArrow",Rde=b.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=kv(r);return c.jsx(Y1,{...a,...n,ref:e})});Rde.displayName=Ide;function x9(t){return t?"open":"closed"}var Dde=d9,Mde=p9,$de=m9,w9=v9;const Lde=Dde,Fde=Mde,b9=b.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},a)=>c.jsx($de,{children:c.jsx(w9,{ref:a,align:e,sideOffset:r,className:fe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));b9.displayName=w9.displayName;const Bde={parameters:["customer.name","order.order_number"]},Ude={parameters:["customer.name","order.order_number","store.address","gps"]},Vde={parameters:["customer.name","feedback_link"]},is={wa_work_initiation:Bde,wa_order_ready:Ude,feedback:Vde};function dh(){const{toast:t}=pr(),e=Nn();function r(){return"https://szburzfibchvdyxksokr.supabase.co/functions/v1/whatsapp-proxy"||"http://localhost:4001"}const{data:n=[],isLoading:a,error:i}=Ln({queryKey:["orders"],queryFn:async()=>{const{data:d,error:f}=await le.from("orders").select(`
          *,
          customer:customers(id, name, phone, vip_status),
          store:stores(id, name),
          assigned_employee:employees(id, name)
        `).order("created_at",{ascending:!1});if(f)throw f;return d}}),o=Ze({mutationFn:async d=>{const{data:f,error:h}=await le.from("orders").insert(d).select().single();if(h)throw h;return f},onSuccess:()=>{e.invalidateQueries({queryKey:["orders"]}),t({title:"Order created",description:"The order has been created successfully."})},onError:d=>{t({title:"Error",description:d.message,variant:"destructive"})}}),s=Ze({mutationFn:async({id:d,status:f})=>{const{data:h,error:p}=await le.from("orders").update({status:f}).eq("id",d).select().single();if(p)throw p;return h},onSuccess:async d=>{var f,h,p,v,m,g,x,y,w,_,S,C,E,A,j,T;e.invalidateQueries({queryKey:["orders"]}),t({title:"Order updated",description:"The order status has been updated."});try{if(d&&d.status==="ready_for_pickup"){const{data:N,error:O}=await le.from("orders").select("id, order_number, customer:customers(id, name, phone), store:stores(id, name, address)").eq("id",d.id).single();if(!N||O||!N.customer)ri("missing order/customer details (ready)",O);else{const $=N.customer.phone||"",R=Ap($),F=r();if(!R)or("no or invalid customer phone (ready)",{orderId:N.id});else{const B=(f=is==null?void 0:is.wa_order_ready)==null?void 0:f.parameters;if(B&&B.length>0){const M=B.map(H=>{var oe;if(H==="gps")return{type:"text",text:"Required Update"};const K=H.split(".");let re={order:N,customer:N.customer,store:N.store};for(const te of K)if(re&&typeof re=="object"&&te in re)re=re[te];else{re=void 0;break}return H==="store.address"&&(!re||String(re).trim()==="")&&(re=((oe=N.store)==null?void 0:oe.name)||"-"),{type:"text",text:re!=null&&String(re).trim()?String(re):"-"}}),I=[{type:"body",parameters:M}];or("sending wa_order_ready",{to:R,paramsLength:M.length}),or("sending payload",{to:R,template:"wa_order_ready",paramsLength:M.length});let P=`${F}/api/whatsapp/send`;const V=await $i(P,{method:"POST",body:JSON.stringify({to:R,template:"wa_order_ready",language:"en",components:I})}),z=await V.text().catch(()=>null);V.ok?or("wa_order_ready sent",{to:R,status:V.status}):ri("wa_order_ready send failed",{to:R,status:V.status,body:z})}else try{const M=await $i(`${F}/api/whatsapp/templates/wa_order_ready?language=en_US`),I=await M.json().catch(()=>null);or("template definition response",{status:M.status});let P=2;try{const te=I&&(((h=I.data)==null?void 0:h[0])||I[0]||I.template||I),pe=((p=te==null?void 0:te.components)==null?void 0:p.find(se=>(se.type||se.name||"").toLowerCase()==="body"))||((v=te==null?void 0:te.components)==null?void 0:v.find(se=>(se.type||"").toLowerCase()==="text")),ee=(pe==null?void 0:pe.text)||(pe==null?void 0:pe.text_template)||(pe==null?void 0:pe.example)||void 0;if(typeof ee=="string"){const se=ee.match(/\{\{\s*\d+\s*\}\}/g)||ee.match(/\{\{\s*[^}]+\s*\}\}/g);se&&se.length&&(P=se.length)}else pe!=null&&pe.example&&Array.isArray(pe.example)&&(P=pe.example.length)}catch{}const V=[];V.push({type:"text",text:N.customer.name||""}),V.push({type:"text",text:N.order_number||""});const z=((m=N.store)==null?void 0:m.address)||((g=N.store)==null?void 0:g.name)||"-";V.push({type:"text",text:z}),V.push({type:"text",text:"Required Update"});const H=["-","-","-"];for(let te=V.length;te<P;te++)V.push({type:"text",text:H[te-V.length]||"-"});const re={to:R,template:"wa_order_ready",language:"en",components:[{type:"body",parameters:V}]};or("sending fallback payload",{to:R,template:"wa_order_ready",paramsLength:V.length});let ue=`${F}/api/whatsapp/send`;const oe=await $i(ue,{method:"POST",body:JSON.stringify(re)});if(oe.ok){const te=await oe.text().catch(()=>null);or("wa_order_ready sent (fallback)",{to:R,status:oe.status})}else{const te=await oe.text().catch(()=>null);ri("wa_order_ready send failed (fallback)",{status:oe.status,body:te})}}catch(M){ri("proxy unreachable or template fetch failed  skipping send",{err:M&&M.message?M.message:M})}}}}}catch(N){jp("WhatsApp trigger error (ready_for_pickup)",N&&N.message?N.message:N)}try{if(d&&d.status==="completed"){const{data:N,error:O}=await le.from("orders").select("id, order_number, customer:customers(id, name, phone), store:stores(id, name, address)").eq("id",d.id).single();if(!N||O||!N.customer)ri("missing order/customer details (completed)",O);else{const $=N.customer.phone||"",R=Ap($),F=r();if(!R)or("no or invalid customer phone (completed)",{orderId:N.id});else{const B=(x=is==null?void 0:is.feedback)==null?void 0:x.parameters;if(B&&B.length>0){const M=B.map(z=>{if(z==="feedback_link")return{type:"text",text:"Required Update"};const H=z.split(".");let K={order:N,customer:N.customer,store:N.store};for(const ue of H)if(K&&typeof K=="object"&&ue in K)K=K[ue];else{K=void 0;break}return{type:"text",text:K!=null&&String(K).trim()?String(K):"-"}}),I=[{type:"body",parameters:M}];or("sending feedback using mapping",{to:R,paramsLength:M.length});const P=await $i(`${F}/api/whatsapp/send`,{method:"POST",body:JSON.stringify({to:R,template:"feedback",language:"en",components:I})}),V=await P.text().catch(()=>null);P.ok?or("feedback sent",{to:R,status:P.status}):ri("feedback send failed",{to:R,status:P.status,body:V})}else try{const I=[{type:"body",parameters:[{type:"text",text:N.customer.name||""},{type:"text",text:"Required Update"}]}];or("sending feedback fallback",{to:R});const P=await $i(`${F}/api/whatsapp/send`,{method:"POST",body:JSON.stringify({to:R,template:"feedback",language:"en",components:I})}),V=await P.text().catch(()=>null);P.ok?or("feedback sent (fallback)",{to:R,status:P.status}):ri("feedback send failed (fallback)",{to:R,status:P.status,body:V})}catch(M){ri("proxy unreachable or template fetch failed  skipping feedback send",{err:M&&M.message?M.message:M})}}}}}catch(N){jp("WhatsApp trigger error (completed)",N&&N.message?N.message:N)}try{if(!d||d.status!=="in_production")return;const{data:N,error:O}=await le.from("orders").select("id, order_number, customer:customers(id, name, phone), store:stores(id, name), due_date").eq("id",d.id).single();if(O||!N||!N.customer){ri("missing order/customer details (in_production)",O);return}const $=N.customer.phone||"",R=Ap($),F=r();if(!R){or("no or invalid customer phone (in_production)",{orderId:N.id});return}const B=(y=is==null?void 0:is.wa_work_initiation)==null?void 0:y.parameters;if(B&&B.length>0){const M=B.map(z=>{const H=z.split(".");let K={order:N,customer:N.customer};for(const ue of H)if(K&&typeof K=="object"&&ue in K)K=K[ue];else{K=void 0;break}return{type:"text",text:K!=null&&String(K).trim()?String(K):"-"}}),I=[{type:"body",parameters:M}];or("sending wa_work_initiation using mapping",{to:R,paramsLength:M.length});const P=await $i(`${F}/api/whatsapp/send`,{method:"POST",body:JSON.stringify({to:R,template:"wa_work_initiation",language:"en",components:I})}),V=await P.text().catch(()=>null);or("work_initiation response",{status:P.status});return}try{const M=await $i(`${F}/api/whatsapp/templates/wa_work_initiation?language=en_US`),I=await M.json().catch(()=>null);or("template definition response",{status:M.status});let P=3;I&&I.data&&Array.isArray(I.data)&&I.data.length===0&&(P=2);try{const ue=I&&(((w=I.data)==null?void 0:w[0])||I[0]||I.template||I),oe=((_=ue==null?void 0:ue.components)==null?void 0:_.find(pe=>(pe.type||pe.name||"").toLowerCase()==="body"))||((S=ue==null?void 0:ue.components)==null?void 0:S.find(pe=>(pe.type||"").toLowerCase()==="text")),te=(oe==null?void 0:oe.text)||(oe==null?void 0:oe.text_template)||(oe==null?void 0:oe.example)||void 0;if(typeof te=="string"){const pe=te.match(/\{\{\s*\d+\s*\}\}/g)||te.match(/\{\{\s*[^}]+\s*\}\}/g);pe&&pe.length&&(P=pe.length)}else oe!=null&&oe.example&&Array.isArray(oe.example)&&(P=oe.example.length)}catch{}const V=[];V.push({type:"text",text:N.customer.name||""}),V.push({type:"text",text:N.order_number||""}),V.push({type:"text",text:"In Production"});const z=[((C=N.store)==null?void 0:C.name)||"",N.due_date?new Date(N.due_date).toISOString().split("T")[0]:"","-"];for(let ue=V.length;ue<P;ue++){const oe=z[ue-V.length]||"-";V.push({type:"text",text:oe})}const H=[{type:"body",parameters:V}];or("sending wa_work_initiation",{to:R,expectedParams:P,paramsLength:V.length});const K={to:R,template:"wa_work_initiation",language:"en",components:H},re=await $i(`${F}/api/whatsapp/send`,{method:"POST",body:JSON.stringify(K)});if(re.ok){const ue=await re.text().catch(()=>null);or("work initiation response",{status:re.status})}else{const ue=await re.text().catch(()=>null);let oe=null;try{oe=ue?JSON.parse(ue):null}catch{oe=null}ri("work initiation send failed",{status:re.status,body:oe||ue});const te=((E=oe==null?void 0:oe.error)==null?void 0:E.code)??(oe==null?void 0:oe.code),pe=((j=(A=oe==null?void 0:oe.error)==null?void 0:A.error_data)==null?void 0:j.details)||((T=oe==null?void 0:oe.error)==null?void 0:T.details)||"";if(te===132e3&&typeof pe=="string"){const ee=pe.match(/expected number of params \((\d+)\)/i)||pe.match(/expected number of params \((\d+)\)/i),se=ee?Number(ee[1]):null;if(se&&se<V.length){const ve=V.slice(0,se);or("retrying with trimmed params length",se);const Z={...K,components:[{type:"body",parameters:ve}]},Ge=await $i(`${F}/api/whatsapp/send`,{method:"POST",body:JSON.stringify(Z)}),Be=await Ge.text().catch(()=>null);or("proxy retry response",{status:Ge.status})}}}}catch(M){ri("proxy unreachable or template fetch failed  skipping WA send",{err:M&&M.message?M.message:M});return}}catch(N){jp("WhatsApp trigger error (in_production)",N&&N.message?N.message:N)}},onError:d=>{t({title:"Error",description:d.message,variant:"destructive"})}}),l=Ze({mutationFn:async({id:d,...f})=>{const{data:h,error:p}=await le.from("orders").update(f).eq("id",d).select().single();if(p)throw p;return h},onSuccess:()=>{e.invalidateQueries({queryKey:["orders"]}),t({title:"Order updated",description:"The order has been updated."})},onError:d=>{t({title:"Error",description:d.message,variant:"destructive"})}}),u=Ze({mutationFn:async d=>{const{error:f}=await le.from("orders").update({status:"cancelled"}).eq("id",d);if(f)throw f},onSuccess:()=>{e.invalidateQueries({queryKey:["orders"]}),t({title:"Order cancelled",description:"The order has been cancelled."})},onError:d=>{t({title:"Error",description:d.message,variant:"destructive"})}});return{orders:n,isLoading:a,error:i,createOrder:o,updateOrderStatus:s,updateOrder:l,deleteOrder:u}}function Iv(){const{toast:t}=pr(),e=Nn(),{data:r=[],isLoading:n,error:a}=Ln({queryKey:["customers"],queryFn:async()=>{const{data:l,error:u}=await le.from("customers").select("*").order("created_at",{ascending:!1});if(u)throw u;return l}}),i=Ze({mutationFn:async l=>{const{data:u,error:d}=await le.from("customers").insert(l).select().single();if(d)throw d;return u},onSuccess:()=>{e.invalidateQueries({queryKey:["customers"]}),t({title:"Customer created",description:"The customer has been added successfully."})},onError:l=>{t({title:"Error",description:l.message,variant:"destructive"})}}),o=Ze({mutationFn:async({id:l,...u})=>{const{data:d,error:f}=await le.from("customers").update(u).eq("id",l).select().single();if(f)throw f;return d},onSuccess:()=>{e.invalidateQueries({queryKey:["customers"]}),t({title:"Customer updated",description:"The customer has been updated successfully."})},onError:l=>{t({title:"Error",description:l.message,variant:"destructive"})}}),s=Ze({mutationFn:async l=>{const u=typeof l=="string"?l:l.id;if(typeof l=="string"?!1:l.cascade??!1){const{data:h,error:p}=await le.from("orders").select("id").eq("customer_id",u);if(p)throw p;const v=(h||[]).map(m=>m.id);if(v.length>0){const{error:m}=await le.from("order_items").delete().in("order_id",v);if(m)throw m;const{error:g}=await le.from("payment_history").delete().in("order_id",v);if(g)throw g;const{error:x}=await le.from("fitting_appointments").delete().in("order_id",v);if(x)throw x;const{error:y}=await le.from("adjustment_history").delete().in("order_id",v);if(y)throw y;const{data:w,error:_}=await le.from("measurements").select("id").in("order_id",v);if(_)throw _;const S=(w||[]).map(A=>A.id);if(S.length>0){const{error:A}=await le.from("measurement_versions").delete().in("measurement_id",S);if(A)throw A}const{error:C}=await le.from("measurements").delete().in("order_id",v);if(C)throw C;const{error:E}=await le.from("orders").delete().in("id",v);if(E)throw E}}const{error:f}=await le.from("customers").delete().eq("id",u);if(f)throw f},onSuccess:()=>{e.invalidateQueries({queryKey:["customers"]}),t({title:"Customer deleted",description:"The customer has been removed."})},onError:l=>{t({title:"Error",description:l.message,variant:"destructive"})}});return{customers:r,isLoading:n,error:a,createCustomer:i,updateCustomer:o,deleteCustomer:s}}function Ci(){const{toast:t}=pr(),e=Nn(),{data:r=[],isLoading:n,error:a}=Ln({queryKey:["stores"],queryFn:async()=>{const{data:d,error:f}=await le.from("stores").select("*").order("is_active",{ascending:!1}).order("name");if(f)throw f;return d}}),i=Ze({mutationFn:async d=>{const{data:f,error:h}=await le.from("stores").insert(d).select().single();if(h)throw h;return f},onSuccess:()=>{e.invalidateQueries({queryKey:["stores"]}),t({title:"Store created",description:"The store has been added successfully."})},onError:d=>{t({title:"Error",description:d.message,variant:"destructive"})}}),o=Ze({mutationFn:async({id:d,...f})=>{const{data:h,error:p}=await le.from("stores").update(f).eq("id",d).select().single();if(p)throw p;return h},onSuccess:()=>{e.invalidateQueries({queryKey:["stores"]}),t({title:"Store updated",description:"The store has been updated."})},onError:d=>{t({title:"Error",description:d.message,variant:"destructive"})}}),s=Ze({mutationFn:async d=>{const{error:f}=await le.from("stores").update({is_active:!1}).eq("id",d);if(f)throw f},onSuccess:()=>{e.invalidateQueries({queryKey:["stores"]}),t({title:"Store deactivated",description:"The store has been deactivated."})},onError:d=>{t({title:"Error",description:d.message,variant:"destructive"})}}),l=Ze({mutationFn:async d=>{const{error:f}=await le.from("stores").update({is_active:!0}).eq("id",d);if(f)throw f},onSuccess:()=>{e.invalidateQueries({queryKey:["stores"]}),t({title:"Store reactivated",description:"The store has been reactivated."})},onError:d=>{t({title:"Error",description:d.message,variant:"destructive"})}}),u=Ze({mutationFn:async d=>{const{error:f}=await le.from("stores").delete().eq("id",d);if(f)throw f},onSuccess:()=>{e.invalidateQueries({queryKey:["stores"]}),t({title:"Store deleted",description:"The store has been permanently deleted."})},onError:d=>{t({title:"Error",description:d.message,variant:"destructive"})}});return{stores:r,isLoading:n,error:a,createStore:i,updateStore:o,deleteStore:s,reactivateStore:l,permanentDeleteStore:u}}function Rv(){const{toast:t}=pr(),e=Nn(),{data:r=[],isLoading:n,error:a}=Ln({queryKey:["employees"],queryFn:async()=>{const{data:f,error:h}=await le.from("employees").select(`
          *,
          store:stores(id, name)
        `).order("is_active",{ascending:!1}).order("name");if(h)throw h;return f}}),i=r.filter(f=>f.is_active),o=Ze({mutationFn:async f=>{const{data:h,error:p}=await le.from("employees").insert(f).select().single();if(p)throw p;return h},onSuccess:()=>{e.invalidateQueries({queryKey:["employees"]}),t({title:"Employee added",description:"The employee has been added successfully."})},onError:f=>{t({title:"Error",description:f.message,variant:"destructive"})}}),s=Ze({mutationFn:async({id:f,...h})=>{const{data:p,error:v}=await le.from("employees").update(h).eq("id",f).select().single();if(v)throw v;return p},onSuccess:()=>{e.invalidateQueries({queryKey:["employees"]}),t({title:"Employee updated",description:"The employee has been updated successfully."})},onError:f=>{t({title:"Error",description:f.message,variant:"destructive"})}}),l=Ze({mutationFn:async f=>{const{error:h}=await le.from("employees").update({is_active:!1}).eq("id",f);if(h)throw h},onSuccess:()=>{e.invalidateQueries({queryKey:["employees"]}),t({title:"Employee deactivated",description:"The employee has been deactivated."})},onError:f=>{t({title:"Error",description:f.message,variant:"destructive"})}}),u=Ze({mutationFn:async f=>{const{error:h}=await le.from("employees").update({is_active:!0}).eq("id",f);if(h)throw h},onSuccess:()=>{e.invalidateQueries({queryKey:["employees"]}),t({title:"Employee reactivated",description:"The employee is now active again."})},onError:f=>{t({title:"Error",description:f.message,variant:"destructive"})}}),d=Ze({mutationFn:async f=>{const{error:h}=await le.from("employees").delete().eq("id",f);if(h)throw h},onSuccess:()=>{e.invalidateQueries({queryKey:["employees"]}),t({title:"Employee deleted",description:"The employee has been permanently deleted."})},onError:f=>{t({title:"Error",description:f.message,variant:"destructive"})}});return{employees:r,activeEmployees:i,isLoading:n,error:a,createEmployee:o,updateEmployee:s,deactivateEmployee:l,reactivateEmployee:u,deleteEmployee:d}}function fh(){const{toast:t}=pr(),e=Nn(),{data:r=[],isLoading:n,error:a}=Ln({queryKey:["inventory"],queryFn:async()=>{const{data:l,error:u}=await le.from("inventory").select(`
          *,
          store:stores(id, name)
        `).eq("is_active",!0).order("name");if(u)throw u;return l}}),i=Ze({mutationFn:async l=>{const{data:u,error:d}=await le.from("inventory").insert(l).select().single();if(d)throw d;return u},onSuccess:()=>{e.invalidateQueries({queryKey:["inventory"]}),t({title:"Item added",description:"The inventory item has been added successfully."})},onError:l=>{t({title:"Error",description:l.message,variant:"destructive"})}}),o=Ze({mutationFn:async({id:l,...u})=>{const{data:d,error:f}=await le.from("inventory").update(u).eq("id",l).select().single();if(f)throw f;return d},onSuccess:()=>{e.invalidateQueries({queryKey:["inventory"]}),t({title:"Item updated",description:"The inventory item has been updated."})},onError:l=>{t({title:"Error",description:l.message,variant:"destructive"})}}),s=Ze({mutationFn:async l=>{const u=typeof l=="string"?l:l.id;if(typeof l=="string"?!0:l.cascade??!0){const{error:h}=await le.from("order_items").delete().eq("inventory_id",u);if(h)throw h}const{error:f}=await le.from("inventory").delete().eq("id",u);if(f)throw f},onSuccess:()=>{e.invalidateQueries({queryKey:["inventory"]}),t({title:"Item deleted",description:"The inventory item has been removed from the database."})},onError:l=>{t({title:"Error",description:l.message,variant:"destructive"})}});return{inventory:r,isLoading:n,error:a,createInventoryItem:i,updateInventoryItem:o,deleteInventoryItem:s}}function Cx(){const{toast:t}=pr(),e=Nn(),{data:r=[],isLoading:n,error:a}=Ln({queryKey:["services"],queryFn:async()=>{const{data:l,error:u}=await le.from("services").select("*").eq("active",!0).order("name");if(u)throw u;return l}}),i=Ze({mutationFn:async l=>{const{data:u,error:d}=await le.from("services").insert(l).select().single();if(d)throw d;return u},onSuccess:()=>{e.invalidateQueries({queryKey:["services"]}),t({title:"Service added",description:"The service has been added."})},onError:l=>{t({title:"Error",description:l.message,variant:"destructive"})}}),o=Ze({mutationFn:async({id:l,...u})=>{const{data:d,error:f}=await le.from("services").update(u).eq("id",l).select().single();if(f)throw f;return d},onSuccess:()=>{e.invalidateQueries({queryKey:["services"]}),t({title:"Service updated",description:"The service has been updated."})},onError:l=>{t({title:"Error",description:l.message,variant:"destructive"})}}),s=Ze({mutationFn:async l=>{const u=typeof l=="string"?l:l.id;if(typeof l=="string"?!0:l.cascade??!0){const{error:h}=await le.from("order_items").delete().eq("service_id",u);if(h)throw h}const{error:f}=await le.from("services").delete().eq("id",u);if(f)throw f},onSuccess:()=>{e.invalidateQueries({queryKey:["services"]}),t({title:"Service deleted",description:"The service has been removed from the database."})},onError:l=>{t({title:"Error",description:l.message,variant:"destructive"})}});return{services:r,isLoading:n,error:a,createService:i,updateService:o,deleteService:s}}function Dv(){const{toast:t}=pr(),e=Nn(),{data:r=[],isLoading:n,error:a}=Ln({queryKey:["measurements"],queryFn:async()=>{const{data:u,error:d}=await le.from("measurements").select(`
          *,
          order:orders!measurements_order_id_fkey(id, order_number, customer:customers(id, name))
        `).order("created_at",{ascending:!1});if(d)throw d;return u}}),i=u=>r.filter(d=>d.order_id===u),o=Ze({mutationFn:async u=>{const{data:d,error:f}=await le.from("measurements").insert(u).select().single();if(f)throw f;return d},onSuccess:async u=>{var d,f;e.invalidateQueries({queryKey:["measurements"]}),t({title:"Measurement saved",description:"The measurement profile has been saved successfully."});try{let h=function(){return"https://szburzfibchvdyxksokr.supabase.co/functions/v1/whatsapp-proxy"||"http://localhost:4001"};if(!u||!u.order_id)return;const{data:p,error:v}=await le.from("orders").select("id, order_number, created_at, due_date, is_settled, customer:customers(id, name, phone)").eq("id",u.order_id).single();if(v||!p)return;const{data:m}=await le.from("order_items").select("description, quantity").eq("order_id",p.id),g=(m||[]).map(S=>`${S.description} x ${S.quantity}`).join("; ")||"-",x=p.created_at?new Date(p.created_at).toISOString().split("T")[0]:"",y=h(),w=((d=p.customer)==null?void 0:d.phone)||"",_=Ap(w);if(!_){or("measurement send: skipping invalid phone",{rawPhone:w,orderId:p.id});return}if(_){const S=["full_length","blouse_length","shoulder","bust","bust","waist_round","yoke_length","yoke_round","slit_length","slit_width","stomach_length","stomach_round","bust_point_length","bust_distance","fc","bc","sleeve_round","sleeve_round","bicep_round","armhole","shoulder_balance","front_neck_depth","back_neck_depth","collar_round","bottom_length","skirt_length","waist_round","hip_round","seat_round","thigh_round","knee_round","ankle_round"],C=[];if(C.push({type:"text",text:((f=p.customer)==null?void 0:f.name)||""}),S.forEach(T=>{const N=u[T],O=N!=null&&String(N).trim()?String(N):"-";C.push({type:"text",text:O})}),C.slice(1).reduce((T,N)=>T+(N.text&&N.text.trim()?1:0),0)===0)return;const A=[{type:"body",parameters:C}];or("sending measurement template",{to:_,paramsCount:C.length});const j=await $i(`${y}/api/whatsapp/send`,{method:"POST",body:JSON.stringify({to:_,template:"wa_order_confirmation_with_measure",language:"en",components:A})});j.text().then(T=>{or("measurement send response",{status:j.status})}).catch(()=>{})}}catch(h){jp("WhatsApp send error (measurement)",h&&h.message?h.message:h)}},onError:u=>{t({title:"Error",description:u.message,variant:"destructive"})}}),s=Ze({mutationFn:async({id:u,...d})=>{const{data:f,error:h}=await le.from("measurements").update(d).eq("id",u).select().single();if(h)throw h;return f},onSuccess:()=>{e.invalidateQueries({queryKey:["measurements"]}),t({title:"Measurement updated",description:"The measurement profile has been updated."})},onError:u=>{t({title:"Error",description:u.message,variant:"destructive"})}}),l=Ze({mutationFn:async u=>{const{error:d}=await le.from("measurements").delete().eq("id",u);if(d)throw d},onSuccess:()=>{e.invalidateQueries({queryKey:["measurements"]}),t({title:"Measurement deleted",description:"The measurement profile has been removed."})},onError:u=>{t({title:"Error",description:u.message,variant:"destructive"})}});return{measurements:r,isLoading:n,error:a,getMeasurementsByOrderId:i,createMeasurement:o,updateMeasurement:s,deleteMeasurement:l}}function Wde(t,e){return b.useReducer((r,n)=>e[r][n]??r,t)}var _j="ScrollArea",[_9,iMe]=$n(_j),[zde,Ei]=_9(_j),S9=b.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=t,[s,l]=b.useState(null),[u,d]=b.useState(null),[f,h]=b.useState(null),[p,v]=b.useState(null),[m,g]=b.useState(null),[x,y]=b.useState(0),[w,_]=b.useState(0),[S,C]=b.useState(!1),[E,A]=b.useState(!1),j=Ke(e,N=>l(N)),T=sh(a);return c.jsx(zde,{scope:r,type:n,dir:T,scrollHideDelay:i,scrollArea:s,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:v,scrollbarXEnabled:S,onScrollbarXEnabledChange:C,scrollbarY:m,onScrollbarYChange:g,scrollbarYEnabled:E,onScrollbarYEnabledChange:A,onCornerWidthChange:y,onCornerHeightChange:_,children:c.jsx(Ie.div,{dir:T,...o,ref:j,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":w+"px",...t.style}})})});S9.displayName=_j;var C9="ScrollAreaViewport",E9=b.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=t,o=Ei(C9,r),s=b.useRef(null),l=Ke(e,s,o.onViewportChange);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),c.jsx(Ie.div,{"data-radix-scroll-area-viewport":"",...i,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:c.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});E9.displayName=C9;var Qo="ScrollAreaScrollbar",Sj=b.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=Ei(Qo,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,s=t.orientation==="horizontal";return b.useEffect(()=>(s?i(!0):o(!0),()=>{s?i(!1):o(!1)}),[s,i,o]),a.type==="hover"?c.jsx(Hde,{...n,ref:e,forceMount:r}):a.type==="scroll"?c.jsx(qde,{...n,ref:e,forceMount:r}):a.type==="auto"?c.jsx(A9,{...n,ref:e,forceMount:r}):a.type==="always"?c.jsx(Cj,{...n,ref:e}):null});Sj.displayName=Qo;var Hde=b.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=Ei(Qo,t.__scopeScrollArea),[i,o]=b.useState(!1);return b.useEffect(()=>{const s=a.scrollArea;let l=0;if(s){const u=()=>{window.clearTimeout(l),o(!0)},d=()=>{l=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return s.addEventListener("pointerenter",u),s.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),s.removeEventListener("pointerenter",u),s.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),c.jsx(mn,{present:r||i,children:c.jsx(A9,{"data-state":i?"visible":"hidden",...n,ref:e})})}),qde=b.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=Ei(Qo,t.__scopeScrollArea),i=t.orientation==="horizontal",o=Ax(()=>l("SCROLL_END"),100),[s,l]=Wde("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(s==="idle"){const u=window.setTimeout(()=>l("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[s,a.scrollHideDelay,l]),b.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const p=u[d];f!==p&&(l("SCROLL"),o()),f=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,i,l,o]),c.jsx(mn,{present:r||s!=="hidden",children:c.jsx(Cj,{"data-state":s==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:de(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:de(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),A9=b.forwardRef((t,e)=>{const r=Ei(Qo,t.__scopeScrollArea),{forceMount:n,...a}=t,[i,o]=b.useState(!1),s=t.orientation==="horizontal",l=Ax(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(s?u:d)}},10);return wf(r.viewport,l),wf(r.content,l),c.jsx(mn,{present:n||i,children:c.jsx(Cj,{"data-state":i?"visible":"hidden",...a,ref:e})})}),Cj=b.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,a=Ei(Qo,t.__scopeScrollArea),i=b.useRef(null),o=b.useRef(0),[s,l]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=P9(s.viewport,s.content),d={...n,sizes:s,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,p){return Qde(h,o.current,s,p)}return r==="horizontal"?c.jsx(Gde,{...d,ref:e,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollLeft,p=L3(h,s,a.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?c.jsx(Kde,{...d,ref:e,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollTop,p=L3(h,s);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),Gde=b.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...a}=t,i=Ei(Qo,t.__scopeScrollArea),[o,s]=b.useState(),l=b.useRef(null),u=Ke(e,l,i.onScrollbarXChange);return b.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),c.jsx(N9,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ex(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;t.onWheelScroll(h),I9(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:vy(o.paddingLeft),paddingEnd:vy(o.paddingRight)}})}})}),Kde=b.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...a}=t,i=Ei(Qo,t.__scopeScrollArea),[o,s]=b.useState(),l=b.useRef(null),u=Ke(e,l,i.onScrollbarYChange);return b.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),c.jsx(N9,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ex(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;t.onWheelScroll(h),I9(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:vy(o.paddingTop),paddingEnd:vy(o.paddingBottom)}})}})}),[Xde,j9]=_9(Qo),N9=b.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:s,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=t,p=Ei(Qo,r),[v,m]=b.useState(null),g=Ke(e,j=>m(j)),x=b.useRef(null),y=b.useRef(""),w=p.viewport,_=n.content-n.viewport,S=Ir(d),C=Ir(l),E=Ax(f,10);function A(j){if(x.current){const T=j.clientX-x.current.left,N=j.clientY-x.current.top;u({x:T,y:N})}}return b.useEffect(()=>{const j=T=>{const N=T.target;(v==null?void 0:v.contains(N))&&S(T,_)};return document.addEventListener("wheel",j,{passive:!1}),()=>document.removeEventListener("wheel",j,{passive:!1})},[w,v,_,S]),b.useEffect(C,[n,C]),wf(v,E),wf(p.content,E),c.jsx(Xde,{scope:r,scrollbar:v,hasThumb:a,onThumbChange:Ir(i),onThumbPointerUp:Ir(o),onThumbPositionChange:C,onThumbPointerDown:Ir(s),children:c.jsx(Ie.div,{...h,ref:g,style:{position:"absolute",...h.style},onPointerDown:de(t.onPointerDown,j=>{j.button===0&&(j.target.setPointerCapture(j.pointerId),x.current=v.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),A(j))}),onPointerMove:de(t.onPointerMove,A),onPointerUp:de(t.onPointerUp,j=>{const T=j.target;T.hasPointerCapture(j.pointerId)&&T.releasePointerCapture(j.pointerId),document.body.style.webkitUserSelect=y.current,p.viewport&&(p.viewport.style.scrollBehavior=""),x.current=null})})})}),my="ScrollAreaThumb",O9=b.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=j9(my,t.__scopeScrollArea);return c.jsx(mn,{present:r||a.hasThumb,children:c.jsx(Yde,{ref:e,...n})})}),Yde=b.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...a}=t,i=Ei(my,r),o=j9(my,r),{onThumbPositionChange:s}=o,l=Ke(e,f=>o.onThumbChange(f)),u=b.useRef(void 0),d=Ax(()=>{u.current&&(u.current(),u.current=void 0)},100);return b.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const p=Jde(f,s);u.current=p,s()}};return s(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,s]),c.jsx(Ie.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:de(t.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),v=f.clientX-p.left,m=f.clientY-p.top;o.onThumbPointerDown({x:v,y:m})}),onPointerUp:de(t.onPointerUp,o.onThumbPointerUp)})});O9.displayName=my;var Ej="ScrollAreaCorner",T9=b.forwardRef((t,e)=>{const r=Ei(Ej,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?c.jsx(Zde,{...t,ref:e}):null});T9.displayName=Ej;var Zde=b.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,a=Ei(Ej,r),[i,o]=b.useState(0),[s,l]=b.useState(0),u=!!(i&&s);return wf(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),l(d)}),wf(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),o(d)}),u?c.jsx(Ie.div,{...n,ref:e,style:{width:i,height:s,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function vy(t){return t?parseInt(t,10):0}function P9(t,e){const r=t/e;return isNaN(r)?0:r}function Ex(t){const e=P9(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function Qde(t,e,r,n="ltr"){const a=Ex(r),i=a/2,o=e||i,s=a-o,l=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-s,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return k9([l,u],f)(t)}function L3(t,e,r="ltr"){const n=Ex(e),a=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-a,o=e.content-e.viewport,s=i-n,l=r==="ltr"?[0,o]:[o*-1,0],u=_S(t,l);return k9([0,o],[0,s])(u)}function k9(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function I9(t,e){return t>0&&t<e}var Jde=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function a(){const i={left:t.scrollLeft,top:t.scrollTop},o=r.left!==i.left,s=r.top!==i.top;(o||s)&&e(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function Ax(t,e){const r=Ir(t),n=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(n.current),[]),b.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function wf(t,e){const r=Ir(e);on(()=>{let n=0;if(t){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(t),()=>{window.cancelAnimationFrame(n),a.unobserve(t)}}},[t,r])}var R9=S9,efe=E9,tfe=T9;const hh=b.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(R9,{ref:n,className:fe("relative overflow-hidden",t),...r,children:[c.jsx(efe,{className:"h-full w-full rounded-[inherit]",children:e}),c.jsx(D9,{}),c.jsx(tfe,{})]}));hh.displayName=R9.displayName;const D9=b.forwardRef(({className:t,orientation:e="vertical",...r},n)=>c.jsx(Sj,{ref:n,orientation:e,className:fe("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:c.jsx(O9,{className:"relative flex-1 rounded-full bg-border"})}));D9.displayName=Sj.displayName;function rfe({measurementId:t,open:e,onOpenChange:r,onComplete:n}){const[a,i]=b.useState(null),[o,s]=b.useState([]),[l,u]=b.useState(!1),[d,f]=b.useState(!1),h=b.useRef(null),{toast:p}=pr(),v=async w=>{const _=w.target.files;if(!_||_.length===0)return;u(!0);const S=[];try{for(const C of Array.from(_)){if(!C.type.startsWith("image/")){p({title:"Invalid file type",description:"Please upload only image files.",variant:"destructive"});continue}const E=C.name.split(".").pop(),A=`${t}/${Date.now()}-${Math.random().toString(36).substring(7)}.${E}`,{error:j,data:T}=await le.storage.from("materials").upload(A,C);if(j)throw j;const{data:N}=le.storage.from("materials").getPublicUrl(A);S.push(N.publicUrl)}s(C=>[...C,...S]),p({title:"Images uploaded",description:`${S.length} image(s) uploaded successfully.`})}catch(C){p({title:"Upload failed",description:C.message,variant:"destructive"})}finally{u(!1),h.current&&(h.current.value="")}},m=async w=>{const _=w.split("/materials/");if(_.length>1){const S=_[1];await le.storage.from("materials").remove([S])}s(S=>S.filter(C=>C!==w))},g=async()=>{if(!(!t||a===null)){f(!0);try{const{error:w}=await le.from("measurements").update({materials_provided_by_customer:a==="yes",materials_images:a==="yes"?o:[]}).eq("id",t);if(w)throw w;p({title:"Saved",description:"Measurement details updated successfully."}),x(),n()}catch(w){p({title:"Error",description:w.message,variant:"destructive"})}finally{f(!1)}}},x=()=>{i(null),s([]),r(!1)},y=()=>{x(),n()};return c.jsx(Vt,{open:e,onOpenChange:x,children:c.jsxs(It,{className:"sm:max-w-md",children:[c.jsxs(Rt,{children:[c.jsx(Dt,{className:"font-display",children:"Materials Information"}),c.jsx(hr,{children:"Were materials provided by the customer for this order?"})]}),c.jsxs("div",{className:"space-y-6 py-4",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[c.jsx("input",{type:"radio",name:"materialsProvided",value:"yes",checked:a==="yes",onChange:()=>i("yes"),className:"h-4 w-4 text-primary focus:ring-primary"}),c.jsx("span",{className:"text-sm",children:"Yes, customer provided materials"})]}),c.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[c.jsx("input",{type:"radio",name:"materialsProvided",value:"no",checked:a==="no",onChange:()=>i("no"),className:"h-4 w-4 text-primary focus:ring-primary"}),c.jsx("span",{className:"text-sm",children:"No, using store materials"})]})]}),a==="yes"&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Bt,{className:"text-sm font-medium",children:"Upload Material Images"}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Take photos of the materials for reference"})]}),c.jsx("input",{type:"file",ref:h,onChange:v,accept:"image/*",multiple:!0,className:"hidden"}),c.jsx(Y,{type:"button",variant:"outline",className:"w-full gap-2",onClick:()=>{var w;return(w=h.current)==null?void 0:w.click()},disabled:l,children:l?c.jsxs(c.Fragment,{children:[c.jsx(Mn,{className:"h-4 w-4 animate-spin"}),"Uploading..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Hl,{className:"h-4 w-4"}),"Upload Images"]})}),o.length>0&&c.jsx("div",{className:"grid grid-cols-3 gap-2",children:o.map((w,_)=>c.jsxs("div",{className:"relative group",children:[c.jsx("img",{src:w,alt:`Material ${_+1}`,className:"w-full h-20 object-cover rounded-lg border border-border"}),c.jsx("button",{type:"button",onClick:()=>m(w),className:"absolute -top-2 -right-2 bg-destructive text-destructive-foreground rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsx(z1,{className:"h-3 w-3"})})]},_))})]})]}),c.jsxs(Tt,{className:"flex-row justify-between sm:justify-between",children:[c.jsx(Y,{variant:"ghost",onClick:y,children:"Skip"}),c.jsx(Y,{onClick:g,disabled:a===null||d,className:"gap-2",children:d?c.jsxs(c.Fragment,{children:[c.jsx(Mn,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):c.jsxs(c.Fragment,{children:[c.jsx(U1,{className:"h-4 w-4"}),"Save"]})})]})]})})}const dr=[{key:"full_length",label:"Full Length"},{key:"blouse_length",label:"Blouse Length"},{key:"shoulder",label:"Shoulder"},{key:"bust",label:"Bust"},{key:"waist_round",label:"Waist"},{key:"yoke_length",label:"Yoke Length"},{key:"yoke_round",label:"Yoke Round"},{key:"slit_length",label:"Slit Length"},{key:"slit_width",label:"Slit Width"},{key:"stomach_length",label:"Stomach Length"},{key:"stomach_round",label:"Stomach Round"},{key:"bust_point_length",label:"Bust Point Length"},{key:"bust_distance",label:"Bust Distance"},{key:"fc",label:"FC"},{key:"bc",label:"BC"},{key:"sleeve_round",label:"Sleeve Round"},{key:"bicep_round",label:"Bicep Round"},{key:"armhole",label:"Armhole"},{key:"shoulder_balance",label:"Shoulder Balance"},{key:"front_neck_depth",label:"Front Neck Depth"},{key:"back_neck_depth",label:"Back Neck Depth"},{key:"collar_round",label:"Collar Round"},{key:"bottom_length",label:"Bottom Length"},{key:"skirt_length",label:"Skirt Length"},{key:"hip_round",label:"Hip Round"},{key:"seat_round",label:"Seat Round"},{key:"thigh_round",label:"Thigh Round"},{key:"knee_round",label:"Knee Round"},{key:"ankle_round",label:"Ankle Round"}];dr.map(t=>({...t,name:t.key,enabled:!0}));const M9={garmentType:Me().trim().min(2,"Garment type is required").max(100),custom_notes:Me().trim().max(500).optional()};dr.forEach(t=>{M9[t.key]=di().min(0).max(200).optional()});const nfe=Za(M9),afe=["Standard Blouse","Lehenga","Saree Blouse","Kurta","Salwar","Evening Gown","Custom"];function ife({trigger:t,onSuccess:e,open:r,onOpenChange:n,defaultOrderId:a}){const[i,o]=b.useState(!1),[s,l]=b.useState(null),[u,d]=b.useState(!1),{createMeasurement:f}=Dv(),h=r!==void 0,p=h?r:i,v=h?n||(()=>{}):o,m=za({resolver:Ha(nfe),defaultValues:{garmentType:"",custom_notes:""}}),g=x=>{const y={order_id:a||null,garment_type:x.garmentType,custom_notes:x.custom_notes||null};dr.forEach(w=>{y[w.key]=x[w.key]||null}),f.mutate(y,{onSuccess:w=>{const _=(w==null?void 0:w.id)||null;l(_),d(!0)}})};return c.jsxs(Vt,{open:p,onOpenChange:v,children:[t?c.jsx(Zo,{asChild:!0,children:t}):null,c.jsxs(It,{className:"max-h-[90vh] overflow-hidden flex flex-col sm:max-w-2xl",children:[c.jsxs(Rt,{children:[c.jsx(Dt,{className:"font-display",children:"New Measurement Profile"}),c.jsx(hr,{children:"Record measurements for an order."})]}),c.jsx(Ga,{...m,children:c.jsxs("form",{onSubmit:m.handleSubmit(g),className:"flex-1 flex flex-col overflow-hidden",children:[c.jsx(hh,{className:"flex-1 pr-4",children:c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:c.jsx(Se,{control:m.control,name:"garmentType",render:({field:x})=>c.jsxs(be,{children:[c.jsx(we,{children:"Garment Type *"}),c.jsxs(Pt,{onValueChange:x.onChange,value:x.value,children:[c.jsx(_e,{children:c.jsx(Et,{children:c.jsx(kt,{placeholder:"Select type"})})}),c.jsx(At,{children:afe.map(y=>c.jsx(je,{value:y,children:y},y))})]}),c.jsx(Ce,{})]})})}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"font-medium text-foreground",children:"Measurements (in inches)"}),c.jsx("div",{className:"grid gap-3 grid-cols-3 sm:grid-cols-4 md:grid-cols-5",children:dr.map(x=>c.jsx(Se,{control:m.control,name:x.key,render:({field:y})=>c.jsxs(be,{children:[c.jsx(we,{className:"text-xs",children:x.label}),c.jsx(_e,{children:c.jsx(ye,{type:"number",step:"0.5",placeholder:"0",...y,value:y.value??"",onChange:w=>y.onChange(w.target.value?Number(w.target.value):void 0)})}),c.jsx(Ce,{})]})},x.key))})]}),c.jsx(Se,{control:m.control,name:"custom_notes",render:({field:x})=>c.jsxs(be,{children:[c.jsx(we,{children:"Notes"}),c.jsx(_e,{children:c.jsx(ea,{placeholder:"Fit preferences, adjustments, etc...",rows:2,...x,value:x.value||""})}),c.jsx(Ce,{})]})})]})}),c.jsxs(Tt,{className:"gap-2 pt-4 mt-4 border-t",children:[c.jsx(Y,{type:"button",variant:"outline",onClick:()=>v(!1),children:"Cancel"}),c.jsx(Y,{type:"submit",disabled:f.isPending,children:f.isPending?"Saving...":"Save Profile"})]})]})})]}),c.jsx(rfe,{measurementId:s,open:u,onOpenChange:x=>d(x),onComplete:()=>{e==null||e(s||void 0),m.reset(),l(null),d(!1),v(!1)}})]})}const ofe=Za({customerId:Me().min(1,"Please select a customer"),storeId:Me().min(1,"Please select a store"),dueDate:cie({required_error:"Due date is required"}),notes:Me().trim().max(1e3).optional(),assigneeId:Me().optional()}),Ng={customerId:"",storeId:"",dueDate:void 0,notes:"",assigneeId:""};function $9({trigger:t,onSuccess:e}){const[r,n]=b.useState(!1),[a,i]=b.useState([]),[o,s]=b.useState({}),[l,u]=b.useState(!1),[d,f]=b.useState(""),[h,p]=b.useState(!1),[v,m]=b.useState(!1),[g,x]=b.useState(!1),[y,w]=b.useState(null),[_,S]=b.useState(null),{toast:C}=pr(),{createOrder:E,orders:A}=dh(),{customers:j}=Iv(),{stores:T}=Ci(),{activeEmployees:N}=Rv(),{inventory:O}=fh();Dv();const{services:$}=Cx(),R=za({resolver:Ha(ofe),defaultValues:Ng}),F=R.watch("customerId"),B=F?A.filter(L=>L.customer_id===F&&!["completed","cancelled"].includes(L.status)&&Number(L.remaining_balance)>0):[],M=B.reduce((L,X)=>L+Number(X.remaining_balance),0),I=a.reduce((L,X)=>L+X.price*Number(X.quantity||0),0),P=O.filter(L=>{const X=d.toLowerCase();return L.name.toLowerCase().includes(X)||L.sku.toLowerCase().includes(X)||L.category.toLowerCase().includes(X)}),V=($||[]).filter(L=>{const X=d.toLowerCase();return(L.name||"").toLowerCase().includes(X)||(L.description||"").toLowerCase().includes(X)}),z=L=>{L||(R.reset(Ng),i([]),f("")),n(L)},H=()=>{R.reset(Ng),i([]),f(""),n(!1)},K=L=>{const X={id:crypto.randomUUID(),inventoryId:L.id,name:L.name,sku:L.sku,price:Number(L.price),quantity:1,isCustomWork:!1,measurementId:null};i(ne=>[...ne,X]),u(!1),f("")},re=()=>{const L={id:crypto.randomUUID(),inventoryId:null,name:d||"Custom Item",sku:"",price:0,quantity:1,isCustomWork:!0,measurementId:null};i(X=>[...X,L]),u(!1),f("")},ue=L=>{const X={id:crypto.randomUUID(),inventoryId:null,serviceId:L.id,name:L.name,sku:"",price:Number(L.price||0),quantity:1,isCustomWork:!1,measurementId:null};i(ne=>[...ne,X]),u(!1),f("")},oe=L=>{const X=(L||"").trim();if(!X)return;const ne=O.find(ae=>(ae.sku||"").toLowerCase()===X.toLowerCase());let ie=ne;if(ne){const ae=a.findIndex(Ue=>Ue.inventoryId===ne.id);if(ae!==-1)return i(Ue=>Ue.map((ct,Or)=>Or===ae?{...ct,quantity:Number(ct.quantity||0)+1}:ct)),C({title:"Updated",description:`${ne.name} quantity incremented`}),f(""),!0}if(!ie){const ae=O.filter(Ue=>{const ct=(Ue.sku||"").toLowerCase(),Or=(Ue.name||"").toLowerCase();return ct.includes(X.toLowerCase())||Or.includes(X.toLowerCase())});ae.length===1&&(ie=ae[0])}return ie?(K(ie),C({title:"Added",description:`${ie.name} added to order`}),f(""),!0):(C({title:"Not found",description:`No product found for SKU "${X}"`}),!1)},[te,pe]=b.useState(!1),[ee,se]=b.useState("products"),[ve,Z]=b.useState(!1),Ge=L=>{p(!1),L?m(!0):(w(null),S(null),e==null||e())},Be=async L=>{if(m(!1),L&&_){const{error:X}=await le.from("orders").update({measurement_id:L}).eq("id",_);X&&C({title:"Warning",description:"Failed to link measurement to order.",variant:"destructive"})}x(!0)},ht=L=>{x(!1),L?m(!0):(w(null),S(null),e==null||e())},yt=L=>{i(a.filter(X=>X.id!==L))},Kt=(L,X)=>{const ne=typeof X=="number"?String(X):X;i(ie=>ie.map(ae=>{if(ae.id!==L)return ae;if(ne==="")return{...ae,quantity:""};const Ue=Number(ne);return Number.isNaN(Ue)?ae:{...ae,quantity:Ue}}))},gn=(L,X)=>{i(a.map(ne=>ne.id===L?{...ne,price:Math.max(0,X)}:ne))},Wr=async(L,X)=>{a.length===0&&!X||E.mutate({customer_id:L.customerId,store_id:L.storeId||null,assigned_employee_id:L.assigneeId||null,due_date:L.dueDate?it(L.dueDate,"yyyy-MM-dd"):null,deposit_amount:0,total_amount:I,remaining_balance:I,notes:L.notes||null,order_number:"",status:X?"draft":"pending"},{onSuccess:async ne=>{if(ne&&a.length>0){const ie=a.map(ae=>({order_id:ne.id,description:ae.name,unit_price:ae.price,quantity:Number(ae.quantity||0),total_price:ae.price*Number(ae.quantity||0),inventory_id:ae.inventoryId,service_id:ae.serviceId||null,measurement_id:ae.measurementId,is_custom_work:ae.isCustomWork})).filter(ae=>Number(ae.quantity)>0);if(ie.length===0)C({title:"No items",description:"Add at least one item with quantity > 0",variant:"destructive"});else{const{error:ae}=await le.from("order_items").insert(ie);ae&&C({title:"Warning",description:"Order created but failed to add some items.",variant:"destructive"})}try{let ae=function(){return"https://szburzfibchvdyxksokr.supabase.co/functions/v1/whatsapp-proxy"||"http://localhost:4001"};const{data:Ue}=await le.from("customers").select("name, phone").eq("id",ne.customer_id).single(),ct=a.filter(yn=>!yn.serviceId),Or=a.filter(yn=>!!yn.serviceId),aa=ct.length?ct.map(yn=>`${yn.name} x ${yn.quantity}`).join(", "):"",Bn=Or.length?Or.map(yn=>`${yn.name} x ${yn.quantity}`).join(", "):"",$u=aa&&Bn?`Products: ${aa}; Services: ${Bn}`:aa?`Products: ${aa}`:Bn?`Services: ${Bn}`:"-",es=ne.created_at?it(new Date(ne.created_at),"yyyy-MM-dd"):"",Qa=ae();if(Ue&&Ue.phone){const yn=[{type:"body",parameters:[{type:"text",text:Ue.name},{type:"text",text:ne.order_number},{type:"text",text:es},{type:"text",text:$u},{type:"text",text:ne.due_date??""},{type:"text",text:ne.is_settled?"Paid":"Pending"}]}],_a=Ue.phone||"",uc=Ap(_a);if(!uc)or("OrderForm: skipping WA send, invalid phone",{rawPhone:_a,orderId:ne.id});else try{await $i(`${Qa}/api/whatsapp/send`,{method:"POST",body:JSON.stringify({to:uc,template:"order_confirmation",language:"en",components:yn})}),or("order_confirmation sent",{to:uc,orderId:ne.id})}catch(ts){ri("order_confirmation send failed",{err:ts&&ts.message?ts.message:ts})}}}catch(ae){jp("WhatsApp send error",ae&&ae.message?ae.message:ae)}}R.reset(Ng),i([]),n(!1),S(ne.id),w(L.customerId),p(!0),p(!0)}})},U=L=>{a.length!==0&&Wr(L,!1)},q=()=>{const L=R.getValues();if(!L.customerId){R.setError("customerId",{message:"Please select a customer"});return}Wr(L,!0)};return c.jsxs(c.Fragment,{children:[c.jsxs(Vt,{open:r,onOpenChange:z,children:[c.jsx(Zo,{asChild:!0,children:t||c.jsxs(Y,{className:"gap-2",children:[c.jsx(Lo,{className:"h-4 w-4"}),c.jsx("span",{className:"inline",children:"New Order"})]})}),c.jsxs(It,{className:"max-h-[90vh] overflow-y-auto sm:max-w-2xl",children:[c.jsxs(Rt,{children:[c.jsx(Dt,{className:"font-display",children:"Create New Order"}),c.jsx(hr,{children:"Add order details, items, and payment information."})]}),c.jsx(Ga,{...R,children:c.jsxs("form",{onSubmit:R.handleSubmit(U),className:"space-y-6",children:[c.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[c.jsx(Se,{control:R.control,name:"customerId",render:({field:L})=>c.jsxs(be,{children:[c.jsx(we,{children:"Customer *"}),c.jsxs(Pt,{onValueChange:L.onChange,value:L.value,children:[c.jsx(_e,{children:c.jsx(Et,{children:c.jsx(kt,{placeholder:"Select customer"})})}),c.jsx(At,{children:j.map(X=>c.jsx(je,{value:X.id,children:X.name},X.id))})]}),c.jsx(Ce,{})]})}),c.jsx(Se,{control:R.control,name:"storeId",render:({field:L})=>c.jsxs(be,{children:[c.jsx(we,{children:"Store *"}),c.jsxs(Pt,{onValueChange:L.onChange,value:L.value,children:[c.jsx(_e,{children:c.jsx(Et,{children:c.jsx(kt,{placeholder:"Select store"})})}),c.jsx(At,{children:T.map(X=>c.jsx(je,{value:X.id,children:X.name},X.id))})]}),c.jsx(Ce,{})]})})]}),F&&M>0&&c.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-4 dark:border-amber-900/50 dark:bg-amber-950/20",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(dv,{className:"h-5 w-5 text-amber-600 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"font-medium text-amber-800 dark:text-amber-200",children:"Previous Outstanding Balance"}),c.jsxs("p",{className:"text-sm text-amber-700 dark:text-amber-300 mt-1",children:["This customer has an outstanding balance of ",c.jsxs("span",{className:"font-semibold",children:["",M.toLocaleString()]})," from previous orders:"]}),c.jsx("div",{className:"mt-2 space-y-1 text-xs text-amber-600 dark:text-amber-400",children:B.map(L=>c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:L.order_number}),c.jsxs("span",{children:["",Number(L.remaining_balance).toLocaleString()]})]},L.id))})]})]})}),c.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[c.jsx(Se,{control:R.control,name:"dueDate",render:({field:L})=>c.jsxs(be,{className:"flex flex-col",children:[c.jsx(we,{children:"Due Date *"}),c.jsxs(Lde,{open:ve,onOpenChange:Z,children:[c.jsx(Fde,{asChild:!0,children:c.jsx(_e,{children:c.jsxs(Y,{variant:"outline",className:fe("w-full justify-start text-left font-normal",!L.value&&"text-muted-foreground"),children:[c.jsx(uv,{className:"mr-2 h-4 w-4"}),L.value?it(L.value,"PPP"):"Pick a date"]})})}),c.jsx(b9,{className:"w-auto p-0",align:"start",children:c.jsx(n7,{mode:"single",selected:L.value,onSelect:X=>{L.onChange(X),Z(!1)},disabled:X=>X<new Date,initialFocus:!0,className:"pointer-events-auto"})})]}),c.jsx(Ce,{})]})}),c.jsx(Se,{control:R.control,name:"assigneeId",render:({field:L})=>c.jsxs(be,{children:[c.jsx(we,{children:"Assign To"}),c.jsxs(Pt,{onValueChange:L.onChange,value:L.value,children:[c.jsx(_e,{children:c.jsx(Et,{children:c.jsx(kt,{placeholder:"Select employee"})})}),c.jsx(At,{children:N.map(X=>c.jsx(je,{value:X.id,children:X.name},X.id))})]}),c.jsx(Ce,{})]})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(we,{children:"Order Items *"}),c.jsxs(Y,{type:"button",variant:"outline",size:"sm",onClick:()=>u(!0),disabled:!F,children:[c.jsx(Lo,{className:"mr-1 h-3 w-3"}),"Add Item"]})]}),!F&&c.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a customer first to add items"}),a.length===0&&F&&c.jsxs("div",{className:"rounded-lg border border-dashed border-border p-6 text-center",children:[c.jsx($o,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"No items added yet"}),c.jsx(Y,{type:"button",variant:"link",size:"sm",onClick:()=>u(!0),className:"mt-2",children:"Add your first item"})]}),a.map(L=>c.jsxs("div",{className:"rounded-lg border border-border p-4 space-y-3",children:[c.jsxs("div",{className:"flex items-start justify-between gap-3",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[c.jsx("span",{className:"font-medium truncate",children:L.name}),L.isCustomWork&&c.jsx($3,{variant:"secondary",className:"text-xs",children:"Custom"}),L.measurementId&&c.jsx($3,{variant:"outline",className:"text-xs",children:"Has Measurement"})]}),L.sku&&c.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:["SKU: ",L.sku]})]}),c.jsx(Y,{type:"button",variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive shrink-0",onClick:()=>yt(L.id),children:c.jsx(io,{className:"h-4 w-4"})})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs text-muted-foreground",children:"Price ()"}),c.jsx(ye,{type:"number",value:L.price,onChange:X=>gn(L.id,Number(X.target.value)),className:"mt-1",disabled:!L.isCustomWork&&L.inventoryId!==null})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs text-muted-foreground",children:"Qty"}),c.jsx(ye,{type:"number",min:0,value:o[L.id]??String(L.quantity),onChange:X=>s(ne=>({...ne,[L.id]:X.target.value})),onBlur:()=>{const X=o[L.id];Kt(L.id,X!==void 0?X:String(L.quantity)),s(ne=>{const ie={...ne};return delete ie[L.id],ie})},onKeyDown:X=>{if(X.key==="Enter"){const ne=o[L.id];Kt(L.id,ne!==void 0?ne:String(L.quantity)),s(ie=>{const ae={...ie};return delete ae[L.id],ae})}},className:"mt-1"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs text-muted-foreground",children:"Total"}),c.jsxs("p",{className:"mt-1 py-2 font-medium",children:["",(L.price*Number(L.quantity||0)).toLocaleString()]})]})]})]},L.id)),a.length===0&&F&&c.jsx("p",{className:"text-sm text-destructive",children:"Add at least one item"})]}),c.jsxs("div",{className:"rounded-lg border border-border bg-muted/30 p-4",children:[c.jsx("h4",{className:"mb-3 font-medium text-foreground",children:"Payment Summary"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Order Total"}),c.jsxs("span",{className:"font-medium text-foreground",children:["",I.toLocaleString()]})]}),c.jsxs("div",{className:"flex justify-between border-t border-border pt-2 text-sm",children:[c.jsx("span",{className:"font-medium text-foreground",children:"Balance Payable"}),c.jsxs("span",{className:fe("font-semibold",I>0?"text-amber-600":"text-emerald-600"),children:["",I.toLocaleString()]})]})]})]}),c.jsx(Se,{control:R.control,name:"notes",render:({field:L})=>c.jsxs(be,{children:[c.jsx(we,{children:"Order Notes"}),c.jsx(_e,{children:c.jsx(ea,{placeholder:"Special instructions, fabric preferences, etc...",rows:2,...L})}),c.jsx(Ce,{})]})}),c.jsxs(Tt,{className:"gap-2 pt-4",children:[c.jsx(Y,{type:"button",variant:"outline",onClick:H,children:"Cancel"}),c.jsx(Y,{type:"button",variant:"secondary",onClick:q,disabled:E.isPending,children:"Save as Draft"}),c.jsx(Y,{type:"submit",disabled:E.isPending||a.length===0,children:E.isPending?"Creating...":"Create Order"})]})]})})]})]}),c.jsx(rce,{open:te,onOpenChange:pe,onDetected:L=>oe(L)}),c.jsx(Vt,{open:l,onOpenChange:u,children:c.jsxs(It,{className:"sm:max-w-md",children:[c.jsx(Rt,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx(Dt,{children:ee==="products"?"Add Product":"Add Service"}),c.jsx(hr,{children:ee==="products"?"Search by name or scan SKU code":"Search services by name"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Y,{variant:ee==="products"?"secondary":"ghost",size:"sm",onClick:()=>se("products"),children:"Products"}),c.jsx(Y,{variant:ee==="services"?"secondary":"ghost",size:"sm",onClick:()=>se("services"),children:"Services"})]})]})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(ec,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),c.jsx(ye,{placeholder:ee==="products"?"Search products or enter SKU...":"Search services by name...",value:d,onChange:L=>f(L.target.value),onKeyDown:L=>{L.key==="Enter"&&ee==="products"&&oe(d)},className:"pl-9 pr-10",autoFocus:!0}),ee==="products"&&c.jsx("button",{type:"button",onClick:()=>pe(!0),className:"absolute right-3 top-1/2 -translate-y-1/2 h-6 w-6 flex items-center justify-center text-muted-foreground","aria-label":"Open scanner",children:c.jsx(Bq,{className:"h-4 w-4"})})]}),c.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2",children:ee==="products"?P.length>0?P.map(L=>c.jsx("button",{type:"button",onClick:()=>K(L),className:"w-full text-left p-3 rounded-lg border border-border hover:bg-muted/50 transition-colors",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:L.name}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["SKU: ",L.sku,"  ",L.category]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"font-medium",children:["",Number(L.price).toLocaleString()]}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["Stock: ",L.quantity]})]})]})},L.id)):d?c.jsxs("div",{className:"text-center py-4",children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"No products found"}),c.jsx(Y,{type:"button",variant:"outline",size:"sm",onClick:re,children:"Add as Custom Item"})]}):c.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Start typing to search products"}):V.length>0?V.map(L=>c.jsx("button",{type:"button",onClick:()=>ue(L),className:"w-full text-left p-3 rounded-lg border border-border hover:bg-muted/50 transition-colors",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:L.name}),c.jsx("p",{className:"text-xs text-muted-foreground",children:L.description})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"font-medium",children:["",Number(L.price).toLocaleString()]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:L.unit})]})]})},L.id)):d?c.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No services found"}):c.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Start typing to search services"})})]})]})}),c.jsx(Ds,{open:h,onOpenChange:p,children:c.jsxs(Vo,{children:[c.jsxs(Wo,{children:[c.jsx(Ho,{children:"Add Measurements?"}),c.jsx(qo,{children:"Order created successfully! Would you like to add measurements for this order?"})]}),c.jsxs(zo,{children:[c.jsx(uo,{onClick:()=>Ge(!1),children:"No, Skip"}),c.jsx(Go,{onClick:()=>Ge(!0),children:"Yes, Add Measurement"})]})]})}),c.jsx(ife,{open:v,onOpenChange:L=>{m(L),L||x(!0)},defaultOrderId:_||"",onSuccess:L=>{Be(L)}}),c.jsx(Ds,{open:g,onOpenChange:x,children:c.jsxs(Vo,{children:[c.jsxs(Wo,{children:[c.jsx(Ho,{children:"Add Another Measurement?"}),c.jsx(qo,{children:"Would you like to add another measurement profile for this order?"})]}),c.jsxs(zo,{children:[c.jsx(uo,{onClick:()=>ht(!1),children:"No, Done"}),c.jsx(Go,{onClick:()=>ht(!0),children:"Yes, Add Another"})]})]})})]})}const sfe=Za({name:Me().trim().min(2,"Name must be at least 2 characters").max(100),phone:Me().trim().min(10,"Enter a valid phone number").max(15),whatsapp:Me().trim().max(15).optional().or(Zi("")),email:Me().trim().email("Enter a valid email").max(255).optional().or(Zi("")),address:Me().trim().max(500).optional().or(Zi("")),city:Me().trim().max(100).optional().or(Zi("")),vip_status:px(["regular","silver","gold","platinum"]).default("regular"),notes:Me().trim().max(1e3).optional().or(Zi(""))});function L9({trigger:t}){const[e,r]=b.useState(!1),{createCustomer:n}=Iv(),a=za({resolver:Ha(sfe),defaultValues:{name:"",phone:"",whatsapp:"",email:"",address:"",city:"",vip_status:"regular",notes:""}}),i=o=>{n.mutate({name:o.name,phone:o.phone,whatsapp:o.whatsapp||null,email:o.email||null,address:o.address||null,city:o.city||null,vip_status:o.vip_status,notes:o.notes||null},{onSuccess:()=>{a.reset(),r(!1)}})};return c.jsxs(Vt,{open:e,onOpenChange:r,children:[c.jsx(Zo,{asChild:!0,children:t||c.jsxs(Y,{className:"gap-2",children:[c.jsx(Lo,{className:"h-4 w-4"}),c.jsx("span",{className:"inline",children:"Add Customer"})]})}),c.jsxs(It,{className:"max-h-[90vh] overflow-y-auto sm:max-w-lg",children:[c.jsxs(Rt,{children:[c.jsx(Dt,{className:"font-display",children:"Add New Customer"}),c.jsx(hr,{children:"Enter customer details to create a new profile."})]}),c.jsx(Ga,{...a,children:c.jsxs("form",{onSubmit:a.handleSubmit(i),className:"space-y-4",children:[c.jsx(Se,{control:a.control,name:"name",render:({field:o})=>c.jsxs(be,{children:[c.jsx(we,{children:"Full Name *"}),c.jsx(_e,{children:c.jsx(ye,{placeholder:"Enter customer name",...o})}),c.jsx(Ce,{})]})}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(Se,{control:a.control,name:"phone",render:({field:o})=>c.jsxs(be,{children:[c.jsx(we,{children:"Phone *"}),c.jsx(_e,{children:c.jsx(ye,{placeholder:"+91 98765 43210",...o})}),c.jsx(Ce,{})]})}),c.jsx(Se,{control:a.control,name:"whatsapp",render:({field:o})=>c.jsxs(be,{children:[c.jsx(we,{children:"WhatsApp"}),c.jsx(_e,{children:c.jsx(ye,{placeholder:"WhatsApp number",...o})}),c.jsx(Ce,{})]})})]}),c.jsx(Se,{control:a.control,name:"email",render:({field:o})=>c.jsxs(be,{children:[c.jsx(we,{children:"Email Address"}),c.jsx(_e,{children:c.jsx(ye,{type:"email",placeholder:"customer@email.com",...o})}),c.jsx(Ce,{})]})}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(Se,{control:a.control,name:"city",render:({field:o})=>c.jsxs(be,{children:[c.jsx(we,{children:"City"}),c.jsx(_e,{children:c.jsx(ye,{placeholder:"Chennai",...o})}),c.jsx(Ce,{})]})}),c.jsx(Se,{control:a.control,name:"vip_status",render:({field:o})=>c.jsxs(be,{children:[c.jsx(we,{children:"VIP Status"}),c.jsxs(Pt,{onValueChange:o.onChange,defaultValue:o.value,children:[c.jsx(_e,{children:c.jsx(Et,{children:c.jsx(kt,{placeholder:"Select status"})})}),c.jsxs(At,{children:[c.jsx(je,{value:"regular",children:"Regular"}),c.jsx(je,{value:"silver",children:c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx(Ma,{className:"h-3 w-3"})," Silver"]})}),c.jsx(je,{value:"gold",children:c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx(Ma,{className:"h-3 w-3 text-amber-500"})," Gold"]})}),c.jsx(je,{value:"platinum",children:c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx(Ma,{className:"h-3 w-3 text-purple-500"})," Platinum"]})})]})]}),c.jsx(Ce,{})]})})]}),c.jsx(Se,{control:a.control,name:"address",render:({field:o})=>c.jsxs(be,{children:[c.jsx(we,{children:"Address"}),c.jsx(_e,{children:c.jsx(ea,{placeholder:"Enter full address",rows:2,...o})}),c.jsx(Ce,{})]})}),c.jsx(Se,{control:a.control,name:"notes",render:({field:o})=>c.jsxs(be,{children:[c.jsx(we,{children:"Notes"}),c.jsx(_e,{children:c.jsx(ea,{placeholder:"Any special preferences or notes...",rows:2,...o})}),c.jsx(Ce,{})]})}),c.jsxs(Tt,{className:"gap-2 pt-4",children:[c.jsx(Y,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancel"}),c.jsx(Y,{type:"submit",disabled:n.isPending,children:n.isPending?"Adding...":"Add Customer"})]})]})})]})]})}function lfe(){const{toast:t}=pr(),e=Nn(),{data:r=[],isLoading:n,error:a}=Ln({queryKey:["tasks"],queryFn:async()=>{const{data:s,error:l}=await le.from("tasks").select(`
          *,
          assigned_employee:employees(id, name),
          order:orders(id, order_number)
        `).order("priority",{ascending:!1}).order("due_date",{ascending:!0});if(l)throw l;return s}}),i=Ze({mutationFn:async s=>{const{data:l,error:u}=await le.from("tasks").insert(s).select().single();if(u)throw u;return l},onSuccess:()=>{e.invalidateQueries({queryKey:["tasks"]}),t({title:"Task created",description:"The task has been created successfully."})},onError:s=>{t({title:"Error",description:s.message,variant:"destructive"})}}),o=Ze({mutationFn:async({id:s,status:l})=>{const u={status:l};l==="completed"?u.completed_at=new Date().toISOString():u.completed_at=null;const{data:d,error:f}=await le.from("tasks").update(u).eq("id",s).select().single();if(f)throw f;return d},onSuccess:()=>{e.invalidateQueries({queryKey:["tasks"]}),t({title:"Task updated",description:"The task status has been updated."})},onError:s=>{t({title:"Error",description:s.message,variant:"destructive"})}});return{tasks:r,isLoading:n,error:a,createTask:i,updateTaskStatus:o}}const cfe=()=>{const{orders:t,isLoading:e,error:r}=dh(),{customers:n,isLoading:a,error:i}=Iv(),{tasks:o,isLoading:s,error:l}=lfe(),u=e||a||s,d=r||i||l;if(d)return c.jsx(Rr,{title:"Dashboard",subtitle:"Welcome back to Quppayam",children:c.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[c.jsx("p",{className:"text-destructive mb-2",children:"Failed to load dashboard data"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:d.message})]})});const f=b.useMemo(()=>{const m=new Date;m.setHours(0,0,0,0);const x=t.filter(A=>{const j=new Date(A.created_at);return j.setHours(0,0,0,0),j.getTime()===m.getTime()&&A.status==="completed"}).reduce((A,j)=>A+Number(j.total_amount),0),y=t.filter(A=>!["completed","cancelled"].includes(A.status)).length,w=t.filter(A=>A.status==="ready_for_pickup").length,_=new Date;_.setDate(_.getDate()-7);const S=n.filter(A=>new Date(A.created_at)>=_).length,C=t.filter(A=>A.status==="ready_for_fitting").length,E=t.filter(A=>!["completed","cancelled"].includes(A.status)).reduce((A,j)=>A+Number(j.remaining_balance),0);return{todaySales:x,activeOrders:y,readyForPickup:w,newCustomers:S,pendingFittings:C,totalOutstanding:E}},[t,n]),h=b.useMemo(()=>t.slice(0,5).map(m=>{var g,x,y;return{id:m.id,orderNumber:m.order_number,customerName:((g=m.customer)==null?void 0:g.name)||"Unknown",isVip:((x=m.customer)==null?void 0:x.vip_status)!=="regular",status:m.status,total:Number(m.total_amount),paidAmount:Number(m.deposit_amount),dueDate:m.due_date?new Date(m.due_date):new Date,store:((y=m.store)==null?void 0:y.name)||"No store"}}),[t]),p=b.useMemo(()=>n.filter(m=>m.vip_status!=="regular").slice(0,5).map(m=>{const g=t.filter(w=>{var _;return((_=w.customer)==null?void 0:_.id)===m.id}),x=g.length,y=g.reduce((w,_)=>w+Number(_.total_amount),0);return{id:m.id,name:m.name,phone:m.phone,email:m.email||"",isVip:!0,totalOrders:x,totalSpent:y,lastVisit:new Date(m.updated_at)}}),[n]),v=b.useMemo(()=>o.filter(m=>m.status!=="completed").slice(0,5).map(m=>{var g,x;return{id:m.id,title:m.title,orderNumber:((g=m.order)==null?void 0:g.order_number)||"",assignee:((x=m.assigned_employee)==null?void 0:x.name)||"Unassigned",dueTime:m.due_date?new Date(m.due_date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",priority:m.priority>=3?"high":m.priority>=2?"medium":"low",completed:m.status==="completed"}}),[o]);return u?c.jsx(Rr,{title:"Dashboard",subtitle:"Welcome back to Quppayam",children:c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx(Mn,{className:"h-8 w-8 animate-spin text-primary"})})}):c.jsxs(Rr,{title:"Dashboard",subtitle:"Welcome back to Quppayam",children:[c.jsxs("div",{className:"mb-6 flex flex-col items-start justify-between gap-4 sm:mb-8 sm:flex-row sm:items-center",children:[c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("span",{className:"text-sm text-muted-foreground",children:"Quick Actions:"})}),c.jsxs("div",{className:"flex w-full flex-col gap-2 sm:w-auto sm:flex-row sm:gap-3",children:[c.jsx($9,{}),c.jsx(L9,{trigger:c.jsxs("button",{className:"inline-flex w-full items-center justify-center gap-2 whitespace-nowrap rounded-md border border-input bg-background px-4 py-2 text-sm font-medium ring-offset-background transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 sm:w-auto",children:[c.jsx(lf,{className:"h-4 w-4"}),"Add Customer"]})})]})]}),c.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 sm:mb-6",children:[c.jsx(ps,{title:"Today's Sales",value:`${f.todaySales.toLocaleString()}`,change:`${f.activeOrders} active orders`,changeType:"neutral",icon:c.jsx(KM,{className:"h-6 w-6 text-primary"})}),c.jsx(ps,{title:"Active Orders",value:f.activeOrders.toString(),change:`${f.readyForPickup} ready for pickup`,changeType:"neutral",icon:c.jsx(zl,{className:"h-6 w-6 text-primary"})}),c.jsx(ps,{title:"Outstanding",value:`${f.totalOutstanding.toLocaleString()}`,change:"Total balance due",changeType:f.totalOutstanding>0?"negative":"neutral",icon:c.jsx(aG,{className:"h-6 w-6 text-amber-600"})}),c.jsx(ps,{title:"New Customers",value:f.newCustomers.toString(),change:"This week",changeType:"positive",icon:c.jsx(lf,{className:"h-6 w-6 text-primary"})}),c.jsx(ps,{title:"Pending Fittings",value:f.pendingFittings.toString(),change:"Ready for fitting",changeType:f.pendingFittings>3?"negative":"neutral",icon:c.jsx(oA,{className:"h-6 w-6 text-primary"})})]}),c.jsxs("div",{className:"flex flex-col gap-6",children:[c.jsx(dae,{orders:h}),c.jsx(fae,{customers:p}),c.jsx(hae,{tasks:v})]})]})};function jx({currentPage:t,totalPages:e,pageSize:r,totalItems:n,onPageChange:a,onPageSizeChange:i}){const o=(t-1)*r+1,s=Math.min(t*r,n);return c.jsxs("div",{className:"flex flex-col items-center justify-between gap-4 border-t border-border px-6 py-4 sm:flex-row",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[c.jsx("span",{children:"Showing"}),c.jsxs(Pt,{value:r.toString(),onValueChange:l=>i(Number(l)),children:[c.jsx(Et,{className:"h-8 w-16",children:c.jsx(kt,{})}),c.jsxs(At,{children:[c.jsx(je,{value:"5",children:"5"}),c.jsx(je,{value:"10",children:"10"}),c.jsx(je,{value:"20",children:"20"}),c.jsx(je,{value:"50",children:"50"})]})]}),c.jsxs("span",{children:["of ",n," items"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"text-sm text-muted-foreground",children:[o,"-",s," of ",n]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Y,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>a(t-1),disabled:t===1,children:c.jsx(aA,{className:"h-4 w-4"})}),Array.from({length:Math.min(5,e)},(l,u)=>{let d;return e<=5||t<=3?d=u+1:t>=e-2?d=e-4+u:d=t-2+u,c.jsx(Y,{variant:t===d?"default":"outline",size:"icon",className:"h-8 w-8",onClick:()=>a(d),children:d},d)}),c.jsx(Y,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>a(t+1),disabled:t===e,children:c.jsx(V1,{className:"h-4 w-4"})})]})]})]})}function Pu({icon:t,title:e,description:r,actionLabel:n,onAction:a}){return c.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[c.jsx("div",{className:"mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-muted",children:c.jsx(t,{className:"h-8 w-8 text-muted-foreground"})}),c.jsx("h3",{className:"mb-2 font-display text-lg font-semibold text-foreground",children:e}),c.jsx("p",{className:"mb-6 max-w-sm text-sm text-muted-foreground",children:r}),n&&a&&c.jsx(Y,{onClick:a,children:n})]})}const ufe=Za({name:Me().trim().min(1,"Name is required").max(100),phone:Me().trim().min(1,"Phone is required").max(20),email:Me().trim().email("Invalid email").max(255).optional().or(Zi("")),address:Me().trim().max(500).optional(),city:Me().trim().max(100).optional(),vip_status:px(["regular","silver","gold","platinum"]),discount_percentage:di().min(0).max(100).optional(),notes:Me().trim().max(1e3).optional()});function dfe({customer:t,open:e,onOpenChange:r}){const[n,a]=b.useState(!1),[i,o]=b.useState(!1),[s,l]=b.useState(!1),{updateCustomer:u,deleteCustomer:d}=Iv(),{orders:f}=dh(),h=b.useMemo(()=>t?f.filter(y=>y.customer_id===t.id):[],[t,f]),p=b.useMemo(()=>{const y=h.filter(_=>!["completed","cancelled"].includes(_.status)&&Number(_.remaining_balance)>0);return{total:y.reduce((_,S)=>_+Number(S.remaining_balance),0),orders:y}},[h]),v=za({resolver:Ha(ufe),values:t?{name:t.name,phone:t.phone,email:t.email||"",address:t.address||"",city:t.city||"",vip_status:t.vip_status,discount_percentage:t.discount_percentage||0,notes:t.notes||""}:void 0}),m=()=>{a(!1),v.reset(),r(!1)},g=y=>{t&&u.mutate({id:t.id,name:y.name,phone:y.phone,email:y.email||null,address:y.address||null,city:y.city||null,vip_status:y.vip_status,discount_percentage:y.discount_percentage||null,notes:y.notes||null},{onSuccess:()=>{a(!1)}})},x=(y=!1)=>{if(!t)return;const w=y?{id:t.id,cascade:!0}:t.id;d.mutate(w,{onSuccess:()=>{o(!1),m()}})};return t?c.jsxs(c.Fragment,{children:[c.jsx(Vt,{open:e,onOpenChange:m,children:c.jsxs(It,{className:"sm:max-w-xl max-h-[90vh] overflow-y-auto",children:[c.jsx(Rt,{children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10 font-display text-lg font-semibold text-primary",children:t.name.charAt(0)}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Dt,{className:"font-display",children:t.name}),t.vip_status!=="regular"&&c.jsx(Ma,{className:"h-4 w-4 text-gold"})]}),c.jsxs(hr,{children:["Customer since ",it(new Date(t.created_at),"MMM d, yyyy")]})]})]})}),n?c.jsx(Ga,{...v,children:c.jsxs("form",{onSubmit:v.handleSubmit(g),className:"space-y-4",children:[c.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[c.jsx(Se,{control:v.control,name:"name",render:({field:y})=>c.jsxs(be,{children:[c.jsx(we,{children:"Name *"}),c.jsx(_e,{children:c.jsx(ye,{...y})}),c.jsx(Ce,{})]})}),c.jsx(Se,{control:v.control,name:"phone",render:({field:y})=>c.jsxs(be,{children:[c.jsx(we,{children:"Phone *"}),c.jsx(_e,{children:c.jsx(ye,{...y})}),c.jsx(Ce,{})]})})]}),c.jsx(Se,{control:v.control,name:"email",render:({field:y})=>c.jsxs(be,{children:[c.jsx(we,{children:"Email"}),c.jsx(_e,{children:c.jsx(ye,{type:"email",...y})}),c.jsx(Ce,{})]})}),c.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[c.jsx(Se,{control:v.control,name:"address",render:({field:y})=>c.jsxs(be,{children:[c.jsx(we,{children:"Address"}),c.jsx(_e,{children:c.jsx(ye,{...y})}),c.jsx(Ce,{})]})}),c.jsx(Se,{control:v.control,name:"city",render:({field:y})=>c.jsxs(be,{children:[c.jsx(we,{children:"City"}),c.jsx(_e,{children:c.jsx(ye,{...y})}),c.jsx(Ce,{})]})})]}),c.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[c.jsx(Se,{control:v.control,name:"vip_status",render:({field:y})=>c.jsxs(be,{children:[c.jsx(we,{children:"VIP Status"}),c.jsxs(Pt,{onValueChange:y.onChange,value:y.value,children:[c.jsx(_e,{children:c.jsx(Et,{children:c.jsx(kt,{})})}),c.jsxs(At,{children:[c.jsx(je,{value:"regular",children:"Regular"}),c.jsx(je,{value:"silver",children:"Silver"}),c.jsx(je,{value:"gold",children:"Gold"}),c.jsx(je,{value:"platinum",children:"Platinum"})]})]}),c.jsx(Ce,{})]})}),c.jsx(Se,{control:v.control,name:"discount_percentage",render:({field:y})=>c.jsxs(be,{children:[c.jsx(we,{children:"Discount %"}),c.jsx(_e,{children:c.jsx(ye,{type:"number",min:0,max:100,...y,onChange:w=>y.onChange(Number(w.target.value))})}),c.jsx(Ce,{})]})})]}),c.jsx(Se,{control:v.control,name:"notes",render:({field:y})=>c.jsxs(be,{children:[c.jsx(we,{children:"Notes"}),c.jsx(_e,{children:c.jsx(ea,{rows:2,...y})}),c.jsx(Ce,{})]})}),c.jsxs(Tt,{children:[c.jsx(Y,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"}),c.jsx(Y,{type:"submit",disabled:u.isPending,children:u.isPending?"Saving...":"Save Changes"})]})]})}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid gap-3",children:[c.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[c.jsx(Au,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("span",{children:t.phone})]}),t.email&&c.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[c.jsx(fv,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("span",{children:t.email})]}),(t.address||t.city)&&c.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[c.jsx(cA,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("span",{children:[t.address,t.city].filter(Boolean).join(", ")})]})]}),c.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-muted/50 p-3",children:[c.jsx("span",{className:`status-badge ${t.vip_status==="platinum"?"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400":t.vip_status==="gold"?"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400":t.vip_status==="silver"?"bg-slate-100 text-slate-800 dark:bg-slate-900/30 dark:text-slate-400":"bg-secondary text-secondary-foreground"}`,children:t.vip_status}),t.discount_percentage&&t.discount_percentage>0&&c.jsxs("span",{className:"text-sm text-muted-foreground",children:[t.discount_percentage,"% discount"]})]}),t.notes&&c.jsx("div",{className:"rounded-lg border border-border p-3",children:c.jsx("p",{className:"text-sm text-muted-foreground",children:t.notes})}),p.total>0&&c.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-3 dark:border-amber-900/50 dark:bg-amber-900/20",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(dv,{className:"h-4 w-4 text-amber-600"}),c.jsx("span",{className:"font-medium text-amber-700 dark:text-amber-400",children:"Outstanding Balance"})]}),c.jsxs("div",{className:"text-lg font-semibold text-amber-700 dark:text-amber-400",children:["",p.total.toLocaleString()]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(zl,{className:"h-4 w-4 text-muted-foreground"}),c.jsxs("span",{className:"font-medium",children:["Orders (",h.length,")"]})]}),h.length===0?c.jsxs("div",{className:"flex flex-col items-center justify-center py-6 text-center text-muted-foreground rounded-lg border border-dashed",children:[c.jsx($o,{className:"h-8 w-8 mb-2 opacity-50"}),c.jsx("p",{className:"text-sm",children:"No orders yet"})]}):c.jsx("div",{className:"space-y-2 max-h-[250px] overflow-y-auto pr-1",children:h.map(y=>c.jsxs("div",{className:"flex items-center justify-between rounded-lg border bg-card p-3 text-sm",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-medium",children:y.order_number}),c.jsx(ff,{status:y.status})]}),c.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[c.jsx("span",{children:it(new Date(y.created_at),"MMM d, yyyy")}),y.due_date&&c.jsxs("span",{children:["Due: ",it(new Date(y.due_date),"MMM d")]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"font-medium",children:["",Number(y.total_amount).toLocaleString()]}),y.status==="cancelled"?y.is_settled?Number(y.deposit_amount)>0?c.jsx("div",{className:"text-xs text-green-600 dark:text-green-400",children:"Refunded & Settled"}):c.jsx("div",{className:"text-xs text-green-600 dark:text-green-400",children:"Settled"}):Number(y.deposit_amount)>0?c.jsxs("div",{className:"text-xs text-red-600 dark:text-red-400",children:["Refund: ",Number(y.deposit_amount).toLocaleString()]}):null:Number(y.remaining_balance)===0&&Number(y.total_amount)>0?c.jsx("div",{className:"text-xs text-green-600 dark:text-green-400",children:"Payment Received"}):Number(y.remaining_balance)>0?c.jsxs("div",{className:"text-xs text-amber-600 dark:text-amber-400",children:["Due: ",Number(y.remaining_balance).toLocaleString()]}):null]})]},y.id))})]})]}),c.jsxs(Tt,{className:"flex-row gap-2 sm:justify-between",children:[c.jsxs(Y,{variant:"destructive",size:"sm",onClick:()=>o(!0),className:"gap-2",children:[c.jsx(io,{className:"h-4 w-4"}),"Delete"]}),c.jsxs(Y,{onClick:()=>a(!0),className:"gap-2",children:[c.jsx(Ya,{className:"h-4 w-4"}),"Edit"]})]})]})]})}),c.jsx(Ds,{open:i,onOpenChange:o,children:c.jsxs(Vo,{children:[c.jsx(Wo,{children:c.jsx(Ho,{children:"Delete Customer"})}),h.length>0?c.jsxs("div",{className:"p-4",children:[c.jsx("h3",{className:"text-lg font-medium mb-2",children:"Delete Customer"}),c.jsxs("p",{className:"text-sm mb-3",children:["Deleting ",c.jsx("strong",{children:t.name})," requires removing ",c.jsx("strong",{children:h.length})," related order(s)."]}),c.jsxs("label",{className:"flex items-start gap-2 mb-3 text-sm",children:[c.jsx("input",{type:"checkbox",className:"form-checkbox mt-1",checked:s,onChange:y=>l(y.target.checked)}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:"I understand"}),c.jsxs("div",{className:"text-xs text-muted-foreground",children:["This will permanently delete ",h.length," related order(s) and associated data."]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(uo,{asChild:!0,children:c.jsx(Y,{variant:"outline",size:"sm",children:"Cancel"})}),c.jsx(Y,{size:"sm",onClick:()=>x(!0),disabled:!s||d.isPending,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:d.isPending?"Deleting...":"Delete and Cascade"})]}),c.jsx("p",{className:"text-xs text-muted-foreground mt-3",children:"Note: Cascade will delete related order items, payments, measurements, and orders before removing the customer."})]}):c.jsxs(c.Fragment,{children:[c.jsxs(qo,{children:["Are you sure you want to delete ",t.name,"? This action cannot be undone."]}),c.jsxs(zo,{children:[c.jsx(uo,{children:"Cancel"}),c.jsx(Go,{onClick:()=>x(!1),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:d.isPending?"Deleting...":"Delete"})]})]})]})})]}):null}const ffe=()=>{const{customers:t,isLoading:e}=Iv(),[r,n]=b.useState(""),[a,i]=b.useState("all"),[o,s]=b.useState(1),[l,u]=b.useState(10),[d,f]=b.useState(null),[h,p]=b.useState(!1),v=b.useMemo(()=>t.filter(w=>{var C;const _=w.name.toLowerCase().includes(r.toLowerCase())||(((C=w.email)==null?void 0:C.toLowerCase().includes(r.toLowerCase()))??!1)||w.phone.includes(r),S=a==="all"||a==="vip"&&w.vip_status!=="regular"||a==="regular"&&w.vip_status==="regular";return _&&S}),[t,r,a]),m=Math.ceil(v.length/l),g=v.slice((o-1)*l,o*l),x=w=>{f(w),p(!0)},y=w=>{const _=w.replace(/\D/g,"");window.open(`https://wa.me/${_}`,"_blank")};return e?c.jsx(Rr,{title:"Customers",subtitle:"Manage your customer relationships",children:c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx(Mn,{className:"h-8 w-8 animate-spin text-primary"})})}):c.jsxs(Rr,{title:"Customers",subtitle:"Manage your customer relationships",children:[c.jsx("div",{className:"mb-6",children:c.jsxs("div",{className:"flex flex-col gap-3",children:[c.jsx("div",{className:"w-full",children:c.jsxs("div",{className:"relative w-full",children:[c.jsx(ec,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),c.jsx(ye,{placeholder:"Search customers...",className:"pl-10 w-full",value:r,onChange:w=>{n(w.target.value),s(1)}})]})}),c.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[c.jsx("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:flex-1 sm:justify-start",children:c.jsx("div",{className:"w-full sm:w-auto sm:flex-1",children:c.jsxs(Pt,{value:a,onValueChange:w=>{i(w),s(1)},children:[c.jsx(Et,{className:"w-full sm:w-40",children:c.jsx(kt,{placeholder:"VIP Status"})}),c.jsxs(At,{children:[c.jsx(je,{value:"all",children:"All Customers"}),c.jsx(je,{value:"vip",children:"VIP Only"}),c.jsx(je,{value:"regular",children:"Regular"})]})]})})}),c.jsxs("div",{className:"flex items-center gap-3 justify-between sm:justify-end sm:ml-auto",children:[c.jsx("div",{className:"flex items-center gap-3",children:c.jsxs(Y,{variant:"outline",className:"gap-2",onClick:()=>{H1("Customers",[{header:"Name",render:_=>_.name},{header:"Phone",render:_=>_.phone},{header:"Email",render:_=>_.email||""},{header:"VIP",render:_=>_.vip_status},{header:"Created",render:_=>it(new Date(_.created_at),"MMM d, yyyy")}],v)},children:[c.jsx(ao,{className:"h-4 w-4"}),c.jsx("span",{className:"inline",children:"Export"})]})}),c.jsx("div",{className:"ml-3",children:c.jsx(L9,{})})]})]})]})}),c.jsx("div",{className:"card-luxury overflow-hidden p-0",children:g.length===0?c.jsx(Pu,{icon:lf,title:"No customers found",description:t.length===0?"Add your first customer to get started.":"No customers match your current search or filters."}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"space-y-3 sm:hidden",children:g.map(w=>c.jsx("div",{className:"card-luxury p-4 transition-colors hover:bg-muted/20 cursor-pointer",onClick:()=>x(w),children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/10 font-display text-sm font-semibold text-primary",children:w.name.charAt(0)}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-medium text-foreground",children:w.name}),w.vip_status!=="regular"&&c.jsx(Ma,{className:"h-4 w-4 text-gold"})]}),c.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:w.phone}),w.email&&c.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:w.email})]})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("span",{className:`status-badge ${w.vip_status==="platinum"?"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400":w.vip_status==="gold"?"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400":w.vip_status==="silver"?"bg-slate-100 text-slate-800 dark:bg-slate-900/30 dark:text-slate-400":"bg-secondary text-secondary-foreground"}`,children:w.vip_status}),c.jsxs(wi,{children:[c.jsx(bi,{asChild:!0,children:c.jsx(Y,{variant:"ghost",size:"icon",children:c.jsx(Ps,{className:"h-4 w-4"})})}),c.jsxs(Va,{align:"end",children:[c.jsx(nt,{onClick:()=>x(w),className:"gap-2",children:"View Profile"}),c.jsx(nt,{onClick:()=>x(w),className:"gap-2",children:"Edit Customer"}),c.jsx(nt,{onClick:()=>y(w.phone),className:"gap-2",children:"Send WhatsApp"})]})]})]})]})},w.id))}),c.jsx("div",{className:"overflow-x-auto hidden sm:block",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-border bg-muted/30",children:[c.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider text-muted-foreground md:px-6",children:"Customer"}),c.jsx("th",{className:"hidden px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider text-muted-foreground sm:table-cell md:px-6",children:"Contact"}),c.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider text-muted-foreground md:px-6",children:"Status"}),c.jsx("th",{className:"hidden px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider text-muted-foreground lg:table-cell md:px-6",children:"Created"}),c.jsx("th",{className:"px-4 py-4 text-right text-xs font-semibold uppercase tracking-wider text-muted-foreground md:px-6",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-border",children:g.map(w=>c.jsxs("tr",{className:"transition-colors hover:bg-muted/20 cursor-pointer",onClick:()=>x(w),children:[c.jsx("td",{className:"whitespace-nowrap px-4 py-4 md:px-6",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/10 font-display text-sm font-semibold text-primary",children:w.name.charAt(0)}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-medium text-foreground",children:w.name}),w.vip_status!=="regular"&&c.jsx(Ma,{className:"h-4 w-4 text-gold"})]}),c.jsx("p",{className:"mt-1 text-xs text-muted-foreground sm:hidden",children:w.phone})]})]})}),c.jsx("td",{className:"hidden whitespace-nowrap px-4 py-4 sm:table-cell md:px-6",children:c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm text-foreground",children:[c.jsx(Au,{className:"h-3.5 w-3.5 text-muted-foreground"}),w.phone]}),w.email&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[c.jsx(fv,{className:"h-3.5 w-3.5"}),w.email]})]})}),c.jsx("td",{className:"whitespace-nowrap px-4 py-4 md:px-6",children:c.jsx("span",{className:`status-badge ${w.vip_status==="platinum"?"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400":w.vip_status==="gold"?"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400":w.vip_status==="silver"?"bg-slate-100 text-slate-800 dark:bg-slate-900/30 dark:text-slate-400":"bg-secondary text-secondary-foreground"}`,children:w.vip_status})}),c.jsx("td",{className:"hidden whitespace-nowrap px-4 py-4 text-muted-foreground lg:table-cell md:px-6",children:it(new Date(w.created_at),"MMM d, yyyy")}),c.jsx("td",{className:"whitespace-nowrap px-4 py-4 text-right md:px-6",onClick:_=>_.stopPropagation(),children:c.jsxs(wi,{children:[c.jsx(bi,{asChild:!0,children:c.jsx(Y,{variant:"ghost",size:"icon",children:c.jsx(Ps,{className:"h-4 w-4"})})}),c.jsxs(Va,{align:"end",children:[c.jsxs(nt,{onClick:()=>x(w),className:"gap-2",children:[c.jsx(Eu,{className:"h-4 w-4"}),"View Profile"]}),c.jsxs(nt,{onClick:()=>x(w),className:"gap-2",children:[c.jsx(Ya,{className:"h-4 w-4"}),"Edit Customer"]}),c.jsxs(nt,{onClick:()=>y(w.phone),className:"gap-2",children:[c.jsx(YM,{className:"h-4 w-4"}),"Send WhatsApp"]})]})]})})]},w.id))})]})})]})}),c.jsx("div",{className:"mt-3 flex justify-center px-4",children:c.jsx(jx,{currentPage:o,totalPages:m,pageSize:l,totalItems:v.length,onPageChange:s,onPageSizeChange:w=>{u(w),s(1)}})}),c.jsx(dfe,{customer:d,open:h,onOpenChange:p})]})};var Nx="Collapsible",[hfe,F9]=$n(Nx),[pfe,Aj]=hfe(Nx),B9=b.forwardRef((t,e)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:i,onOpenChange:o,...s}=t,[l,u]=xi({prop:n,defaultProp:a??!1,onChange:o,caller:Nx});return c.jsx(pfe,{scope:r,disabled:i,contentId:$a(),open:l,onOpenToggle:b.useCallback(()=>u(d=>!d),[u]),children:c.jsx(Ie.div,{"data-state":Tj(l),"data-disabled":i?"":void 0,...s,ref:e})})});B9.displayName=Nx;var U9="CollapsibleTrigger",jj=b.forwardRef((t,e)=>{const{__scopeCollapsible:r,...n}=t,a=Aj(U9,r);return c.jsx(Ie.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":Tj(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:e,onClick:de(t.onClick,a.onOpenToggle)})});jj.displayName=U9;var Nj="CollapsibleContent",Oj=b.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=Aj(Nj,t.__scopeCollapsible);return c.jsx(mn,{present:r||a.open,children:({present:i})=>c.jsx(mfe,{...n,ref:e,present:i})})});Oj.displayName=Nj;var mfe=b.forwardRef((t,e)=>{const{__scopeCollapsible:r,present:n,children:a,...i}=t,o=Aj(Nj,r),[s,l]=b.useState(n),u=b.useRef(null),d=Ke(e,u),f=b.useRef(0),h=f.current,p=b.useRef(0),v=p.current,m=o.open||s,g=b.useRef(m),x=b.useRef(void 0);return b.useEffect(()=>{const y=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(y)},[]),on(()=>{const y=u.current;if(y){x.current=x.current||{transitionDuration:y.style.transitionDuration,animationName:y.style.animationName},y.style.transitionDuration="0s",y.style.animationName="none";const w=y.getBoundingClientRect();f.current=w.height,p.current=w.width,g.current||(y.style.transitionDuration=x.current.transitionDuration,y.style.animationName=x.current.animationName),l(n)}},[o.open,n]),c.jsx(Ie.div,{"data-state":Tj(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!m,...i,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...t.style},children:m&&a})});function Tj(t){return t?"open":"closed"}var V9=B9,vfe=jj,gfe=Oj;const gy=V9,yy=jj,xy=Oj;function W9(t){const e=Nn(),{data:r,isLoading:n}=Ln({queryKey:["payment-history",t],queryFn:async()=>{if(!t)return[];const{data:s,error:l}=await le.from("payment_history").select("*").eq("order_id",t).order("created_at",{ascending:!1});if(l)throw l;return s},enabled:!!t}),a=Ze({mutationFn:async({orderId:s,amount:l,paymentType:u,notes:d})=>{const{error:f}=await le.from("payment_history").insert({order_id:s,amount:l,payment_type:u,notes:d||null});if(f)throw f},onSuccess:(s,l)=>{e.invalidateQueries({queryKey:["payment-history",l.orderId]}),e.invalidateQueries({queryKey:["orders"]}),lT.success(l.paymentType==="payment"?"Payment recorded successfully":"Refund recorded successfully")},onError:s=>{lT.error("Failed to record: "+s.message)}}),i=(r==null?void 0:r.reduce((s,l)=>l.payment_type==="payment"?s+Number(l.amount):s,0))||0,o=(r==null?void 0:r.reduce((s,l)=>l.payment_type==="refund"?s+Number(l.amount):s,0))||0;return{payments:r,isLoading:n,recordPayment:a,totalReceived:i,totalRefunded:o,netReceived:i-o}}function z9(t){const{toast:e}=pr(),r=Nn(),{data:n=[],isLoading:a,error:i}=Ln({queryKey:["order-items",t],queryFn:async()=>{if(!t)return[];const{data:d,error:f}=await le.from("order_items").select(`
          *,
          measurement:measurements(
            id,
            garment_type,
            full_length,
            blouse_length,
            shoulder,
            bust,
            waist_round,
            yoke_length,
            yoke_round,
            slit_length,
            slit_width,
            stomach_length,
            stomach_round,
            bust_point_length,
            bust_distance,
            fc,
            bc,
            sleeve_round,
            bicep_round,
            armhole,
            shoulder_balance,
            front_neck_depth,
            back_neck_depth,
            collar_round,
            bottom_length,
            skirt_length,
            hip_round,
            seat_round,
            thigh_round,
            knee_round,
            ankle_round,
            custom_notes
          ),
          measurement_version:measurement_versions(
            id,
            version_number,
            full_length,
            blouse_length,
            shoulder,
            bust,
            waist_round,
            yoke_length,
            yoke_round,
            slit_length,
            slit_width,
            stomach_length,
            stomach_round,
            bust_point_length,
            bust_distance,
            fc,
            bc,
            sleeve_round,
            bicep_round,
            armhole,
            shoulder_balance,
            front_neck_depth,
            back_neck_depth,
            collar_round,
            bottom_length,
            skirt_length,
            hip_round,
            seat_round,
            thigh_round,
            knee_round,
            ankle_round,
            garment_type,
            custom_notes,
            created_at
          )
        `).eq("order_id",t).order("created_at",{ascending:!0});if(f)throw f;return d},enabled:!!t}),o=Ze({mutationFn:async({itemId:d,measurementVersionId:f})=>{const{data:h,error:p}=await le.from("order_items").update({measurement_version_id:f}).eq("id",d).select().single();if(p)throw p;return h},onSuccess:()=>{r.invalidateQueries({queryKey:["order-items",t]}),e({title:"Measurement updated",description:"The order item measurement has been updated."})},onError:d=>{e({title:"Error",description:d.message,variant:"destructive"})}}),s=Ze({mutationFn:async d=>{const{data:f,error:h}=await le.from("order_items").insert(d).select().single();if(h)throw h;return f},onSuccess:()=>{r.invalidateQueries({queryKey:["order-items",t]}),e({title:"Item added",description:"The item was added to the order."})},onError:d=>{e({title:"Error",description:d.message,variant:"destructive"})}}),l=Ze({mutationFn:async d=>{const{data:f,error:h}=await le.from("order_items").delete().eq("id",d).select().single();if(h)throw h;return f},onSuccess:()=>{r.invalidateQueries({queryKey:["order-items",t]}),e({title:"Item removed",description:"The item was removed from the order."})},onError:d=>{e({title:"Error",description:d.message,variant:"destructive"})}}),u=Ze({mutationFn:async({itemId:d,quantity:f})=>{const{data:h,error:p}=await le.from("order_items").update({quantity:f}).eq("id",d).select().single();if(p)throw p;return h},onSuccess:()=>{r.invalidateQueries({queryKey:["order-items",t]}),e({title:"Quantity updated",description:"The item quantity has been updated."})},onError:d=>{e({title:"Error",description:d.message,variant:"destructive"})}});return{items:n,isLoading:a,error:i,updateOrderItemMeasurement:o,addOrderItem:s,removeOrderItem:l,updateOrderItemQuantity:u}}function yfe({order:t,open:e,onOpenChange:r}){var R,F,B,M,I,P,V;const[n,a]=b.useState(!1),[i,o]=b.useState(!1),[s,l]=b.useState(!1),[u,d]=b.useState(!0),[f,h]=b.useState(""),[p,v]=b.useState("");b.useState("");const{updateOrder:m,deleteOrder:g}=dh(),{payments:x,recordPayment:y,netReceived:w}=W9(t==null?void 0:t.id),{items:_,addOrderItem:S}=z9(t==null?void 0:t.id);fh(),pr();const C=()=>{r(!1),o(!1),l(!1),d(!0),h(""),v("")},E=(t==null?void 0:t.status)==="cancelled",A=(t==null?void 0:t.is_settled)??!1,j=()=>{t&&m.mutate({id:t.id,is_settled:!0})},T=()=>{if(!t)return;const z=parseFloat(f)||0;if(z<=0)return;const H=w+z,K=Number(t.total_amount),re=Math.max(0,K-H);y.mutate({orderId:t.id,amount:z,paymentType:"payment"},{onSuccess:()=>{m.mutate({id:t.id,deposit_amount:H,remaining_balance:re}),o(!1),h("")}})},N=()=>{if(!t)return;const z=parseFloat(p)||0;if(z<=0)return;const H=Math.max(0,w-z),K=Number(t.total_amount),re=Math.max(0,K-H);y.mutate({orderId:t.id,amount:z,paymentType:"refund"},{onSuccess:()=>{m.mutate({id:t.id,deposit_amount:H,remaining_balance:re}),l(!1),v("")}})},O=()=>{t&&g.mutate(t.id,{onSuccess:()=>{a(!1),C()}})};if(!t)return null;const $=Number(t.total_amount)-w;return c.jsxs(c.Fragment,{children:[c.jsx(Vt,{open:e,onOpenChange:C,children:c.jsxs(It,{className:"sm:max-w-lg max-h-[90vh] overflow-hidden flex flex-col",children:[c.jsx(Rt,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs(Dt,{className:"font-display",children:["#",t.order_number]}),c.jsxs(hr,{children:["Created ",it(new Date(t.created_at),"MMM d, yyyy")]})]}),c.jsx(ff,{status:t.status})]})}),c.jsx(hh,{className:"flex-1 pr-4 overflow-y-auto",children:c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"rounded-lg border border-border p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/10 font-display text-sm font-semibold text-primary",children:(F=(R=t.customer)==null?void 0:R.name)==null?void 0:F.charAt(0)}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-medium",children:(B=t.customer)==null?void 0:B.name}),((M=t.customer)==null?void 0:M.vip_status)&&t.customer.vip_status!=="regular"&&c.jsx(Ma,{className:"h-4 w-4 text-gold"})]}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[c.jsx(Au,{className:"h-3 w-3"}),c.jsx("span",{children:(I=t.customer)==null?void 0:I.phone})]})]})]})}),c.jsx(gy,{open:u,onOpenChange:d,children:c.jsxs("div",{className:"rounded-lg border border-border p-4 space-y-3",children:[c.jsx(yy,{asChild:!0,children:c.jsxs(Y,{variant:"ghost",size:"sm",className:"w-full justify-between gap-2 -m-2",children:[c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx($o,{className:"h-4 w-4"}),"Order Items (",_.length,")"]}),u?c.jsx(Qp,{className:"h-4 w-4"}):c.jsx(iu,{className:"h-4 w-4"})]})}),c.jsx(xy,{className:"space-y-2 pt-2",children:_.length>0?_.map(z=>c.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-muted/30 border border-border",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm font-medium",children:z.description}),c.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[c.jsxs("span",{children:["Qty: ",z.quantity]}),c.jsx("span",{children:""}),c.jsxs("span",{children:["",Number(z.unit_price).toLocaleString()]}),z.is_custom_work&&c.jsx("span",{className:"px-1.5 py-0.5 rounded bg-primary/10 text-primary text-[10px]",children:"Custom"})]})]}),c.jsxs("p",{className:"font-medium text-sm",children:["",Number(z.total_price).toLocaleString()]})]},z.id)):c.jsx("p",{className:"text-sm text-muted-foreground text-center py-2",children:"No items added to this order"})})]})}),c.jsxs("div",{className:"rounded-lg border border-border p-4 space-y-3",children:[c.jsxs("p",{className:"text-sm font-medium flex items-center gap-2",children:[c.jsx(Zq,{className:"h-4 w-4"}),"Financial Summary"]}),c.jsxs("div",{className:"space-y-2",children:[Number(t.subtotal)>0&&c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),c.jsxs("span",{children:["",Number(t.subtotal).toLocaleString()]})]}),Number(t.tax_amount)>0&&c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Tax"}),c.jsxs("span",{children:["",Number(t.tax_amount).toLocaleString()]})]}),Number(t.discount_amount)>0&&c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Discount"}),c.jsxs("span",{className:"text-emerald-600",children:["-",Number(t.discount_amount).toLocaleString()]})]}),c.jsxs("div",{className:"flex justify-between text-sm font-semibold pt-2 border-t border-border",children:[c.jsx("span",{children:"Total Amount"}),c.jsxs("span",{children:["",Number(t.total_amount).toLocaleString()]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2",children:[c.jsxs("div",{className:"rounded-lg bg-emerald-500/10 p-2 text-center",children:[c.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Received"}),c.jsxs("p",{className:"text-sm font-medium text-emerald-600",children:["",w.toLocaleString()]})]}),c.jsxs("div",{className:`rounded-lg p-2 text-center ${$>0?"bg-amber-500/10":"bg-emerald-500/10"}`,children:[c.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Balance"}),c.jsxs("p",{className:`text-sm font-medium ${$>0?"text-amber-600":"text-emerald-600"}`,children:["",Math.max(0,$).toLocaleString()]})]})]})]}),c.jsxs("div",{className:"rounded-lg border border-border p-4 space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("p",{className:"text-sm font-medium flex items-center gap-2",children:[c.jsx(zM,{className:"h-4 w-4"}),"Payment History"]}),!E&&c.jsx("div",{className:"flex gap-2",children:c.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>o(!0),className:"gap-1 h-7 text-xs",children:[c.jsx(Lo,{className:"h-3 w-3"}),"Payment"]})}),E&&w>0&&!A&&c.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>l(!0),className:"gap-1 h-7 text-xs border-amber-500/50 text-amber-700 hover:bg-amber-500/20 dark:text-amber-400",children:[c.jsx(Qq,{className:"h-3 w-3"}),"Refund"]})]}),i&&c.jsxs("div",{className:"rounded-lg border border-primary/30 bg-primary/5 p-3 space-y-2",children:[c.jsx("label",{className:"text-xs text-muted-foreground",children:"Payment Amount ()"}),c.jsx(ye,{type:"number",min:0,value:f,onChange:z=>h(z.target.value),placeholder:"Enter payment amount"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Y,{variant:"outline",size:"sm",onClick:()=>o(!1),children:"Cancel"}),c.jsx(Y,{size:"sm",onClick:T,disabled:y.isPending||!f||parseFloat(f)<=0,children:y.isPending?"Recording...":"Record Payment"})]})]}),s&&c.jsxs("div",{className:"rounded-lg border border-amber-500/30 bg-amber-500/10 p-3 space-y-2",children:[c.jsx("label",{className:"text-xs text-muted-foreground",children:"Refund Amount ()"}),c.jsx(ye,{type:"number",min:0,max:w,value:p,onChange:z=>v(z.target.value),placeholder:"Enter refund amount"}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["Max refundable: ",w.toLocaleString()]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Y,{variant:"outline",size:"sm",onClick:()=>l(!1),children:"Cancel"}),c.jsx(Y,{size:"sm",onClick:N,disabled:y.isPending||!p||parseFloat(p)<=0,className:"bg-amber-600 hover:bg-amber-700",children:y.isPending?"Processing...":"Process Refund"})]})]}),x&&x.length>0?c.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:x.map(z=>c.jsxs("div",{className:`flex items-center justify-between p-2 rounded-md text-sm ${z.payment_type==="refund"?"bg-amber-500/10 border border-amber-500/20":"bg-emerald-500/10 border border-emerald-500/20"}`,children:[c.jsxs("div",{className:"flex items-center gap-2",children:[z.payment_type==="refund"?c.jsx(Wq,{className:"h-4 w-4 text-amber-600"}):c.jsx(Vq,{className:"h-4 w-4 text-emerald-600"}),c.jsx("span",{className:z.payment_type==="refund"?"text-amber-700 dark:text-amber-400":"text-emerald-700 dark:text-emerald-400",children:z.payment_type==="refund"?"Refund":"Payment"})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:`font-medium ${z.payment_type==="refund"?"text-amber-700 dark:text-amber-400":"text-emerald-700 dark:text-emerald-400"}`,children:[z.payment_type==="refund"?"-":"+","",Number(z.amount).toLocaleString()]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:it(new Date(z.created_at),"MMM d, yyyy 'at' h:mm a")})]})]},z.id))}):c.jsx("p",{className:"text-xs text-muted-foreground text-center py-2",children:"No payment records yet"})]}),c.jsxs("div",{className:"grid gap-3",children:[c.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[c.jsx(W1,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("span",{children:((P=t.store)==null?void 0:P.name)||"No store assigned"})]}),c.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[c.jsx(uA,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("span",{children:((V=t.assigned_employee)==null?void 0:V.name)||"Unassigned"})]}),t.due_date&&c.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[c.jsx(uv,{className:"h-4 w-4 text-muted-foreground"}),c.jsxs("span",{children:["Due: ",it(new Date(t.due_date),"PPP")]})]})]}),t.notes&&c.jsx("div",{className:"rounded-lg border border-border p-3",children:c.jsx("p",{className:"text-sm text-muted-foreground",children:t.notes})})]})}),c.jsxs(Tt,{className:"flex-row flex-wrap gap-2 sm:justify-between",children:[c.jsxs("div",{className:"flex gap-2",children:[!E&&c.jsxs(Y,{variant:"destructive",size:"sm",onClick:()=>a(!0),className:"gap-2",children:[c.jsx(io,{className:"h-4 w-4"}),"Cancel Order"]}),E&&!A&&c.jsx(Y,{variant:"outline",size:"sm",onClick:j,disabled:m.isPending,className:"gap-2 border-emerald-500/50 text-emerald-700 hover:bg-emerald-500/20 dark:text-emerald-400",children:m.isPending?"Settling...":"Mark as Settled"})]}),c.jsx("div",{})]})]})}),c.jsx(Ds,{open:n,onOpenChange:a,children:c.jsxs(Vo,{children:[c.jsxs(Wo,{children:[c.jsx(Ho,{children:"Cancel Order"}),c.jsxs(qo,{children:["Are you sure you want to cancel order #",t.order_number,"? This will mark the order as cancelled."]})]}),c.jsxs(zo,{children:[c.jsx(uo,{children:"Go Back"}),c.jsx(Go,{onClick:O,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:g.isPending?"Cancelling...":"Cancel Order"})]})]})})]})}const Pj=()=>{const t=Nn(),{data:e,isLoading:r,error:n}=Ln({queryKey:["order-status-settings"],queryFn:async()=>{const{data:l,error:u}=await le.from("order_status_settings").select("*").order("sort_order",{ascending:!0});if(u)throw u;return l}}),a=Ze({mutationFn:async l=>{const{data:u,error:d}=await le.from("order_status_settings").insert(l).select().single();if(d)throw d;return u},onSuccess:()=>{t.invalidateQueries({queryKey:["order-status-settings"]}),zi({title:"Order status created successfully"})},onError:l=>{zi({title:"Failed to create order status",description:l.message,variant:"destructive"})}}),i=Ze({mutationFn:async({id:l,...u})=>{const{data:d,error:f}=await le.from("order_status_settings").update(u).eq("id",l).select().single();if(f)throw f;return d},onSuccess:()=>{t.invalidateQueries({queryKey:["order-status-settings"]}),zi({title:"Order status updated successfully"})},onError:l=>{zi({title:"Failed to update order status",description:l.message,variant:"destructive"})}}),o=Ze({mutationFn:async l=>{const{error:u}=await le.from("order_status_settings").delete().eq("id",l);if(u)throw u},onSuccess:()=>{t.invalidateQueries({queryKey:["order-status-settings"]}),zi({title:"Order status deleted successfully"})},onError:l=>{zi({title:"Failed to delete order status",description:l.message,variant:"destructive"})}}),s=Ze({mutationFn:async l=>{const u=l.map((d,f)=>({id:d,sort_order:f}));for(const d of u){const{error:f}=await le.from("order_status_settings").update({sort_order:d.sort_order}).eq("id",d.id);if(f)throw f}},onSuccess:()=>{t.invalidateQueries({queryKey:["order-status-settings"]})},onError:l=>{zi({title:"Failed to reorder statuses",description:l.message,variant:"destructive"})}});return{orderStatuses:e,isLoading:r,error:n,createOrderStatus:a,updateOrderStatus:i,deleteOrderStatus:o,reorderStatuses:s}},xfe=()=>{const t=Nn(),{data:e,isLoading:r,error:n}=Ln({queryKey:["vip-status-settings"],queryFn:async()=>{const{data:o,error:s}=await le.from("vip_status_settings").select("*").order("sort_order",{ascending:!0});if(s)throw s;return o}}),a=Ze({mutationFn:async({id:o,...s})=>{const{data:l,error:u}=await le.from("vip_status_settings").update(s).eq("id",o).select().single();if(u)throw u;return l},onSuccess:()=>{t.invalidateQueries({queryKey:["vip-status-settings"]}),zi({title:"VIP status updated successfully"})},onError:o=>{zi({title:"Failed to update VIP status",description:o.message,variant:"destructive"})}}),i=Ze({mutationFn:async o=>{const s=o.map((l,u)=>({id:l,sort_order:u}));for(const l of s){const{error:u}=await le.from("vip_status_settings").update({sort_order:l.sort_order}).eq("id",l.id);if(u)throw u}},onSuccess:()=>{t.invalidateQueries({queryKey:["vip-status-settings"]})},onError:o=>{zi({title:"Failed to reorder VIP statuses",description:o.message,variant:"destructive"})}});return{vipStatuses:e,isLoading:r,error:n,updateVipStatus:a,reorderVipStatuses:i}},wfe=[];function bfe({order:t,open:e,onOpenChange:r}){const[n,a]=b.useState(""),{updateOrderStatus:i}=dh(),{orderStatuses:o}=Pj();b.useEffect(()=>{e&&t&&a(t.status)},[e,t]);const s=(o||[]).filter(f=>f.is_active).map(f=>({value:f.code,label:f.label})),l=s.length>0?s:wfe,u=()=>{r(!1),a("")},d=()=>{!t||!n||i.mutate({id:t.id,status:n},{onSuccess:()=>{u()}})};return t?c.jsx(Vt,{open:e,onOpenChange:u,children:c.jsxs(It,{className:"sm:max-w-md",children:[c.jsxs(Rt,{children:[c.jsx(Dt,{className:"font-display",children:"Update Order Status"}),c.jsxs(hr,{children:["Change the status for order #",t.order_number]})]}),c.jsxs("div",{className:"space-y-4 py-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:"Current Status:"}),c.jsx(ff,{status:t.status})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"New Status"}),c.jsxs(Pt,{value:n,onValueChange:f=>a(f),children:[c.jsx(Et,{children:c.jsx(kt,{placeholder:"Select new status"})}),c.jsx(At,{children:l.map(f=>c.jsx(je,{value:f.value,children:f.label},f.value))})]})]})]}),c.jsxs(Tt,{children:[c.jsx(Y,{variant:"outline",onClick:u,children:"Cancel"}),c.jsx(Y,{onClick:d,disabled:!n||n===t.status||i.isPending,children:i.isPending?c.jsxs(c.Fragment,{children:[c.jsx(Mn,{className:"h-4 w-4 animate-spin mr-2"}),"Updating..."]}):"Update Status"})]})]})}):null}var Ox="Tabs",[_fe,oMe]=$n(Ox,[lx]),H9=lx(),[Sfe,kj]=_fe(Ox),q9=b.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:s,activationMode:l="automatic",...u}=t,d=sh(s),[f,h]=xi({prop:n,onChange:a,defaultProp:i??"",caller:Ox});return c.jsx(Sfe,{scope:r,baseId:$a(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:l,children:c.jsx(Ie.div,{dir:d,"data-orientation":o,...u,ref:e})})});q9.displayName=Ox;var G9="TabsList",K9=b.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...a}=t,i=kj(G9,r),o=H9(r);return c.jsx(s$,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:c.jsx(Ie.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:e})})});K9.displayName=G9;var X9="TabsTrigger",Y9=b.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=t,o=kj(X9,r),s=H9(r),l=J9(o.baseId,n),u=eF(o.baseId,n),d=n===o.value;return c.jsx(l$,{asChild:!0,...s,focusable:!a,active:d,children:c.jsx(Ie.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:l,...i,ref:e,onMouseDown:de(t.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:de(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:de(t.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});Y9.displayName=X9;var Z9="TabsContent",Q9=b.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=t,s=kj(Z9,r),l=J9(s.baseId,n),u=eF(s.baseId,n),d=n===s.value,f=b.useRef(d);return b.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),c.jsx(mn,{present:a||d,children:({present:h})=>c.jsx(Ie.div,{"data-state":d?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});Q9.displayName=Z9;function J9(t,e){return`${t}-trigger-${e}`}function eF(t,e){return`${t}-content-${e}`}var Cfe=q9,tF=K9,rF=Y9,nF=Q9;const Efe=Cfe,aF=b.forwardRef(({className:t,...e},r)=>c.jsx(tF,{ref:r,className:fe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));aF.displayName=tF.displayName;const NS=b.forwardRef(({className:t,...e},r)=>c.jsx(rF,{ref:r,className:fe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));NS.displayName=rF.displayName;const OS=b.forwardRef(({className:t,...e},r)=>c.jsx(nF,{ref:r,className:fe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));OS.displayName=nF.displayName;const Afe=Za({scheduledDate:Me().min(1,"Date is required"),scheduledTime:Me().min(1,"Time is required"),storeId:Me().optional(),notes:Me().max(500).optional()}),iF={garmentType:Me().min(2,"Garment type is required"),custom_notes:Me().max(500).optional()};dr.forEach(t=>{iF[t.key]=di().min(0).max(200).optional()});const jfe=Za(iF),Nfe=["Standard Blouse","Lehenga","Saree Blouse","Kurta","Salwar","Evening Gown","Custom"];function Ofe({order:t,open:e,onOpenChange:r}){var m;const[n,a]=b.useState("fitting"),[i,o]=b.useState(!1),{stores:s}=Ci(),{createMeasurement:l}=Dv(),{toast:u}=pr(),d=za({resolver:Ha(Afe),defaultValues:{scheduledDate:it(new Date,"yyyy-MM-dd"),scheduledTime:"10:00",storeId:"",notes:""}}),f=za({resolver:Ha(jfe),defaultValues:{garmentType:"",custom_notes:""}});b.useEffect(()=>{t!=null&&t.store_id&&d.setValue("storeId",t.store_id)},[t,d]);const h=()=>{d.reset(),f.reset(),a("fitting"),r(!1)},p=async g=>{var x;if((x=t==null?void 0:t.customer)!=null&&x.id){o(!0);try{const y=new Date(`${g.scheduledDate}T${g.scheduledTime}`),{error:w}=await le.from("fitting_appointments").insert({order_id:t.id,customer_id:t.customer.id,scheduled_at:y.toISOString(),store_id:g.storeId||null,notes:g.notes||null});if(w)throw w;u({title:"Fitting scheduled",description:`Fitting scheduled for ${it(y,"PPP 'at' p")}`}),h()}catch(y){u({title:"Error",description:y.message,variant:"destructive"})}finally{o(!1)}}},v=g=>{if(!(t!=null&&t.id))return;const x={order_id:t.id,garment_type:g.garmentType,custom_notes:g.custom_notes||null};dr.forEach(y=>{x[y.key]=g[y.key]||null}),l.mutate(x,{onSuccess:()=>{u({title:"Measurement saved",description:"Customer measurement profile has been created."}),f.reset(),a("fitting")}})};return t?c.jsx(Vt,{open:e,onOpenChange:h,children:c.jsxs(It,{className:"sm:max-w-2xl max-h-[90vh] overflow-auto flex flex-col min-h-0",children:[c.jsxs(Rt,{children:[c.jsx(Dt,{className:"font-display",children:"Schedule Fitting"}),c.jsxs(hr,{children:["Order #",t.order_number,(m=t.customer)!=null&&m.name?` - ${t.customer.name}`:""]})]}),c.jsxs(Efe,{value:n,onValueChange:a,className:"w-full flex-1 flex flex-col min-h-0",children:[c.jsxs(aF,{className:"grid w-full grid-cols-2",children:[c.jsxs(NS,{value:"fitting",className:"gap-2",children:[c.jsx(uv,{className:"h-4 w-4"}),"Schedule"]}),c.jsxs(NS,{value:"measurement",className:"gap-2",children:[c.jsx(su,{className:"h-4 w-4"}),"New Measurement"]})]}),c.jsx(OS,{value:"fitting",className:"mt-4 flex-1",children:c.jsx(Ga,{...d,children:c.jsxs("form",{onSubmit:d.handleSubmit(p),className:"space-y-4",children:[c.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[c.jsx(Se,{control:d.control,name:"scheduledDate",render:({field:g})=>c.jsxs(be,{children:[c.jsx(we,{children:"Date *"}),c.jsx(_e,{children:c.jsx(ye,{type:"date",...g})}),c.jsx(Ce,{})]})}),c.jsx(Se,{control:d.control,name:"scheduledTime",render:({field:g})=>c.jsxs(be,{children:[c.jsx(we,{children:"Time *"}),c.jsx(_e,{children:c.jsx(ye,{type:"time",...g})}),c.jsx(Ce,{})]})})]}),c.jsx(Se,{control:d.control,name:"storeId",render:({field:g})=>c.jsxs(be,{children:[c.jsx(we,{children:"Store"}),c.jsxs(Pt,{onValueChange:g.onChange,value:g.value,children:[c.jsx(_e,{children:c.jsx(Et,{children:c.jsx(kt,{placeholder:"Select store"})})}),c.jsx(At,{children:s.filter(x=>x.is_active).map(x=>c.jsx(je,{value:x.id,children:x.name},x.id))})]}),c.jsx(Ce,{})]})}),c.jsx(Se,{control:d.control,name:"notes",render:({field:g})=>c.jsxs(be,{children:[c.jsx(we,{children:"Notes"}),c.jsx(_e,{children:c.jsx(ea,{placeholder:"Additional notes for the fitting...",rows:2,...g})}),c.jsx(Ce,{})]})}),c.jsxs(Tt,{className:"gap-2 pt-4",children:[c.jsx(Y,{type:"button",variant:"outline",onClick:h,children:"Cancel"}),c.jsx(Y,{type:"submit",disabled:i,children:i?"Scheduling...":"Schedule Fitting"})]})]})})}),c.jsx(OS,{value:"measurement",className:"mt-4 flex-1 flex flex-col min-h-0",children:c.jsx(Ga,{...f,children:c.jsxs("form",{onSubmit:f.handleSubmit(v),className:"flex-1 flex flex-col min-h-0",children:[c.jsx(hh,{className:"flex-1 pr-4 overflow-y-auto min-h-0",children:c.jsxs("div",{className:"space-y-4",children:[c.jsx(Se,{control:f.control,name:"garmentType",render:({field:g})=>c.jsxs(be,{children:[c.jsx(we,{children:"Garment Type *"}),c.jsxs(Pt,{onValueChange:g.onChange,value:g.value,children:[c.jsx(_e,{children:c.jsx(Et,{children:c.jsx(kt,{placeholder:"Select type"})})}),c.jsx(At,{children:Nfe.map(x=>c.jsx(je,{value:x,children:x},x))})]}),c.jsx(Ce,{})]})}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("h4",{className:"font-medium text-sm",children:"Measurements (inches)"}),c.jsx("div",{className:"grid gap-3 grid-cols-3 sm:grid-cols-4",children:dr.map(g=>c.jsx(Se,{control:f.control,name:g.key,render:({field:x})=>c.jsxs(be,{children:[c.jsx(we,{className:"text-xs",children:g.label}),c.jsx(_e,{children:c.jsx(ye,{type:"number",step:"0.5",placeholder:"0",...x,value:x.value??"",onChange:y=>x.onChange(y.target.value?Number(y.target.value):void 0)})})]})},g.key))})]}),c.jsx(Se,{control:f.control,name:"custom_notes",render:({field:g})=>c.jsxs(be,{children:[c.jsx(we,{children:"Notes"}),c.jsx(_e,{children:c.jsx(ea,{placeholder:"Fit preferences, adjustments...",rows:2,...g,value:g.value||""})}),c.jsx(Ce,{})]})})]})}),c.jsxs(Tt,{className:"gap-2 pt-4 mt-4 border-t",children:[c.jsx(Y,{type:"button",variant:"outline",onClick:()=>a("fitting"),children:"Back"}),c.jsxs(Y,{type:"submit",disabled:l.isPending,className:"gap-2",children:[c.jsx(Lo,{className:"h-4 w-4"}),l.isPending?"Saving...":"Save Measurement"]})]})]})})})]})]})}):null}const Og=3;function oF(t){const e=Nn(),{data:r=[],isLoading:n,error:a}=Ln({queryKey:["measurement-versions",t],queryFn:async()=>{if(!t)return[];const{data:s,error:l}=await le.from("measurement_versions").select("*").eq("measurement_id",t).order("version_number",{ascending:!1});if(l)throw l;return s},enabled:!!t}),i=Ze({mutationFn:async()=>{if(!t||r.length<=Og)return;const l=r.slice(Og).map(d=>d.id);if(l.length===0)return;const{error:u}=await le.from("measurement_versions").delete().in("id",l);if(u)throw u},onSuccess:()=>{e.invalidateQueries({queryKey:["measurement-versions",t]})}});return{versions:r.slice(0,Og),allVersions:r,isLoading:n,error:a,latestVersion:r[0]||null,cleanupOldVersions:i,hasExcessVersions:r.length>Og}}function Tfe({measurement:t,isExpanded:e,onToggle:r,order:n}){const{versions:a}=oF(t.id),[i,o]=b.useState(!1),[s,l]=b.useState(!1),{toast:u}=pr(),d=()=>{var y;const h=["Field","Value"],p=[["Order Number",n.order_number],["Customer",((y=n.customer)==null?void 0:y.name)||""],["Garment Type",t.garment_type],...dr.map(w=>{const _=t[w.key];return[w.label,_?`${Number(_)}"`:""]}),["Notes",t.custom_notes||""]],v=[h,...p].map(w=>w.join(",")).join(`
`),m=new Blob([v],{type:"text/csv"}),g=URL.createObjectURL(m),x=document.createElement("a");x.href=g,x.download=`measurements-${n.order_number}-${t.garment_type}-${it(new Date,"yyyy-MM-dd")}.csv`,x.click(),URL.revokeObjectURL(g),u({title:"Exported",description:"Measurements exported as CSV."})},f=()=>{const h=window.open("","_blank");if(!h){u({title:"Error",description:"Please allow popups to export PDF",variant:"destructive"});return}const p=dr.filter(m=>t[m.key]).map(m=>`
        <tr>
          <td style="padding: 8px; border-bottom: 1px solid #e5e7eb;">${m.label}</td>
          <td style="padding: 8px; border-bottom: 1px solid #e5e7eb; font-weight: 600;">${Number(t[m.key])}"</td>
        </tr>
      `).join(""),v=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Measurement - ${t.garment_type}</title>
          <style>
            body { font-family: system-ui, sans-serif; padding: 40px; max-width: 800px; margin: 0 auto; }
            h1 { font-size: 20px; margin-bottom: 8px; }
            .info { margin-bottom: 16px; }
            @media print { body { padding: 20px; } .no-print { display: none; } }
          </style>
        </head>
        <body>
          <h1>${t.garment_type}</h1>
          <div class="info">
            <p><strong>Order:</strong> #${n.order_number}</p>
            <p><strong>Updated:</strong> ${it(new Date(t.updated_at),"PPP")}</p>
          </div>
          <table style="width:100%; border-collapse: collapse; margin-bottom: 16px;">
            <thead>
              <tr>
                <th style="text-align:left; padding: 12px 8px; background: #f9fafb; border-bottom: 2px solid #e5e7eb;">Measurement</th>
                <th style="text-align:left; padding: 12px 8px; background: #f9fafb; border-bottom: 2px solid #e5e7eb;">Value</th>
              </tr>
            </thead>
            <tbody>
              ${p}
            </tbody>
          </table>
          ${t.custom_notes?`<div style="padding:16px; background:#f9fafb; border-radius:8px;"><p style="font-weight:600; margin-bottom:8px;">Notes</p><p>${t.custom_notes}</p></div>`:""}
          <div style="margin-top:24px; text-align:center;" class="no-print">
            <button onclick="window.print()" style="padding:12px 24px; background:#2563eb; color:white; border:none; border-radius:8px; cursor:pointer; font-size:14px;">Save as PDF / Print</button>
          </div>
        </body>
      </html>
    `;h.document.write(v),h.document.close(),u({title:"PDF Ready",description:"Use your browser's print function to save as PDF."})};return dr.filter(h=>t[h.key]),c.jsx(gy,{open:e,onOpenChange:r,children:c.jsxs("div",{className:`rounded-lg border ${e?"border-primary":"border-border"} overflow-hidden`,children:[c.jsx(yy,{asChild:!0,children:c.jsxs(Y,{variant:"ghost",className:`w-full justify-between px-4 py-3 h-auto rounded-none ${e?"bg-primary/5":""}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary/10",children:c.jsx($o,{className:"h-4 w-4 text-primary"})}),c.jsxs("div",{className:"text-left",children:[c.jsx("p",{className:"font-medium text-sm",children:t.garment_type}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["Updated ",it(new Date(t.updated_at),"MMM d, yyyy")]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[t.materials_provided_by_customer&&c.jsx("span",{className:"text-[10px] bg-amber-500/10 text-amber-700 dark:text-amber-400 px-2 py-0.5 rounded",children:"Materials"}),e?c.jsx(Qp,{className:"h-4 w-4"}):c.jsx(iu,{className:"h-4 w-4"})]})]})}),c.jsx(xy,{children:c.jsxs("div",{className:"p-4 pt-0 space-y-4",children:[c.jsx("div",{className:"grid grid-cols-3 gap-2 sm:grid-cols-4",children:dr.map(h=>{const p=t[h.key];return c.jsxs("div",{className:`rounded-lg px-2 py-1.5 ${p?"bg-muted/50":"bg-muted/20 border border-dashed border-border"}`,children:[c.jsx("p",{className:"text-[10px] text-muted-foreground truncate",children:h.label}),c.jsx("p",{className:`font-medium text-sm ${p?"":"text-muted-foreground"}`,children:p?`${Number(p)}"`:""})]},h.key)})}),t.custom_notes&&c.jsxs("div",{className:"rounded-lg border border-border p-3",children:[c.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Notes"}),c.jsx("p",{className:"text-sm",children:t.custom_notes})]}),a.length>0&&c.jsxs(gy,{open:i,onOpenChange:o,children:[c.jsx(yy,{asChild:!0,children:c.jsxs(Y,{variant:"ghost",size:"sm",className:"w-full justify-between gap-2",children:[c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx(qM,{className:"h-4 w-4"}),"Version History (",a.length,")"]}),i?c.jsx(Qp,{className:"h-4 w-4"}):c.jsx(iu,{className:"h-4 w-4"})]})}),c.jsx(xy,{className:"space-y-2 pt-2",children:a.slice(0,3).map(h=>c.jsxs("div",{className:"rounded-lg border border-border bg-muted/30 p-3 text-sm",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("span",{className:"font-medium",children:["Version ",h.version_number]}),c.jsx("span",{className:"text-xs text-muted-foreground",children:it(new Date(h.created_at),"MMM d, yyyy")})]}),c.jsx("div",{className:"grid grid-cols-4 gap-2 text-xs",children:dr.map(p=>{const v=h[p.key];return v?c.jsxs("div",{children:[c.jsxs("span",{className:"text-muted-foreground",children:[p.label,":"]})," ",c.jsxs("span",{className:"font-medium",children:[Number(v),'"']})]},p.key):null})})]},h.id))})]}),c.jsxs("div",{className:"flex justify-end gap-2 pt-2 border-t border-border",children:[c.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>l(!0),className:"gap-2",children:[c.jsx(GM,{className:"h-4 w-4"}),"Images"]}),c.jsxs(Y,{variant:"outline",size:"sm",onClick:f,className:"gap-2",children:[c.jsx(ou,{className:"h-4 w-4"}),"PDF"]}),c.jsxs(Y,{variant:"outline",size:"sm",onClick:d,className:"gap-2",children:[c.jsx(sA,{className:"h-4 w-4"}),"CSV"]})]}),c.jsx(Vt,{open:s,onOpenChange:l,children:c.jsxs(It,{className:"sm:max-w-2xl max-h-[80vh] overflow-hidden",children:[c.jsxs(Rt,{children:[c.jsx(Dt,{children:"Measurement Images"}),c.jsx(hr,{children:"Images uploaded for this measurement"})]}),c.jsx("div",{className:"p-2",children:t.materials_images&&t.materials_images.length>0?c.jsx("div",{className:"grid grid-cols-2 gap-2",children:t.materials_images.map((h,p)=>c.jsx("div",{className:"rounded overflow-hidden border border-border",children:c.jsx("img",{src:h,alt:`measurement-${p}`,className:"w-full h-48 object-contain bg-black/5"})},p))}):c.jsx("div",{className:"p-6 text-center text-sm text-muted-foreground",children:"No images uploaded for this measurement."})}),c.jsx(Tt,{children:c.jsx(Y,{variant:"outline",onClick:()=>l(!1),children:"Close"})})]})})]})})]})})}function Pfe({order:t,open:e,onOpenChange:r}){var d;const[n,a]=b.useState(null),{toast:i}=pr(),{data:o=[],isLoading:s}=Ln({queryKey:["measurements","order",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return[];const{data:f,error:h}=await le.from("measurements").select("*").eq("order_id",t.id).order("created_at",{ascending:!1});if(h)throw h;return f},enabled:!!(t!=null&&t.id)&&e});if(!t)return null;const l=()=>{if(o.length===0)return;const f=[];f.push(["Garment Type","Field","Value"]),o.forEach(g=>{dr.forEach(x=>{const y=g[x.key];y&&f.push([g.garment_type,x.label,`${Number(y)}"`])}),g.custom_notes&&f.push([g.garment_type,"Notes",g.custom_notes]),f.push(["","",""])});const h=f.map(g=>g.join(",")).join(`
`),p=new Blob([h],{type:"text/csv"}),v=URL.createObjectURL(p),m=document.createElement("a");m.href=v,m.download=`all-measurements-${t.order_number}-${it(new Date,"yyyy-MM-dd")}.csv`,m.click(),URL.revokeObjectURL(v),i({title:"Exported",description:"All measurements exported as CSV."})},u=()=>{var v;if(o.length===0)return;const f=window.open("","_blank");if(!f){i({title:"Error",description:"Please allow popups to export PDF",variant:"destructive"});return}const h=o.map(m=>{const g=dr.filter(x=>m[x.key]).map(x=>`
          <tr>
            <td style="padding: 8px; border-bottom: 1px solid #e5e7eb;">${x.label}</td>
            <td style="padding: 8px; border-bottom: 1px solid #e5e7eb; font-weight: 600;">${Number(m[x.key])}"</td>
          </tr>
        `).join("");return`
        <div style="margin-bottom: 32px; page-break-inside: avoid;">
          <h2 style="font-size: 18px; margin-bottom: 8px; color: #1f2937;">${m.garment_type}</h2>
          <table style="width: 100%; border-collapse: collapse; margin-bottom: 16px;">
            <thead>
              <tr>
                <th style="text-align: left; padding: 12px 8px; background: #f9fafb; border-bottom: 2px solid #e5e7eb;">Measurement</th>
                <th style="text-align: left; padding: 12px 8px; background: #f9fafb; border-bottom: 2px solid #e5e7eb;">Value</th>
              </tr>
            </thead>
            <tbody>
              ${g}
            </tbody>
          </table>
          ${m.custom_notes?`
            <div style="padding: 16px; background: #f9fafb; border-radius: 8px;">
              <p style="font-weight: 600; margin-bottom: 8px;">Notes</p>
              <p>${m.custom_notes}</p>
            </div>
          `:""}
        </div>
      `}).join(""),p=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Measurements - Order #${t.order_number}</title>
          <style>
            body { font-family: system-ui, sans-serif; padding: 40px; max-width: 800px; margin: 0 auto; }
            h1 { font-size: 24px; margin-bottom: 8px; }
            .subtitle { color: #6b7280; margin-bottom: 24px; }
            .info { margin-bottom: 24px; }
            .info p { margin: 4px 0; }
            .footer { margin-top: 32px; text-align: center; color: #9ca3af; font-size: 12px; }
            @media print {
              body { padding: 20px; }
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          <h1>Measurement Profiles</h1>
          <p class="subtitle">Order #${t.order_number}</p>
          
          <div class="info">
            <p><strong>Customer:</strong> ${((v=t.customer)==null?void 0:v.name)||"Unknown"}</p>
            <p><strong>Total Measurements:</strong> ${o.length}</p>
          </div>
          
          ${h}
          
          <div class="footer">
            Generated on ${it(new Date,"PPP 'at' p")}
          </div>
          
          <div class="no-print" style="margin-top: 24px; text-align: center;">
            <button onclick="window.print()" style="padding: 12px 24px; background: #2563eb; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 14px;">
              Save as PDF / Print
            </button>
          </div>
        </body>
      </html>
    `;f.document.write(p),f.document.close(),i({title:"PDF Ready",description:"Use your browser's print function to save as PDF."})};return c.jsx(Vt,{open:e,onOpenChange:r,children:c.jsxs(It,{className:"sm:max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[c.jsx(Rt,{children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/10",children:c.jsx(uA,{className:"h-5 w-5 text-primary"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx(Dt,{className:"font-display",children:(d=t.customer)==null?void 0:d.name}),c.jsxs(hr,{children:["Order #",t.order_number,"  ",o.length," measurement",o.length!==1?"s":""]})]})]})}),c.jsx(hh,{className:"flex-1 pr-4 overflow-y-auto",children:s?c.jsx("div",{className:"flex items-center justify-center py-8",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):o.length===0?c.jsxs("div",{className:"rounded-lg border border-dashed border-border p-8 text-center",children:[c.jsx(su,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"No measurements linked to this order"}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Schedule a fitting to add measurements"})]}):c.jsx("div",{className:"space-y-3",children:o.map(f=>c.jsx(Tfe,{measurement:f,order:t,isExpanded:n===f.id,onToggle:()=>a(n===f.id?null:f.id)},f.id))})}),c.jsxs(Tt,{className:"flex-row justify-between sm:justify-between",children:[c.jsx(Y,{variant:"outline",onClick:()=>r(!1),children:"Close"}),o.length>0&&c.jsxs(wi,{children:[c.jsx(bi,{asChild:!0,children:c.jsxs(Y,{className:"gap-2",children:[c.jsx(ao,{className:"h-4 w-4"}),"Export All"]})}),c.jsxs(Va,{align:"end",children:[c.jsxs(nt,{onClick:u,className:"gap-2",children:[c.jsx(sA,{className:"h-4 w-4"}),"Export as PDF"]}),c.jsxs(nt,{onClick:l,className:"gap-2",children:[c.jsx(ou,{className:"h-4 w-4"}),"Export as CSV"]})]})]})]})]})})}var kfe="Separator",F3="horizontal",Ife=["horizontal","vertical"],sF=b.forwardRef((t,e)=>{const{decorative:r,orientation:n=F3,...a}=t,i=Rfe(n)?n:F3,s=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return c.jsx(Ie.div,{"data-orientation":i,...s,...a,ref:e})});sF.displayName=kfe;function Rfe(t){return Ife.includes(t)}var lF=sF;const bf=b.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},a)=>c.jsx(lF,{ref:a,decorative:r,orientation:e,className:fe("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));bf.displayName=lF.displayName;function cF(t){const{toast:e}=pr(),r=Nn(),{data:n,isLoading:a,error:i}=Ln({queryKey:["settings",t],queryFn:async()=>{const{data:s,error:l}=await le.from("settings").select("value").eq("key",t).single();if(l&&l.code!=="PGRST116")throw l;return(s==null?void 0:s.value)??null}}),o=Ze({mutationFn:async s=>{const{data:l,error:u}=await le.from("settings").upsert({key:t,value:s}).select().single();if(u)throw u;return l},onSuccess:()=>{r.invalidateQueries({queryKey:["settings",t]}),e({title:"Settings saved"})},onError:s=>{e({title:"Error saving settings",description:s.message,variant:"destructive"})}});return{settings:n,isLoading:a,error:i,save:o.mutate,saveStatus:o}}function Dfe({order:t,open:e,onOpenChange:r}){var u,d,f,h,p;const{items:n}=z9(t==null?void 0:t.id),{netReceived:a}=W9(t==null?void 0:t.id),{toast:i}=pr(),{settings:o}=cF("invoice_template");if(!t)return null;const s=Number(t.total_amount)-a,l=()=>{var E,A,j,T,N,O;const v=window.open("","_blank");if(!v){i({title:"Error",description:"Please allow popups to print invoice",variant:"destructive"});return}const m=n.map($=>`
      <tr>
        <td style="padding: 12px; border-bottom: 1px solid #e5e7eb;">${$.description}</td>
        <td style="padding: 12px; border-bottom: 1px solid #e5e7eb; text-align: center;">${$.quantity}</td>
        <td style="padding: 12px; border-bottom: 1px solid #e5e7eb; text-align: right;">${Number($.unit_price).toLocaleString()}</td>
        <td style="padding: 12px; border-bottom: 1px solid #e5e7eb; text-align: right;">${Number($.total_price).toLocaleString()}</td>
      </tr>
    `).join(""),g=(o==null?void 0:o.companyName)||"Quppayam Boutique",x=(o==null?void 0:o.companyAddress)||((E=t.store)==null?void 0:E.address)||"Chennai, India",y=(o==null?void 0:o.companyPhone)||((A=t.store)==null?void 0:A.phone)||"",w=(o==null?void 0:o.footerNote)||"Thank you for your business!",_=(o==null?void 0:o.showLogo)??!0,S=(o==null?void 0:o.logoUrl)||"",C=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Invoice - ${t.order_number}</title>
          <style>
            * { margin: 0; padding: 0; box-sizing: border-box; }
            body { font-family: system-ui, sans-serif; padding: 40px; max-width: 800px; margin: 0 auto; color: #1f2937; }
            .header { display: flex; justify-content: space-between; margin-bottom: 40px; }
            .company { }
            .company h1 { font-size: 24px; color: #7c3aed; margin-bottom: 8px; }
            .company p { color: #6b7280; font-size: 14px; }
            .invoice-info { text-align: right; }
            .invoice-info h2 { font-size: 28px; color: #1f2937; margin-bottom: 8px; }
            .invoice-info p { color: #6b7280; font-size: 14px; }
            .addresses { display: flex; justify-content: space-between; margin-bottom: 32px; }
            .address { }
            .address-label { font-size: 12px; color: #9ca3af; text-transform: uppercase; margin-bottom: 8px; }
            .address p { font-size: 14px; line-height: 1.5; }
            table { width: 100%; border-collapse: collapse; margin-bottom: 24px; }
            th { text-align: left; padding: 12px; background: #f9fafb; border-bottom: 2px solid #e5e7eb; font-size: 12px; text-transform: uppercase; color: #6b7280; }
            th:nth-child(2), th:nth-child(3), th:nth-child(4) { text-align: right; }
            th:nth-child(2) { text-align: center; }
            .totals { margin-left: auto; width: 280px; }
            .totals-row { display: flex; justify-content: space-between; padding: 8px 0; font-size: 14px; }
            .totals-row.total { font-size: 18px; font-weight: 600; border-top: 2px solid #1f2937; padding-top: 12px; margin-top: 8px; }
            .status { display: inline-block; padding: 4px 12px; border-radius: 9999px; font-size: 12px; font-weight: 500; }
            .status.paid { background: #d1fae5; color: #065f46; }
            .status.partial { background: #fef3c7; color: #92400e; }
            .status.unpaid { background: #fee2e2; color: #991b1b; }
            .footer { margin-top: 48px; text-align: center; color: #9ca3af; font-size: 12px; border-top: 1px solid #e5e7eb; padding-top: 24px; }
            @media print {
              body { padding: 20px; }
              .no-print { display: none !important; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <div class="company">
              ${_&&S?`<div style="display:flex;align-items:center;gap:12px;"><img src="${S}" style="height:48px;object-fit:contain;"/><h1 style="margin:0;font-size:20px;color:#7c3aed;">${g}</h1></div>`:`<h1>${g}</h1>`}
              <p>${x}</p>
              <p>${y}</p>
            </div>
            <div class="invoice-info">
              <h2>INVOICE</h2>
              <p><strong>#${t.order_number}</strong></p>
              <p>Date: ${it(new Date(t.created_at),"PPP")}</p>
              ${t.due_date?`<p>Due: ${it(new Date(t.due_date),"PPP")}</p>`:""}
            </div>
          </div>

          <div class="addresses">
            <div class="address">
              <p class="address-label">Bill To</p>
              <p><strong>${((j=t.customer)==null?void 0:j.name)||"Customer"}</strong></p>
              <p>${((T=t.customer)==null?void 0:T.phone)||""}</p>
              ${(N=t.customer)!=null&&N.email?`<p>${t.customer.email}</p>`:""}
              ${(O=t.customer)!=null&&O.address?`<p>${t.customer.address}</p>`:""}
            </div>
            <div class="address" style="text-align: right;">
              <p class="address-label">Payment Status</p>
              <span class="status ${s<=0?"paid":a>0?"partial":"unpaid"}">
                ${s<=0?"Paid":a>0?"Partially Paid":"Unpaid"}
              </span>
            </div>
          </div>

          <table>
            <thead>
              <tr>
                <th>Description</th>
                <th>Qty</th>
                <th>Unit Price</th>
                <th>Amount</th>
              </tr>
            </thead>
            <tbody>
              ${m||'<tr><td colspan="4" style="padding: 24px; text-align: center; color: #9ca3af;">No items</td></tr>'}
            </tbody>
          </table>

          <div class="totals">
            <div class="totals-row">
              <span>Subtotal</span>
              <span>${Number(t.subtotal).toLocaleString()}</span>
            </div>
            ${Number(t.tax_amount)>0?`
              <div class="totals-row">
                <span>Tax</span>
                <span>${Number(t.tax_amount).toLocaleString()}</span>
              </div>
            `:""}
            ${Number(t.discount_amount)>0?`
              <div class="totals-row">
                <span>Discount</span>
                <span style="color: #059669;">-${Number(t.discount_amount).toLocaleString()}</span>
              </div>
            `:""}
            <div class="totals-row total">
              <span>Total</span>
              <span>${Number(t.total_amount).toLocaleString()}</span>
            </div>
            ${a>0?`
              <div class="totals-row" style="color: #059669;">
                <span>Amount Paid</span>
                <span>${a.toLocaleString()}</span>
              </div>
            `:""}
            ${s>0?`
              <div class="totals-row" style="color: #dc2626; font-weight: 600;">
                <span>Balance Due</span>
                <span>${s.toLocaleString()}</span>
              </div>
            `:""}
          </div>

          <div class="footer">
            <p>${w}</p>
          </div>

          <div class="no-print" style="margin-top: 24px; text-align: center;">
            <button onclick="window.print()" style="padding: 12px 24px; background: #7c3aed; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 14px;">
              Print / Save as PDF
            </button>
          </div>
        </body>
      </html>
    `;v.document.write(C),v.document.close()};return c.jsx(Vt,{open:e,onOpenChange:r,children:c.jsxs(It,{className:"sm:max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[c.jsx(Rt,{children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/10",children:c.jsx(ou,{className:"h-5 w-5 text-primary"})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs(Dt,{className:"font-display",children:["Invoice #",t.order_number]}),c.jsxs(hr,{children:["Created ",it(new Date(t.created_at),"PPP")]})]})]})}),c.jsx(hh,{className:"flex-1 pr-4 overflow-y-auto",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[c.jsxs("div",{className:"rounded-lg border border-border p-4",children:[c.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-2",children:"BILL TO"}),c.jsx("p",{className:"font-medium",children:(u=t.customer)==null?void 0:u.name}),c.jsx("p",{className:"text-sm text-muted-foreground",children:(d=t.customer)==null?void 0:d.phone}),((f=t.customer)==null?void 0:f.email)&&c.jsx("p",{className:"text-sm text-muted-foreground",children:t.customer.email})]}),c.jsxs("div",{className:"rounded-lg border border-border p-4",children:[c.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-2",children:"FROM"}),c.jsx("p",{className:"font-medium",children:((h=t.store)==null?void 0:h.name)||"Quppayam Boutique"}),((p=t.store)==null?void 0:p.address)&&c.jsx("p",{className:"text-sm text-muted-foreground",children:t.store.address})]})]}),c.jsx("div",{className:"rounded-lg border border-border overflow-hidden",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-muted/50",children:[c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-muted-foreground",children:"Description"}),c.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-muted-foreground",children:"Qty"}),c.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-muted-foreground",children:"Price"}),c.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-muted-foreground",children:"Amount"})]})}),c.jsx("tbody",{className:"divide-y divide-border",children:n.length>0?n.map(v=>c.jsxs("tr",{children:[c.jsx("td",{className:"px-4 py-3 text-sm",children:v.description}),c.jsx("td",{className:"px-4 py-3 text-sm text-center",children:v.quantity}),c.jsxs("td",{className:"px-4 py-3 text-sm text-right",children:["",Number(v.unit_price).toLocaleString()]}),c.jsxs("td",{className:"px-4 py-3 text-sm text-right font-medium",children:["",Number(v.total_price).toLocaleString()]})]},v.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:4,className:"px-4 py-8 text-center text-sm text-muted-foreground",children:"No items in this order"})})})]})}),c.jsx("div",{className:"flex justify-end",children:c.jsxs("div",{className:"w-64 space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),c.jsxs("span",{children:["",Number(t.subtotal).toLocaleString()]})]}),Number(t.tax_amount)>0&&c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Tax"}),c.jsxs("span",{children:["",Number(t.tax_amount).toLocaleString()]})]}),Number(t.discount_amount)>0&&c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Discount"}),c.jsxs("span",{className:"text-emerald-600",children:["-",Number(t.discount_amount).toLocaleString()]})]}),c.jsx(bf,{}),c.jsxs("div",{className:"flex justify-between font-semibold",children:[c.jsx("span",{children:"Total"}),c.jsxs("span",{children:["",Number(t.total_amount).toLocaleString()]})]}),a>0&&c.jsxs("div",{className:"flex justify-between text-sm text-emerald-600",children:[c.jsx("span",{children:"Paid"}),c.jsxs("span",{children:["",a.toLocaleString()]})]}),s>0&&c.jsxs("div",{className:"flex justify-between text-sm font-medium text-amber-600",children:[c.jsx("span",{children:"Balance Due"}),c.jsxs("span",{children:["",s.toLocaleString()]})]})]})})]})}),c.jsxs(Tt,{className:"flex-row justify-between sm:justify-between gap-2",children:[c.jsx(Y,{variant:"outline",onClick:()=>r(!1),children:"Close"}),c.jsxs(Y,{onClick:l,className:"gap-2",children:[c.jsx(ZM,{className:"h-4 w-4"}),"Print / Download PDF"]})]})]})})}const Mfe=()=>{const[t,e]=b.useState(""),[r,n]=b.useState("all"),[a,i]=b.useState("all"),[o,s]=b.useState(1),[l,u]=b.useState(10),[d,f]=b.useState(null),[h,p]=b.useState(!1),[v,m]=b.useState(!1),[g,x]=b.useState(!1),[y,w]=b.useState(!1),[_,S]=b.useState(!1),{orders:C,isLoading:E,error:A}=dh(),{stores:j}=Ci(),{orderStatuses:T}=Pj();if(A)return c.jsx(Rr,{title:"Orders",subtitle:"Track and manage all customer orders",children:c.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[c.jsx("p",{className:"text-destructive mb-2",children:"Failed to load orders"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:A.message})]})});const N=b.useMemo(()=>C.filter(P=>{var K,re;const V=P.order_number.toLowerCase().includes(t.toLowerCase())||((re=(K=P.customer)==null?void 0:K.name)==null?void 0:re.toLowerCase().includes(t.toLowerCase())),z=r==="all"||P.status===r,H=a==="all"||P.store_id===a;return V&&z&&H}),[C,t,r,a]),O=Math.ceil(N.length/l),$=N.slice((o-1)*l,o*l),R=P=>{f(P),p(!0)},F=P=>{f(P),x(!0)},B=P=>{f(P),w(!0)},M=P=>{f(P),S(!0)},I=P=>{if(!P)return;const V=P.replace(/\D/g,"");window.open(`https://wa.me/${V}`,"_blank")};return E?c.jsx(Rr,{title:"Orders",subtitle:"Track and manage all customer orders",children:c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx(Mn,{className:"h-8 w-8 animate-spin text-primary"})})}):c.jsxs(Rr,{title:"Orders",subtitle:"Track and manage all customer orders",children:[c.jsx("div",{className:"mb-6",children:c.jsxs("div",{className:"flex flex-col gap-3",children:[c.jsx("div",{className:"w-full",children:c.jsxs("div",{className:"relative w-full",children:[c.jsx(ec,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),c.jsx(ye,{placeholder:"Search orders...",className:"pl-10 w-full",value:t,onChange:P=>{e(P.target.value),s(1)}})]})}),c.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[c.jsxs("div",{className:"flex gap-3 w-full sm:justify-start",children:[c.jsx("div",{className:"w-full sm:w-auto",children:c.jsxs(Pt,{value:r,onValueChange:P=>{n(P),s(1)},children:[c.jsx(Et,{className:"w-full sm:w-40",children:c.jsx(kt,{placeholder:"Status"})}),c.jsxs(At,{children:[c.jsx(je,{value:"all",children:"All Status"}),T&&T.length>0?T.filter(P=>P.is_active).map(P=>c.jsx(je,{value:P.code,children:P.label},P.id)):c.jsxs(c.Fragment,{children:[c.jsx(je,{value:"draft",children:"Draft"}),c.jsx(je,{value:"pending",children:"Pending"}),c.jsx(je,{value:"deposit_paid",children:"Deposit Paid"}),c.jsx(je,{value:"materials_ordered",children:"Materials Ordered"}),c.jsx(je,{value:"in_production",children:"In Production"}),c.jsx(je,{value:"ready_for_fitting",children:"Ready for Fitting"}),c.jsx(je,{value:"ready_for_pickup",children:"Ready for Pickup"}),c.jsx(je,{value:"completed",children:"Completed"}),c.jsx(je,{value:"cancelled",children:"Cancelled"})]})]})]})}),c.jsx("div",{className:"w-full sm:w-auto",children:c.jsxs(Pt,{value:a,onValueChange:P=>{i(P),s(1)},children:[c.jsx(Et,{className:"w-full sm:w-36",children:c.jsx(kt,{placeholder:"Store"})}),c.jsxs(At,{children:[c.jsx(je,{value:"all",children:"All Stores"}),j.map(P=>c.jsx(je,{value:P.id,children:P.name},P.id))]})]})})]}),c.jsxs("div",{className:"flex items-center gap-3 justify-between sm:justify-end sm:ml-auto",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs(Y,{variant:"outline",className:"gap-2",children:[c.jsx(Hl,{className:"h-4 w-4"}),c.jsx("span",{className:"inline",children:"Import"})]}),c.jsxs(Y,{variant:"outline",className:"gap-2",onClick:()=>{H1("Orders",[{header:"Order #",render:V=>V.order_number},{header:"Customer",render:V=>V.customer_name},{header:"Total",render:V=>V.total_amount},{header:"Status",render:V=>V.status},{header:"Placed",render:V=>it(new Date(V.created_at),"MMM d, yyyy")}],N)},children:[c.jsx(ao,{className:"h-4 w-4"}),c.jsx("span",{className:"inline",children:"Export"})]})]}),c.jsx("div",{className:"ml-3",children:c.jsx($9,{})})]})]})]})}),c.jsx("div",{className:"card-luxury overflow-hidden p-0",children:$.length===0?c.jsx(Pu,{icon:zl,title:"No orders found",description:"No orders match your current filters. Try adjusting your search or filters."}):c.jsx(c.Fragment,{children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-border bg-muted/30",children:[c.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider text-muted-foreground md:px-6",children:"Order"}),c.jsx("th",{className:"hidden px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider text-muted-foreground sm:table-cell md:px-6",children:"Customer"}),c.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider text-muted-foreground md:px-6",children:"Status"}),c.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider text-muted-foreground md:px-6",children:"Total"}),c.jsx("th",{className:"hidden px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider text-muted-foreground md:table-cell md:px-6",children:"Due Date"}),c.jsx("th",{className:"px-4 py-4 text-right text-xs font-semibold uppercase tracking-wider text-muted-foreground md:px-6",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-border",children:$.map(P=>{var V,z,H,K,re,ue;return c.jsxs("tr",{className:"transition-colors hover:bg-muted/20 cursor-pointer",onClick:()=>R(P),children:[c.jsx("td",{className:"whitespace-nowrap px-4 py-4 md:px-6",children:c.jsxs("div",{children:[c.jsxs("span",{className:"font-medium text-foreground",children:["#",P.order_number]}),c.jsx("p",{className:"mt-0.5 text-xs text-muted-foreground",children:((V=P.store)==null?void 0:V.name)||"No store"}),c.jsxs("p",{className:"mt-1 text-sm text-foreground sm:hidden",children:[(z=P.customer)==null?void 0:z.name,((H=P.customer)==null?void 0:H.vip_status)&&P.customer.vip_status!=="regular"&&c.jsx(Ma,{className:"ml-1 inline h-3 w-3 text-gold"})]})]})}),c.jsxs("td",{className:"hidden whitespace-nowrap px-4 py-4 sm:table-cell md:px-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-foreground",children:(K=P.customer)==null?void 0:K.name}),((re=P.customer)==null?void 0:re.vip_status)&&P.customer.vip_status!=="regular"&&c.jsx(Ma,{className:"h-4 w-4 text-gold"})]}),c.jsx("p",{className:"mt-0.5 text-xs text-muted-foreground",children:(ue=P.customer)==null?void 0:ue.phone})]}),c.jsx("td",{className:"whitespace-nowrap px-4 py-4 md:px-6",children:c.jsx(ff,{status:P.status})}),c.jsx("td",{className:"whitespace-nowrap px-4 py-4 md:px-6",children:c.jsxs("div",{children:[c.jsxs("span",{className:"font-medium text-foreground",children:["",Number(P.total_amount).toLocaleString()]}),P.status==="cancelled"?P.is_settled?P.deposit_amount>0?c.jsx("p",{className:"mt-0.5 text-xs text-green-600",children:"Refunded & Settled"}):c.jsx("p",{className:"mt-0.5 text-xs text-green-600",children:"Settled"}):P.deposit_amount>0?c.jsxs("p",{className:"mt-0.5 text-xs text-red-600",children:["Refund: ",Number(P.deposit_amount).toLocaleString()]}):null:P.remaining_balance===0&&P.total_amount>0?c.jsx("p",{className:"mt-0.5 text-xs text-green-600",children:"Payment Received"}):P.remaining_balance>0?c.jsxs("p",{className:"mt-0.5 text-xs text-amber-600",children:["Bal: ",Number(P.remaining_balance).toLocaleString()]}):null]})}),c.jsx("td",{className:"hidden whitespace-nowrap px-4 py-4 text-muted-foreground md:table-cell md:px-6",children:P.due_date?it(new Date(P.due_date),"MMM d, yyyy"):"No due date"}),c.jsx("td",{className:"whitespace-nowrap px-4 py-4 text-right md:px-6",onClick:oe=>oe.stopPropagation(),children:c.jsxs(wi,{children:[c.jsx(bi,{asChild:!0,children:c.jsx(Y,{variant:"ghost",size:"icon",children:c.jsx(Ps,{className:"h-4 w-4"})})}),c.jsxs(Va,{align:"end",children:[c.jsxs(nt,{onClick:()=>R(P),className:"gap-2",children:[c.jsx(Eu,{className:"h-4 w-4"}),"View Details"]}),c.jsxs(nt,{onClick:()=>{f(P),m(!0)},className:"gap-2",children:[c.jsx(Ya,{className:"h-4 w-4"}),"Update Status"]}),c.jsxs(nt,{onClick:()=>M(P),className:"gap-2",children:[c.jsx(ou,{className:"h-4 w-4"}),"View Invoice"]}),c.jsx(Kl,{}),c.jsxs(nt,{onClick:()=>F(P),className:"gap-2",children:[c.jsx(uv,{className:"h-4 w-4"}),"Schedule Fitting"]}),c.jsxs(nt,{onClick:()=>B(P),className:"gap-2",children:[c.jsx(su,{className:"h-4 w-4"}),"View Measurements"]}),c.jsxs(nt,{onClick:()=>{var oe;return I((oe=P.customer)==null?void 0:oe.phone)},className:"gap-2",children:[c.jsx(YM,{className:"h-4 w-4"}),"Send WhatsApp Update"]})]})]})})]},P.id)})})]})})})}),c.jsx("div",{className:"mt-3 flex justify-center px-4",children:c.jsx(jx,{currentPage:o,totalPages:O,pageSize:l,totalItems:N.length,onPageChange:s,onPageSizeChange:P=>{u(P),s(1)}})}),c.jsx(yfe,{order:d,open:h,onOpenChange:p}),c.jsx(bfe,{order:d,open:v,onOpenChange:m}),c.jsx(Ofe,{order:d,open:g,onOpenChange:x}),c.jsx(Pfe,{order:d,open:y,onOpenChange:w}),c.jsx(Dfe,{order:d,open:_,onOpenChange:S})]})},uF={garment_type:Me().trim().min(1,"Garment type is required").max(100),custom_notes:Me().trim().max(1e3).optional()};dr.forEach(t=>{uF[t.key]=di().min(0).optional()});const $fe=Za(uF);function Lfe({measurement:t,open:e,onOpenChange:r}){var E,A,j;const[n,a]=b.useState(!1),[i,o]=b.useState(!1),{updateMeasurement:s}=Dv(),{versions:l,hasExcessVersions:u,cleanupOldVersions:d}=oF(t==null?void 0:t.id),{toast:f}=pr();b.useEffect(()=>{u&&d.mutate()},[u]);const h=()=>{if(!t)return;const T={garment_type:t.garment_type,custom_notes:t.custom_notes||""};return dr.forEach(N=>{const O=t[N.key];T[N.key]=O?Number(O):void 0}),T},p=za({resolver:Ha($fe),values:h()}),v=()=>{a(!1),p.reset(),r(!1)},m=T=>{if(!t)return;const N={id:t.id,garment_type:T.garment_type,custom_notes:T.custom_notes||null};dr.forEach(O=>{N[O.key]=T[O.key]||null}),s.mutate(N,{onSuccess:()=>{a(!1),f({title:"Version saved",description:"A new version of this measurement has been created."})}})},g=()=>{var I,P,V;if(!t)return;const T=((P=(I=t.order)==null?void 0:I.customer)==null?void 0:P.name)||"",N=((V=t.order)==null?void 0:V.order_number)||"",O=["Field","Value"],$=[["Order Number",N],["Customer",T],["Garment Type",t.garment_type],...dr.map(z=>[z.label,t[z.key]?`${Number(t[z.key])}"`:""]),["Notes",t.custom_notes||""],["Last Updated",it(new Date(t.updated_at),"yyyy-MM-dd")]],R=[O,...$].map(z=>z.join(",")).join(`
`),F=new Blob([R],{type:"text/csv"}),B=URL.createObjectURL(F),M=document.createElement("a");M.href=B,M.download=`measurement-${N||"profile"}-${it(new Date,"yyyy-MM-dd")}.csv`,M.click(),URL.revokeObjectURL(B),f({title:"Exported",description:"Measurement exported as CSV."})},x=()=>{var F,B,M;if(!t)return;const T=((B=(F=t.order)==null?void 0:F.customer)==null?void 0:B.name)||"",N=((M=t.order)==null?void 0:M.order_number)||"",O=dr.map(I=>({label:I.label,value:t[I.key]?`${Number(t[I.key])}"`:""})),$=`
      <html>
      <head>
        <title>Measurement ${N}</title>
        <style>body{font-family: Arial, Helvetica, sans-serif; padding:20px} h1{font-size:18px} table{width:100%;border-collapse:collapse} td,th{border:1px solid #ddd;padding:8px;text-align:left}</style>
      </head>
      <body>
        <h1>Measurement Profile</h1>
        <p><strong>Order:</strong> #${N}</p>
        <p><strong>Customer:</strong> ${T}</p>
        <p><strong>Garment:</strong> ${t.garment_type}</p>
        <table>
          <thead><tr><th>Field</th><th>Value</th></tr></thead>
          <tbody>
            ${O.map(I=>`<tr><td>${I.label}</td><td>${I.value||"-"}</td></tr>`).join("")}
          </tbody>
        </table>
      </body>
      </html>
    `,R=window.open("","_blank");if(!R){f({title:"Blocked",description:"Popup blocked. Allow popups to export PDF.",variant:"destructive"});return}R.document.write($),R.document.close(),R.print(),R.close()},[y,w]=b.useState(!1),_=()=>{if(!t||!(t.materials_images&&t.materials_images.length>0)){f({title:"No images",description:"No material images uploaded for this measurement."});return}w(!0)};if(!t)return null;const S=((A=(E=t.order)==null?void 0:E.customer)==null?void 0:A.name)||"Unknown",C=((j=t.order)==null?void 0:j.order_number)||"Unlinked";return c.jsxs(c.Fragment,{children:[c.jsx(Vt,{open:e,onOpenChange:v,children:c.jsxs(It,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[c.jsx(Rt,{children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/10",children:c.jsx(zl,{className:"h-5 w-5 text-primary"})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs(Dt,{className:"font-display",children:["Order #",C]}),c.jsxs(hr,{children:[S," - ",t.garment_type]})]}),t.is_primary&&c.jsx("span",{className:"status-badge bg-primary/10 text-primary",children:"Primary"})]})}),n?c.jsx(Ga,{...p,children:c.jsxs("form",{onSubmit:p.handleSubmit(m),className:"space-y-4",children:[c.jsx(Se,{control:p.control,name:"garment_type",render:({field:T})=>c.jsxs(be,{children:[c.jsx(we,{children:"Garment Type *"}),c.jsx(_e,{children:c.jsx(ye,{...T,value:T.value})}),c.jsx(Ce,{})]})}),c.jsx("div",{className:"grid grid-cols-3 gap-3 sm:grid-cols-4 md:grid-cols-5",children:dr.map(T=>c.jsx(Se,{control:p.control,name:T.key,render:({field:N})=>c.jsxs(be,{children:[c.jsx(we,{className:"text-xs",children:T.label}),c.jsx(_e,{children:c.jsx(ye,{type:"number",step:"0.1",min:0,...N,value:N.value||"",onChange:O=>N.onChange(O.target.value?Number(O.target.value):void 0)})}),c.jsx(Ce,{})]})},T.key))}),c.jsx(Se,{control:p.control,name:"custom_notes",render:({field:T})=>c.jsxs(be,{children:[c.jsx(we,{children:"Notes"}),c.jsx(_e,{children:c.jsx(ea,{rows:2,...T,value:T.value||""})}),c.jsx(Ce,{})]})}),c.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-3 text-sm text-amber-800 dark:border-amber-800 dark:bg-amber-950/50 dark:text-amber-200",children:[c.jsx("strong",{children:"Note:"})," Saving changes will create a new version. Previous orders retain their original measurements."]}),c.jsxs(Tt,{children:[c.jsx(Y,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"}),c.jsx(Y,{type:"submit",disabled:s.isPending,children:s.isPending?"Saving...":"Save New Version"})]})]})}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"grid grid-cols-3 gap-2 sm:grid-cols-4 md:grid-cols-5",children:dr.map(T=>{const N=t[T.key];return c.jsxs("div",{className:`rounded-lg px-3 py-2 ${N?"bg-muted/50":"bg-muted/20 border border-dashed border-border"}`,children:[c.jsx("p",{className:"text-xs text-muted-foreground",children:T.label}),c.jsx("p",{className:`font-medium ${N?"":"text-muted-foreground"}`,children:N?`${Number(N)}"`:""})]},T.key)})}),t.custom_notes&&c.jsxs("div",{className:"rounded-lg border border-border p-3",children:[c.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Notes"}),c.jsx("p",{className:"text-sm",children:t.custom_notes})]}),c.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[c.jsx(su,{className:"h-3.5 w-3.5"}),"Last updated ",it(new Date(t.updated_at),"MMM d, yyyy 'at' h:mm a")]}),l.length>0&&c.jsxs(gy,{open:i,onOpenChange:o,children:[c.jsx(yy,{asChild:!0,children:c.jsxs(Y,{variant:"ghost",size:"sm",className:"w-full justify-between gap-2",children:[c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx(qM,{className:"h-4 w-4"}),"Version History (",l.length," versions)"]}),i?c.jsx(Qp,{className:"h-4 w-4"}):c.jsx(iu,{className:"h-4 w-4"})]})}),c.jsx(xy,{className:"space-y-2 pt-2",children:l.map(T=>c.jsxs("div",{className:"rounded-lg border border-border p-3 text-sm bg-muted/30",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("span",{className:"font-medium",children:["Version ",T.version_number]}),c.jsx("span",{className:"text-xs text-muted-foreground",children:it(new Date(T.created_at),"MMM d, yyyy 'at' h:mm a")})]}),c.jsx("div",{className:"grid grid-cols-4 gap-2 text-xs",children:dr.map(N=>{const O=T[N.key];return O?c.jsxs("div",{children:[c.jsxs("span",{className:"text-muted-foreground",children:[N.label,":"]})," ",c.jsxs("span",{className:"font-medium",children:[Number(O),'"']})]},N.key):null})}),T.change_reason&&c.jsxs("p",{className:"text-xs text-muted-foreground mt-2 italic",children:["Reason: ",T.change_reason]})]},T.id))})]})]}),c.jsxs(Tt,{className:"flex-col gap-2 sm:flex-row sm:justify-between",children:[c.jsx("div",{className:"flex gap-2"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(wi,{children:[c.jsx(bi,{asChild:!0,children:c.jsxs(Y,{variant:"outline",size:"sm",className:"gap-2",children:[c.jsx(ao,{className:"h-4 w-4"}),"Export"]})}),c.jsxs(Va,{align:"end",children:[c.jsxs(nt,{onClick:_,className:"gap-2",children:[c.jsx(GM,{className:"h-4 w-4"}),"View Images"]}),c.jsxs(nt,{onClick:g,className:"gap-2",children:[c.jsx(ou,{className:"h-4 w-4"}),"Download CSV"]}),c.jsxs(nt,{onClick:x,className:"gap-2",children:[c.jsx(ou,{className:"h-4 w-4"}),"Download PDF"]})]})]}),c.jsxs(Y,{size:"sm",onClick:()=>a(!0),className:"gap-2",children:[c.jsx(Ya,{className:"h-4 w-4"}),"Edit"]})]})]})]})]})}),c.jsx(Vt,{open:y,onOpenChange:w,children:c.jsxs(It,{className:"sm:max-w-lg",children:[c.jsxs(Rt,{children:[c.jsx(Dt,{className:"font-display",children:"Material Images"}),c.jsx(hr,{children:"Uploaded material photos for this measurement"})]}),c.jsx("div",{className:"space-y-4 py-2",children:c.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:t!=null&&t.materials_images&&t.materials_images.length>0?t.materials_images.map((T,N)=>c.jsx("div",{className:"rounded-md overflow-hidden border border-border",children:c.jsx("img",{src:T,alt:`material-${N}`,className:"w-full h-40 object-cover"})},N)):c.jsx("div",{className:"text-sm text-muted-foreground",children:"No images available."})})}),c.jsx(Tt,{children:c.jsx(Y,{variant:"outline",onClick:()=>w(!1),children:"Close"})})]})})]})}const Ffe=()=>{const[t,e]=b.useState(""),{measurements:r,isLoading:n,error:a}=Dv(),[i,o]=b.useState(null),[s,l]=b.useState(!1);if(a)return c.jsx(Rr,{title:"Measurements",subtitle:"Order measurement profiles and fitting records",children:c.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[c.jsx("p",{className:"text-destructive mb-2",children:"Failed to load measurements"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:a.message})]})});const u=b.useMemo(()=>r.filter(h=>{var m,g,x;const p=((g=(m=h.order)==null?void 0:m.customer)==null?void 0:g.name)||"",v=((x=h.order)==null?void 0:x.order_number)||"";return p.toLowerCase().includes(t.toLowerCase())||v.toLowerCase().includes(t.toLowerCase())||h.garment_type.toLowerCase().includes(t.toLowerCase())}),[r,t]),d=h=>{o(h),l(!0)},f=h=>dr.filter(p=>h[p.key]).slice(0,4);return n?c.jsx(Rr,{title:"Measurements",subtitle:"Order measurement profiles and fitting records",children:c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx(Mn,{className:"h-8 w-8 animate-spin text-primary"})})}):c.jsxs(Rr,{title:"Measurements",subtitle:"Order measurement profiles and fitting records",children:[c.jsxs("div",{className:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[c.jsxs("div",{className:"relative flex-1 sm:max-w-sm",children:[c.jsx(ec,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),c.jsx(ye,{placeholder:"Search by order or garment type...",className:"pl-10",value:t,onChange:h=>e(h.target.value)})]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Measurements are created via the Order  Schedule Fitting workflow"})]}),u.length===0?c.jsx(Pu,{icon:su,title:"No measurements found",description:t?"No measurements match your search.":"Measurements are created through the Schedule Fitting action on orders."}):c.jsx("div",{className:"grid gap-6 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3",children:u.map(h=>{var v,m,g;const p=f(h);return c.jsxs("div",{className:"card-luxury p-6 cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>d(h),children:[c.jsxs("div",{className:"mb-4 flex items-start justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/10",children:c.jsx(zl,{className:"h-5 w-5 text-primary"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-foreground",children:((v=h.order)==null?void 0:v.order_number)||"Unlinked"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:h.garment_type}),((g=(m=h.order)==null?void 0:m.customer)==null?void 0:g.name)&&c.jsx("p",{className:"text-xs text-muted-foreground",children:h.order.customer.name})]})]}),c.jsx("div",{onClick:x=>x.stopPropagation(),children:c.jsxs(wi,{children:[c.jsx(bi,{asChild:!0,children:c.jsx(Y,{variant:"ghost",size:"icon",className:"h-8 w-8",children:c.jsx(Ps,{className:"h-4 w-4"})})}),c.jsxs(Va,{align:"end",children:[c.jsxs(nt,{onClick:()=>d(h),className:"gap-2",children:[c.jsx(Eu,{className:"h-4 w-4"}),"View Details"]}),c.jsx(Kl,{}),c.jsxs(nt,{onClick:x=>{var S;x.stopPropagation();const y=dr.map(C=>{const E=h[C.key];return`<tr><td style="padding:8px;border-bottom:1px solid #eee;">${C.label}</td><td style="padding:8px;border-bottom:1px solid #eee;">${E?`${Number(E)}"`:""}</td></tr>`}).join(""),w=`<!doctype html><html><head><meta charset="utf-8"><title>Measurement ${h.id}</title><style>body{font-family:system-ui, sans-serif;padding:20px;color:#111}table{width:100%;border-collapse:collapse}th,td{padding:8px}</style></head><body><h1>Measurement Profile</h1><p><strong>Order:</strong> ${((S=h.order)==null?void 0:S.order_number)||"Unlinked"}</p><p><strong>Garment:</strong> ${h.garment_type}</p><table>${y}${h.custom_notes?`<tr><td style="padding:8px;border-top:1px solid #eee">Notes</td><td style="padding:8px;border-top:1px solid #eee">${String(h.custom_notes)}</td></tr>`:""}</table></body></html>`,_=window.open("","_blank");_&&(_.document.write(w),_.document.close())},className:"gap-2",children:[c.jsx(ZM,{className:"h-4 w-4"}),"Export PDF"]}),c.jsxs(nt,{onClick:x=>{var E;x.stopPropagation();const y=[];y.push(["Field","Value"]),y.push(["Order Number",((E=h.order)==null?void 0:E.order_number)||"Unlinked"]),y.push(["Garment Type",h.garment_type||""]),dr.forEach(A=>{const j=h[A.key];y.push([A.label,j?String(j):""])}),h.custom_notes&&y.push(["Notes",h.custom_notes]);const w=y.map(A=>A.map(j=>`"${String(j).replace(/"/g,'""')}"`).join(",")).join(`
`),_=new Blob([w],{type:"text/csv"}),S=URL.createObjectURL(_),C=document.createElement("a");C.href=S,C.download=`measurement-${h.id||"profile"}.csv`,C.click(),URL.revokeObjectURL(S)},className:"gap-2",children:[c.jsx(sA,{className:"h-4 w-4"}),"Export CSV"]})]})]})})]}),c.jsx("div",{className:"mb-4 grid grid-cols-2 gap-3",children:p.map(x=>c.jsxs("div",{className:"rounded-lg bg-muted/50 px-3 py-2",children:[c.jsx("p",{className:"text-xs text-muted-foreground",children:x.label}),c.jsxs("p",{className:"font-medium text-foreground",children:[Number(h[x.key]),'"']})]},x.key))}),h.custom_notes&&c.jsxs("p",{className:"mb-4 text-sm text-muted-foreground italic line-clamp-2",children:['"',h.custom_notes,'"']}),c.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground border-t border-border pt-4",children:[c.jsx(su,{className:"h-3.5 w-3.5"}),"Updated ",it(new Date(h.updated_at),"MMM d, yyyy")]})]},h.id)})}),c.jsx(Lfe,{measurement:i,open:s,onOpenChange:l})]})};function Ij(){const{toast:t}=pr(),e=Nn(),{data:r=[],isLoading:n,error:a}=Ln({queryKey:["categories"],queryFn:async()=>{const{data:l,error:u}=await le.from("categories").select("id, name, slug").order("name");if(u)throw u;return l||[]}}),i=Ze({mutationFn:async l=>{const u=l.slug||l.name.toLowerCase().replace(/\s+/g,"-"),{data:d,error:f}=await le.from("categories").insert({name:l.name,slug:u}).select().single();if(f)throw f;return d},onSuccess:()=>{e.invalidateQueries({queryKey:["categories"]}),t({title:"Category added"})},onError:l=>{t({title:"Error",description:l.message,variant:"destructive"})}}),o=Ze({mutationFn:async({id:l,...u})=>{const{data:d,error:f}=await le.from("categories").update(u).eq("id",l).select().single();if(f)throw f;return d},onSuccess:()=>{e.invalidateQueries({queryKey:["categories"]}),t({title:"Category updated"})},onError:l=>{t({title:"Error",description:l.message,variant:"destructive"})}}),s=Ze({mutationFn:async l=>{const{error:u}=await le.from("categories").delete().eq("id",l);if(u)throw u},onSuccess:()=>{e.invalidateQueries({queryKey:["categories"]}),t({title:"Category removed"})},onError:l=>{t({title:"Error",description:l.message,variant:"destructive"})}});return{categories:r,isLoading:n,error:a,createCategory:i,updateCategory:o,deleteCategory:s}}const Bfe=Za({name:Me().trim().min(2,"Name must be at least 2 characters").max(200),sku:Me().trim().min(3,"SKU must be at least 3 characters").max(50),category:Me().min(1,"Please select a category"),quantity:di().min(0,"Stock must be positive"),min_stock_level:di().min(0,"Minimum stock must be positive"),price:di().min(0,"Price must be positive"),storeId:Me().optional(),description:Me().trim().max(500).optional()});function Ufe({trigger:t,onSuccess:e}){const[r,n]=b.useState(!1),{createInventoryItem:a}=fh(),{stores:i}=Ci(),o=za({resolver:Ha(Bfe),defaultValues:{name:"",sku:"",category:"",quantity:0,min_stock_level:5,price:0,storeId:"",description:""}}),s=l=>{a.mutate({name:l.name,sku:l.sku,category:l.category,quantity:l.quantity,min_stock_level:l.min_stock_level,price:l.price,store_id:l.storeId||null,description:l.description||null},{onSuccess:()=>{e==null||e(),o.reset(),n(!1)}})};return c.jsxs(Vt,{open:r,onOpenChange:n,children:[c.jsx(Zo,{asChild:!0,children:t||c.jsxs(Y,{className:"gap-2",children:[c.jsx(Lo,{className:"h-4 w-4"}),c.jsx("span",{className:"inline",children:"Add Item"})]})}),c.jsxs(It,{className:"max-h-[90vh] overflow-y-auto sm:max-w-lg",children:[c.jsxs(Rt,{children:[c.jsx(Dt,{className:"font-display",children:"Add Inventory Item"}),c.jsx(hr,{children:"Add a new product, fabric, or supply to inventory."})]}),c.jsx(Ga,{...o,children:c.jsxs("form",{onSubmit:o.handleSubmit(s),className:"space-y-4",children:[c.jsx(Se,{control:o.control,name:"name",render:({field:l})=>c.jsxs(be,{children:[c.jsx(we,{children:"Item Name *"}),c.jsx(_e,{children:c.jsx(ye,{placeholder:"e.g., Kanjivaram Silk - Maroon",...l})}),c.jsx(Ce,{})]})}),c.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[c.jsx(Se,{control:o.control,name:"sku",render:({field:l})=>c.jsxs(be,{children:[c.jsx(we,{children:"SKU *"}),c.jsx(_e,{children:c.jsx(ye,{placeholder:"FAB-KAN-001",...l})}),c.jsx(Ce,{})]})}),c.jsx(Se,{control:o.control,name:"category",render:({field:l})=>c.jsxs(be,{children:[c.jsx(we,{children:"Category *"}),c.jsxs(Pt,{onValueChange:l.onChange,value:l.value,children:[c.jsx(_e,{children:c.jsx(Et,{children:c.jsx(kt,{placeholder:"Select category"})})}),c.jsx(At,{children:(Ij().categories||[]).map(u=>c.jsx(je,{value:u.name,children:u.name},u.id))})]}),c.jsx(Ce,{})]})})]}),c.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[c.jsx(Se,{control:o.control,name:"quantity",render:({field:l})=>c.jsxs(be,{children:[c.jsx(we,{children:"Current Stock *"}),c.jsx(_e,{children:c.jsx(ye,{type:"number",min:0,...l,onChange:u=>l.onChange(Number(u.target.value))})}),c.jsx(Ce,{})]})}),c.jsx(Se,{control:o.control,name:"min_stock_level",render:({field:l})=>c.jsxs(be,{children:[c.jsx(we,{children:"Min Stock *"}),c.jsx(_e,{children:c.jsx(ye,{type:"number",min:0,...l,onChange:u=>l.onChange(Number(u.target.value))})}),c.jsx(E7,{className:"text-xs",children:"Alert threshold"}),c.jsx(Ce,{})]})}),c.jsx(Se,{control:o.control,name:"price",render:({field:l})=>c.jsxs(be,{children:[c.jsx(we,{children:"Price () *"}),c.jsx(_e,{children:c.jsx(ye,{type:"number",min:0,...l,onChange:u=>l.onChange(Number(u.target.value))})}),c.jsx(Ce,{})]})})]}),c.jsx(Se,{control:o.control,name:"storeId",render:({field:l})=>c.jsxs(be,{children:[c.jsx(we,{children:"Store Location"}),c.jsxs(Pt,{onValueChange:l.onChange,value:l.value,children:[c.jsx(_e,{children:c.jsx(Et,{children:c.jsx(kt,{placeholder:"All Stores (no specific location)"})})}),c.jsx(At,{children:i.map(u=>c.jsx(je,{value:u.id,children:u.name},u.id))})]}),c.jsx(Ce,{})]})}),c.jsx(Se,{control:o.control,name:"description",render:({field:l})=>c.jsxs(be,{children:[c.jsx(we,{children:"Description"}),c.jsx(_e,{children:c.jsx(ea,{placeholder:"Additional details about the item...",rows:2,...l})}),c.jsx(Ce,{})]})}),c.jsxs(Tt,{className:"gap-2 pt-4",children:[c.jsx(Y,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancel"}),c.jsx(Y,{type:"submit",disabled:a.isPending,children:a.isPending?"Adding...":"Add Item"})]})]})})]})]})}function Vfe(){const[t,e]=b.useState(!1),[r,n]=b.useState(!1),[a,i]=b.useState(null),o=b.useRef(null),{createInventoryItem:s}=fh(),{toast:l}=pr(),u=()=>{const p=["name","sku","category","quantity","price","cost","min_stock_level","description"],v=["Silk Kurta","SKU-001","Fabrics","50","2500","1500","10","Premium silk kurta fabric"],m=[p.join(","),v.join(",")].join(`
`),g=new Blob([m],{type:"text/csv;charset=utf-8;"}),x=document.createElement("a");x.href=URL.createObjectURL(g),x.download="inventory_template.csv",x.click()},d=p=>p.split(/\r?\n/).filter(m=>m.trim()).map(m=>{const g=[];let x="",y=!1;for(let w=0;w<m.length;w++){const _=m[w];_==='"'?y=!y:_===","&&!y?(g.push(x.trim()),x=""):x+=_}return g.push(x.trim()),g}),f=async p=>{var x;const v=(x=p.target.files)==null?void 0:x[0];if(!v)return;const m=v.name.endsWith(".csv"),g=v.name.endsWith(".xlsx")||v.name.endsWith(".xls");if(!m&&!g){l({title:"Invalid file type",description:"Please upload a CSV or Excel file.",variant:"destructive"});return}if(g){l({title:"Excel files",description:"Please save your Excel file as CSV before uploading.",variant:"destructive"});return}n(!0),i(null);try{const y=await v.text(),w=d(y);if(w.length<2)throw new Error("File must contain at least a header row and one data row.");const _=w[0].map(j=>j.toLowerCase().trim()),S=w.slice(1),E=["name","sku","category","price"].filter(j=>!_.includes(j));if(E.length>0)throw new Error(`Missing required columns: ${E.join(", ")}`);const A={success:0,failed:0,errors:[]};for(let j=0;j<S.length;j++){const T=S[j],N=j+2;try{const O=oe=>{var pe;const te=_.indexOf(oe);return te>=0&&((pe=T[te])==null?void 0:pe.trim())||""},$=O("name"),R=O("sku"),F=O("category"),B=O("price");if(!$||!R||!F||!B)throw new Error(`Row ${N}: Missing required fields (name, sku, category, price)`);const M=parseFloat(B.replace(/[,]/g,""));if(isNaN(M)||M<0)throw new Error(`Row ${N}: Invalid price value`);const I=O("quantity"),P=I?parseInt(I,10):0,V=O("cost"),z=V?parseFloat(V.replace(/[,]/g,"")):void 0,H=O("min_stock_level"),K=H?parseInt(H,10):5,re=O("description")||void 0,ue={name:$,sku:R,category:F,price:M,quantity:isNaN(P)?0:P,cost:z&&!isNaN(z)?z:void 0,min_stock_level:isNaN(K)?5:K,description:re};await s.mutateAsync(ue),A.success++}catch(O){A.failed++,A.errors.push(O instanceof Error?O.message:`Row ${N}: Unknown error`)}}i(A),A.success>0&&l({title:"Import completed",description:`Successfully imported ${A.success} items.`})}catch(y){l({title:"Import failed",description:y instanceof Error?y.message:"Failed to parse file.",variant:"destructive"})}finally{n(!1),o.current&&(o.current.value="")}},h=()=>{i(null),n(!1)};return c.jsxs(Vt,{open:t,onOpenChange:p=>{e(p),p||h()},children:[c.jsx(Zo,{asChild:!0,children:c.jsxs(Y,{variant:"outline",className:"gap-2",children:[c.jsx(Hl,{className:"h-4 w-4"}),c.jsx("span",{className:"inline",children:"Import"})]})}),c.jsxs(It,{className:"sm:max-w-lg",children:[c.jsxs(Rt,{children:[c.jsxs(Dt,{className:"flex items-center gap-2",children:[c.jsx(lA,{className:"h-5 w-5"}),"Import Inventory"]}),c.jsx(hr,{children:"Import products from a CSV file. Download the template to see the required format."})]}),c.jsxs("div",{className:"space-y-4 py-4",children:[c.jsxs("div",{className:"rounded-lg border border-border bg-muted/30 p-4",children:[c.jsx("h4",{className:"mb-2 font-medium text-foreground",children:"Instructions"}),c.jsxs("ol",{className:"space-y-2 text-sm text-muted-foreground",children:[c.jsx("li",{children:"1. Download the CSV template below"}),c.jsx("li",{children:"2. Fill in your product data (you can use Excel, then save as CSV)"}),c.jsxs("li",{children:["3. ",c.jsx("strong",{children:"Required columns:"})," name, sku, category, price"]}),c.jsxs("li",{children:["4. ",c.jsx("strong",{children:"Optional columns:"})," quantity, cost, min_stock_level, description"]}),c.jsx("li",{children:"5. Upload your completed CSV file"})]})]}),c.jsxs(Y,{variant:"outline",onClick:u,className:"w-full gap-2",children:[c.jsx(ao,{className:"h-4 w-4"}),"Download CSV Template"]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("input",{ref:o,type:"file",accept:".csv,.xlsx,.xls",onChange:f,className:"hidden",id:"inventory-file-upload"}),c.jsx(Y,{variant:"default",onClick:()=>{var p;return(p=o.current)==null?void 0:p.click()},disabled:r,className:"w-full gap-2",children:r?c.jsxs(c.Fragment,{children:[c.jsx(Mn,{className:"h-4 w-4 animate-spin"}),"Importing..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Hl,{className:"h-4 w-4"}),"Upload CSV File"]})})]}),a&&c.jsxs("div",{className:"space-y-3 rounded-lg border border-border p-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[a.success>0&&c.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[c.jsx(iA,{className:"h-4 w-4"}),c.jsxs("span",{className:"text-sm font-medium",children:[a.success," imported"]})]}),a.failed>0&&c.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[c.jsx(dv,{className:"h-4 w-4"}),c.jsxs("span",{className:"text-sm font-medium",children:[a.failed," failed"]})]})]}),a.errors.length>0&&c.jsxs("div",{className:"max-h-32 overflow-y-auto rounded border border-destructive/20 bg-destructive/5 p-2",children:[c.jsx("p",{className:"mb-1 text-xs font-medium text-destructive",children:"Errors:"}),a.errors.slice(0,5).map((p,v)=>c.jsx("p",{className:"text-xs text-destructive/80",children:p},v)),a.errors.length>5&&c.jsxs("p",{className:"mt-1 text-xs text-muted-foreground",children:["...and ",a.errors.length-5," more errors"]})]})]})]})]})]})}const Wfe=Za({name:Me().trim().min(1,"Name is required").max(200),sku:Me().trim().min(1,"SKU is required").max(50),category:Me().trim().min(1,"Category is required").max(100),price:di().min(0,"Price must be positive"),cost:di().min(0).optional(),quantity:di().min(0,"Quantity must be positive"),min_stock_level:di().min(0),description:Me().trim().max(1e3).optional(),store_id:Me().optional()});function zfe({item:t,open:e,onOpenChange:r}){var m;const[n,a]=b.useState(!1),[i,o]=b.useState(!1),{updateInventoryItem:s,deleteInventoryItem:l}=fh(),{stores:u}=Ci(),d=za({resolver:Ha(Wfe),values:t?{name:t.name,sku:t.sku,category:t.category,price:Number(t.price),cost:t.cost?Number(t.cost):0,quantity:t.quantity,min_stock_level:t.min_stock_level,description:t.description||"",store_id:t.store_id||""}:void 0}),f=()=>{a(!1),d.reset(),r(!1)},h=g=>{t&&s.mutate({id:t.id,name:g.name,sku:g.sku,category:g.category,price:g.price,cost:g.cost||null,quantity:g.quantity,min_stock_level:g.min_stock_level,description:g.description||null,store_id:g.store_id||null},{onSuccess:()=>{a(!1)}})},p=()=>{t&&l.mutate(t.id,{onSuccess:()=>{o(!1),f()}})};if(!t)return null;const v=t.quantity<=t.min_stock_level;return c.jsxs(c.Fragment,{children:[c.jsx(Vt,{open:e,onOpenChange:f,children:c.jsxs(It,{className:"sm:max-w-lg",children:[c.jsx(Rt,{children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-muted",children:c.jsx($o,{className:"h-6 w-6 text-muted-foreground"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx(Dt,{className:"font-display",children:t.name}),c.jsxs(hr,{children:["SKU: ",t.sku]})]}),v&&c.jsxs("div",{className:"flex items-center gap-1 text-amber-600",children:[c.jsx(y2,{className:"h-4 w-4"}),c.jsx("span",{className:"text-xs",children:"Low Stock"})]})]})}),n?c.jsx(Ga,{...d,children:c.jsxs("form",{onSubmit:d.handleSubmit(h),className:"space-y-4",children:[c.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[c.jsx(Se,{control:d.control,name:"name",render:({field:g})=>c.jsxs(be,{children:[c.jsx(we,{children:"Name *"}),c.jsx(_e,{children:c.jsx(ye,{...g})}),c.jsx(Ce,{})]})}),c.jsx(Se,{control:d.control,name:"sku",render:({field:g})=>c.jsxs(be,{children:[c.jsx(we,{children:"SKU *"}),c.jsx(_e,{children:c.jsx(ye,{...g})}),c.jsx(Ce,{})]})})]}),c.jsx(Se,{control:d.control,name:"category",render:({field:g})=>c.jsxs(be,{children:[c.jsx(we,{children:"Category *"}),c.jsx(_e,{children:c.jsx(ye,{...g})}),c.jsx(Ce,{})]})}),c.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[c.jsx(Se,{control:d.control,name:"price",render:({field:g})=>c.jsxs(be,{children:[c.jsx(we,{children:"Price () *"}),c.jsx(_e,{children:c.jsx(ye,{type:"number",min:0,...g,onChange:x=>g.onChange(Number(x.target.value))})}),c.jsx(Ce,{})]})}),c.jsx(Se,{control:d.control,name:"cost",render:({field:g})=>c.jsxs(be,{children:[c.jsx(we,{children:"Cost ()"}),c.jsx(_e,{children:c.jsx(ye,{type:"number",min:0,...g,onChange:x=>g.onChange(Number(x.target.value))})}),c.jsx(Ce,{})]})})]}),c.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[c.jsx(Se,{control:d.control,name:"quantity",render:({field:g})=>c.jsxs(be,{children:[c.jsx(we,{children:"Quantity *"}),c.jsx(_e,{children:c.jsx(ye,{type:"number",min:0,...g,onChange:x=>g.onChange(Number(x.target.value))})}),c.jsx(Ce,{})]})}),c.jsx(Se,{control:d.control,name:"min_stock_level",render:({field:g})=>c.jsxs(be,{children:[c.jsx(we,{children:"Min Stock Level"}),c.jsx(_e,{children:c.jsx(ye,{type:"number",min:0,...g,onChange:x=>g.onChange(Number(x.target.value))})}),c.jsx(Ce,{})]})})]}),c.jsx(Se,{control:d.control,name:"store_id",render:({field:g})=>c.jsxs(be,{children:[c.jsx(we,{children:"Store"}),c.jsxs(Pt,{onValueChange:g.onChange,value:g.value,children:[c.jsx(_e,{children:c.jsx(Et,{children:c.jsx(kt,{placeholder:"All stores"})})}),c.jsx(At,{children:u.map(x=>c.jsx(je,{value:x.id,children:x.name},x.id))})]}),c.jsx(Ce,{})]})}),c.jsx(Se,{control:d.control,name:"description",render:({field:g})=>c.jsxs(be,{children:[c.jsx(we,{children:"Description"}),c.jsx(_e,{children:c.jsx(ea,{rows:2,...g})}),c.jsx(Ce,{})]})}),c.jsxs(Tt,{children:[c.jsx(Y,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"}),c.jsx(Y,{type:"submit",disabled:s.isPending,children:s.isPending?"Saving...":"Save Changes"})]})]})}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"rounded-lg bg-muted/50 p-3",children:[c.jsx("p",{className:"text-xs text-muted-foreground",children:"Category"}),c.jsx("p",{className:"font-medium",children:t.category})]}),c.jsxs("div",{className:"rounded-lg bg-muted/50 p-3",children:[c.jsx("p",{className:"text-xs text-muted-foreground",children:"Price"}),c.jsxs("p",{className:"font-medium",children:["",Number(t.price).toLocaleString()]})]}),c.jsxs("div",{className:"rounded-lg bg-muted/50 p-3",children:[c.jsx("p",{className:"text-xs text-muted-foreground",children:"Quantity"}),c.jsx("p",{className:`font-medium ${v?"text-amber-600":""}`,children:t.quantity})]}),c.jsxs("div",{className:"rounded-lg bg-muted/50 p-3",children:[c.jsx("p",{className:"text-xs text-muted-foreground",children:"Min Stock"}),c.jsx("p",{className:"font-medium",children:t.min_stock_level})]})]}),t.cost&&c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Cost"}),c.jsxs("span",{children:["",Number(t.cost).toLocaleString()]})]}),c.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[c.jsx(W1,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("span",{children:((m=t.store)==null?void 0:m.name)||"All Stores"})]}),t.description&&c.jsx("div",{className:"rounded-lg border border-border p-3",children:c.jsx("p",{className:"text-sm text-muted-foreground",children:t.description})})]}),c.jsxs(Tt,{className:"flex-row gap-2 sm:justify-between",children:[c.jsxs(Y,{variant:"destructive",size:"sm",onClick:()=>o(!0),className:"gap-2",children:[c.jsx(io,{className:"h-4 w-4"}),"Remove"]}),c.jsxs(Y,{onClick:()=>a(!0),className:"gap-2",children:[c.jsx(Ya,{className:"h-4 w-4"}),"Edit"]})]})]})]})}),c.jsx(Ds,{open:i,onOpenChange:o,children:c.jsxs(Vo,{children:[c.jsxs(Wo,{children:[c.jsx(Ho,{children:"Remove Inventory Item"}),c.jsxs(qo,{children:["Are you sure you want to remove ",t.name,"? It will be deactivated and no longer appear in inventory lists."]})]}),c.jsxs(zo,{children:[c.jsx(uo,{children:"Cancel"}),c.jsx(Go,{onClick:p,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:l.isPending?"Removing...":"Remove"})]})]})})]})}const Hfe=()=>{const[t,e]=b.useState(""),[r,n]=b.useState("all"),[a,i]=b.useState("all"),[o,s]=b.useState(1),[l,u]=b.useState(10),[d,f]=b.useState(null),[h,p]=b.useState(!1),{inventory:v,isLoading:m}=fh(),{stores:g}=Ci(),x=b.useMemo(()=>v.filter(A=>A.quantity<=A.min_stock_level),[v]),{categories:y=[]}=Ij(),w=b.useMemo(()=>y.map(A=>A.name),[y]),_=b.useMemo(()=>v.filter(A=>{const j=A.name.toLowerCase().includes(t.toLowerCase())||A.sku.toLowerCase().includes(t.toLowerCase()),T=r==="all"||A.category.toLowerCase()===r.toLowerCase(),N=a==="all"||A.store_id===a||!A.store_id;return j&&T&&N}),[v,t,r,a]),S=Math.ceil(_.length/l),C=_.slice((o-1)*l,o*l),E=A=>{f(A),p(!0)};return m?c.jsx(Rr,{title:"Inventory",subtitle:"Product catalog and stock management",children:c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx(Mn,{className:"h-8 w-8 animate-spin text-primary"})})}):c.jsxs(Rr,{title:"Inventory",subtitle:"Product catalog and stock management",children:[x.length>0&&c.jsxs("div",{className:"mb-6 flex flex-col items-start gap-3 rounded-lg border border-amber-200 bg-amber-50 px-4 py-3 sm:flex-row sm:items-center dark:border-amber-900/50 dark:bg-amber-900/20",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(y2,{className:"h-5 w-5 text-amber-600"}),c.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-200",children:[c.jsxs("span",{className:"font-medium",children:[x.length," items"]})," are running low on stock"]})]}),c.jsx(Y,{variant:"outline",size:"sm",className:"sm:ml-auto",children:"View Low Stock"})]}),c.jsx("div",{className:"mb-6",children:c.jsxs("div",{className:"flex flex-col gap-3",children:[c.jsx("div",{className:"w-full",children:c.jsxs("div",{className:"relative w-full",children:[c.jsx(ec,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),c.jsx(ye,{placeholder:"Search inventory...",className:"pl-10 w-full",value:t,onChange:A=>{e(A.target.value),s(1)}})]})}),c.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[c.jsxs("div",{className:"flex gap-3 w-full sm:flex-row sm:items-center sm:justify-start",children:[c.jsx("div",{className:"w-full sm:w-auto",children:c.jsxs(Pt,{value:r,onValueChange:A=>{n(A),s(1)},children:[c.jsx(Et,{className:"w-full sm:w-40",children:c.jsx(kt,{placeholder:"Category"})}),c.jsxs(At,{children:[c.jsx(je,{value:"all",children:"All Categories"}),w.map(A=>c.jsx(je,{value:A.toLowerCase(),children:A},A))]})]})}),c.jsx("div",{className:"w-full sm:w-auto",children:c.jsxs(Pt,{value:a,onValueChange:A=>{i(A),s(1)},children:[c.jsx(Et,{className:"w-full sm:w-36",children:c.jsx(kt,{placeholder:"Store"})}),c.jsxs(At,{children:[c.jsx(je,{value:"all",children:"All Stores"}),g.map(A=>c.jsx(je,{value:A.id,children:A.name},A.id))]})]})})]}),c.jsxs("div",{className:"flex items-center gap-3 justify-between sm:justify-end sm:ml-auto",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Vfe,{}),c.jsxs(Y,{variant:"outline",className:"gap-2",onClick:()=>{H1("Inventory",[{header:"SKU",render:j=>j.sku},{header:"Name",render:j=>j.name},{header:"Stock",render:j=>String(j.quantity)},{header:"Price",render:j=>`${Number(j.price).toLocaleString()}`},{header:"Updated",render:j=>j.updated_at?it(new Date(j.updated_at),"MMM d, yyyy"):""}],_)},children:[c.jsx(ao,{className:"h-4 w-4"}),c.jsx("span",{className:"inline",children:"Export"})]})]}),c.jsx("div",{className:"ml-3",children:c.jsx(Ufe,{})})]})]})]})}),c.jsx("div",{className:"card-luxury overflow-hidden p-0",children:C.length===0?c.jsx(Pu,{icon:$o,title:"No items found",description:"No inventory items match your current search or filters."}):c.jsx(c.Fragment,{children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-border bg-muted/30",children:[c.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider text-muted-foreground md:px-6",children:"Product"}),c.jsx("th",{className:"hidden px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider text-muted-foreground sm:table-cell md:px-6",children:"SKU"}),c.jsx("th",{className:"hidden px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider text-muted-foreground lg:table-cell md:px-6",children:"Category"}),c.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider text-muted-foreground md:px-6",children:"Stock"}),c.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider text-muted-foreground md:px-6",children:"Price"}),c.jsx("th",{className:"hidden px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider text-muted-foreground md:table-cell md:px-6",children:"Location"}),c.jsx("th",{className:"px-4 py-4 text-right text-xs font-semibold uppercase tracking-wider text-muted-foreground md:px-6",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-border",children:C.map(A=>{var j;return c.jsxs("tr",{className:"transition-colors hover:bg-muted/20 cursor-pointer",onClick:()=>E(A),children:[c.jsx("td",{className:"whitespace-nowrap px-4 py-4 md:px-6",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"hidden h-10 w-10 items-center justify-center rounded-lg bg-muted sm:flex",children:c.jsx($o,{className:"h-5 w-5 text-muted-foreground"})}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-foreground",children:A.name}),c.jsx("p",{className:"text-xs text-muted-foreground sm:hidden",children:A.sku})]})]})}),c.jsx("td",{className:"hidden whitespace-nowrap px-4 py-4 text-sm text-muted-foreground sm:table-cell md:px-6",children:A.sku}),c.jsx("td",{className:"hidden whitespace-nowrap px-4 py-4 lg:table-cell md:px-6",children:c.jsx("span",{className:"status-badge bg-secondary text-secondary-foreground",children:A.category})}),c.jsx("td",{className:"whitespace-nowrap px-4 py-4 md:px-6",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:fe("font-medium",A.quantity<=A.min_stock_level?"text-amber-600":"text-foreground"),children:A.quantity}),A.quantity<=A.min_stock_level&&c.jsx(y2,{className:"h-4 w-4 text-amber-500"})]})}),c.jsxs("td",{className:"whitespace-nowrap px-4 py-4 font-medium text-foreground md:px-6",children:["",Number(A.price).toLocaleString()]}),c.jsx("td",{className:"hidden whitespace-nowrap px-4 py-4 text-muted-foreground md:table-cell md:px-6",children:((j=A.store)==null?void 0:j.name)||"All Stores"}),c.jsx("td",{className:"whitespace-nowrap px-4 py-4 text-right md:px-6",onClick:T=>T.stopPropagation(),children:c.jsxs(wi,{children:[c.jsx(bi,{asChild:!0,children:c.jsx(Y,{variant:"ghost",size:"icon",children:c.jsx(Ps,{className:"h-4 w-4"})})}),c.jsxs(Va,{align:"end",children:[c.jsxs(nt,{onClick:()=>E(A),className:"gap-2",children:[c.jsx(Eu,{className:"h-4 w-4"}),"View Details"]}),c.jsxs(nt,{onClick:()=>E(A),className:"gap-2",children:[c.jsx(Ya,{className:"h-4 w-4"}),"Edit Item"]}),c.jsx(Kl,{}),c.jsxs(nt,{className:"gap-2 text-destructive",children:[c.jsx(io,{className:"h-4 w-4"}),"Remove Item"]})]})]})})]},A.id)})})]})})})}),c.jsx("div",{className:"mt-3 flex justify-center px-4",children:c.jsx(jx,{currentPage:o,totalPages:S,pageSize:l,totalItems:_.length,onPageChange:s,onPageSizeChange:A=>{u(A),s(1)}})}),c.jsx(zfe,{item:d,open:h,onOpenChange:p})]})},qfe=Za({name:Me().trim().min(2,"Name must be at least 2 characters").max(100),phone:Me().trim().min(10,"Enter a valid phone number").max(15).optional().or(Zi("")),email:Me().trim().email("Enter a valid email").max(255),role:px(["admin","store_manager","sales_associate","tailor"]),storeId:Me().optional()}),Gfe=[{value:"admin",label:"Admin"},{value:"store_manager",label:"Store Manager"},{value:"sales_associate",label:"Sales Associate"},{value:"tailor",label:"Tailor"}];function Kfe({trigger:t,onSuccess:e}){const[r,n]=b.useState(!1),{createEmployee:a}=Rv(),{stores:i}=Ci(),o=za({resolver:Ha(qfe),defaultValues:{name:"",phone:"",email:"",role:"sales_associate",storeId:""}}),s=l=>{a.mutate({name:l.name,phone:l.phone||null,email:l.email,role:l.role,store_id:l.storeId||null},{onSuccess:()=>{e==null||e(),o.reset(),n(!1)}})};return c.jsxs(Vt,{open:r,onOpenChange:n,children:[c.jsx(Zo,{asChild:!0,children:t||c.jsxs(Y,{className:"gap-2",children:[c.jsx(Lo,{className:"h-4 w-4"}),"Add Employee"]})}),c.jsxs(It,{className:"sm:max-w-md",children:[c.jsxs(Rt,{children:[c.jsx(Dt,{className:"font-display",children:"Add New Employee"}),c.jsx(hr,{children:"Add a new team member to your boutique."})]}),c.jsx(Ga,{...o,children:c.jsxs("form",{onSubmit:o.handleSubmit(s),className:"space-y-4",children:[c.jsx(Se,{control:o.control,name:"name",render:({field:l})=>c.jsxs(be,{children:[c.jsx(we,{children:"Full Name *"}),c.jsx(_e,{children:c.jsx(ye,{placeholder:"Enter employee name",...l})}),c.jsx(Ce,{})]})}),c.jsx(Se,{control:o.control,name:"email",render:({field:l})=>c.jsxs(be,{children:[c.jsx(we,{children:"Email Address *"}),c.jsx(_e,{children:c.jsx(ye,{type:"email",placeholder:"employee@email.com",...l})}),c.jsx(Ce,{})]})}),c.jsx(Se,{control:o.control,name:"phone",render:({field:l})=>c.jsxs(be,{children:[c.jsx(we,{children:"Phone Number"}),c.jsx(_e,{children:c.jsx(ye,{placeholder:"+91 98765 43210",...l})}),c.jsx(Ce,{})]})}),c.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[c.jsx(Se,{control:o.control,name:"role",render:({field:l})=>c.jsxs(be,{children:[c.jsx(we,{children:"Role *"}),c.jsxs(Pt,{onValueChange:l.onChange,value:l.value,children:[c.jsx(_e,{children:c.jsx(Et,{children:c.jsx(kt,{placeholder:"Select role"})})}),c.jsx(At,{children:Gfe.map(u=>c.jsx(je,{value:u.value,children:u.label},u.value))})]}),c.jsx(Ce,{})]})}),c.jsx(Se,{control:o.control,name:"storeId",render:({field:l})=>c.jsxs(be,{children:[c.jsx(we,{children:"Store"}),c.jsxs(Pt,{onValueChange:l.onChange,value:l.value,children:[c.jsx(_e,{children:c.jsx(Et,{children:c.jsx(kt,{placeholder:"Select store"})})}),c.jsx(At,{children:i.map(u=>c.jsx(je,{value:u.id,children:u.name},u.id))})]}),c.jsx(Ce,{})]})})]}),c.jsxs(Tt,{className:"gap-2 pt-4",children:[c.jsx(Y,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancel"}),c.jsx(Y,{type:"submit",disabled:a.isPending,children:a.isPending?"Adding...":"Add Employee"})]})]})})]})]})}function Xfe(){const[t,e]=b.useState(!1),[r,n]=b.useState(!1),[a,i]=b.useState(null),o=b.useRef(null),{createEmployee:s}=Rv(),{toast:l}=pr(),u=()=>{const p=["name","email","phone","role","store_id","is_active"],v=["Lakshmi","lakshmi@example.com","+919876543210","tailor","","true"],m=[p.join(","),v.join(",")].join(`
`),g=new Blob([m],{type:"text/csv;charset=utf-8;"}),x=document.createElement("a");x.href=URL.createObjectURL(g),x.download="employees_template.csv",x.click()},d=p=>p.split(/\r?\n/).filter(m=>m.trim()).map(m=>{const g=[];let x="",y=!1;for(let w=0;w<m.length;w++){const _=m[w];_==='"'?y=!y:_===","&&!y?(g.push(x.trim()),x=""):x+=_}return g.push(x.trim()),g}),f=async p=>{var x;const v=(x=p.target.files)==null?void 0:x[0];if(!v)return;const m=v.name.endsWith(".csv"),g=v.name.endsWith(".xlsx")||v.name.endsWith(".xls");if(!m&&!g){l({title:"Invalid file type",description:"Please upload a CSV or Excel file.",variant:"destructive"});return}if(g){l({title:"Excel files",description:"Please save your Excel file as CSV before uploading.",variant:"destructive"});return}n(!0),i(null);try{const y=await v.text(),w=d(y);if(w.length<2)throw new Error("File must contain at least a header row and one data row.");const _=w[0].map(j=>j.toLowerCase().trim()),S=w.slice(1),E=["name","phone"].filter(j=>!_.includes(j));if(E.length>0)throw new Error(`Missing required columns: ${E.join(", ")}`);const A={success:0,failed:0,errors:[]};for(let j=0;j<S.length;j++){const T=S[j],N=j+2;try{const O=re=>{var oe;const ue=_.indexOf(re);return ue>=0&&((oe=T[ue])==null?void 0:oe.trim())||""},$=O("name"),R=O("email")||null,F=O("phone"),B=O("role")||"sales_associate",M=O("store_id")||null,I=(O("is_active")||"true").toLowerCase()==="true";if(!$||!F)throw new Error(`Row ${N}: Missing required fields (name, phone)`);const P={admin:"admin","store manager":"store_manager",store_manager:"store_manager","sales associate":"sales_associate",sales_associate:"sales_associate",sales:"sales_associate",tailor:"tailor","tailor ":"tailor"},V=B.trim().toLowerCase(),z=P[V]??V.replace(/\s+/g,"_"),H=["admin","store_manager","sales_associate","tailor"];if(!H.includes(z))throw new Error(`Row ${N}: Invalid role '${B}'. Allowed: ${H.join(", ")}`);const K={name:$,email:R||void 0,phone:F,role:z,store_id:M||void 0,is_active:I};await s.mutateAsync(K),A.success++}catch(O){A.failed++,A.errors.push(O instanceof Error?O.message:`Row ${N}: Unknown error`)}}i(A),A.success>0&&l({title:"Import completed",description:`Successfully imported ${A.success} employees.`})}catch(y){l({title:"Import failed",description:y instanceof Error?y.message:"Failed to parse file.",variant:"destructive"})}finally{n(!1),o.current&&(o.current.value="")}},h=()=>{i(null),n(!1)};return c.jsxs(Vt,{open:t,onOpenChange:p=>{e(p),p||h()},children:[c.jsx(Zo,{asChild:!0,children:c.jsxs(Y,{variant:"outline",className:"gap-2",children:[c.jsx(Hl,{className:"h-4 w-4"}),c.jsx("span",{className:"inline",children:"Import"})]})}),c.jsxs(It,{className:"sm:max-w-lg",children:[c.jsxs(Rt,{children:[c.jsxs(Dt,{className:"flex items-center gap-2",children:[c.jsx(lA,{className:"h-5 w-5"}),"Import Employees"]}),c.jsx(hr,{children:"Import employees from a CSV file. Download the template to see the expected format."})]}),c.jsxs("div",{className:"space-y-4 py-4",children:[c.jsxs("div",{className:"rounded-lg border border-border bg-muted/30 p-4",children:[c.jsx("h4",{className:"mb-2 font-medium text-foreground",children:"Instructions"}),c.jsxs("ol",{className:"space-y-2 text-sm text-muted-foreground",children:[c.jsx("li",{children:"1. Download the CSV template below"}),c.jsx("li",{children:"2. Fill in your employee data"}),c.jsxs("li",{children:["3. ",c.jsx("strong",{children:"Required columns:"})," name, phone"]}),c.jsxs("li",{children:["4. ",c.jsx("strong",{children:"Optional columns:"})," email, role, store_id, is_active"]}),c.jsx("li",{children:"5. Upload your completed CSV file"})]})]}),c.jsxs(Y,{variant:"outline",onClick:u,className:"w-full gap-2",children:[c.jsx(ao,{className:"h-4 w-4"}),"Download CSV Template"]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("input",{ref:o,type:"file",accept:".csv,.xlsx,.xls",onChange:f,className:"hidden",id:"employee-file-upload"}),c.jsx(Y,{variant:"default",onClick:()=>{var p;return(p=o.current)==null?void 0:p.click()},disabled:r,className:"w-full gap-2",children:r?c.jsxs(c.Fragment,{children:[c.jsx(Mn,{className:"h-4 w-4 animate-spin"}),"Importing..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Hl,{className:"h-4 w-4"}),"Upload CSV File"]})})]}),a&&c.jsxs("div",{className:"space-y-3 rounded-lg border border-border p-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[a.success>0&&c.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[c.jsx(iA,{className:"h-4 w-4"}),c.jsxs("span",{className:"text-sm font-medium",children:[a.success," imported"]})]}),a.failed>0&&c.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[c.jsx(dv,{className:"h-4 w-4"}),c.jsxs("span",{className:"text-sm font-medium",children:[a.failed," failed"]})]})]}),a.errors.length>0&&c.jsxs("div",{className:"max-h-32 overflow-y-auto rounded border border-destructive/20 bg-destructive/5 p-2",children:[c.jsx("p",{className:"mb-1 text-xs font-medium text-destructive",children:"Errors:"}),a.errors.slice(0,5).map((p,v)=>c.jsx("p",{className:"text-xs text-destructive/80",children:p},v)),a.errors.length>5&&c.jsxs("p",{className:"mt-1 text-xs text-muted-foreground",children:["...and ",a.errors.length-5," more errors"]})]})]})]})]})]})}const Yfe=[{value:"admin",label:"Admin"},{value:"store_manager",label:"Store Manager"},{value:"sales_associate",label:"Sales Associate"},{value:"tailor",label:"Tailor"}],Zfe=Za({name:Me().trim().min(1,"Name is required").max(100),email:Me().trim().email("Invalid email").max(255),phone:Me().trim().max(20).optional(),role:px(["admin","store_manager","sales_associate","tailor"]),store_id:Me().optional(),hourly_rate:di().min(0).optional()});function Qfe({employee:t,open:e,onOpenChange:r}){var S;const[n,a]=b.useState(!1),[i,o]=b.useState(!1),[s,l]=b.useState(!1),{updateEmployee:u,deactivateEmployee:d,reactivateEmployee:f,deleteEmployee:h}=Rv(),{stores:p}=Ci(),v=za({resolver:Ha(Zfe),values:t?{name:t.name,email:t.email,phone:t.phone||"",role:t.role,store_id:t.store_id||"",hourly_rate:t.hourly_rate||0}:void 0}),m=C=>C.split("_").map(E=>E.charAt(0).toUpperCase()+E.slice(1)).join(" "),g=()=>{a(!1),v.reset(),r(!1)},x=C=>{t&&u.mutate({id:t.id,name:C.name,email:C.email,phone:C.phone||null,role:C.role,store_id:C.store_id||null,hourly_rate:C.hourly_rate||null},{onSuccess:()=>{a(!1)}})},y=()=>{t&&d.mutate(t.id,{onSuccess:()=>{o(!1),g()}})},w=()=>{t&&f.mutate(t.id)},_=()=>{t&&h.mutate(t.id,{onSuccess:()=>{l(!1),g()}})};return t?c.jsxs(c.Fragment,{children:[c.jsx(Vt,{open:e,onOpenChange:g,children:c.jsxs(It,{className:"sm:max-w-lg",children:[c.jsx(Rt,{children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10 font-display text-lg font-semibold text-primary",children:t.name.charAt(0)}),c.jsxs("div",{className:"flex-1",children:[c.jsx(Dt,{className:"font-display",children:t.name}),c.jsx(hr,{children:m(t.role)})]}),t.is_active?c.jsxs("div",{className:"flex items-center gap-1 text-emerald-600",children:[c.jsx(x2,{className:"h-4 w-4"}),c.jsx("span",{className:"text-xs",children:"Active"})]}):c.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[c.jsx(w2,{className:"h-4 w-4"}),c.jsx("span",{className:"text-xs",children:"Inactive"})]})]})}),n?c.jsx(Ga,{...v,children:c.jsxs("form",{onSubmit:v.handleSubmit(x),className:"space-y-4",children:[c.jsx(Se,{control:v.control,name:"name",render:({field:C})=>c.jsxs(be,{children:[c.jsx(we,{children:"Name *"}),c.jsx(_e,{children:c.jsx(ye,{...C})}),c.jsx(Ce,{})]})}),c.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[c.jsx(Se,{control:v.control,name:"email",render:({field:C})=>c.jsxs(be,{children:[c.jsx(we,{children:"Email *"}),c.jsx(_e,{children:c.jsx(ye,{type:"email",...C})}),c.jsx(Ce,{})]})}),c.jsx(Se,{control:v.control,name:"phone",render:({field:C})=>c.jsxs(be,{children:[c.jsx(we,{children:"Phone"}),c.jsx(_e,{children:c.jsx(ye,{...C})}),c.jsx(Ce,{})]})})]}),c.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[c.jsx(Se,{control:v.control,name:"role",render:({field:C})=>c.jsxs(be,{children:[c.jsx(we,{children:"Role *"}),c.jsxs(Pt,{onValueChange:C.onChange,value:C.value,children:[c.jsx(_e,{children:c.jsx(Et,{children:c.jsx(kt,{})})}),c.jsx(At,{children:Yfe.map(E=>c.jsx(je,{value:E.value,children:E.label},E.value))})]}),c.jsx(Ce,{})]})}),c.jsx(Se,{control:v.control,name:"store_id",render:({field:C})=>c.jsxs(be,{children:[c.jsx(we,{children:"Store"}),c.jsxs(Pt,{onValueChange:C.onChange,value:C.value,children:[c.jsx(_e,{children:c.jsx(Et,{children:c.jsx(kt,{placeholder:"Select store"})})}),c.jsx(At,{children:p.map(E=>c.jsx(je,{value:E.id,children:E.name},E.id))})]}),c.jsx(Ce,{})]})})]}),c.jsx(Se,{control:v.control,name:"hourly_rate",render:({field:C})=>c.jsxs(be,{children:[c.jsx(we,{children:"Hourly Rate ()"}),c.jsx(_e,{children:c.jsx(ye,{type:"number",min:0,...C,onChange:E=>C.onChange(Number(E.target.value))})}),c.jsx(Ce,{})]})}),c.jsxs(Tt,{children:[c.jsx(Y,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"}),c.jsx(Y,{type:"submit",disabled:u.isPending,children:u.isPending?"Saving...":"Save Changes"})]})]})}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid gap-3",children:[c.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[c.jsx(fv,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("span",{children:t.email})]}),t.phone&&c.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[c.jsx(Au,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("span",{children:t.phone})]}),c.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[c.jsx(W1,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("span",{children:((S=t.store)==null?void 0:S.name)||"Not assigned"})]})]}),c.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-muted/50 p-3",children:[c.jsx("span",{className:"status-badge bg-primary/10 text-primary",children:m(t.role)}),t.hourly_rate&&c.jsxs("span",{className:"text-sm text-muted-foreground",children:["",t.hourly_rate,"/hr"]})]}),c.jsxs("div",{className:"text-xs text-muted-foreground",children:["Added on ",it(new Date(t.created_at),"MMM d, yyyy")]})]}),c.jsxs(Tt,{className:"flex-row gap-2 sm:justify-between",children:[c.jsxs("div",{className:"flex gap-2",children:[t.is_active?c.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>o(!0),className:"gap-2",children:[c.jsx(w2,{className:"h-4 w-4"}),"Deactivate"]}):c.jsxs(Y,{variant:"outline",size:"sm",onClick:w,disabled:f.isPending,className:"gap-2 text-emerald-600 hover:text-emerald-700",children:[c.jsx(x2,{className:"h-4 w-4"}),f.isPending?"Reactivating...":"Reactivate"]}),c.jsxs(Y,{variant:"destructive",size:"sm",onClick:()=>l(!0),className:"gap-2",children:[c.jsx(io,{className:"h-4 w-4"}),"Delete"]})]}),c.jsxs(Y,{onClick:()=>a(!0),className:"gap-2",children:[c.jsx(Ya,{className:"h-4 w-4"}),"Edit"]})]})]})]})}),c.jsx(Ds,{open:i,onOpenChange:o,children:c.jsxs(Vo,{children:[c.jsxs(Wo,{children:[c.jsx(Ho,{children:"Deactivate Employee"}),c.jsxs(qo,{children:["Are you sure you want to deactivate ",t.name,"? They will no longer appear in dropdowns or be assignable to orders."]})]}),c.jsxs(zo,{children:[c.jsx(uo,{children:"Cancel"}),c.jsx(Go,{onClick:y,className:"bg-amber-600 text-white hover:bg-amber-700",children:d.isPending?"Deactivating...":"Deactivate"})]})]})}),c.jsx(Ds,{open:s,onOpenChange:l,children:c.jsxs(Vo,{children:[c.jsxs(Wo,{children:[c.jsx(Ho,{children:"Delete Employee Permanently"}),c.jsxs(qo,{children:["Are you sure you want to permanently delete ",t.name,"? This action cannot be undone."]})]}),c.jsxs(zo,{children:[c.jsx(uo,{children:"Cancel"}),c.jsx(Go,{onClick:_,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:h.isPending?"Deleting...":"Delete Permanently"})]})]})})]}):null}const Jfe=()=>{const[t,e]=b.useState(""),{employees:r,isLoading:n}=Rv(),{stores:a}=Ci(),[i,o]=b.useState(null),[s,l]=b.useState(!1),[u,d]=b.useState("all"),[f,h]=b.useState("all"),p=b.useMemo(()=>r.filter(g=>{const x=g.name.toLowerCase().includes(t.toLowerCase())||g.email.toLowerCase().includes(t.toLowerCase())||g.role.toLowerCase().includes(t.toLowerCase()),y=u==="all"||u==="active"&&g.is_active||u==="inactive"&&!g.is_active,w=f==="all"||g.store&&g.store.id===f;return x&&y&&w}),[r,t,u,f]),v=g=>g.split("_").map(x=>x.charAt(0).toUpperCase()+x.slice(1)).join(" "),m=g=>{o(g),l(!0)};return n?c.jsx(Rr,{title:"Employees",subtitle:"Team management and task assignments",children:c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx(Mn,{className:"h-8 w-8 animate-spin text-primary"})})}):c.jsxs(Rr,{title:"Employees",subtitle:"Team management and task assignments",children:[c.jsx("div",{className:"mb-6",children:c.jsxs("div",{className:"flex flex-col gap-3",children:[c.jsx("div",{className:"w-full",children:c.jsxs("div",{className:"relative w-full",children:[c.jsx(ec,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),c.jsx(ye,{placeholder:"Search employees...",className:"pl-10 w-full",value:t,onChange:g=>e(g.target.value)})]})}),c.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[c.jsxs("div",{className:"flex gap-3 w-full sm:justify-start",children:[c.jsx("div",{className:"w-full sm:w-auto",children:c.jsxs(Pt,{value:u,onValueChange:g=>d(g),children:[c.jsx(Et,{className:"w-full sm:w-40",children:c.jsx(kt,{placeholder:"Status"})}),c.jsxs(At,{children:[c.jsx(je,{value:"all",children:"All"}),c.jsx(je,{value:"active",children:"Active"}),c.jsx(je,{value:"inactive",children:"Inactive"})]})]})}),c.jsx("div",{className:"w-full sm:w-auto",children:c.jsxs(Pt,{value:f,onValueChange:g=>h(g),children:[c.jsx(Et,{className:"w-full sm:w-40",children:c.jsx(kt,{placeholder:"Store"})}),c.jsxs(At,{children:[c.jsx(je,{value:"all",children:"All Stores"}),a.map(g=>c.jsx(je,{value:g.id,children:g.name},g.id))]})]})})]}),c.jsxs("div",{className:"flex items-center gap-3 justify-end sm:ml-auto",children:[c.jsx(Xfe,{}),c.jsx("div",{className:"ml-3",children:c.jsx(Kfe,{})})]})]})]})}),p.length===0?c.jsx(Pu,{icon:lf,title:"No employees found",description:t?"No employees match your search.":"Add your first employee to get started."}):c.jsx("div",{className:"grid gap-6 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3",children:p.map(g=>{var x;return c.jsxs("div",{className:"card-luxury p-6 cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>m(g),children:[c.jsxs("div",{className:"mb-4 flex items-start justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10 font-display text-lg font-semibold text-primary",children:g.name.charAt(0)}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-foreground",children:g.name}),c.jsx("p",{className:"text-sm text-muted-foreground",children:v(g.role)})]})]}),c.jsx("div",{onClick:y=>y.stopPropagation(),children:c.jsxs(wi,{children:[c.jsx(bi,{asChild:!0,children:c.jsx(Y,{variant:"ghost",size:"icon",className:"h-8 w-8",children:c.jsx(Ps,{className:"h-4 w-4"})})}),c.jsxs(Va,{align:"end",children:[c.jsxs(nt,{onClick:()=>m(g),className:"gap-2",children:[c.jsx(Eu,{className:"h-4 w-4"}),"View Profile"]}),c.jsxs(nt,{onClick:()=>m(g),className:"gap-2",children:[c.jsx(Ya,{className:"h-4 w-4"}),"Edit Employee"]}),c.jsx(Kl,{}),c.jsxs(nt,{className:"gap-2",children:[c.jsx(zq,{className:"h-4 w-4"}),"Assign Task"]}),c.jsxs(nt,{className:"gap-2",children:[c.jsx(uv,{className:"h-4 w-4"}),"View Schedule"]})]})]})})]}),c.jsxs("div",{className:"mb-4 space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Store"}),c.jsx("span",{className:"text-foreground",children:((x=g.store)==null?void 0:x.name)||"Not assigned"})]}),c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Email"}),c.jsx("span",{className:"text-foreground truncate max-w-[150px]",children:g.email})]}),g.phone&&c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Phone"}),c.jsx("span",{className:"text-foreground",children:g.phone})]})]}),c.jsxs("div",{className:"flex items-center justify-between border-t border-border pt-4",children:[c.jsx("div",{className:"flex items-center gap-2",children:g.is_active?c.jsxs(c.Fragment,{children:[c.jsx(x2,{className:"h-4 w-4 text-emerald-600"}),c.jsx("span",{className:"text-sm text-emerald-600",children:"Active"})]}):c.jsxs(c.Fragment,{children:[c.jsx(w2,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("span",{className:"text-sm text-muted-foreground",children:"Inactive"})]})}),c.jsx("span",{className:fe("status-badge",g.is_active?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"),children:g.is_active?"active":"inactive"})]})]},g.id)})}),c.jsx(Qfe,{employee:i,open:s,onOpenChange:l})]})},ehe=Za({name:Me().trim().min(2,"Name must be at least 2 characters").max(100),address:Me().trim().min(10,"Enter complete address").max(500),city:Me().trim().min(2,"City is required").max(100),phone:Me().trim().min(10,"Enter a valid phone number").max(15).optional().or(Zi("")),email:Me().trim().email("Enter a valid email").optional().or(Zi("")),opening_hours:Me().trim().max(50).optional().or(Zi(""))});function the({trigger:t,onSuccess:e}){const[r,n]=b.useState(!1),{createStore:a}=Ci(),i=za({resolver:Ha(ehe),defaultValues:{name:"",address:"",city:"Chennai",phone:"",email:"",opening_hours:"10:00 AM - 8:00 PM"}}),o=s=>{a.mutate({name:s.name,address:s.address,city:s.city,phone:s.phone||null,email:s.email||null,opening_hours:s.opening_hours||null},{onSuccess:()=>{e==null||e(),i.reset(),n(!1)}})};return c.jsxs(Vt,{open:r,onOpenChange:n,children:[c.jsx(Zo,{asChild:!0,children:t||c.jsxs(Y,{className:"gap-2",children:[c.jsx(Lo,{className:"h-4 w-4"}),"Add Store"]})}),c.jsxs(It,{className:"sm:max-w-md",children:[c.jsxs(Rt,{children:[c.jsx(Dt,{className:"font-display",children:"Add New Store"}),c.jsx(hr,{children:"Add a new boutique location."})]}),c.jsx(Ga,{...i,children:c.jsxs("form",{onSubmit:i.handleSubmit(o),className:"space-y-4",children:[c.jsx(Se,{control:i.control,name:"name",render:({field:s})=>c.jsxs(be,{children:[c.jsx(we,{children:"Store Name *"}),c.jsx(_e,{children:c.jsx(ye,{placeholder:"e.g., Mylapore",...s})}),c.jsx(Ce,{})]})}),c.jsx(Se,{control:i.control,name:"address",render:({field:s})=>c.jsxs(be,{children:[c.jsx(we,{children:"Full Address *"}),c.jsx(_e,{children:c.jsx(ea,{placeholder:"Enter complete store address with PIN code",rows:2,...s})}),c.jsx(Ce,{})]})}),c.jsx(Se,{control:i.control,name:"city",render:({field:s})=>c.jsxs(be,{children:[c.jsx(we,{children:"City *"}),c.jsx(_e,{children:c.jsx(ye,{placeholder:"Chennai",...s})}),c.jsx(Ce,{})]})}),c.jsx(Se,{control:i.control,name:"phone",render:({field:s})=>c.jsxs(be,{children:[c.jsx(we,{children:"Store Phone"}),c.jsx(_e,{children:c.jsx(ye,{placeholder:"+91 44 2628 1234",...s})}),c.jsx(Ce,{})]})}),c.jsx(Se,{control:i.control,name:"email",render:({field:s})=>c.jsxs(be,{children:[c.jsx(we,{children:"Store Email"}),c.jsx(_e,{children:c.jsx(ye,{type:"email",placeholder:"store@example.com",...s})}),c.jsx(Ce,{})]})}),c.jsx(Se,{control:i.control,name:"opening_hours",render:({field:s})=>c.jsxs(be,{children:[c.jsx(we,{children:"Operating Hours"}),c.jsx(_e,{children:c.jsx(ye,{placeholder:"10:00 AM - 8:00 PM",...s})}),c.jsx(Ce,{})]})}),c.jsxs(Tt,{className:"gap-2 pt-4",children:[c.jsx(Y,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancel"}),c.jsx(Y,{type:"submit",disabled:a.isPending,children:a.isPending?"Adding...":"Add Store"})]})]})})]})]})}const rhe=Za({name:Me().trim().min(1,"Name is required").max(100),address:Me().trim().min(1,"Address is required").max(500),city:Me().trim().min(1,"City is required").max(100),phone:Me().trim().max(20).optional(),email:Me().trim().email("Invalid email").max(255).optional().or(Zi("")),opening_hours:Me().trim().max(200).optional()});function nhe({store:t,open:e,onOpenChange:r}){const[n,a]=b.useState(!1),[i,o]=b.useState(!1),[s,l]=b.useState(!1),{updateStore:u,deleteStore:d,reactivateStore:f,permanentDeleteStore:h}=Ci(),p=za({resolver:Ha(rhe),values:t?{name:t.name,address:t.address,city:t.city,phone:t.phone||"",email:t.email||"",opening_hours:t.opening_hours||""}:void 0}),v=()=>{a(!1),p.reset(),r(!1)},m=w=>{t&&u.mutate({id:t.id,name:w.name,address:w.address,city:w.city,phone:w.phone||null,email:w.email||null,opening_hours:w.opening_hours||null},{onSuccess:()=>{a(!1)}})},g=()=>{t&&d.mutate(t.id,{onSuccess:()=>{o(!1),v()}})},x=()=>{t&&f.mutate(t.id,{onSuccess:()=>{v()}})},y=()=>{t&&h.mutate(t.id,{onSuccess:()=>{l(!1),v()}})};return t?c.jsxs(c.Fragment,{children:[c.jsx(Vt,{open:e,onOpenChange:v,children:c.jsxs(It,{className:"sm:max-w-lg",children:[c.jsxs(Rt,{children:[c.jsx(Dt,{className:"font-display",children:t.name}),c.jsx(hr,{children:t.city})]}),n?c.jsx(Ga,{...p,children:c.jsxs("form",{onSubmit:p.handleSubmit(m),className:"space-y-4",children:[c.jsx(Se,{control:p.control,name:"name",render:({field:w})=>c.jsxs(be,{children:[c.jsx(we,{children:"Store Name *"}),c.jsx(_e,{children:c.jsx(ye,{...w})}),c.jsx(Ce,{})]})}),c.jsx(Se,{control:p.control,name:"address",render:({field:w})=>c.jsxs(be,{children:[c.jsx(we,{children:"Address *"}),c.jsx(_e,{children:c.jsx(ye,{...w})}),c.jsx(Ce,{})]})}),c.jsx(Se,{control:p.control,name:"city",render:({field:w})=>c.jsxs(be,{children:[c.jsx(we,{children:"City *"}),c.jsx(_e,{children:c.jsx(ye,{...w})}),c.jsx(Ce,{})]})}),c.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[c.jsx(Se,{control:p.control,name:"phone",render:({field:w})=>c.jsxs(be,{children:[c.jsx(we,{children:"Phone"}),c.jsx(_e,{children:c.jsx(ye,{...w})}),c.jsx(Ce,{})]})}),c.jsx(Se,{control:p.control,name:"email",render:({field:w})=>c.jsxs(be,{children:[c.jsx(we,{children:"Email"}),c.jsx(_e,{children:c.jsx(ye,{type:"email",...w})}),c.jsx(Ce,{})]})})]}),c.jsx(Se,{control:p.control,name:"opening_hours",render:({field:w})=>c.jsxs(be,{children:[c.jsx(we,{children:"Opening Hours"}),c.jsx(_e,{children:c.jsx(ye,{placeholder:"e.g., Mon-Sat 10am-8pm",...w})}),c.jsx(Ce,{})]})}),c.jsxs(Tt,{children:[c.jsx(Y,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"}),c.jsx(Y,{type:"submit",disabled:u.isPending,children:u.isPending?"Saving...":"Save Changes"})]})]})}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid gap-3",children:[c.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[c.jsx(cA,{className:"mt-0.5 h-4 w-4 flex-shrink-0 text-muted-foreground"}),c.jsx("span",{children:t.address})]}),t.phone&&c.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[c.jsx(Au,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("span",{children:t.phone})]}),t.email&&c.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[c.jsx(fv,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("span",{children:t.email})]}),t.opening_hours&&c.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[c.jsx(oA,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("span",{children:t.opening_hours})]})]}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("span",{className:`status-badge ${t.is_active?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:t.is_active?"Active":"Inactive"})})]}),c.jsxs(Tt,{className:"flex-row gap-2 sm:justify-between",children:[c.jsxs("div",{className:"flex gap-2",children:[t.is_active?c.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>o(!0),className:"gap-2",children:[c.jsx(io,{className:"h-4 w-4"}),"Deactivate"]}):c.jsx(Y,{variant:"outline",size:"sm",onClick:x,disabled:f.isPending,className:"gap-2 text-emerald-600 hover:text-emerald-700",children:f.isPending?"Reactivating...":"Reactivate"}),c.jsxs(Y,{variant:"destructive",size:"sm",onClick:()=>l(!0),className:"gap-2",children:[c.jsx(io,{className:"h-4 w-4"}),"Delete"]})]}),c.jsxs(Y,{onClick:()=>a(!0),className:"gap-2",children:[c.jsx(Ya,{className:"h-4 w-4"}),"Edit"]})]})]})]})}),c.jsx(Ds,{open:i,onOpenChange:o,children:c.jsxs(Vo,{children:[c.jsxs(Wo,{children:[c.jsx(Ho,{children:"Deactivate Store"}),c.jsxs(qo,{children:["Are you sure you want to deactivate ",t.name,"? It will no longer appear in active store lists."]})]}),c.jsxs(zo,{children:[c.jsx(uo,{children:"Cancel"}),c.jsx(Go,{onClick:g,className:"bg-amber-600 text-white hover:bg-amber-700",children:d.isPending?"Deactivating...":"Deactivate"})]})]})}),c.jsx(Ds,{open:s,onOpenChange:l,children:c.jsxs(Vo,{children:[c.jsxs(Wo,{children:[c.jsx(Ho,{children:"Delete Store Permanently"}),c.jsxs(qo,{children:["Are you sure you want to permanently delete ",t.name,"? This action cannot be undone."]})]}),c.jsxs(zo,{children:[c.jsx(uo,{children:"Cancel"}),c.jsx(Go,{onClick:y,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:h.isPending?"Deleting...":"Delete Permanently"})]})]})})]}):null}const ahe=()=>{const{stores:t,isLoading:e,deleteStore:r,reactivateStore:n,permanentDeleteStore:a}=Ci(),[i,o]=b.useState(null),[s,l]=b.useState(!1),[u,d]=b.useState(""),[f,h]=b.useState("all"),p=m=>{o(m),l(!0)},v=b.useMemo(()=>t.filter(m=>{const g=m.name.toLowerCase().includes(u.toLowerCase())||(m.city||"").toLowerCase().includes(u.toLowerCase())||(m.address||"").toLowerCase().includes(u.toLowerCase()),x=f==="all"||f==="active"&&m.is_active||f==="inactive"&&!m.is_active;return g&&x}),[t,u,f]);return e?c.jsx(Rr,{title:"Store Locations",subtitle:"Manage your boutique locations",children:c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx(Mn,{className:"h-8 w-8 animate-spin text-primary"})})}):c.jsxs(Rr,{title:"Store Locations",subtitle:"Manage your boutique locations",children:[c.jsx("div",{className:"mb-6",children:c.jsxs("div",{className:"flex flex-col gap-3",children:[c.jsx("div",{className:"w-full",children:c.jsxs("div",{className:"relative w-full",children:[c.jsx(ec,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),c.jsx(ye,{placeholder:"Search stores...",className:"pl-10 w-full",value:u,onChange:m=>d(m.target.value)})]})}),c.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[c.jsx("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-start",children:c.jsx("div",{className:"w-full sm:w-auto",children:c.jsxs(Pt,{value:f,onValueChange:m=>h(m),children:[c.jsx(Et,{className:"w-full sm:w-40",children:c.jsx(kt,{placeholder:"Status"})}),c.jsxs(At,{children:[c.jsx(je,{value:"all",children:"All"}),c.jsx(je,{value:"active",children:"Active"}),c.jsx(je,{value:"inactive",children:"Inactive"})]})]})})}),c.jsxs("div",{className:"flex items-center gap-3 justify-between sm:justify-end sm:ml-auto w-full sm:w-auto",children:[c.jsx("div",{}),c.jsx("div",{className:"ml-3",children:c.jsx(the,{})})]})]})]})}),v.length===0?c.jsx(Pu,{icon:W1,title:"No stores found",description:u?"No stores match your search.":"Add your first store location to get started."}):c.jsx("div",{className:"grid gap-6 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3",children:v.map(m=>c.jsxs("div",{className:"card-luxury overflow-hidden cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>p(m),children:[c.jsxs("div",{className:"luxury-gradient px-6 py-4 flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-display text-xl font-semibold text-primary-foreground",children:m.name}),c.jsx("p",{className:"mt-1 text-sm text-primary-foreground/80",children:m.city})]}),c.jsx("div",{onClick:g=>g.stopPropagation(),children:c.jsxs(wi,{children:[c.jsx(bi,{asChild:!0,children:c.jsx(Y,{variant:"ghost",size:"icon",className:"h-8 w-8 text-primary-foreground hover:bg-white/10",children:c.jsx(Ps,{className:"h-4 w-4"})})}),c.jsxs(Va,{align:"end",children:[c.jsxs(nt,{onClick:()=>p(m),className:"gap-2",children:[c.jsx(Eu,{className:"h-4 w-4"}),"View Details"]}),c.jsxs(nt,{onClick:()=>p(m),className:"gap-2",children:[c.jsx(Ya,{className:"h-4 w-4"}),"Edit Store"]}),c.jsxs(nt,{className:"gap-2",onClick:()=>{m.is_active?confirm("Deactivate this store?")&&r.mutate(m.id):n.mutate(m.id)},children:[m.is_active?c.jsx(ab,{className:"h-4 w-4"}):c.jsx(ab,{className:"h-4 w-4"}),m.is_active?"Deactivate":"Reactivate"]}),c.jsxs(nt,{className:"gap-2 text-destructive",onClick:()=>{confirm("Permanently delete this store? This action cannot be undone.")&&a.mutate(m.id)},children:[c.jsx(ab,{className:"h-4 w-4"}),"Delete"]})]})]})})]}),c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(cA,{className:"mt-0.5 h-4 w-4 flex-shrink-0 text-muted-foreground"}),c.jsx("p",{className:"text-sm text-foreground",children:m.address})]}),m.phone&&c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Au,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("p",{className:"text-sm text-foreground",children:m.phone})]}),m.email&&c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(fv,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("p",{className:"text-sm text-foreground",children:m.email})]}),m.opening_hours&&c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(oA,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("p",{className:"text-sm text-foreground",children:m.opening_hours})]})]}),c.jsx(Y,{variant:"outline",className:"mt-6 w-full",onClick:()=>p(m),children:"View Details"})]})]},m.id))}),c.jsx(nhe,{store:i,open:s,onOpenChange:l})]})};function ihe(){const[t,e]=b.useState(!1),[r,n]=b.useState(!1),[a,i]=b.useState(null),o=b.useRef(null),{createService:s}=Cx(),{toast:l}=pr(),u=()=>{const p=["name","description","price","unit","duration_minutes","category","taxable"],v=["Hand Embroidery","Intricate hand embroidery","1500","per_piece","60","Embellishment","true"],m=[p.join(","),v.join(",")].join(`
`),g=new Blob([m],{type:"text/csv;charset=utf-8;"}),x=document.createElement("a");x.href=URL.createObjectURL(g),x.download="services_template.csv",x.click()},d=p=>p.split(/\r?\n/).filter(m=>m.trim()).map(m=>{const g=[];let x="",y=!1;for(let w=0;w<m.length;w++){const _=m[w];_==='"'?y=!y:_===","&&!y?(g.push(x.trim()),x=""):x+=_}return g.push(x.trim()),g}),f=async p=>{var x;const v=(x=p.target.files)==null?void 0:x[0];if(!v)return;const m=v.name.endsWith(".csv"),g=v.name.endsWith(".xlsx")||v.name.endsWith(".xls");if(!m&&!g){l({title:"Invalid file type",description:"Please upload a CSV or Excel file.",variant:"destructive"});return}if(g){l({title:"Excel files",description:"Please save your Excel file as CSV before uploading.",variant:"destructive"});return}n(!0),i(null);try{const y=await v.text(),w=d(y);if(w.length<2)throw new Error("File must contain at least a header row and one data row.");const _=w[0].map(j=>j.toLowerCase().trim()),S=w.slice(1),E=["name","price"].filter(j=>!_.includes(j));if(E.length>0)throw new Error(`Missing required columns: ${E.join(", ")}`);const A={success:0,failed:0,errors:[]};for(let j=0;j<S.length;j++){const T=S[j],N=j+2;try{const O=re=>{var oe;const ue=_.indexOf(re);return ue>=0&&((oe=T[ue])==null?void 0:oe.trim())||""},$=O("name"),R=O("description")||void 0,F=O("price"),B=O("unit")||"per_piece",M=O("duration_minutes"),I=M?parseInt(M,10):void 0,P=O("category")||void 0,V=O("taxable"),z=V?V.toLowerCase()==="true":!1;if(!$||!F)throw new Error(`Row ${N}: Missing required fields (name, price)`);const H=parseFloat(F.replace(/[,]/g,""));if(isNaN(H)||H<0)throw new Error(`Row ${N}: Invalid price value`);const K={name:$,description:R,price:H,unit:B,duration_minutes:I??null,category_id:null,taxable:z,active:!0};await s.mutateAsync(K),A.success++}catch(O){A.failed++,A.errors.push(O instanceof Error?O.message:`Row ${N}: Unknown error`)}}i(A),A.success>0&&l({title:"Import completed",description:`Successfully imported ${A.success} services.`})}catch(y){l({title:"Import failed",description:y instanceof Error?y.message:"Failed to parse file.",variant:"destructive"})}finally{n(!1),o.current&&(o.current.value="")}},h=()=>{i(null),n(!1)};return c.jsxs(Vt,{open:t,onOpenChange:p=>{e(p),p||h()},children:[c.jsx(Zo,{asChild:!0,children:c.jsxs(Y,{variant:"outline",className:"gap-2",children:[c.jsx(Hl,{className:"h-4 w-4"}),c.jsx("span",{className:"inline",children:"Import"})]})}),c.jsxs(It,{className:"sm:max-w-lg",children:[c.jsxs(Rt,{children:[c.jsxs(Dt,{className:"flex items-center gap-2",children:[c.jsx(lA,{className:"h-5 w-5"}),"Import Services"]}),c.jsx(hr,{children:"Import services from a CSV file. Download the template to see the expected format."})]}),c.jsxs("div",{className:"space-y-4 py-4",children:[c.jsxs("div",{className:"rounded-lg border border-border bg-muted/30 p-4",children:[c.jsx("h4",{className:"mb-2 font-medium text-foreground",children:"Instructions"}),c.jsxs("ol",{className:"space-y-2 text-sm text-muted-foreground",children:[c.jsx("li",{children:"1. Download the CSV template below"}),c.jsx("li",{children:"2. Fill in your service data"}),c.jsxs("li",{children:["3. ",c.jsx("strong",{children:"Required columns:"})," name, price"]}),c.jsxs("li",{children:["4. ",c.jsx("strong",{children:"Optional columns:"})," description, unit, duration_minutes, category, taxable"]}),c.jsx("li",{children:"5. Upload your completed CSV file"})]})]}),c.jsxs(Y,{variant:"outline",onClick:u,className:"w-full gap-2",children:[c.jsx(ao,{className:"h-4 w-4"}),"Download CSV Template"]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("input",{ref:o,type:"file",accept:".csv,.xlsx,.xls",onChange:f,className:"hidden",id:"service-file-upload"}),c.jsx(Y,{variant:"default",onClick:()=>{var p;return(p=o.current)==null?void 0:p.click()},disabled:r,className:"w-full gap-2",children:r?c.jsxs(c.Fragment,{children:[c.jsx(Mn,{className:"h-4 w-4 animate-spin"}),"Importing..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Hl,{className:"h-4 w-4"}),"Upload CSV File"]})})]}),a&&c.jsxs("div",{className:"space-y-3 rounded-lg border border-border p-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[a.success>0&&c.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[c.jsx(iA,{className:"h-4 w-4"}),c.jsxs("span",{className:"text-sm font-medium",children:[a.success," imported"]})]}),a.failed>0&&c.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[c.jsx(dv,{className:"h-4 w-4"}),c.jsxs("span",{className:"text-sm font-medium",children:[a.failed," failed"]})]})]}),a.errors.length>0&&c.jsxs("div",{className:"max-h-32 overflow-y-auto rounded border border-destructive/20 bg-destructive/5 p-2",children:[c.jsx("p",{className:"mb-1 text-xs font-medium text-destructive",children:"Errors:"}),a.errors.slice(0,5).map((p,v)=>c.jsx("p",{className:"text-xs text-destructive/80",children:p},v)),a.errors.length>5&&c.jsxs("p",{className:"mt-1 text-xs text-muted-foreground",children:["...and ",a.errors.length-5," more errors"]})]})]})]})]})]})}var Tx="Switch",[ohe,sMe]=$n(Tx),[she,lhe]=ohe(Tx),dF=b.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:s,value:l="on",onCheckedChange:u,form:d,...f}=t,[h,p]=b.useState(null),v=Ke(e,w=>p(w)),m=b.useRef(!1),g=h?d||!!h.closest("form"):!0,[x,y]=xi({prop:a,defaultProp:i??!1,onChange:u,caller:Tx});return c.jsxs(she,{scope:r,checked:x,disabled:s,children:[c.jsx(Ie.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":mF(x),"data-disabled":s?"":void 0,disabled:s,value:l,...f,ref:v,onClick:de(t.onClick,w=>{y(_=>!_),g&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})}),g&&c.jsx(pF,{control:h,bubbles:!m.current,name:n,value:l,checked:x,required:o,disabled:s,form:d,style:{transform:"translateX(-100%)"}})]})});dF.displayName=Tx;var fF="SwitchThumb",hF=b.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,a=lhe(fF,r);return c.jsx(Ie.span,{"data-state":mF(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:e})});hF.displayName=fF;var che="SwitchBubbleInput",pF=b.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...a},i)=>{const o=b.useRef(null),s=Ke(o,i),l=A7(r),u=w6(e);return b.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&p){const v=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(v)}},[l,r,n]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:s,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});pF.displayName=che;function mF(t){return t?"checked":"unchecked"}var vF=dF,uhe=hF;const bs=b.forwardRef(({className:t,...e},r)=>c.jsx(vF,{className:fe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...e,ref:r,children:c.jsx(uhe,{className:fe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));bs.displayName=vF.displayName;function dhe({open:t,onOpenChange:e,service:r=null,onSaved:n}){const{createService:a,updateService:i}=Cx(),[o,s]=b.useState(""),[l,u]=b.useState(""),[d,f]=b.useState("service"),[h,p]=b.useState(""),[v,m]=b.useState(!0);b.useEffect(()=>{r?(s(r.name||""),u(r.price??""),f(r.unit||"service"),p(r.description||""),m(r.taxable??!0)):t||(s(""),u(""),f("service"),p(""),m(!0))},[r,t]);const g=()=>{!o||l===""||(r&&r.id?i.mutate({id:r.id,name:o,price:Number(l),unit:d,description:h,taxable:v}):a.mutate({name:o,price:Number(l),unit:d,description:h,taxable:v,active:!0}),e(!1),n==null||n())},x=r?"Edit Service":"Add Service";return c.jsx(Vt,{open:t,onOpenChange:e,children:c.jsxs(It,{className:"sm:max-w-md",children:[c.jsx(Rt,{children:c.jsx(Dt,{children:x})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Bt,{children:"Service Name"}),c.jsx(ye,{value:o,onChange:y=>s(y.target.value)})]}),c.jsxs("div",{children:[c.jsx(Bt,{children:"Price ()"}),c.jsx(ye,{type:"number",value:l,onChange:y=>u(y.target.value===""?"":Number(y.target.value))})]}),c.jsxs("div",{children:[c.jsx(Bt,{children:"Unit"}),c.jsx(ye,{value:d,onChange:y=>f(y.target.value)})]}),c.jsxs("div",{children:[c.jsx(Bt,{children:"Description"}),c.jsx(ea,{value:h,onChange:y=>p(y.target.value),rows:3})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx(Bt,{children:"Taxable"}),c.jsx("div",{className:"text-xs text-muted-foreground",children:"Include taxes for this service"})]}),c.jsx(bs,{checked:v,onCheckedChange:y=>m(!!y)})]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(Y,{variant:"outline",onClick:()=>e(!1),children:"Cancel"}),c.jsx(Y,{onClick:g,disabled:!o||l==="",children:a.isPending||i.isPending?"Saving...":"Save Service"})]})]})]})})}function fhe(){const{services:t=[],isLoading:e,deleteService:r}=Cx(),[n,a]=b.useState(""),[i,o]=b.useState(1),[s,l]=b.useState(10),[u,d]=b.useState(null),[f,h]=b.useState(!1),p=b.useMemo(()=>t.filter(y=>{const w=n.toLowerCase();return y.name.toLowerCase().includes(w)||(y.description||"").toLowerCase().includes(w)}),[t,n]),v=Math.ceil(p.length/s),m=p.slice((i-1)*s,i*s),g=y=>{d(y),h(!0)},x=y=>{confirm("Delete this service?")&&r.mutate(y)};return c.jsxs(Rr,{title:"Services",subtitle:"Manage provided services (stitching, stonework, etc)",children:[c.jsx("div",{className:"mb-6",children:c.jsxs("div",{className:"flex flex-col gap-3",children:[c.jsx("div",{className:"w-full",children:c.jsxs("div",{className:"relative w-full",children:[c.jsx(ec,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),c.jsx(ye,{placeholder:"Search services...",className:"pl-10 w-full",value:n,onChange:y=>{a(y.target.value),o(1)}})]})}),c.jsxs("div",{className:"flex items-center gap-3 justify-end",children:[c.jsx(ihe,{}),c.jsxs(Y,{variant:"outline",className:"gap-2",onClick:()=>{H1("Services",[{header:"Name",render:w=>w.name},{header:"Price",render:w=>`${Number(w.price).toLocaleString()}`},{header:"Unit",render:w=>w.unit}],p)},children:[c.jsx(ao,{className:"h-4 w-4"}),c.jsx("span",{className:"inline",children:"Export"})]}),c.jsx(Y,{onClick:()=>{d(null),h(!0)},children:c.jsx("span",{className:"inline",children:"Add Service"})})]})]})}),c.jsx("div",{className:"card-luxury overflow-hidden p-0",children:m.length===0?c.jsx(Pu,{icon:$o,title:e?"Loading...":"No services",description:e?"":"No services match your search."}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-border bg-muted/30",children:[c.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider text-muted-foreground md:px-6",children:"Service"}),c.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider text-muted-foreground md:px-6",children:"Price"}),c.jsx("th",{className:"hidden px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider text-muted-foreground lg:table-cell md:px-6",children:"Unit"}),c.jsx("th",{className:"px-4 py-4 text-right text-xs font-semibold uppercase tracking-wider text-muted-foreground md:px-6",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-border",children:m.map(y=>c.jsxs("tr",{className:"transition-colors hover:bg-muted/20",children:[c.jsx("td",{className:"whitespace-nowrap px-4 py-4 md:px-6",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"hidden h-10 w-10 items-center justify-center rounded-lg bg-muted sm:flex",children:c.jsx($o,{className:"h-5 w-5 text-muted-foreground"})}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-foreground",children:y.name}),c.jsxs("p",{className:"text-xs text-muted-foreground sm:hidden",children:[y.unit,"  ",Number(y.price).toLocaleString()]})]})]})}),c.jsxs("td",{className:"whitespace-nowrap px-4 py-4 font-medium text-foreground md:px-6",children:["",Number(y.price).toLocaleString()]}),c.jsx("td",{className:"hidden whitespace-nowrap px-4 py-4 text-muted-foreground lg:table-cell md:px-6",children:y.unit}),c.jsx("td",{className:"whitespace-nowrap px-4 py-4 text-right md:px-6",onClick:w=>w.stopPropagation(),children:c.jsxs(wi,{children:[c.jsx(bi,{asChild:!0,children:c.jsx(Y,{variant:"ghost",size:"icon",children:c.jsx(Ps,{className:"h-4 w-4"})})}),c.jsxs(Va,{align:"end",children:[c.jsxs(nt,{onClick:()=>{},className:"gap-2",children:[c.jsx(Eu,{className:"h-4 w-4"})," View"]}),c.jsxs(nt,{onClick:()=>g(y),className:"gap-2",children:[c.jsx(Ya,{className:"h-4 w-4"})," Edit"]}),c.jsx(Kl,{}),c.jsxs(nt,{className:"gap-2 text-destructive",onClick:()=>x(y.id),children:[c.jsx(io,{className:"h-4 w-4"})," Delete"]})]})]})})]},y.id))})]})})}),c.jsx("div",{className:"mt-3 flex justify-center px-4",children:c.jsx(jx,{currentPage:i,totalPages:v,pageSize:s,totalItems:p.length,onPageChange:o,onPageSizeChange:y=>{l(y),o(1)}})}),c.jsx(dhe,{open:f,onOpenChange:y=>{h(y),y||d(null)},service:u,onSaved:()=>{}})]})}const gF=b.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:fe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));gF.displayName="Card";const hhe=b.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:fe("flex flex-col space-y-1.5 p-6",t),...e}));hhe.displayName="CardHeader";const phe=b.forwardRef(({className:t,...e},r)=>c.jsx("h3",{ref:r,className:fe("text-2xl font-semibold leading-none tracking-tight",t),...e}));phe.displayName="CardTitle";const mhe=b.forwardRef(({className:t,...e},r)=>c.jsx("p",{ref:r,className:fe("text-sm text-muted-foreground",t),...e}));mhe.displayName="CardDescription";const vhe=b.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:fe("p-6 pt-0",t),...e}));vhe.displayName="CardContent";const ghe=b.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:fe("flex items-center p-6 pt-0",t),...e}));ghe.displayName="CardFooter";const yhe=()=>c.jsx(Rr,{title:"Online Orders",subtitle:"Orders from online channels",children:c.jsx("div",{className:"py-12 flex justify-center",children:c.jsxs(gF,{className:"max-w-xl w-full p-6",children:[c.jsx("h3",{className:"text-lg font-medium mb-2",children:"Online Orders"}),c.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Integration with client ecommerce platform is pending. This screen is a placeholder for incoming online orders."}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-xs text-muted-foreground",children:"Update pending  integration to be implemented"}),c.jsx(Y,{variant:"outline",size:"sm",disabled:!0,children:"Refresh"})]})]})})});var xhe=Array.isArray,ba=xhe,whe=typeof qv=="object"&&qv&&qv.Object===Object&&qv,yF=whe,bhe=yF,_he=typeof self=="object"&&self&&self.Object===Object&&self,She=bhe||_he||Function("return this")(),Jo=She,Che=Jo,Ehe=Che.Symbol,Mv=Ehe,B3=Mv,xF=Object.prototype,Ahe=xF.hasOwnProperty,jhe=xF.toString,Wh=B3?B3.toStringTag:void 0;function Nhe(t){var e=Ahe.call(t,Wh),r=t[Wh];try{t[Wh]=void 0;var n=!0}catch{}var a=jhe.call(t);return n&&(e?t[Wh]=r:delete t[Wh]),a}var Ohe=Nhe,The=Object.prototype,Phe=The.toString;function khe(t){return Phe.call(t)}var Ihe=khe,U3=Mv,Rhe=Ohe,Dhe=Ihe,Mhe="[object Null]",$he="[object Undefined]",V3=U3?U3.toStringTag:void 0;function Lhe(t){return t==null?t===void 0?$he:Mhe:V3&&V3 in Object(t)?Rhe(t):Dhe(t)}var Vs=Lhe;function Fhe(t){return t!=null&&typeof t=="object"}var Ws=Fhe,Bhe=Vs,Uhe=Ws,Vhe="[object Symbol]";function Whe(t){return typeof t=="symbol"||Uhe(t)&&Bhe(t)==Vhe}var ph=Whe,zhe=ba,Hhe=ph,qhe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ghe=/^\w*$/;function Khe(t,e){if(zhe(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Hhe(t)?!0:Ghe.test(t)||!qhe.test(t)||e!=null&&t in Object(e)}var Rj=Khe;function Xhe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ic=Xhe;const mh=Wt(ic);var Yhe=Vs,Zhe=ic,Qhe="[object AsyncFunction]",Jhe="[object Function]",epe="[object GeneratorFunction]",tpe="[object Proxy]";function rpe(t){if(!Zhe(t))return!1;var e=Yhe(t);return e==Jhe||e==epe||e==Qhe||e==tpe}var Dj=rpe;const Xe=Wt(Dj);var npe=Jo,ape=npe["__core-js_shared__"],ipe=ape,Gb=ipe,W3=function(){var t=/[^.]+$/.exec(Gb&&Gb.keys&&Gb.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function ope(t){return!!W3&&W3 in t}var spe=ope,lpe=Function.prototype,cpe=lpe.toString;function upe(t){if(t!=null){try{return cpe.call(t)}catch{}try{return t+""}catch{}}return""}var wF=upe,dpe=Dj,fpe=spe,hpe=ic,ppe=wF,mpe=/[\\^$.*+?()[\]{}|]/g,vpe=/^\[object .+?Constructor\]$/,gpe=Function.prototype,ype=Object.prototype,xpe=gpe.toString,wpe=ype.hasOwnProperty,bpe=RegExp("^"+xpe.call(wpe).replace(mpe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function _pe(t){if(!hpe(t)||fpe(t))return!1;var e=dpe(t)?bpe:vpe;return e.test(ppe(t))}var Spe=_pe;function Cpe(t,e){return t==null?void 0:t[e]}var Epe=Cpe,Ape=Spe,jpe=Epe;function Npe(t,e){var r=jpe(t,e);return Ape(r)?r:void 0}var ku=Npe,Ope=ku,Tpe=Ope(Object,"create"),Px=Tpe,z3=Px;function Ppe(){this.__data__=z3?z3(null):{},this.size=0}var kpe=Ppe;function Ipe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Rpe=Ipe,Dpe=Px,Mpe="__lodash_hash_undefined__",$pe=Object.prototype,Lpe=$pe.hasOwnProperty;function Fpe(t){var e=this.__data__;if(Dpe){var r=e[t];return r===Mpe?void 0:r}return Lpe.call(e,t)?e[t]:void 0}var Bpe=Fpe,Upe=Px,Vpe=Object.prototype,Wpe=Vpe.hasOwnProperty;function zpe(t){var e=this.__data__;return Upe?e[t]!==void 0:Wpe.call(e,t)}var Hpe=zpe,qpe=Px,Gpe="__lodash_hash_undefined__";function Kpe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=qpe&&e===void 0?Gpe:e,this}var Xpe=Kpe,Ype=kpe,Zpe=Rpe,Qpe=Bpe,Jpe=Hpe,eme=Xpe;function vh(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}vh.prototype.clear=Ype;vh.prototype.delete=Zpe;vh.prototype.get=Qpe;vh.prototype.has=Jpe;vh.prototype.set=eme;var tme=vh;function rme(){this.__data__=[],this.size=0}var nme=rme;function ame(t,e){return t===e||t!==t&&e!==e}var Mj=ame,ime=Mj;function ome(t,e){for(var r=t.length;r--;)if(ime(t[r][0],e))return r;return-1}var kx=ome,sme=kx,lme=Array.prototype,cme=lme.splice;function ume(t){var e=this.__data__,r=sme(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():cme.call(e,r,1),--this.size,!0}var dme=ume,fme=kx;function hme(t){var e=this.__data__,r=fme(e,t);return r<0?void 0:e[r][1]}var pme=hme,mme=kx;function vme(t){return mme(this.__data__,t)>-1}var gme=vme,yme=kx;function xme(t,e){var r=this.__data__,n=yme(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var wme=xme,bme=nme,_me=dme,Sme=pme,Cme=gme,Eme=wme;function gh(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}gh.prototype.clear=bme;gh.prototype.delete=_me;gh.prototype.get=Sme;gh.prototype.has=Cme;gh.prototype.set=Eme;var Ix=gh,Ame=ku,jme=Jo,Nme=Ame(jme,"Map"),$j=Nme,H3=tme,Ome=Ix,Tme=$j;function Pme(){this.size=0,this.__data__={hash:new H3,map:new(Tme||Ome),string:new H3}}var kme=Pme;function Ime(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Rme=Ime,Dme=Rme;function Mme(t,e){var r=t.__data__;return Dme(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Rx=Mme,$me=Rx;function Lme(t){var e=$me(this,t).delete(t);return this.size-=e?1:0,e}var Fme=Lme,Bme=Rx;function Ume(t){return Bme(this,t).get(t)}var Vme=Ume,Wme=Rx;function zme(t){return Wme(this,t).has(t)}var Hme=zme,qme=Rx;function Gme(t,e){var r=qme(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var Kme=Gme,Xme=kme,Yme=Fme,Zme=Vme,Qme=Hme,Jme=Kme;function yh(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}yh.prototype.clear=Xme;yh.prototype.delete=Yme;yh.prototype.get=Zme;yh.prototype.has=Qme;yh.prototype.set=Jme;var Lj=yh,bF=Lj,eve="Expected a function";function Fj(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(eve);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=t.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(Fj.Cache||bF),r}Fj.Cache=bF;var _F=Fj;const tve=Wt(_F);var rve=_F,nve=500;function ave(t){var e=rve(t,function(n){return r.size===nve&&r.clear(),n}),r=e.cache;return e}var ive=ave,ove=ive,sve=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,lve=/\\(\\)?/g,cve=ove(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(sve,function(r,n,a,i){e.push(a?i.replace(lve,"$1"):n||r)}),e}),uve=cve;function dve(t,e){for(var r=-1,n=t==null?0:t.length,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a}var Bj=dve,q3=Mv,fve=Bj,hve=ba,pve=ph,mve=1/0,G3=q3?q3.prototype:void 0,K3=G3?G3.toString:void 0;function SF(t){if(typeof t=="string")return t;if(hve(t))return fve(t,SF)+"";if(pve(t))return K3?K3.call(t):"";var e=t+"";return e=="0"&&1/t==-mve?"-0":e}var vve=SF,gve=vve;function yve(t){return t==null?"":gve(t)}var CF=yve,xve=ba,wve=Rj,bve=uve,_ve=CF;function Sve(t,e){return xve(t)?t:wve(t,e)?[t]:bve(_ve(t))}var EF=Sve,Cve=ph,Eve=1/0;function Ave(t){if(typeof t=="string"||Cve(t))return t;var e=t+"";return e=="0"&&1/t==-Eve?"-0":e}var Dx=Ave,jve=EF,Nve=Dx;function Ove(t,e){e=jve(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[Nve(e[r++])];return r&&r==n?t:void 0}var Uj=Ove,Tve=Uj;function Pve(t,e,r){var n=t==null?void 0:Tve(t,e);return n===void 0?r:n}var AF=Pve;const Fa=Wt(AF);function kve(t){return t==null}var Ive=kve;const Je=Wt(Ive);var Rve=Vs,Dve=ba,Mve=Ws,$ve="[object String]";function Lve(t){return typeof t=="string"||!Dve(t)&&Mve(t)&&Rve(t)==$ve}var Fve=Lve;const vu=Wt(Fve);var jF={exports:{}},zt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vj=Symbol.for("react.element"),Wj=Symbol.for("react.portal"),Mx=Symbol.for("react.fragment"),$x=Symbol.for("react.strict_mode"),Lx=Symbol.for("react.profiler"),Fx=Symbol.for("react.provider"),Bx=Symbol.for("react.context"),Bve=Symbol.for("react.server_context"),Ux=Symbol.for("react.forward_ref"),Vx=Symbol.for("react.suspense"),Wx=Symbol.for("react.suspense_list"),zx=Symbol.for("react.memo"),Hx=Symbol.for("react.lazy"),Uve=Symbol.for("react.offscreen"),NF;NF=Symbol.for("react.module.reference");function Ai(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Vj:switch(t=t.type,t){case Mx:case Lx:case $x:case Vx:case Wx:return t;default:switch(t=t&&t.$$typeof,t){case Bve:case Bx:case Ux:case Hx:case zx:case Fx:return t;default:return e}}case Wj:return e}}}zt.ContextConsumer=Bx;zt.ContextProvider=Fx;zt.Element=Vj;zt.ForwardRef=Ux;zt.Fragment=Mx;zt.Lazy=Hx;zt.Memo=zx;zt.Portal=Wj;zt.Profiler=Lx;zt.StrictMode=$x;zt.Suspense=Vx;zt.SuspenseList=Wx;zt.isAsyncMode=function(){return!1};zt.isConcurrentMode=function(){return!1};zt.isContextConsumer=function(t){return Ai(t)===Bx};zt.isContextProvider=function(t){return Ai(t)===Fx};zt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vj};zt.isForwardRef=function(t){return Ai(t)===Ux};zt.isFragment=function(t){return Ai(t)===Mx};zt.isLazy=function(t){return Ai(t)===Hx};zt.isMemo=function(t){return Ai(t)===zx};zt.isPortal=function(t){return Ai(t)===Wj};zt.isProfiler=function(t){return Ai(t)===Lx};zt.isStrictMode=function(t){return Ai(t)===$x};zt.isSuspense=function(t){return Ai(t)===Vx};zt.isSuspenseList=function(t){return Ai(t)===Wx};zt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Mx||t===Lx||t===$x||t===Vx||t===Wx||t===Uve||typeof t=="object"&&t!==null&&(t.$$typeof===Hx||t.$$typeof===zx||t.$$typeof===Fx||t.$$typeof===Bx||t.$$typeof===Ux||t.$$typeof===NF||t.getModuleId!==void 0)};zt.typeOf=Ai;jF.exports=zt;var Vve=jF.exports,Wve=Vs,zve=Ws,Hve="[object Number]";function qve(t){return typeof t=="number"||zve(t)&&Wve(t)==Hve}var OF=qve;const Gve=Wt(OF);var Kve=OF;function Xve(t){return Kve(t)&&t!=+t}var Yve=Xve;const $v=Wt(Yve);var Yn=function(e){return e===0?0:e>0?1:-1},Mc=function(e){return vu(e)&&e.indexOf("%")===e.length-1},ge=function(e){return Gve(e)&&!$v(e)},Zve=function(e){return Je(e)},an=function(e){return ge(e)||vu(e)},Qve=0,xh=function(e){var r=++Qve;return"".concat(e||"").concat(r)},Zn=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ge(e)&&!vu(e))return n;var i;if(Mc(e)){var o=e.indexOf("%");i=r*parseFloat(e.slice(0,o))/100}else i=+e;return $v(i)&&(i=n),a&&i>r&&(i=r),i},ad=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},Jve=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},Ta=function(e,r){return ge(e)&&ge(r)?function(n){return e+n*(r-e)}:function(){return r}};function wy(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Fa(n,e))===r})}var ege=function(e,r){return ge(e)&&ge(r)?e-r:vu(e)&&vu(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Ld(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function TS(t){"@babel/helpers - typeof";return TS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TS(t)}var tge=["viewBox","children"],rge=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],X3=["points","pathLength"],Kb={svg:tge,polygon:X3,polyline:X3},zj=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],by=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(b.isValidElement(e)&&(n=e.props),!mh(n))return null;var a={};return Object.keys(n).forEach(function(i){zj.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},nge=function(e,r,n){return function(a){return e(r,n,a),null}},gu=function(e,r,n){if(!mh(e)||TS(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(i){var o=e[i];zj.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=nge(o,r,n))}),a},age=["children"],ige=["children"];function Y3(t,e){if(t==null)return{};var r=oge(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function oge(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function PS(t){"@babel/helpers - typeof";return PS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PS(t)}var Z3={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},_s=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},Q3=null,Xb=null,Hj=function t(e){if(e===Q3&&Array.isArray(Xb))return Xb;var r=[];return b.Children.forEach(e,function(n){Je(n)||(Vve.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Xb=r,Q3=e,r};function Ba(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return _s(a)}):n=[_s(e)],Hj(t).forEach(function(a){var i=Fa(a,"type.displayName")||Fa(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function ja(t,e){var r=Ba(t,e);return r&&r[0]}var J3=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!ge(n)||n<=0||!ge(a)||a<=0)},sge=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],lge=function(e){return e&&e.type&&vu(e.type)&&sge.indexOf(e.type)>=0},cge=function(e){return e&&PS(e)==="object"&&"clipDot"in e},uge=function(e,r,n,a){var i,o=(i=Kb==null?void 0:Kb[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Xe(e)&&(a&&o.includes(r)||rge.includes(r))||n&&zj.includes(r)},Ve=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(b.isValidElement(e)&&(a=e.props),!mh(a))return null;var i={};return Object.keys(a).forEach(function(o){var s;uge((s=a)===null||s===void 0?void 0:s[o],o,r,n)&&(i[o]=a[o])}),i},kS=function t(e,r){if(e===r)return!0;var n=b.Children.count(e);if(n!==b.Children.count(r))return!1;if(n===0)return!0;if(n===1)return e4(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=e[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!t(i,o))return!1}else if(!e4(i,o))return!1}return!0},e4=function(e,r){if(Je(e)&&Je(r))return!0;if(!Je(e)&&!Je(r)){var n=e.props||{},a=n.children,i=Y3(n,age),o=r.props||{},s=o.children,l=Y3(o,ige);return a&&s?Ld(i,l)&&kS(a,s):!a&&!s?Ld(i,l):!1}return!1},t4=function(e,r){var n=[],a={};return Hj(e).forEach(function(i,o){if(lge(i))n.push(i);else if(i){var s=_s(i.type),l=r[s]||{},u=l.handler,d=l.once;if(u&&(!d||!a[s])){var f=u(i,s,o);n.push(f),a[s]=!0}}}),n},dge=function(e){var r=e&&e.type;return r&&Z3[r]?Z3[r]:null},fge=function(e,r){return Hj(r).indexOf(e)},hge=["children","width","height","viewBox","className","style","title","desc"];function IS(){return IS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},IS.apply(this,arguments)}function pge(t,e){if(t==null)return{};var r=mge(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mge(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function RS(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,i=t.className,o=t.style,s=t.title,l=t.desc,u=pge(t,hge),d=a||{width:r,height:n,x:0,y:0},f=tt("recharts-surface",i);return k.createElement("svg",IS({},Ve(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),k.createElement("title",null,s),k.createElement("desc",null,l),e)}var vge=["children","className"];function DS(){return DS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},DS.apply(this,arguments)}function gge(t,e){if(t==null)return{};var r=yge(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yge(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var bt=k.forwardRef(function(t,e){var r=t.children,n=t.className,a=gge(t,vge),i=tt("recharts-layer",n);return k.createElement("g",DS({className:i},Ve(a,!0),{ref:e}),r)}),Ss=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function xge(t,e,r){var n=-1,a=t.length;e<0&&(e=-e>a?0:a+e),r=r>a?a:r,r<0&&(r+=a),a=e>r?0:r-e>>>0,e>>>=0;for(var i=Array(a);++n<a;)i[n]=t[n+e];return i}var wge=xge,bge=wge;function _ge(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:bge(t,e,r)}var Sge=_ge,Cge="\\ud800-\\udfff",Ege="\\u0300-\\u036f",Age="\\ufe20-\\ufe2f",jge="\\u20d0-\\u20ff",Nge=Ege+Age+jge,Oge="\\ufe0e\\ufe0f",Tge="\\u200d",Pge=RegExp("["+Tge+Cge+Nge+Oge+"]");function kge(t){return Pge.test(t)}var TF=kge;function Ige(t){return t.split("")}var Rge=Ige,PF="\\ud800-\\udfff",Dge="\\u0300-\\u036f",Mge="\\ufe20-\\ufe2f",$ge="\\u20d0-\\u20ff",Lge=Dge+Mge+$ge,Fge="\\ufe0e\\ufe0f",Bge="["+PF+"]",MS="["+Lge+"]",$S="\\ud83c[\\udffb-\\udfff]",Uge="(?:"+MS+"|"+$S+")",kF="[^"+PF+"]",IF="(?:\\ud83c[\\udde6-\\uddff]){2}",RF="[\\ud800-\\udbff][\\udc00-\\udfff]",Vge="\\u200d",DF=Uge+"?",MF="["+Fge+"]?",Wge="(?:"+Vge+"(?:"+[kF,IF,RF].join("|")+")"+MF+DF+")*",zge=MF+DF+Wge,Hge="(?:"+[kF+MS+"?",MS,IF,RF,Bge].join("|")+")",qge=RegExp($S+"(?="+$S+")|"+Hge+zge,"g");function Gge(t){return t.match(qge)||[]}var Kge=Gge,Xge=Rge,Yge=TF,Zge=Kge;function Qge(t){return Yge(t)?Zge(t):Xge(t)}var Jge=Qge,e0e=Sge,t0e=TF,r0e=Jge,n0e=CF;function a0e(t){return function(e){e=n0e(e);var r=t0e(e)?r0e(e):void 0,n=r?r[0]:e.charAt(0),a=r?e0e(r,1).join(""):e.slice(1);return n[t]()+a}}var i0e=a0e,o0e=i0e,s0e=o0e("toUpperCase"),l0e=s0e;const qx=Wt(l0e);function Qt(t){return function(){return t}}const $F=Math.cos,_y=Math.sin,ho=Math.sqrt,Sy=Math.PI,Gx=2*Sy,LS=Math.PI,FS=2*LS,Cc=1e-6,c0e=FS-Cc;function LF(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function u0e(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return LF;const r=10**e;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class d0e{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?LF:u0e(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,i,o){this._append`C${+e},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(e,r,n,a,i){if(e=+e,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,l=n-e,u=a-r,d=o-e,f=s-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>Cc)if(!(Math.abs(f*l-u*d)>Cc)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-o,v=a-s,m=l*l+u*u,g=p*p+v*v,x=Math.sqrt(m),y=Math.sqrt(h),w=i*Math.tan((LS-Math.acos((m+h-g)/(2*x*y)))/2),_=w/y,S=w/x;Math.abs(_-1)>Cc&&this._append`L${e+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*p>d*v)},${this._x1=e+S*l},${this._y1=r+S*u}`}}arc(e,r,n,a,i,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),l=n*Math.sin(a),u=e+s,d=r+l,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Cc||Math.abs(this._y1-d)>Cc)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%FS+FS),h>c0e?this._append`A${n},${n},0,1,${f},${e-s},${r-l}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Cc&&this._append`A${n},${n},0,${+(h>=LS)},${f},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function qj(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new d0e(e)}function Gj(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function FF(t){this._context=t}FF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Kx(t){return new FF(t)}function BF(t){return t[0]}function UF(t){return t[1]}function VF(t,e){var r=Qt(!0),n=null,a=Kx,i=null,o=qj(s);t=typeof t=="function"?t:t===void 0?BF:Qt(t),e=typeof e=="function"?e:e===void 0?UF:Qt(e);function s(l){var u,d=(l=Gj(l)).length,f,h=!1,p;for(n==null&&(i=a(p=o())),u=0;u<=d;++u)!(u<d&&r(f=l[u],u,l))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+t(f,u,l),+e(f,u,l));if(p)return i=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Qt(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Qt(+l),s):e},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Qt(!!l),s):r},s.curve=function(l){return arguments.length?(a=l,n!=null&&(i=a(n)),s):a},s.context=function(l){return arguments.length?(l==null?n=i=null:i=a(n=l),s):n},s}function Tg(t,e,r){var n=null,a=Qt(!0),i=null,o=Kx,s=null,l=qj(u);t=typeof t=="function"?t:t===void 0?BF:Qt(+t),e=typeof e=="function"?e:Qt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?UF:Qt(+r);function u(f){var h,p,v,m=(f=Gj(f)).length,g,x=!1,y,w=new Array(m),_=new Array(m);for(i==null&&(s=o(y=l())),h=0;h<=m;++h){if(!(h<m&&a(g=f[h],h,f))===x)if(x=!x)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=h-1;v>=p;--v)s.point(w[v],_[v]);s.lineEnd(),s.areaEnd()}x&&(w[h]=+t(g,h,f),_[h]=+e(g,h,f),s.point(n?+n(g,h,f):w[h],r?+r(g,h,f):_[h]))}if(y)return s=null,y+""||null}function d(){return VF().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Qt(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Qt(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Qt(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Qt(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Qt(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Qt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Qt(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(s=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=s=null:s=o(i=f),u):i},u}class WF{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function f0e(t){return new WF(t,!0)}function h0e(t){return new WF(t,!1)}const Kj={draw(t,e){const r=ho(e/Sy);t.moveTo(r,0),t.arc(0,0,r,0,Gx)}},p0e={draw(t,e){const r=ho(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},zF=ho(1/3),m0e=zF*2,v0e={draw(t,e){const r=ho(e/m0e),n=r*zF;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},g0e={draw(t,e){const r=ho(e),n=-r/2;t.rect(n,n,r,r)}},y0e=.8908130915292852,HF=_y(Sy/10)/_y(7*Sy/10),x0e=_y(Gx/10)*HF,w0e=-$F(Gx/10)*HF,b0e={draw(t,e){const r=ho(e*y0e),n=x0e*r,a=w0e*r;t.moveTo(0,-r),t.lineTo(n,a);for(let i=1;i<5;++i){const o=Gx*i/5,s=$F(o),l=_y(o);t.lineTo(l*r,-s*r),t.lineTo(s*n-l*a,l*n+s*a)}t.closePath()}},Yb=ho(3),_0e={draw(t,e){const r=-ho(e/(Yb*3));t.moveTo(0,r*2),t.lineTo(-Yb*r,-r),t.lineTo(Yb*r,-r),t.closePath()}},Ja=-.5,ei=ho(3)/2,BS=1/ho(12),S0e=(BS/2+1)*3,C0e={draw(t,e){const r=ho(e/S0e),n=r/2,a=r*BS,i=n,o=r*BS+r,s=-i,l=o;t.moveTo(n,a),t.lineTo(i,o),t.lineTo(s,l),t.lineTo(Ja*n-ei*a,ei*n+Ja*a),t.lineTo(Ja*i-ei*o,ei*i+Ja*o),t.lineTo(Ja*s-ei*l,ei*s+Ja*l),t.lineTo(Ja*n+ei*a,Ja*a-ei*n),t.lineTo(Ja*i+ei*o,Ja*o-ei*i),t.lineTo(Ja*s+ei*l,Ja*l-ei*s),t.closePath()}};function E0e(t,e){let r=null,n=qj(a);t=typeof t=="function"?t:Qt(t||Kj),e=typeof e=="function"?e:Qt(e===void 0?64:+e);function a(){let i;if(r||(r=i=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:Qt(i),a):t},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:Qt(+i),a):e},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Cy(){}function Ey(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function qF(t){this._context=t}qF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ey(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ey(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function A0e(t){return new qF(t)}function GF(t){this._context=t}GF.prototype={areaStart:Cy,areaEnd:Cy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ey(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function j0e(t){return new GF(t)}function KF(t){this._context=t}KF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ey(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function N0e(t){return new KF(t)}function XF(t){this._context=t}XF.prototype={areaStart:Cy,areaEnd:Cy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function O0e(t){return new XF(t)}function r4(t){return t<0?-1:1}function n4(t,e,r){var n=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(n||a<0&&-0),o=(r-t._y1)/(a||n<0&&-0),s=(i*a+o*n)/(n+a);return(r4(i)+r4(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function a4(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Zb(t,e,r){var n=t._x0,a=t._y0,i=t._x1,o=t._y1,s=(i-n)/3;t._context.bezierCurveTo(n+s,a+s*e,i-s,o-s*r,i,o)}function Ay(t){this._context=t}Ay.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Zb(this,this._t0,a4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Zb(this,a4(this,r=n4(this,t,e)),r);break;default:Zb(this,this._t0,r=n4(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function YF(t){this._context=new ZF(t)}(YF.prototype=Object.create(Ay.prototype)).point=function(t,e){Ay.prototype.point.call(this,e,t)};function ZF(t){this._context=t}ZF.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,i){this._context.bezierCurveTo(e,t,n,r,i,a)}};function T0e(t){return new Ay(t)}function P0e(t){return new YF(t)}function QF(t){this._context=t}QF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=i4(t),a=i4(e),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function i4(t){var e,r=t.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,i[e]=4,o[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/i[e-1],i[e]-=n,o[e]-=n*o[e-1];for(a[r-1]=o[r-1]/i[r-1],e=r-2;e>=0;--e)a[e]=(o[e]-a[e+1])/i[e];for(i[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function k0e(t){return new QF(t)}function Xx(t,e){this._context=t,this._t=e}Xx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function I0e(t){return new Xx(t,.5)}function R0e(t){return new Xx(t,0)}function D0e(t){return new Xx(t,1)}function _f(t,e){if((o=t.length)>1)for(var r=1,n,a,i=t[e[0]],o,s=i.length;r<o;++r)for(a=i,i=t[e[r]],n=0;n<s;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function US(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function M0e(t,e){return t[e]}function $0e(t){const e=[];return e.key=t,e}function L0e(){var t=Qt([]),e=US,r=_f,n=M0e;function a(i){var o=Array.from(t.apply(this,arguments),$0e),s,l=o.length,u=-1,d;for(const f of i)for(s=0,++u;s<l;++s)(o[s][u]=[0,+n(f,o[s].key,u,i)]).data=f;for(s=0,d=Gj(e(o));s<l;++s)o[d[s]].index=s;return r(o,d),o}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:Qt(Array.from(i)),a):t},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Qt(+i),a):n},a.order=function(i){return arguments.length?(e=i==null?US:typeof i=="function"?i:Qt(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(r=i??_f,a):r},a}function F0e(t,e){if((n=t.length)>0){for(var r,n,a=0,i=t[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=t[r][a][1]||0;if(o)for(r=0;r<n;++r)t[r][a][1]/=o}_f(t,e)}}function B0e(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,i=n.length;r<i;++r){for(var o=0,s=0;o<a;++o)s+=t[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}_f(t,e)}}function U0e(t,e){if(!(!((o=t.length)>0)||!((i=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var s=0,l=0,u=0;s<o;++s){for(var d=t[e[s]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,v=0;v<s;++v){var m=t[e[v]],g=m[n][1]||0,x=m[n-1][1]||0;p+=g-x}l+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,l&&(r-=u/l)}a[n-1][1]+=a[n-1][0]=r,_f(t,e)}}function gm(t){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(t)}var V0e=["type","size","sizeType"];function VS(){return VS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},VS.apply(this,arguments)}function o4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function s4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?o4(Object(r),!0).forEach(function(n){W0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function W0e(t,e,r){return e=z0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z0e(t){var e=H0e(t,"string");return gm(e)=="symbol"?e:e+""}function H0e(t,e){if(gm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function q0e(t,e){if(t==null)return{};var r=G0e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function G0e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var JF={symbolCircle:Kj,symbolCross:p0e,symbolDiamond:v0e,symbolSquare:g0e,symbolStar:b0e,symbolTriangle:_0e,symbolWye:C0e},K0e=Math.PI/180,X0e=function(e){var r="symbol".concat(qx(e));return JF[r]||Kj},Y0e=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*K0e;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Z0e=function(e,r){JF["symbol".concat(qx(e))]=r},Xj=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,i=a===void 0?64:a,o=e.sizeType,s=o===void 0?"area":o,l=q0e(e,V0e),u=s4(s4({},l),{},{type:n,size:i,sizeType:s}),d=function(){var g=X0e(n),x=E0e().type(g).size(Y0e(i,s,n));return x()},f=u.className,h=u.cx,p=u.cy,v=Ve(u,!0);return h===+h&&p===+p&&i===+i?k.createElement("path",VS({},v,{className:tt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};Xj.registerSymbol=Z0e;function Sf(t){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(t)}function WS(){return WS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},WS.apply(this,arguments)}function l4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Q0e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l4(Object(r),!0).forEach(function(n){ym(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function J0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eye(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tB(n.key),n)}}function tye(t,e,r){return e&&eye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rye(t,e,r){return e=jy(e),nye(t,eB()?Reflect.construct(e,r||[],jy(t).constructor):e.apply(t,r))}function nye(t,e){if(e&&(Sf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aye(t)}function aye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eB=function(){return!!t})()}function jy(t){return jy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jy(t)}function iye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zS(t,e)}function zS(t,e){return zS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zS(t,e)}function ym(t,e,r){return e=tB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tB(t){var e=oye(t,"string");return Sf(e)=="symbol"?e:e+""}function oye(t,e){if(Sf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ti=32,Yj=function(t){function e(){return J0e(this,e),rye(this,e,arguments)}return iye(e,t),tye(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=ti/2,o=ti/6,s=ti/3,l=n.inactive?a:n.color;if(n.type==="plainline")return k.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:ti,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return k.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(ti,"M").concat(2*s,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return k.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ti/8,"h").concat(ti,"v").concat(ti*3/4,"h").concat(-ti,"z"),className:"recharts-legend-icon"});if(k.isValidElement(n.legendIcon)){var u=Q0e({},n);return delete u.legendIcon,k.cloneElement(n.legendIcon,u)}return k.createElement(Xj,{fill:l,cx:i,cy:i,size:ti,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,s=a.layout,l=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:ti,height:ti},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,v){var m=p.formatter||l,g=tt(ym(ym({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",p.inactive));if(p.type==="none")return null;var x=Xe(p.value)?null:p.value;Ss(!Xe(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?u:p.color;return k.createElement("li",WS({className:g,style:f,key:"legend-item-".concat(v)},gu(n.props,p,v)),k.createElement(RS,{width:o,height:o,viewBox:d,style:h},n.renderIcon(p)),k.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},m?m(x,p,v):x))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var s={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return k.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(b.PureComponent);ym(Yj,"displayName","Legend");ym(Yj,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var sye=Ix;function lye(){this.__data__=new sye,this.size=0}var cye=lye;function uye(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var dye=uye;function fye(t){return this.__data__.get(t)}var hye=fye;function pye(t){return this.__data__.has(t)}var mye=pye,vye=Ix,gye=$j,yye=Lj,xye=200;function wye(t,e){var r=this.__data__;if(r instanceof vye){var n=r.__data__;if(!gye||n.length<xye-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new yye(n)}return r.set(t,e),this.size=r.size,this}var bye=wye,_ye=Ix,Sye=cye,Cye=dye,Eye=hye,Aye=mye,jye=bye;function wh(t){var e=this.__data__=new _ye(t);this.size=e.size}wh.prototype.clear=Sye;wh.prototype.delete=Cye;wh.prototype.get=Eye;wh.prototype.has=Aye;wh.prototype.set=jye;var rB=wh,Nye="__lodash_hash_undefined__";function Oye(t){return this.__data__.set(t,Nye),this}var Tye=Oye;function Pye(t){return this.__data__.has(t)}var kye=Pye,Iye=Lj,Rye=Tye,Dye=kye;function Ny(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Iye;++e<r;)this.add(t[e])}Ny.prototype.add=Ny.prototype.push=Rye;Ny.prototype.has=Dye;var nB=Ny;function Mye(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var aB=Mye;function $ye(t,e){return t.has(e)}var iB=$ye,Lye=nB,Fye=aB,Bye=iB,Uye=1,Vye=2;function Wye(t,e,r,n,a,i){var o=r&Uye,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var u=i.get(t),d=i.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,p=r&Vye?new Lye:void 0;for(i.set(t,e),i.set(e,t);++f<s;){var v=t[f],m=e[f];if(n)var g=o?n(m,v,f,e,t,i):n(v,m,f,t,e,i);if(g!==void 0){if(g)continue;h=!1;break}if(p){if(!Fye(e,function(x,y){if(!Bye(p,y)&&(v===x||a(v,x,r,n,i)))return p.push(y)})){h=!1;break}}else if(!(v===m||a(v,m,r,n,i))){h=!1;break}}return i.delete(t),i.delete(e),h}var oB=Wye,zye=Jo,Hye=zye.Uint8Array,qye=Hye;function Gye(t){var e=-1,r=Array(t.size);return t.forEach(function(n,a){r[++e]=[a,n]}),r}var Kye=Gye;function Xye(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var Zj=Xye,c4=Mv,u4=qye,Yye=Mj,Zye=oB,Qye=Kye,Jye=Zj,e1e=1,t1e=2,r1e="[object Boolean]",n1e="[object Date]",a1e="[object Error]",i1e="[object Map]",o1e="[object Number]",s1e="[object RegExp]",l1e="[object Set]",c1e="[object String]",u1e="[object Symbol]",d1e="[object ArrayBuffer]",f1e="[object DataView]",d4=c4?c4.prototype:void 0,Qb=d4?d4.valueOf:void 0;function h1e(t,e,r,n,a,i,o){switch(r){case f1e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case d1e:return!(t.byteLength!=e.byteLength||!i(new u4(t),new u4(e)));case r1e:case n1e:case o1e:return Yye(+t,+e);case a1e:return t.name==e.name&&t.message==e.message;case s1e:case c1e:return t==e+"";case i1e:var s=Qye;case l1e:var l=n&e1e;if(s||(s=Jye),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;n|=t1e,o.set(t,e);var d=Zye(s(t),s(e),n,a,i,o);return o.delete(t),d;case u1e:if(Qb)return Qb.call(t)==Qb.call(e)}return!1}var p1e=h1e;function m1e(t,e){for(var r=-1,n=e.length,a=t.length;++r<n;)t[a+r]=e[r];return t}var sB=m1e,v1e=sB,g1e=ba;function y1e(t,e,r){var n=e(t);return g1e(t)?n:v1e(n,r(t))}var x1e=y1e;function w1e(t,e){for(var r=-1,n=t==null?0:t.length,a=0,i=[];++r<n;){var o=t[r];e(o,r,t)&&(i[a++]=o)}return i}var b1e=w1e;function _1e(){return[]}var S1e=_1e,C1e=b1e,E1e=S1e,A1e=Object.prototype,j1e=A1e.propertyIsEnumerable,f4=Object.getOwnPropertySymbols,N1e=f4?function(t){return t==null?[]:(t=Object(t),C1e(f4(t),function(e){return j1e.call(t,e)}))}:E1e,O1e=N1e;function T1e(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var P1e=T1e,k1e=Vs,I1e=Ws,R1e="[object Arguments]";function D1e(t){return I1e(t)&&k1e(t)==R1e}var M1e=D1e,h4=M1e,$1e=Ws,lB=Object.prototype,L1e=lB.hasOwnProperty,F1e=lB.propertyIsEnumerable,B1e=h4(function(){return arguments}())?h4:function(t){return $1e(t)&&L1e.call(t,"callee")&&!F1e.call(t,"callee")},Qj=B1e,Oy={exports:{}};function U1e(){return!1}var V1e=U1e;Oy.exports;(function(t,e){var r=Jo,n=V1e,a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===a,s=o?r.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||n;t.exports=u})(Oy,Oy.exports);var cB=Oy.exports,W1e=9007199254740991,z1e=/^(?:0|[1-9]\d*)$/;function H1e(t,e){var r=typeof t;return e=e??W1e,!!e&&(r=="number"||r!="symbol"&&z1e.test(t))&&t>-1&&t%1==0&&t<e}var Jj=H1e,q1e=9007199254740991;function G1e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=q1e}var eN=G1e,K1e=Vs,X1e=eN,Y1e=Ws,Z1e="[object Arguments]",Q1e="[object Array]",J1e="[object Boolean]",exe="[object Date]",txe="[object Error]",rxe="[object Function]",nxe="[object Map]",axe="[object Number]",ixe="[object Object]",oxe="[object RegExp]",sxe="[object Set]",lxe="[object String]",cxe="[object WeakMap]",uxe="[object ArrayBuffer]",dxe="[object DataView]",fxe="[object Float32Array]",hxe="[object Float64Array]",pxe="[object Int8Array]",mxe="[object Int16Array]",vxe="[object Int32Array]",gxe="[object Uint8Array]",yxe="[object Uint8ClampedArray]",xxe="[object Uint16Array]",wxe="[object Uint32Array]",lr={};lr[fxe]=lr[hxe]=lr[pxe]=lr[mxe]=lr[vxe]=lr[gxe]=lr[yxe]=lr[xxe]=lr[wxe]=!0;lr[Z1e]=lr[Q1e]=lr[uxe]=lr[J1e]=lr[dxe]=lr[exe]=lr[txe]=lr[rxe]=lr[nxe]=lr[axe]=lr[ixe]=lr[oxe]=lr[sxe]=lr[lxe]=lr[cxe]=!1;function bxe(t){return Y1e(t)&&X1e(t.length)&&!!lr[K1e(t)]}var _xe=bxe;function Sxe(t){return function(e){return t(e)}}var uB=Sxe,Ty={exports:{}};Ty.exports;(function(t,e){var r=yF,n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===n,o=i&&r.process,s=function(){try{var l=a&&a.require&&a.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(Ty,Ty.exports);var Cxe=Ty.exports,Exe=_xe,Axe=uB,p4=Cxe,m4=p4&&p4.isTypedArray,jxe=m4?Axe(m4):Exe,dB=jxe,Nxe=P1e,Oxe=Qj,Txe=ba,Pxe=cB,kxe=Jj,Ixe=dB,Rxe=Object.prototype,Dxe=Rxe.hasOwnProperty;function Mxe(t,e){var r=Txe(t),n=!r&&Oxe(t),a=!r&&!n&&Pxe(t),i=!r&&!n&&!a&&Ixe(t),o=r||n||a||i,s=o?Nxe(t.length,String):[],l=s.length;for(var u in t)(e||Dxe.call(t,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||kxe(u,l)))&&s.push(u);return s}var $xe=Mxe,Lxe=Object.prototype;function Fxe(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Lxe;return t===r}var Bxe=Fxe;function Uxe(t,e){return function(r){return t(e(r))}}var fB=Uxe,Vxe=fB,Wxe=Vxe(Object.keys,Object),zxe=Wxe,Hxe=Bxe,qxe=zxe,Gxe=Object.prototype,Kxe=Gxe.hasOwnProperty;function Xxe(t){if(!Hxe(t))return qxe(t);var e=[];for(var r in Object(t))Kxe.call(t,r)&&r!="constructor"&&e.push(r);return e}var Yxe=Xxe,Zxe=Dj,Qxe=eN;function Jxe(t){return t!=null&&Qxe(t.length)&&!Zxe(t)}var Yx=Jxe,ewe=$xe,twe=Yxe,rwe=Yx;function nwe(t){return rwe(t)?ewe(t):twe(t)}var tN=nwe,awe=x1e,iwe=O1e,owe=tN;function swe(t){return awe(t,owe,iwe)}var lwe=swe,v4=lwe,cwe=1,uwe=Object.prototype,dwe=uwe.hasOwnProperty;function fwe(t,e,r,n,a,i){var o=r&cwe,s=v4(t),l=s.length,u=v4(e),d=u.length;if(l!=d&&!o)return!1;for(var f=l;f--;){var h=s[f];if(!(o?h in e:dwe.call(e,h)))return!1}var p=i.get(t),v=i.get(e);if(p&&v)return p==e&&v==t;var m=!0;i.set(t,e),i.set(e,t);for(var g=o;++f<l;){h=s[f];var x=t[h],y=e[h];if(n)var w=o?n(y,x,h,e,t,i):n(x,y,h,t,e,i);if(!(w===void 0?x===y||a(x,y,r,n,i):w)){m=!1;break}g||(g=h=="constructor")}if(m&&!g){var _=t.constructor,S=e.constructor;_!=S&&"constructor"in t&&"constructor"in e&&!(typeof _=="function"&&_ instanceof _&&typeof S=="function"&&S instanceof S)&&(m=!1)}return i.delete(t),i.delete(e),m}var hwe=fwe,pwe=ku,mwe=Jo,vwe=pwe(mwe,"DataView"),gwe=vwe,ywe=ku,xwe=Jo,wwe=ywe(xwe,"Promise"),bwe=wwe,_we=ku,Swe=Jo,Cwe=_we(Swe,"Set"),hB=Cwe,Ewe=ku,Awe=Jo,jwe=Ewe(Awe,"WeakMap"),Nwe=jwe,HS=gwe,qS=$j,GS=bwe,KS=hB,XS=Nwe,pB=Vs,bh=wF,g4="[object Map]",Owe="[object Object]",y4="[object Promise]",x4="[object Set]",w4="[object WeakMap]",b4="[object DataView]",Twe=bh(HS),Pwe=bh(qS),kwe=bh(GS),Iwe=bh(KS),Rwe=bh(XS),Ec=pB;(HS&&Ec(new HS(new ArrayBuffer(1)))!=b4||qS&&Ec(new qS)!=g4||GS&&Ec(GS.resolve())!=y4||KS&&Ec(new KS)!=x4||XS&&Ec(new XS)!=w4)&&(Ec=function(t){var e=pB(t),r=e==Owe?t.constructor:void 0,n=r?bh(r):"";if(n)switch(n){case Twe:return b4;case Pwe:return g4;case kwe:return y4;case Iwe:return x4;case Rwe:return w4}return e});var Dwe=Ec,Jb=rB,Mwe=oB,$we=p1e,Lwe=hwe,_4=Dwe,S4=ba,C4=cB,Fwe=dB,Bwe=1,E4="[object Arguments]",A4="[object Array]",Pg="[object Object]",Uwe=Object.prototype,j4=Uwe.hasOwnProperty;function Vwe(t,e,r,n,a,i){var o=S4(t),s=S4(e),l=o?A4:_4(t),u=s?A4:_4(e);l=l==E4?Pg:l,u=u==E4?Pg:u;var d=l==Pg,f=u==Pg,h=l==u;if(h&&C4(t)){if(!C4(e))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new Jb),o||Fwe(t)?Mwe(t,e,r,n,a,i):$we(t,e,l,r,n,a,i);if(!(r&Bwe)){var p=d&&j4.call(t,"__wrapped__"),v=f&&j4.call(e,"__wrapped__");if(p||v){var m=p?t.value():t,g=v?e.value():e;return i||(i=new Jb),a(m,g,r,n,i)}}return h?(i||(i=new Jb),Lwe(t,e,r,n,a,i)):!1}var Wwe=Vwe,zwe=Wwe,N4=Ws;function mB(t,e,r,n,a){return t===e?!0:t==null||e==null||!N4(t)&&!N4(e)?t!==t&&e!==e:zwe(t,e,r,n,mB,a)}var rN=mB,Hwe=rB,qwe=rN,Gwe=1,Kwe=2;function Xwe(t,e,r,n){var a=r.length,i=a,o=!n;if(t==null)return!i;for(t=Object(t);a--;){var s=r[a];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++a<i;){s=r[a];var l=s[0],u=t[l],d=s[1];if(o&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new Hwe;if(n)var h=n(u,d,l,t,e,f);if(!(h===void 0?qwe(d,u,Gwe|Kwe,n,f):h))return!1}}return!0}var Ywe=Xwe,Zwe=ic;function Qwe(t){return t===t&&!Zwe(t)}var vB=Qwe,Jwe=vB,ebe=tN;function tbe(t){for(var e=ebe(t),r=e.length;r--;){var n=e[r],a=t[n];e[r]=[n,a,Jwe(a)]}return e}var rbe=tbe;function nbe(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var gB=nbe,abe=Ywe,ibe=rbe,obe=gB;function sbe(t){var e=ibe(t);return e.length==1&&e[0][2]?obe(e[0][0],e[0][1]):function(r){return r===t||abe(r,t,e)}}var lbe=sbe;function cbe(t,e){return t!=null&&e in Object(t)}var ube=cbe,dbe=EF,fbe=Qj,hbe=ba,pbe=Jj,mbe=eN,vbe=Dx;function gbe(t,e,r){e=dbe(e,t);for(var n=-1,a=e.length,i=!1;++n<a;){var o=vbe(e[n]);if(!(i=t!=null&&r(t,o)))break;t=t[o]}return i||++n!=a?i:(a=t==null?0:t.length,!!a&&mbe(a)&&pbe(o,a)&&(hbe(t)||fbe(t)))}var ybe=gbe,xbe=ube,wbe=ybe;function bbe(t,e){return t!=null&&wbe(t,e,xbe)}var _be=bbe,Sbe=rN,Cbe=AF,Ebe=_be,Abe=Rj,jbe=vB,Nbe=gB,Obe=Dx,Tbe=1,Pbe=2;function kbe(t,e){return Abe(t)&&jbe(e)?Nbe(Obe(t),e):function(r){var n=Cbe(r,t);return n===void 0&&n===e?Ebe(r,t):Sbe(e,n,Tbe|Pbe)}}var Ibe=kbe;function Rbe(t){return t}var _h=Rbe;function Dbe(t){return function(e){return e==null?void 0:e[t]}}var Mbe=Dbe,$be=Uj;function Lbe(t){return function(e){return $be(e,t)}}var Fbe=Lbe,Bbe=Mbe,Ube=Fbe,Vbe=Rj,Wbe=Dx;function zbe(t){return Vbe(t)?Bbe(Wbe(t)):Ube(t)}var Hbe=zbe,qbe=lbe,Gbe=Ibe,Kbe=_h,Xbe=ba,Ybe=Hbe;function Zbe(t){return typeof t=="function"?t:t==null?Kbe:typeof t=="object"?Xbe(t)?Gbe(t[0],t[1]):qbe(t):Ybe(t)}var oc=Zbe;function Qbe(t,e,r,n){for(var a=t.length,i=r+(n?1:-1);n?i--:++i<a;)if(e(t[i],i,t))return i;return-1}var Jbe=Qbe;function e_e(t){return t!==t}var t_e=e_e;function r_e(t,e,r){for(var n=r-1,a=t.length;++n<a;)if(t[n]===e)return n;return-1}var n_e=r_e,a_e=Jbe,i_e=t_e,o_e=n_e;function s_e(t,e,r){return e===e?o_e(t,e,r):a_e(t,i_e,r)}var l_e=s_e,c_e=l_e;function u_e(t,e){var r=t==null?0:t.length;return!!r&&c_e(t,e,0)>-1}var d_e=u_e;function f_e(t,e,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(e,t[n]))return!0;return!1}var h_e=f_e;function p_e(){}var m_e=p_e,e_=hB,v_e=m_e,g_e=Zj,y_e=1/0,x_e=e_&&1/g_e(new e_([,-0]))[1]==y_e?function(t){return new e_(t)}:v_e,w_e=x_e,b_e=nB,__e=d_e,S_e=h_e,C_e=iB,E_e=w_e,A_e=Zj,j_e=200;function N_e(t,e,r){var n=-1,a=__e,i=t.length,o=!0,s=[],l=s;if(r)o=!1,a=S_e;else if(i>=j_e){var u=e?null:E_e(t);if(u)return A_e(u);o=!1,a=C_e,l=new b_e}else l=e?[]:s;e:for(;++n<i;){var d=t[n],f=e?e(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(d)}else a(l,f,r)||(l!==s&&l.push(f),s.push(d))}return s}var O_e=N_e,T_e=oc,P_e=O_e;function k_e(t,e){return t&&t.length?P_e(t,T_e(e)):[]}var I_e=k_e;const O4=Wt(I_e);function yB(t,e,r){return e===!0?O4(t,r):Xe(e)?O4(t,e):t}function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}var R_e=["ref"];function T4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function os(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?T4(Object(r),!0).forEach(function(n){Zx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function D_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P4(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wB(n.key),n)}}function M_e(t,e,r){return e&&P4(t.prototype,e),r&&P4(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function $_e(t,e,r){return e=Py(e),L_e(t,xB()?Reflect.construct(e,r||[],Py(t).constructor):e.apply(t,r))}function L_e(t,e){if(e&&(Cf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F_e(t)}function F_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xB=function(){return!!t})()}function Py(t){return Py=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Py(t)}function B_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YS(t,e)}function YS(t,e){return YS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},YS(t,e)}function Zx(t,e,r){return e=wB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wB(t){var e=U_e(t,"string");return Cf(e)=="symbol"?e:e+""}function U_e(t,e){if(Cf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function V_e(t,e){if(t==null)return{};var r=W_e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function W_e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function z_e(t){return t.value}function H_e(t,e){if(k.isValidElement(t))return k.cloneElement(t,e);if(typeof t=="function")return k.createElement(t,e);e.ref;var r=V_e(e,R_e);return k.createElement(Yj,r)}var k4=1,Fd=function(t){function e(){var r;D_e(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=$_e(this,e,[].concat(a)),Zx(r,"lastBoundingBox",{width:-1,height:-1}),r}return B_e(e,t),M_e(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>k4||Math.abs(a.height-this.lastBoundingBox.height)>k4)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?os({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,s=a.verticalAlign,l=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var v=this.getBBoxSnapshot();h={top:((d||0)-v.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return os(os({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,s=a.height,l=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=os(os({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return k.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},H_e(i,os(os({},this.props),{},{payload:yB(d,u,z_e)})))}}],[{key:"getWithHeight",value:function(n,a){var i=os(os({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&ge(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(b.PureComponent);Zx(Fd,"displayName","Legend");Zx(Fd,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var I4=Mv,q_e=Qj,G_e=ba,R4=I4?I4.isConcatSpreadable:void 0;function K_e(t){return G_e(t)||q_e(t)||!!(R4&&t&&t[R4])}var X_e=K_e,Y_e=sB,Z_e=X_e;function bB(t,e,r,n,a){var i=-1,o=t.length;for(r||(r=Z_e),a||(a=[]);++i<o;){var s=t[i];e>0&&r(s)?e>1?bB(s,e-1,r,n,a):Y_e(a,s):n||(a[a.length]=s)}return a}var _B=bB;function Q_e(t){return function(e,r,n){for(var a=-1,i=Object(e),o=n(e),s=o.length;s--;){var l=o[t?s:++a];if(r(i[l],l,i)===!1)break}return e}}var J_e=Q_e,e2e=J_e,t2e=e2e(),r2e=t2e,n2e=r2e,a2e=tN;function i2e(t,e){return t&&n2e(t,e,a2e)}var SB=i2e,o2e=Yx;function s2e(t,e){return function(r,n){if(r==null)return r;if(!o2e(r))return t(r,n);for(var a=r.length,i=e?a:-1,o=Object(r);(e?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var l2e=s2e,c2e=SB,u2e=l2e,d2e=u2e(c2e),nN=d2e,f2e=nN,h2e=Yx;function p2e(t,e){var r=-1,n=h2e(t)?Array(t.length):[];return f2e(t,function(a,i,o){n[++r]=e(a,i,o)}),n}var CB=p2e;function m2e(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var v2e=m2e,D4=ph;function g2e(t,e){if(t!==e){var r=t!==void 0,n=t===null,a=t===t,i=D4(t),o=e!==void 0,s=e===null,l=e===e,u=D4(e);if(!s&&!u&&!i&&t>e||i&&o&&l&&!s&&!u||n&&o&&l||!r&&l||!a)return 1;if(!n&&!i&&!u&&t<e||u&&r&&a&&!n&&!i||s&&r&&a||!o&&a||!l)return-1}return 0}var y2e=g2e,x2e=y2e;function w2e(t,e,r){for(var n=-1,a=t.criteria,i=e.criteria,o=a.length,s=r.length;++n<o;){var l=x2e(a[n],i[n]);if(l){if(n>=s)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return t.index-e.index}var b2e=w2e,t_=Bj,_2e=Uj,S2e=oc,C2e=CB,E2e=v2e,A2e=uB,j2e=b2e,N2e=_h,O2e=ba;function T2e(t,e,r){e.length?e=t_(e,function(i){return O2e(i)?function(o){return _2e(o,i.length===1?i[0]:i)}:i}):e=[N2e];var n=-1;e=t_(e,A2e(S2e));var a=C2e(t,function(i,o,s){var l=t_(e,function(u){return u(i)});return{criteria:l,index:++n,value:i}});return E2e(a,function(i,o){return j2e(i,o,r)})}var P2e=T2e;function k2e(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var I2e=k2e,R2e=I2e,M4=Math.max;function D2e(t,e,r){return e=M4(e===void 0?t.length-1:e,0),function(){for(var n=arguments,a=-1,i=M4(n.length-e,0),o=Array(i);++a<i;)o[a]=n[e+a];a=-1;for(var s=Array(e+1);++a<e;)s[a]=n[a];return s[e]=r(o),R2e(t,this,s)}}var M2e=D2e;function $2e(t){return function(){return t}}var L2e=$2e,F2e=ku,B2e=function(){try{var t=F2e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),EB=B2e,U2e=L2e,$4=EB,V2e=_h,W2e=$4?function(t,e){return $4(t,"toString",{configurable:!0,enumerable:!1,value:U2e(e),writable:!0})}:V2e,z2e=W2e,H2e=800,q2e=16,G2e=Date.now;function K2e(t){var e=0,r=0;return function(){var n=G2e(),a=q2e-(n-r);if(r=n,a>0){if(++e>=H2e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var X2e=K2e,Y2e=z2e,Z2e=X2e,Q2e=Z2e(Y2e),J2e=Q2e,eSe=_h,tSe=M2e,rSe=J2e;function nSe(t,e){return rSe(tSe(t,e,eSe),t+"")}var aSe=nSe,iSe=Mj,oSe=Yx,sSe=Jj,lSe=ic;function cSe(t,e,r){if(!lSe(r))return!1;var n=typeof e;return(n=="number"?oSe(r)&&sSe(e,r.length):n=="string"&&e in r)?iSe(r[e],t):!1}var Qx=cSe,uSe=_B,dSe=P2e,fSe=aSe,L4=Qx,hSe=fSe(function(t,e){if(t==null)return[];var r=e.length;return r>1&&L4(t,e[0],e[1])?e=[]:r>2&&L4(e[0],e[1],e[2])&&(e=[e[0]]),dSe(t,uSe(e,1),[])}),pSe=hSe;const aN=Wt(pSe);function xm(t){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xm(t)}function ZS(){return ZS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ZS.apply(this,arguments)}function mSe(t,e){return xSe(t)||ySe(t,e)||gSe(t,e)||vSe()}function vSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gSe(t,e){if(t){if(typeof t=="string")return F4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F4(t,e)}}function F4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ySe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function xSe(t){if(Array.isArray(t))return t}function B4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function r_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B4(Object(r),!0).forEach(function(n){wSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wSe(t,e,r){return e=bSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bSe(t){var e=_Se(t,"string");return xm(e)=="symbol"?e:e+""}function _Se(t,e){if(xm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SSe(t){return Array.isArray(t)&&an(t[0])&&an(t[1])?t.join(" ~ "):t}var CSe=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,i=a===void 0?{}:a,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,u=l===void 0?{}:l,d=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,v=e.labelClassName,m=e.label,g=e.labelFormatter,x=e.accessibilityLayer,y=x===void 0?!1:x,w=function(){if(d&&d.length){var O={padding:0,margin:0},$=(h?aN(d,h):d).map(function(R,F){if(R.type==="none")return null;var B=r_({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},s),M=R.formatter||f||SSe,I=R.value,P=R.name,V=I,z=P;if(M&&V!=null&&z!=null){var H=M(I,P,R,F,d);if(Array.isArray(H)){var K=mSe(H,2);V=K[0],z=K[1]}else V=H}return k.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:B},an(z)?k.createElement("span",{className:"recharts-tooltip-item-name"},z):null,an(z)?k.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,k.createElement("span",{className:"recharts-tooltip-item-value"},V),k.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return k.createElement("ul",{className:"recharts-tooltip-item-list",style:O},$)}return null},_=r_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),S=r_({margin:0},u),C=!Je(m),E=C?m:"",A=tt("recharts-default-tooltip",p),j=tt("recharts-tooltip-label",v);C&&g&&d!==void 0&&d!==null&&(E=g(m,d));var T=y?{role:"status","aria-live":"assertive"}:{};return k.createElement("div",ZS({className:A,style:_},T),k.createElement("p",{className:j,style:S},k.isValidElement(E)?E:"".concat(E)),w())};function wm(t){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wm(t)}function kg(t,e,r){return e=ESe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ESe(t){var e=ASe(t,"string");return wm(e)=="symbol"?e:e+""}function ASe(t,e){if(wm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zh="recharts-tooltip-wrapper",jSe={visibility:"hidden"};function NSe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return tt(zh,kg(kg(kg(kg({},"".concat(zh,"-right"),ge(r)&&e&&ge(e.x)&&r>=e.x),"".concat(zh,"-left"),ge(r)&&e&&ge(e.x)&&r<e.x),"".concat(zh,"-bottom"),ge(n)&&e&&ge(e.y)&&n>=e.y),"".concat(zh,"-top"),ge(n)&&e&&ge(e.y)&&n<e.y))}function U4(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(i&&ge(i[n]))return i[n];var d=r[n]-s-a,f=r[n]+a;if(e[n])return o[n]?d:f;if(o[n]){var h=d,p=l[n];return h<p?Math.max(f,l[n]):Math.max(d,l[n])}var v=f+s,m=l[n]+u;return v>m?Math.max(d,l[n]):Math.max(f,l[n])}function OSe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function TSe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,i=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=U4({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=U4({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=OSe({translateX:d,translateY:f,useTranslate3d:s})):u=jSe,{cssProperties:u,cssClasses:NSe({translateX:d,translateY:f,coordinate:r})}}function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}function V4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function W4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V4(Object(r),!0).forEach(function(n){JS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kSe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jB(n.key),n)}}function ISe(t,e,r){return e&&kSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function RSe(t,e,r){return e=ky(e),DSe(t,AB()?Reflect.construct(e,r||[],ky(t).constructor):e.apply(t,r))}function DSe(t,e){if(e&&(Ef(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MSe(t)}function MSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AB=function(){return!!t})()}function ky(t){return ky=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ky(t)}function $Se(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QS(t,e)}function QS(t,e){return QS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},QS(t,e)}function JS(t,e,r){return e=jB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jB(t){var e=LSe(t,"string");return Ef(e)=="symbol"?e:e+""}function LSe(t,e){if(Ef(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var z4=1,FSe=function(t){function e(){var r;PSe(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=RSe(this,e,[].concat(a)),JS(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),JS(r,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return $Se(e,t),ISe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>z4||Math.abs(n.height-this.state.lastBoundingBox.height)>z4)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,v=a.position,m=a.reverseDirection,g=a.useTranslate3d,x=a.viewBox,y=a.wrapperStyle,w=TSe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:v,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:x}),_=w.cssClasses,S=w.cssProperties,C=W4(W4({transition:h&&i?"transform ".concat(s,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return k.createElement("div",{tabIndex:-1,className:_,style:C,ref:function(A){n.wrapperNode=A}},u)}}])}(b.PureComponent),BSe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ro={isSsr:BSe(),get:function(e){return Ro[e]},set:function(e,r){if(typeof e=="string")Ro[e]=r;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(a){Ro[a]=e[a]})}}};function Af(t){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(t)}function H4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function q4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?H4(Object(r),!0).forEach(function(n){iN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function USe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VSe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OB(n.key),n)}}function WSe(t,e,r){return e&&VSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zSe(t,e,r){return e=Iy(e),HSe(t,NB()?Reflect.construct(e,r||[],Iy(t).constructor):e.apply(t,r))}function HSe(t,e){if(e&&(Af(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qSe(t)}function qSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NB=function(){return!!t})()}function Iy(t){return Iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Iy(t)}function GSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eC(t,e)}function eC(t,e){return eC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},eC(t,e)}function iN(t,e,r){return e=OB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OB(t){var e=KSe(t,"string");return Af(e)=="symbol"?e:e+""}function KSe(t,e){if(Af(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XSe(t){return t.dataKey}function YSe(t,e){return k.isValidElement(t)?k.cloneElement(t,e):typeof t=="function"?k.createElement(t,e):k.createElement(CSe,e)}var oi=function(t){function e(){return USe(this,e),zSe(this,e,arguments)}return GSe(e,t),WSe(e,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,v=a.payload,m=a.payloadUniqBy,g=a.position,x=a.reverseDirection,y=a.useTranslate3d,w=a.viewBox,_=a.wrapperStyle,S=v??[];f&&S.length&&(S=yB(v.filter(function(E){return E.value!=null&&(E.hide!==!0||n.props.includeHidden)}),m,XSe));var C=S.length>0;return k.createElement(FSe,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:h,active:i,coordinate:d,hasPayload:C,offset:p,position:g,reverseDirection:x,useTranslate3d:y,viewBox:w,wrapperStyle:_},YSe(u,q4(q4({},this.props),{},{payload:S})))}}])}(b.PureComponent);iN(oi,"displayName","Tooltip");iN(oi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ro.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var ZSe=Jo,QSe=function(){return ZSe.Date.now()},JSe=QSe,eCe=/\s/;function tCe(t){for(var e=t.length;e--&&eCe.test(t.charAt(e)););return e}var rCe=tCe,nCe=rCe,aCe=/^\s+/;function iCe(t){return t&&t.slice(0,nCe(t)+1).replace(aCe,"")}var oCe=iCe,sCe=oCe,G4=ic,lCe=ph,K4=NaN,cCe=/^[-+]0x[0-9a-f]+$/i,uCe=/^0b[01]+$/i,dCe=/^0o[0-7]+$/i,fCe=parseInt;function hCe(t){if(typeof t=="number")return t;if(lCe(t))return K4;if(G4(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=G4(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=sCe(t);var r=uCe.test(t);return r||dCe.test(t)?fCe(t.slice(2),r?2:8):cCe.test(t)?K4:+t}var TB=hCe,pCe=ic,n_=JSe,X4=TB,mCe="Expected a function",vCe=Math.max,gCe=Math.min;function yCe(t,e,r){var n,a,i,o,s,l,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(mCe);e=X4(e)||0,pCe(r)&&(d=!!r.leading,f="maxWait"in r,i=f?vCe(X4(r.maxWait)||0,e):i,h="trailing"in r?!!r.trailing:h);function p(C){var E=n,A=a;return n=a=void 0,u=C,o=t.apply(A,E),o}function v(C){return u=C,s=setTimeout(x,e),d?p(C):o}function m(C){var E=C-l,A=C-u,j=e-E;return f?gCe(j,i-A):j}function g(C){var E=C-l,A=C-u;return l===void 0||E>=e||E<0||f&&A>=i}function x(){var C=n_();if(g(C))return y(C);s=setTimeout(x,m(C))}function y(C){return s=void 0,h&&n?p(C):(n=a=void 0,o)}function w(){s!==void 0&&clearTimeout(s),u=0,n=l=a=s=void 0}function _(){return s===void 0?o:y(n_())}function S(){var C=n_(),E=g(C);if(n=arguments,a=this,l=C,E){if(s===void 0)return v(l);if(f)return clearTimeout(s),s=setTimeout(x,e),p(l)}return s===void 0&&(s=setTimeout(x,e)),o}return S.cancel=w,S.flush=_,S}var xCe=yCe,wCe=xCe,bCe=ic,_Ce="Expected a function";function SCe(t,e,r){var n=!0,a=!0;if(typeof t!="function")throw new TypeError(_Ce);return bCe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),wCe(t,e,{leading:n,maxWait:e,trailing:a})}var CCe=SCe;const PB=Wt(CCe);function bm(t){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bm(t)}function Y4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ig(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y4(Object(r),!0).forEach(function(n){ECe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ECe(t,e,r){return e=ACe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ACe(t){var e=jCe(t,"string");return bm(e)=="symbol"?e:e+""}function jCe(t,e){if(bm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NCe(t,e){return kCe(t)||PCe(t,e)||TCe(t,e)||OCe()}function OCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TCe(t,e){if(t){if(typeof t=="string")return Z4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z4(t,e)}}function Z4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function PCe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function kCe(t){if(Array.isArray(t))return t}var a_=b.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=t.width,o=i===void 0?"100%":i,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,p=t.children,v=t.debounce,m=v===void 0?0:v,g=t.id,x=t.className,y=t.onResize,w=t.style,_=w===void 0?{}:w,S=b.useRef(null),C=b.useRef();C.current=y,b.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var E=b.useState({containerWidth:a.width,containerHeight:a.height}),A=NCe(E,2),j=A[0],T=A[1],N=b.useCallback(function($,R){T(function(F){var B=Math.round($),M=Math.round(R);return F.containerWidth===B&&F.containerHeight===M?F:{containerWidth:B,containerHeight:M}})},[]);b.useEffect(function(){var $=function(P){var V,z=P[0].contentRect,H=z.width,K=z.height;N(H,K),(V=C.current)===null||V===void 0||V.call(C,H,K)};m>0&&($=PB($,m,{trailing:!0,leading:!1}));var R=new ResizeObserver($),F=S.current.getBoundingClientRect(),B=F.width,M=F.height;return N(B,M),R.observe(S.current),function(){R.disconnect()}},[N,m]);var O=b.useMemo(function(){var $=j.containerWidth,R=j.containerHeight;if($<0||R<0)return null;Ss(Mc(o)||Mc(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),Ss(!r||r>0,"The aspect(%s) must be greater than zero.",r);var F=Mc(o)?$:o,B=Mc(l)?R:l;r&&r>0&&(F?B=F/r:B&&(F=B*r),h&&B>h&&(B=h)),Ss(F>0||B>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,B,o,l,d,f,r);var M=!Array.isArray(p)&&_s(p.type).endsWith("Chart");return k.Children.map(p,function(I){return k.isValidElement(I)?b.cloneElement(I,Ig({width:F,height:B},M?{style:Ig({height:"100%",width:"100%",maxHeight:B,maxWidth:F},I.props.style)}:{})):I})},[r,p,l,h,f,d,j,o]);return k.createElement("div",{id:g?"".concat(g):void 0,className:tt("recharts-responsive-container",x),style:Ig(Ig({},_),{},{width:o,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:S},O)}),Jx=function(e){return null};Jx.displayName="Cell";function _m(t){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_m(t)}function Q4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function tC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q4(Object(r),!0).forEach(function(n){ICe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ICe(t,e,r){return e=RCe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RCe(t){var e=DCe(t,"string");return _m(e)=="symbol"?e:e+""}function DCe(t,e){if(_m(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(_m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zu={widthCache:{},cacheCount:0},MCe=2e3,$Ce={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},J4="recharts_measurement_span";function LCe(t){var e=tC({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Np=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ro.isSsr)return{width:0,height:0};var n=LCe(r),a=JSON.stringify({text:e,copyStyle:n});if(Zu.widthCache[a])return Zu.widthCache[a];try{var i=document.getElementById(J4);i||(i=document.createElement("span"),i.setAttribute("id",J4),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=tC(tC({},$Ce),n);Object.assign(i.style,o),i.textContent="".concat(e);var s=i.getBoundingClientRect(),l={width:s.width,height:s.height};return Zu.widthCache[a]=l,++Zu.cacheCount>MCe&&(Zu.cacheCount=0,Zu.widthCache={}),l}catch{return{width:0,height:0}}},FCe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Sm(t){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sm(t)}function Ry(t,e){return WCe(t)||VCe(t,e)||UCe(t,e)||BCe()}function BCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UCe(t,e){if(t){if(typeof t=="string")return ek(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ek(t,e)}}function ek(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function VCe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function WCe(t){if(Array.isArray(t))return t}function zCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qCe(n.key),n)}}function HCe(t,e,r){return e&&tk(t.prototype,e),r&&tk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function qCe(t){var e=GCe(t,"string");return Sm(e)=="symbol"?e:e+""}function GCe(t,e){if(Sm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,KCe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,XCe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,kB={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},YCe=Object.keys(kB),_d="NaN";function ZCe(t,e){return t*kB[e]}var Rg=function(){function t(e,r){zCe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!KCe.test(r)&&(this.num=NaN,this.unit=""),YCe.includes(r)&&(this.num=ZCe(e,r),this.unit="px")}return HCe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=XCe.exec(r))!==null&&n!==void 0?n:[],i=Ry(a,3),o=i[1],s=i[2];return new t(parseFloat(o),s??"")}}])}();function IB(t){if(t.includes(_d))return _d;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=rk.exec(e))!==null&&r!==void 0?r:[],a=Ry(n,4),i=a[1],o=a[2],s=a[3],l=Rg.parse(i??""),u=Rg.parse(s??""),d=o==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return _d;e=e.replace(rk,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=nk.exec(e))!==null&&f!==void 0?f:[],p=Ry(h,4),v=p[1],m=p[2],g=p[3],x=Rg.parse(v??""),y=Rg.parse(g??""),w=m==="+"?x.add(y):x.subtract(y);if(w.isNaN())return _d;e=e.replace(nk,w.toString())}return e}var ak=/\(([^()]*)\)/;function QCe(t){for(var e=t;e.includes("(");){var r=ak.exec(e),n=Ry(r,2),a=n[1];e=e.replace(ak,IB(a))}return e}function JCe(t){var e=t.replace(/\s+/g,"");return e=QCe(e),e=IB(e),e}function eEe(t){try{return JCe(t)}catch{return _d}}function i_(t){var e=eEe(t.slice(5,-1));return e===_d?"":e}var tEe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],rEe=["dx","dy","angle","className","breakAll"];function rC(){return rC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rC.apply(this,arguments)}function ik(t,e){if(t==null)return{};var r=nEe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nEe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ok(t,e){return sEe(t)||oEe(t,e)||iEe(t,e)||aEe()}function aEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iEe(t,e){if(t){if(typeof t=="string")return sk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sk(t,e)}}function sk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oEe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function sEe(t){if(Array.isArray(t))return t}var RB=/[ \f\n\r\t\v\u2028\u2029]+/,DB=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var i=[];Je(r)||(n?i=r.toString().split(""):i=r.toString().split(RB));var o=i.map(function(l){return{word:l,width:Np(l,a).width}}),s=n?0:Np("",a).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},lEe=function(e,r,n,a,i){var o=e.maxLines,s=e.children,l=e.style,u=e.breakAll,d=ge(o),f=s,h=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(B,M){var I=M.word,P=M.width,V=B[B.length-1];if(V&&(a==null||i||V.width+P+n<Number(a)))V.words.push(I),V.width+=P+n;else{var z={words:[I],width:P};B.push(z)}return B},[])},p=h(r),v=function(F){return F.reduce(function(B,M){return B.width>M.width?B:M})};if(!d)return p;for(var m="",g=function(F){var B=f.slice(0,F),M=DB({breakAll:u,style:l,children:B+m}).wordsWithComputedWidth,I=h(M),P=I.length>o||v(I).width>Number(a);return[P,I]},x=0,y=f.length-1,w=0,_;x<=y&&w<=f.length-1;){var S=Math.floor((x+y)/2),C=S-1,E=g(C),A=ok(E,2),j=A[0],T=A[1],N=g(S),O=ok(N,1),$=O[0];if(!j&&!$&&(x=S+1),j&&$&&(y=S-1),!j&&$){_=T;break}w++}return _||p},lk=function(e){var r=Je(e)?[]:e.toString().split(RB);return[{words:r}]},cEe=function(e){var r=e.width,n=e.scaleToFit,a=e.children,i=e.style,o=e.breakAll,s=e.maxLines;if((r||n)&&!Ro.isSsr){var l,u,d=DB({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,u=h}else return lk(a);return lEe({breakAll:o,children:a,maxLines:s,style:i},l,u,r,n)}return lk(a)},ck="#808080",yu=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,u=l===void 0?"0.71em":l,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,p=h===void 0?"start":h,v=e.verticalAnchor,m=v===void 0?"end":v,g=e.fill,x=g===void 0?ck:g,y=ik(e,tEe),w=b.useMemo(function(){return cEe({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),_=y.dx,S=y.dy,C=y.angle,E=y.className,A=y.breakAll,j=ik(y,rEe);if(!an(n)||!an(i))return null;var T=n+(ge(_)?_:0),N=i+(ge(S)?S:0),O;switch(m){case"start":O=i_("calc(".concat(u,")"));break;case"middle":O=i_("calc(".concat((w.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:O=i_("calc(".concat(w.length-1," * -").concat(s,")"));break}var $=[];if(f){var R=w[0].width,F=y.width;$.push("scale(".concat((ge(F)?F/R:1)/R,")"))}return C&&$.push("rotate(".concat(C,", ").concat(T,", ").concat(N,")")),$.length&&(j.transform=$.join(" ")),k.createElement("text",rC({},Ve(j,!0),{x:T,y:N,className:tt("recharts-text",E),textAnchor:p,fill:x.includes("url")?ck:x}),w.map(function(B,M){var I=B.words.join(A?"":" ");return k.createElement("tspan",{x:T,dy:M===0?O:s,key:"".concat(I,"-").concat(M)},I)}))};function Bl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function uEe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function oN(t){let e,r,n;t.length!==2?(e=Bl,r=(s,l)=>Bl(t(s),l),n=(s,l)=>t(s)-l):(e=t===Bl||t===uEe?t:dEe,r=t,n=t);function a(s,l,u=0,d=s.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;r(s[f],l)<0?u=f+1:d=f}while(u<d)}return u}function i(s,l,u=0,d=s.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;r(s[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function o(s,l,u=0,d=s.length){const f=a(s,l,u,d-1);return f>u&&n(s[f-1],l)>-n(s[f],l)?f-1:f}return{left:a,center:o,right:i}}function dEe(){return 0}function MB(t){return t===null?NaN:+t}function*fEe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const hEe=oN(Bl),Lv=hEe.right;oN(MB).center;class uk extends Map{constructor(e,r=vEe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(dk(this,e))}has(e){return super.has(dk(this,e))}set(e,r){return super.set(pEe(this,e),r)}delete(e){return super.delete(mEe(this,e))}}function dk({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function pEe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function mEe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function vEe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function gEe(t=Bl){if(t===Bl)return $B;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function $B(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const yEe=Math.sqrt(50),xEe=Math.sqrt(10),wEe=Math.sqrt(2);function Dy(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=yEe?10:i>=xEe?5:i>=wEe?2:1;let s,l,u;return a<0?(u=Math.pow(10,-a)/o,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,a)*o,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=r&&r<2?Dy(t,e,r*2):[s,l,u]}function nC(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,i,o]=n?Dy(e,t,r):Dy(t,e,r);if(!(i>=a))return[];const s=i-a+1,l=new Array(s);if(n)if(o<0)for(let u=0;u<s;++u)l[u]=(i-u)/-o;else for(let u=0;u<s;++u)l[u]=(i-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(a+u)/-o;else for(let u=0;u<s;++u)l[u]=(a+u)*o;return l}function aC(t,e,r){return e=+e,t=+t,r=+r,Dy(t,e,r)[2]}function iC(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?aC(e,t,r):aC(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function fk(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function hk(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function LB(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?$B:gEe(a);n>r;){if(n-r>600){const l=n-r+1,u=e-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(r,Math.floor(e-u*f/l+h)),v=Math.min(n,Math.floor(e+(l-u)*f/l+h));LB(t,e,p,v,a)}const i=t[e];let o=r,s=n;for(Hh(t,r,e),a(t[n],i)>0&&Hh(t,r,n);o<s;){for(Hh(t,o,s),++o,--s;a(t[o],i)<0;)++o;for(;a(t[s],i)>0;)--s}a(t[r],i)===0?Hh(t,r,s):(++s,Hh(t,s,n)),s<=e&&(r=s+1),e<=s&&(n=s-1)}return t}function Hh(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function bEe(t,e,r){if(t=Float64Array.from(fEe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return hk(t);if(e>=1)return fk(t);var n,a=(n-1)*e,i=Math.floor(a),o=fk(LB(t,i).subarray(0,i+1)),s=hk(t.subarray(i+1));return o+(s-o)*(a-i)}}function _Ee(t,e,r=MB){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,i=Math.floor(a),o=+r(t[i],i,t),s=+r(t[i+1],i+1,t);return o+(s-o)*(a-i)}}function SEe(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(a);++n<a;)i[n]=t+n*r;return i}function ji(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function zs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const oC=Symbol("implicit");function sN(){var t=new uk,e=[],r=[],n=oC;function a(i){let o=t.get(i);if(o===void 0){if(n!==oC)return n;t.set(i,o=e.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new uk;for(const o of i)t.has(o)||t.set(o,e.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return sN(e,r).unknown(n)},ji.apply(a,arguments),a}function Cm(){var t=sN().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,i,o,s=!1,l=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,p=a<n,v=p?a:n,m=p?n:a;i=(m-v)/Math.max(1,h-l+u*2),s&&(i=Math.floor(i)),v+=(m-v-i*(h-l))*d,o=i*(1-l),s&&(v=Math.round(v),o=Math.round(o));var g=SEe(h).map(function(x){return v+i*x});return r(p?g.reverse():g)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},t.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,s=!0,f()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return Cm(e(),[n,a]).round(s).paddingInner(l).paddingOuter(u).align(d)},ji.apply(f(),arguments)}function FB(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return FB(e())},t}function Op(){return FB(Cm.apply(null,arguments).paddingInner(1))}function lN(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function BB(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Fv(){}var Em=.7,My=1/Em,Bd="\\s*([+-]?\\d+)\\s*",Am="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Do="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",CEe=/^#([0-9a-f]{3,8})$/,EEe=new RegExp(`^rgb\\(${Bd},${Bd},${Bd}\\)$`),AEe=new RegExp(`^rgb\\(${Do},${Do},${Do}\\)$`),jEe=new RegExp(`^rgba\\(${Bd},${Bd},${Bd},${Am}\\)$`),NEe=new RegExp(`^rgba\\(${Do},${Do},${Do},${Am}\\)$`),OEe=new RegExp(`^hsl\\(${Am},${Do},${Do}\\)$`),TEe=new RegExp(`^hsla\\(${Am},${Do},${Do},${Am}\\)$`),pk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};lN(Fv,jm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:mk,formatHex:mk,formatHex8:PEe,formatHsl:kEe,formatRgb:vk,toString:vk});function mk(){return this.rgb().formatHex()}function PEe(){return this.rgb().formatHex8()}function kEe(){return UB(this).formatHsl()}function vk(){return this.rgb().formatRgb()}function jm(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=CEe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?gk(e):r===3?new ma(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Dg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Dg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=EEe.exec(t))?new ma(e[1],e[2],e[3],1):(e=AEe.exec(t))?new ma(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=jEe.exec(t))?Dg(e[1],e[2],e[3],e[4]):(e=NEe.exec(t))?Dg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=OEe.exec(t))?wk(e[1],e[2]/100,e[3]/100,1):(e=TEe.exec(t))?wk(e[1],e[2]/100,e[3]/100,e[4]):pk.hasOwnProperty(t)?gk(pk[t]):t==="transparent"?new ma(NaN,NaN,NaN,0):null}function gk(t){return new ma(t>>16&255,t>>8&255,t&255,1)}function Dg(t,e,r,n){return n<=0&&(t=e=r=NaN),new ma(t,e,r,n)}function IEe(t){return t instanceof Fv||(t=jm(t)),t?(t=t.rgb(),new ma(t.r,t.g,t.b,t.opacity)):new ma}function sC(t,e,r,n){return arguments.length===1?IEe(t):new ma(t,e,r,n??1)}function ma(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}lN(ma,sC,BB(Fv,{brighter(t){return t=t==null?My:Math.pow(My,t),new ma(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Em:Math.pow(Em,t),new ma(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ma(Qc(this.r),Qc(this.g),Qc(this.b),$y(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yk,formatHex:yk,formatHex8:REe,formatRgb:xk,toString:xk}));function yk(){return`#${$c(this.r)}${$c(this.g)}${$c(this.b)}`}function REe(){return`#${$c(this.r)}${$c(this.g)}${$c(this.b)}${$c((isNaN(this.opacity)?1:this.opacity)*255)}`}function xk(){const t=$y(this.opacity);return`${t===1?"rgb(":"rgba("}${Qc(this.r)}, ${Qc(this.g)}, ${Qc(this.b)}${t===1?")":`, ${t})`}`}function $y(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Qc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function $c(t){return t=Qc(t),(t<16?"0":"")+t.toString(16)}function wk(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new eo(t,e,r,n)}function UB(t){if(t instanceof eo)return new eo(t.h,t.s,t.l,t.opacity);if(t instanceof Fv||(t=jm(t)),!t)return new eo;if(t instanceof eo)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),i=Math.max(e,r,n),o=NaN,s=i-a,l=(i+a)/2;return s?(e===i?o=(r-n)/s+(r<n)*6:r===i?o=(n-e)/s+2:o=(e-r)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new eo(o,s,l,t.opacity)}function DEe(t,e,r,n){return arguments.length===1?UB(t):new eo(t,e,r,n??1)}function eo(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}lN(eo,DEe,BB(Fv,{brighter(t){return t=t==null?My:Math.pow(My,t),new eo(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Em:Math.pow(Em,t),new eo(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new ma(o_(t>=240?t-240:t+120,a,n),o_(t,a,n),o_(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new eo(bk(this.h),Mg(this.s),Mg(this.l),$y(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=$y(this.opacity);return`${t===1?"hsl(":"hsla("}${bk(this.h)}, ${Mg(this.s)*100}%, ${Mg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function bk(t){return t=(t||0)%360,t<0?t+360:t}function Mg(t){return Math.max(0,Math.min(1,t||0))}function o_(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const cN=t=>()=>t;function MEe(t,e){return function(r){return t+r*e}}function $Ee(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function LEe(t){return(t=+t)==1?VB:function(e,r){return r-e?$Ee(e,r,t):cN(isNaN(e)?r:e)}}function VB(t,e){var r=e-t;return r?MEe(t,r):cN(isNaN(t)?e:t)}const _k=function t(e){var r=LEe(e);function n(a,i){var o=r((a=sC(a)).r,(i=sC(i)).r),s=r(a.g,i.g),l=r(a.b,i.b),u=VB(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=s(d),a.b=l(d),a.opacity=u(d),a+""}}return n.gamma=t,n}(1);function FEe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=t[a]*(1-i)+e[a]*i;return n}}function BEe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function UEe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Sh(t[o],e[o]);for(;o<r;++o)i[o]=e[o];return function(s){for(o=0;o<n;++o)i[o]=a[o](s);return i}}function VEe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Ly(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function WEe(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=Sh(t[a],e[a]):n[a]=e[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var lC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,s_=new RegExp(lC.source,"g");function zEe(t){return function(){return t}}function HEe(t){return function(e){return t(e)+""}}function qEe(t,e){var r=lC.lastIndex=s_.lastIndex=0,n,a,i,o=-1,s=[],l=[];for(t=t+"",e=e+"";(n=lC.exec(t))&&(a=s_.exec(e));)(i=a.index)>r&&(i=e.slice(r,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,l.push({i:o,x:Ly(n,a)})),r=s_.lastIndex;return r<e.length&&(i=e.slice(r),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?HEe(l[0].x):zEe(e):(e=l.length,function(u){for(var d=0,f;d<e;++d)s[(f=l[d]).i]=f.x(u);return s.join("")})}function Sh(t,e){var r=typeof e,n;return e==null||r==="boolean"?cN(e):(r==="number"?Ly:r==="string"?(n=jm(e))?(e=n,_k):qEe:e instanceof jm?_k:e instanceof Date?VEe:BEe(e)?FEe:Array.isArray(e)?UEe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?WEe:Ly)(t,e)}function uN(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function GEe(t,e){e===void 0&&(e=t,t=Sh);for(var r=0,n=e.length-1,a=e[0],i=new Array(n<0?0:n);r<n;)i[r]=t(a,a=e[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[s](o-s)}}function KEe(t){return function(){return t}}function Fy(t){return+t}var Sk=[0,1];function Qn(t){return t}function cC(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:KEe(isNaN(e)?NaN:.5)}function XEe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function YEe(t,e,r){var n=t[0],a=t[1],i=e[0],o=e[1];return a<n?(n=cC(a,n),i=r(o,i)):(n=cC(n,a),i=r(i,o)),function(s){return i(n(s))}}function ZEe(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),i=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)a[o]=cC(t[o],t[o+1]),i[o]=r(e[o],e[o+1]);return function(s){var l=Lv(t,s,1,n)-1;return i[l](a[l](s))}}function Bv(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ew(){var t=Sk,e=Sk,r=Sh,n,a,i,o=Qn,s,l,u;function d(){var h=Math.min(t.length,e.length);return o!==Qn&&(o=XEe(t[0],t[h-1])),s=h>2?ZEe:YEe,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(l||(l=s(t.map(n),e,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=s(e,t.map(n),Ly)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Fy),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),r=uN,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Qn,d()):o!==Qn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,a=p,d()}}function dN(){return ew()(Qn,Qn)}function QEe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function By(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function jf(t){return t=By(Math.abs(t)),t?t[1]:NaN}function JEe(t,e){return function(r,n){for(var a=r.length,i=[],o=0,s=t[0],l=0;a>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),i.push(r.substring(a-=s,a+s)),!((l+=s+1)>n));)s=t[o=(o+1)%t.length];return i.reverse().join(e)}}function eAe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var tAe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Nm(t){if(!(e=tAe.exec(t)))throw new Error("invalid format: "+t);var e;return new fN({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Nm.prototype=fN.prototype;function fN(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}fN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function rAe(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var WB;function nAe(t,e){var r=By(t,e);if(!r)return t+"";var n=r[0],a=r[1],i=a-(WB=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+By(t,Math.max(0,e+i-1))[0]}function Ck(t,e){var r=By(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const Ek={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:QEe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Ck(t*100,e),r:Ck,s:nAe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ak(t){return t}var jk=Array.prototype.map,Nk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function aAe(t){var e=t.grouping===void 0||t.thousands===void 0?Ak:JEe(jk.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?Ak:eAe(jk.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Nm(f);var h=f.fill,p=f.align,v=f.sign,m=f.symbol,g=f.zero,x=f.width,y=f.comma,w=f.precision,_=f.trim,S=f.type;S==="n"?(y=!0,S="g"):Ek[S]||(w===void 0&&(w=12),_=!0,S="g"),(g||h==="0"&&p==="=")&&(g=!0,h="0",p="=");var C=m==="$"?r:m==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",E=m==="$"?n:/[%p]/.test(S)?o:"",A=Ek[S],j=/[defgprs%]/.test(S);w=w===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function T(N){var O=C,$=E,R,F,B;if(S==="c")$=A(N)+$,N="";else{N=+N;var M=N<0||1/N<0;if(N=isNaN(N)?l:A(Math.abs(N),w),_&&(N=rAe(N)),M&&+N==0&&v!=="+"&&(M=!1),O=(M?v==="("?v:s:v==="-"||v==="("?"":v)+O,$=(S==="s"?Nk[8+WB/3]:"")+$+(M&&v==="("?")":""),j){for(R=-1,F=N.length;++R<F;)if(B=N.charCodeAt(R),48>B||B>57){$=(B===46?a+N.slice(R+1):N.slice(R))+$,N=N.slice(0,R);break}}}y&&!g&&(N=e(N,1/0));var I=O.length+N.length+$.length,P=I<x?new Array(x-I+1).join(h):"";switch(y&&g&&(N=e(P+N,P.length?x-$.length:1/0),P=""),p){case"<":N=O+N+$+P;break;case"=":N=O+P+N+$;break;case"^":N=P.slice(0,I=P.length>>1)+O+N+$+P.slice(I);break;default:N=P+O+N+$;break}return i(N)}return T.toString=function(){return f+""},T}function d(f,h){var p=u((f=Nm(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(jf(h)/3)))*3,m=Math.pow(10,-v),g=Nk[8+v/3];return function(x){return p(m*x)+g}}return{format:u,formatPrefix:d}}var $g,hN,zB;iAe({thousands:",",grouping:[3],currency:["$",""]});function iAe(t){return $g=aAe(t),hN=$g.format,zB=$g.formatPrefix,$g}function oAe(t){return Math.max(0,-jf(Math.abs(t)))}function sAe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(jf(e)/3)))*3-jf(Math.abs(t)))}function lAe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,jf(e)-jf(t))+1}function HB(t,e,r,n){var a=iC(t,e,r),i;switch(n=Nm(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=sAe(a,o))&&(n.precision=i),zB(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=lAe(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=oAe(a))&&(n.precision=i-(n.type==="%")*2);break}}return hN(n)}function sc(t){var e=t.domain;return t.ticks=function(r){var n=e();return nC(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return HB(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,i=n.length-1,o=n[a],s=n[i],l,u,d=10;for(s<o&&(u=o,o=s,s=u,u=a,a=i,i=u);d-- >0;){if(u=aC(o,s,r),u===l)return n[a]=o,n[i]=s,e(n);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function Uy(){var t=dN();return t.copy=function(){return Bv(t,Uy())},ji.apply(t,arguments),sc(t)}function qB(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Fy),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return qB(t).unknown(e)},t=arguments.length?Array.from(t,Fy):[0,1],sc(r)}function GB(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],i=t[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),t[r]=e.floor(a),t[n]=e.ceil(i),t}function Ok(t){return Math.log(t)}function Tk(t){return Math.exp(t)}function cAe(t){return-Math.log(-t)}function uAe(t){return-Math.exp(-t)}function dAe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function fAe(t){return t===10?dAe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function hAe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Pk(t){return(e,r)=>-t(-e,r)}function pN(t){const e=t(Ok,Tk),r=e.domain;let n=10,a,i;function o(){return a=hAe(n),i=fAe(n),r()[0]<0?(a=Pk(a),i=Pk(i),t(cAe,uAe)):t(Ok,Tk),e}return e.base=function(s){return arguments.length?(n=+s,o()):n},e.domain=function(s){return arguments.length?(r(s),o()):r()},e.ticks=s=>{const l=r();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),p=a(d),v,m;const g=s==null?10:+s;let x=[];if(!(n%1)&&p-h<g){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(v=1;v<n;++v)if(m=h<0?v/i(-h):v*i(h),!(m<u)){if(m>d)break;x.push(m)}}else for(;h<=p;++h)for(v=n-1;v>=1;--v)if(m=h>0?v/i(-h):v*i(h),!(m<u)){if(m>d)break;x.push(m)}x.length*2<g&&(x=nC(u,d,g))}else x=nC(h,p,Math.min(p-h,g)).map(i);return f?x.reverse():x},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Nm(l)).precision==null&&(l.trim=!0),l=hN(l)),s===1/0)return l;const u=Math.max(1,n*s/e.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?l(d):""}},e.nice=()=>r(GB(r(),{floor:s=>i(Math.floor(a(s))),ceil:s=>i(Math.ceil(a(s)))})),e}function KB(){const t=pN(ew()).domain([1,10]);return t.copy=()=>Bv(t,KB()).base(t.base()),ji.apply(t,arguments),t}function kk(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Ik(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function mN(t){var e=1,r=t(kk(e),Ik(e));return r.constant=function(n){return arguments.length?t(kk(e=+n),Ik(e)):e},sc(r)}function XB(){var t=mN(ew());return t.copy=function(){return Bv(t,XB()).constant(t.constant())},ji.apply(t,arguments)}function Rk(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function pAe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function mAe(t){return t<0?-t*t:t*t}function vN(t){var e=t(Qn,Qn),r=1;function n(){return r===1?t(Qn,Qn):r===.5?t(pAe,mAe):t(Rk(r),Rk(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},sc(e)}function gN(){var t=vN(ew());return t.copy=function(){return Bv(t,gN()).exponent(t.exponent())},ji.apply(t,arguments),t}function vAe(){return gN.apply(null,arguments).exponent(.5)}function Dk(t){return Math.sign(t)*t*t}function gAe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function YB(){var t=dN(),e=[0,1],r=!1,n;function a(i){var o=gAe(t(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return t.invert(Dk(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((e=Array.from(i,Fy)).map(Dk)),a):e.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return YB(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},ji.apply(a,arguments),sc(a)}function ZB(){var t=[],e=[],r=[],n;function a(){var o=0,s=Math.max(1,e.length);for(r=new Array(s-1);++o<s;)r[o-1]=_Ee(t,o/s);return i}function i(o){return o==null||isNaN(o=+o)?n:e[Lv(r,o)]}return i.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:t[0],s<r.length?r[s]:t[t.length-1]]},i.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Bl),a()},i.range=function(o){return arguments.length?(e=Array.from(o),a()):e.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return ZB().domain(t).range(e).unknown(n)},ji.apply(i,arguments)}function QB(){var t=0,e=1,r=1,n=[.5],a=[0,1],i;function o(l){return l!=null&&l<=l?a[Lv(n,l,0,r)]:i}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,s()):a.slice()},o.invertExtent=function(l){var u=a.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},o.unknown=function(l){return arguments.length&&(i=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return QB().domain([t,e]).range(a).unknown(i)},ji.apply(sc(o),arguments)}function JB(){var t=[.5],e=[0,1],r,n=1;function a(i){return i!=null&&i<=i?e[Lv(t,i,0,n)]:r}return a.domain=function(i){return arguments.length?(t=Array.from(i),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var o=e.indexOf(i);return[t[o-1],t[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return JB().domain(t).range(e).unknown(r)},ji.apply(a,arguments)}const l_=new Date,c_=new Date;function sn(t,e,r,n){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=(i,o)=>(e(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,s)=>{const l=[];if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return l;let u;do l.push(u=new Date(+i)),e(i,s),t(i);while(u<i&&i<o);return l},a.filter=i=>sn(o=>{if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!i(o););else for(;--s>=0;)for(;e(o,1),!i(o););}),r&&(a.count=(i,o)=>(l_.setTime(+i),c_.setTime(+o),t(l_),t(c_),Math.floor(r(l_,c_))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Vy=sn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Vy.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?sn(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Vy);Vy.range;const ys=1e3,hi=ys*60,xs=hi*60,Ms=xs*24,yN=Ms*7,Mk=Ms*30,u_=Ms*365,Lc=sn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ys)},(t,e)=>(e-t)/ys,t=>t.getUTCSeconds());Lc.range;const xN=sn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ys)},(t,e)=>{t.setTime(+t+e*hi)},(t,e)=>(e-t)/hi,t=>t.getMinutes());xN.range;const wN=sn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*hi)},(t,e)=>(e-t)/hi,t=>t.getUTCMinutes());wN.range;const bN=sn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ys-t.getMinutes()*hi)},(t,e)=>{t.setTime(+t+e*xs)},(t,e)=>(e-t)/xs,t=>t.getHours());bN.range;const _N=sn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*xs)},(t,e)=>(e-t)/xs,t=>t.getUTCHours());_N.range;const Uv=sn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*hi)/Ms,t=>t.getDate()-1);Uv.range;const tw=sn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ms,t=>t.getUTCDate()-1);tw.range;const eU=sn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ms,t=>Math.floor(t/Ms));eU.range;function Iu(t){return sn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*hi)/yN)}const rw=Iu(0),Wy=Iu(1),yAe=Iu(2),xAe=Iu(3),Nf=Iu(4),wAe=Iu(5),bAe=Iu(6);rw.range;Wy.range;yAe.range;xAe.range;Nf.range;wAe.range;bAe.range;function Ru(t){return sn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/yN)}const nw=Ru(0),zy=Ru(1),_Ae=Ru(2),SAe=Ru(3),Of=Ru(4),CAe=Ru(5),EAe=Ru(6);nw.range;zy.range;_Ae.range;SAe.range;Of.range;CAe.range;EAe.range;const SN=sn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());SN.range;const CN=sn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());CN.range;const $s=sn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());$s.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:sn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});$s.range;const Ls=sn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ls.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:sn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Ls.range;function tU(t,e,r,n,a,i){const o=[[Lc,1,ys],[Lc,5,5*ys],[Lc,15,15*ys],[Lc,30,30*ys],[i,1,hi],[i,5,5*hi],[i,15,15*hi],[i,30,30*hi],[a,1,xs],[a,3,3*xs],[a,6,6*xs],[a,12,12*xs],[n,1,Ms],[n,2,2*Ms],[r,1,yN],[e,1,Mk],[e,3,3*Mk],[t,1,u_]];function s(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:l(u,d,f),v=p?p.range(u,+d+1):[];return h?v.reverse():v}function l(u,d,f){const h=Math.abs(d-u)/f,p=oN(([,,g])=>g).right(o,h);if(p===o.length)return t.every(iC(u/u_,d/u_,f));if(p===0)return Vy.every(Math.max(iC(u,d,f),1));const[v,m]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return v.every(m)}return[s,l]}const[AAe,jAe]=tU(Ls,CN,nw,eU,_N,wN),[NAe,OAe]=tU($s,SN,rw,Uv,bN,xN);function d_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function f_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function qh(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function TAe(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,i=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=Gh(a),d=Kh(a),f=Gh(i),h=Kh(i),p=Gh(o),v=Kh(o),m=Gh(s),g=Kh(s),x=Gh(l),y=Kh(l),w={a:M,A:I,b:P,B:V,c:null,d:Vk,e:Vk,f:JAe,g:cje,G:dje,H:YAe,I:ZAe,j:QAe,L:rU,m:eje,M:tje,p:z,q:H,Q:Hk,s:qk,S:rje,u:nje,U:aje,V:ije,w:oje,W:sje,x:null,X:null,y:lje,Y:uje,Z:fje,"%":zk},_={a:K,A:re,b:ue,B:oe,c:null,d:Wk,e:Wk,f:vje,g:Aje,G:Nje,H:hje,I:pje,j:mje,L:aU,m:gje,M:yje,p:te,q:pe,Q:Hk,s:qk,S:xje,u:wje,U:bje,V:_je,w:Sje,W:Cje,x:null,X:null,y:Eje,Y:jje,Z:Oje,"%":zk},S={a:T,A:N,b:O,B:$,c:R,d:Bk,e:Bk,f:qAe,g:Fk,G:Lk,H:Uk,I:Uk,j:VAe,L:HAe,m:UAe,M:WAe,p:j,q:BAe,Q:KAe,s:XAe,S:zAe,u:DAe,U:MAe,V:$Ae,w:RAe,W:LAe,x:F,X:B,y:Fk,Y:Lk,Z:FAe,"%":GAe};w.x=C(r,w),w.X=C(n,w),w.c=C(e,w),_.x=C(r,_),_.X=C(n,_),_.c=C(e,_);function C(ee,se){return function(ve){var Z=[],Ge=-1,Be=0,ht=ee.length,yt,Kt,gn;for(ve instanceof Date||(ve=new Date(+ve));++Ge<ht;)ee.charCodeAt(Ge)===37&&(Z.push(ee.slice(Be,Ge)),(Kt=$k[yt=ee.charAt(++Ge)])!=null?yt=ee.charAt(++Ge):Kt=yt==="e"?" ":"0",(gn=se[yt])&&(yt=gn(ve,Kt)),Z.push(yt),Be=Ge+1);return Z.push(ee.slice(Be,Ge)),Z.join("")}}function E(ee,se){return function(ve){var Z=qh(1900,void 0,1),Ge=A(Z,ee,ve+="",0),Be,ht;if(Ge!=ve.length)return null;if("Q"in Z)return new Date(Z.Q);if("s"in Z)return new Date(Z.s*1e3+("L"in Z?Z.L:0));if(se&&!("Z"in Z)&&(Z.Z=0),"p"in Z&&(Z.H=Z.H%12+Z.p*12),Z.m===void 0&&(Z.m="q"in Z?Z.q:0),"V"in Z){if(Z.V<1||Z.V>53)return null;"w"in Z||(Z.w=1),"Z"in Z?(Be=f_(qh(Z.y,0,1)),ht=Be.getUTCDay(),Be=ht>4||ht===0?zy.ceil(Be):zy(Be),Be=tw.offset(Be,(Z.V-1)*7),Z.y=Be.getUTCFullYear(),Z.m=Be.getUTCMonth(),Z.d=Be.getUTCDate()+(Z.w+6)%7):(Be=d_(qh(Z.y,0,1)),ht=Be.getDay(),Be=ht>4||ht===0?Wy.ceil(Be):Wy(Be),Be=Uv.offset(Be,(Z.V-1)*7),Z.y=Be.getFullYear(),Z.m=Be.getMonth(),Z.d=Be.getDate()+(Z.w+6)%7)}else("W"in Z||"U"in Z)&&("w"in Z||(Z.w="u"in Z?Z.u%7:"W"in Z?1:0),ht="Z"in Z?f_(qh(Z.y,0,1)).getUTCDay():d_(qh(Z.y,0,1)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+Z.W*7-(ht+5)%7:Z.w+Z.U*7-(ht+6)%7);return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,f_(Z)):d_(Z)}}function A(ee,se,ve,Z){for(var Ge=0,Be=se.length,ht=ve.length,yt,Kt;Ge<Be;){if(Z>=ht)return-1;if(yt=se.charCodeAt(Ge++),yt===37){if(yt=se.charAt(Ge++),Kt=S[yt in $k?se.charAt(Ge++):yt],!Kt||(Z=Kt(ee,ve,Z))<0)return-1}else if(yt!=ve.charCodeAt(Z++))return-1}return Z}function j(ee,se,ve){var Z=u.exec(se.slice(ve));return Z?(ee.p=d.get(Z[0].toLowerCase()),ve+Z[0].length):-1}function T(ee,se,ve){var Z=p.exec(se.slice(ve));return Z?(ee.w=v.get(Z[0].toLowerCase()),ve+Z[0].length):-1}function N(ee,se,ve){var Z=f.exec(se.slice(ve));return Z?(ee.w=h.get(Z[0].toLowerCase()),ve+Z[0].length):-1}function O(ee,se,ve){var Z=x.exec(se.slice(ve));return Z?(ee.m=y.get(Z[0].toLowerCase()),ve+Z[0].length):-1}function $(ee,se,ve){var Z=m.exec(se.slice(ve));return Z?(ee.m=g.get(Z[0].toLowerCase()),ve+Z[0].length):-1}function R(ee,se,ve){return A(ee,e,se,ve)}function F(ee,se,ve){return A(ee,r,se,ve)}function B(ee,se,ve){return A(ee,n,se,ve)}function M(ee){return o[ee.getDay()]}function I(ee){return i[ee.getDay()]}function P(ee){return l[ee.getMonth()]}function V(ee){return s[ee.getMonth()]}function z(ee){return a[+(ee.getHours()>=12)]}function H(ee){return 1+~~(ee.getMonth()/3)}function K(ee){return o[ee.getUTCDay()]}function re(ee){return i[ee.getUTCDay()]}function ue(ee){return l[ee.getUTCMonth()]}function oe(ee){return s[ee.getUTCMonth()]}function te(ee){return a[+(ee.getUTCHours()>=12)]}function pe(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var se=C(ee+="",w);return se.toString=function(){return ee},se},parse:function(ee){var se=E(ee+="",!1);return se.toString=function(){return ee},se},utcFormat:function(ee){var se=C(ee+="",_);return se.toString=function(){return ee},se},utcParse:function(ee){var se=E(ee+="",!0);return se.toString=function(){return ee},se}}}var $k={"-":"",_:" ",0:"0"},vn=/^\s*\d+/,PAe=/^%/,kAe=/[\\^$*+?|[\]().{}]/g;function _t(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(e)+a:a)}function IAe(t){return t.replace(kAe,"\\$&")}function Gh(t){return new RegExp("^(?:"+t.map(IAe).join("|")+")","i")}function Kh(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function RAe(t,e,r){var n=vn.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function DAe(t,e,r){var n=vn.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function MAe(t,e,r){var n=vn.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function $Ae(t,e,r){var n=vn.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function LAe(t,e,r){var n=vn.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function Lk(t,e,r){var n=vn.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function Fk(t,e,r){var n=vn.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function FAe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function BAe(t,e,r){var n=vn.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function UAe(t,e,r){var n=vn.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function Bk(t,e,r){var n=vn.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function VAe(t,e,r){var n=vn.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function Uk(t,e,r){var n=vn.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function WAe(t,e,r){var n=vn.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function zAe(t,e,r){var n=vn.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function HAe(t,e,r){var n=vn.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function qAe(t,e,r){var n=vn.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function GAe(t,e,r){var n=PAe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function KAe(t,e,r){var n=vn.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function XAe(t,e,r){var n=vn.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function Vk(t,e){return _t(t.getDate(),e,2)}function YAe(t,e){return _t(t.getHours(),e,2)}function ZAe(t,e){return _t(t.getHours()%12||12,e,2)}function QAe(t,e){return _t(1+Uv.count($s(t),t),e,3)}function rU(t,e){return _t(t.getMilliseconds(),e,3)}function JAe(t,e){return rU(t,e)+"000"}function eje(t,e){return _t(t.getMonth()+1,e,2)}function tje(t,e){return _t(t.getMinutes(),e,2)}function rje(t,e){return _t(t.getSeconds(),e,2)}function nje(t){var e=t.getDay();return e===0?7:e}function aje(t,e){return _t(rw.count($s(t)-1,t),e,2)}function nU(t){var e=t.getDay();return e>=4||e===0?Nf(t):Nf.ceil(t)}function ije(t,e){return t=nU(t),_t(Nf.count($s(t),t)+($s(t).getDay()===4),e,2)}function oje(t){return t.getDay()}function sje(t,e){return _t(Wy.count($s(t)-1,t),e,2)}function lje(t,e){return _t(t.getFullYear()%100,e,2)}function cje(t,e){return t=nU(t),_t(t.getFullYear()%100,e,2)}function uje(t,e){return _t(t.getFullYear()%1e4,e,4)}function dje(t,e){var r=t.getDay();return t=r>=4||r===0?Nf(t):Nf.ceil(t),_t(t.getFullYear()%1e4,e,4)}function fje(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+_t(e/60|0,"0",2)+_t(e%60,"0",2)}function Wk(t,e){return _t(t.getUTCDate(),e,2)}function hje(t,e){return _t(t.getUTCHours(),e,2)}function pje(t,e){return _t(t.getUTCHours()%12||12,e,2)}function mje(t,e){return _t(1+tw.count(Ls(t),t),e,3)}function aU(t,e){return _t(t.getUTCMilliseconds(),e,3)}function vje(t,e){return aU(t,e)+"000"}function gje(t,e){return _t(t.getUTCMonth()+1,e,2)}function yje(t,e){return _t(t.getUTCMinutes(),e,2)}function xje(t,e){return _t(t.getUTCSeconds(),e,2)}function wje(t){var e=t.getUTCDay();return e===0?7:e}function bje(t,e){return _t(nw.count(Ls(t)-1,t),e,2)}function iU(t){var e=t.getUTCDay();return e>=4||e===0?Of(t):Of.ceil(t)}function _je(t,e){return t=iU(t),_t(Of.count(Ls(t),t)+(Ls(t).getUTCDay()===4),e,2)}function Sje(t){return t.getUTCDay()}function Cje(t,e){return _t(zy.count(Ls(t)-1,t),e,2)}function Eje(t,e){return _t(t.getUTCFullYear()%100,e,2)}function Aje(t,e){return t=iU(t),_t(t.getUTCFullYear()%100,e,2)}function jje(t,e){return _t(t.getUTCFullYear()%1e4,e,4)}function Nje(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Of(t):Of.ceil(t),_t(t.getUTCFullYear()%1e4,e,4)}function Oje(){return"+0000"}function zk(){return"%"}function Hk(t){return+t}function qk(t){return Math.floor(+t/1e3)}var Qu,oU,sU;Tje({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Tje(t){return Qu=TAe(t),oU=Qu.format,Qu.parse,sU=Qu.utcFormat,Qu.utcParse,Qu}function Pje(t){return new Date(t)}function kje(t){return t instanceof Date?+t:+new Date(+t)}function EN(t,e,r,n,a,i,o,s,l,u){var d=dN(),f=d.invert,h=d.domain,p=u(".%L"),v=u(":%S"),m=u("%I:%M"),g=u("%I %p"),x=u("%a %d"),y=u("%b %d"),w=u("%B"),_=u("%Y");function S(C){return(l(C)<C?p:s(C)<C?v:o(C)<C?m:i(C)<C?g:n(C)<C?a(C)<C?x:y:r(C)<C?w:_)(C)}return d.invert=function(C){return new Date(f(C))},d.domain=function(C){return arguments.length?h(Array.from(C,kje)):h().map(Pje)},d.ticks=function(C){var E=h();return t(E[0],E[E.length-1],C??10)},d.tickFormat=function(C,E){return E==null?S:u(E)},d.nice=function(C){var E=h();return(!C||typeof C.range!="function")&&(C=e(E[0],E[E.length-1],C??10)),C?h(GB(E,C)):d},d.copy=function(){return Bv(d,EN(t,e,r,n,a,i,o,s,l,u))},d}function Ije(){return ji.apply(EN(NAe,OAe,$s,SN,rw,Uv,bN,xN,Lc,oU).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Rje(){return ji.apply(EN(AAe,jAe,Ls,CN,nw,tw,_N,wN,Lc,sU).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function aw(){var t=0,e=1,r,n,a,i,o=Qn,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:o(a===0?.5:(f=(i(f)-r)*a,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=i(t=+t),n=i(e=+e),a=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,v;return arguments.length?([p,v]=h,o=f(p,v),u):[o(0),o(1)]}}return u.range=d(Sh),u.rangeRound=d(uN),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return i=f,r=f(t),n=f(e),a=r===n?0:1/(n-r),u}}function lc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function lU(){var t=sc(aw()(Qn));return t.copy=function(){return lc(t,lU())},zs.apply(t,arguments)}function cU(){var t=pN(aw()).domain([1,10]);return t.copy=function(){return lc(t,cU()).base(t.base())},zs.apply(t,arguments)}function uU(){var t=mN(aw());return t.copy=function(){return lc(t,uU()).constant(t.constant())},zs.apply(t,arguments)}function AN(){var t=vN(aw());return t.copy=function(){return lc(t,AN()).exponent(t.exponent())},zs.apply(t,arguments)}function Dje(){return AN.apply(null,arguments).exponent(.5)}function dU(){var t=[],e=Qn;function r(n){if(n!=null&&!isNaN(n=+n))return e((Lv(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Bl),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>bEe(t,i/n))},r.copy=function(){return dU(e).domain(t)},zs.apply(r,arguments)}function iw(){var t=0,e=.5,r=1,n=1,a,i,o,s,l,u=Qn,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-i)*(n*m<n*i?s:l),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([t,e,r]=m,a=d(t=+t),i=d(e=+e),o=d(r=+r),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),n=i<a?-1:1,p):[t,e,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function v(m){return function(g){var x,y,w;return arguments.length?([x,y,w]=g,u=GEe(m,[x,y,w]),p):[u(0),u(.5),u(1)]}}return p.range=v(Sh),p.rangeRound=v(uN),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,a=m(t),i=m(e),o=m(r),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),n=i<a?-1:1,p}}function fU(){var t=sc(iw()(Qn));return t.copy=function(){return lc(t,fU())},zs.apply(t,arguments)}function hU(){var t=pN(iw()).domain([.1,1,10]);return t.copy=function(){return lc(t,hU()).base(t.base())},zs.apply(t,arguments)}function pU(){var t=mN(iw());return t.copy=function(){return lc(t,pU()).constant(t.constant())},zs.apply(t,arguments)}function jN(){var t=vN(iw());return t.copy=function(){return lc(t,jN()).exponent(t.exponent())},zs.apply(t,arguments)}function Mje(){return jN.apply(null,arguments).exponent(.5)}const Gk=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Cm,scaleDiverging:fU,scaleDivergingLog:hU,scaleDivergingPow:jN,scaleDivergingSqrt:Mje,scaleDivergingSymlog:pU,scaleIdentity:qB,scaleImplicit:oC,scaleLinear:Uy,scaleLog:KB,scaleOrdinal:sN,scalePoint:Op,scalePow:gN,scaleQuantile:ZB,scaleQuantize:QB,scaleRadial:YB,scaleSequential:lU,scaleSequentialLog:cU,scaleSequentialPow:AN,scaleSequentialQuantile:dU,scaleSequentialSqrt:Dje,scaleSequentialSymlog:uU,scaleSqrt:vAe,scaleSymlog:XB,scaleThreshold:JB,scaleTime:Ije,scaleUtc:Rje,tickFormat:HB},Symbol.toStringTag,{value:"Module"}));var $je=ph;function Lje(t,e,r){for(var n=-1,a=t.length;++n<a;){var i=t[n],o=e(i);if(o!=null&&(s===void 0?o===o&&!$je(o):r(o,s)))var s=o,l=i}return l}var ow=Lje;function Fje(t,e){return t>e}var mU=Fje,Bje=ow,Uje=mU,Vje=_h;function Wje(t){return t&&t.length?Bje(t,Vje,Uje):void 0}var zje=Wje;const sw=Wt(zje);function Hje(t,e){return t<e}var vU=Hje,qje=ow,Gje=vU,Kje=_h;function Xje(t){return t&&t.length?qje(t,Kje,Gje):void 0}var Yje=Xje;const lw=Wt(Yje);var Zje=Bj,Qje=oc,Jje=CB,eNe=ba;function tNe(t,e){var r=eNe(t)?Zje:Jje;return r(t,Qje(e))}var rNe=tNe,nNe=_B,aNe=rNe;function iNe(t,e){return nNe(aNe(t,e),1)}var oNe=iNe;const sNe=Wt(oNe);var lNe=rN;function cNe(t,e){return lNe(t,e)}var uNe=cNe;const Vv=Wt(uNe);var Ch=1e9,dNe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ON,gr=!0,_i="[DecimalError] ",Jc=_i+"Invalid argument: ",NN=_i+"Exponent out of range: ",Eh=Math.floor,Ac=Math.pow,fNe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ia,un=1e7,ur=7,gU=9007199254740991,Hy=Eh(gU/ur),Oe={};Oe.absoluteValue=Oe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Oe.comparedTo=Oe.cmp=function(t){var e,r,n,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(n=i.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Oe.decimalPlaces=Oe.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*ur;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Oe.dividedBy=Oe.div=function(t){return Cs(this,new this.constructor(t))};Oe.dividedToIntegerBy=Oe.idiv=function(t){var e=this,r=e.constructor;return Xt(Cs(e,new r(t),0,1),r.precision)};Oe.equals=Oe.eq=function(t){return!this.cmp(t)};Oe.exponent=function(){return Vr(this)};Oe.greaterThan=Oe.gt=function(t){return this.cmp(t)>0};Oe.greaterThanOrEqualTo=Oe.gte=function(t){return this.cmp(t)>=0};Oe.isInteger=Oe.isint=function(){return this.e>this.d.length-2};Oe.isNegative=Oe.isneg=function(){return this.s<0};Oe.isPositive=Oe.ispos=function(){return this.s>0};Oe.isZero=function(){return this.s===0};Oe.lessThan=Oe.lt=function(t){return this.cmp(t)<0};Oe.lessThanOrEqualTo=Oe.lte=function(t){return this.cmp(t)<1};Oe.logarithm=Oe.log=function(t){var e,r=this,n=r.constructor,a=n.precision,i=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Ia))throw Error(_i+"NaN");if(r.s<1)throw Error(_i+(r.s?"NaN":"-Infinity"));return r.eq(Ia)?new n(0):(gr=!1,e=Cs(Om(r,i),Om(t,i),i),gr=!0,Xt(e,a))};Oe.minus=Oe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?wU(e,t):yU(e,(t.s=-t.s,t))};Oe.modulo=Oe.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(_i+"NaN");return r.s?(gr=!1,e=Cs(r,t,0,1).times(t),gr=!0,r.minus(e)):Xt(new n(r),a)};Oe.naturalExponential=Oe.exp=function(){return xU(this)};Oe.naturalLogarithm=Oe.ln=function(){return Om(this)};Oe.negated=Oe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Oe.plus=Oe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?yU(e,t):wU(e,(t.s=-t.s,t))};Oe.precision=Oe.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Jc+t);if(e=Vr(a)+1,n=a.d.length-1,r=n*ur+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Oe.squareRoot=Oe.sqrt=function(){var t,e,r,n,a,i,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(_i+"NaN")}for(t=Vr(s),gr=!1,a=Math.sqrt(+s),a==0||a==1/0?(e=Oo(s.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=Eh((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(a.toString()),r=l.precision,a=o=r+3;;)if(i=n,n=i.plus(Cs(s,i,o+2)).times(.5),Oo(i.d).slice(0,o)===(e=Oo(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),a==o&&e=="4999"){if(Xt(i,r+1,0),i.times(i).eq(s)){n=i;break}}else if(e!="9999")break;o+=4}return gr=!0,Xt(n,r)};Oe.times=Oe.mul=function(t){var e,r,n,a,i,o,s,l,u,d=this,f=d.constructor,h=d.d,p=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,l=h.length,u=p.length,l<u&&(i=h,h=p,p=i,o=l,l=u,u=o),i=[],o=l+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(e=0,a=l+n;a>n;)s=i[a]+p[n]*h[a-n-1]+e,i[a--]=s%un|0,e=s/un|0;i[a]=(i[a]+e)%un|0}for(;!i[--o];)i.pop();return e?++r:i.shift(),t.d=i,t.e=r,gr?Xt(t,f.precision):t};Oe.toDecimalPlaces=Oe.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Ko(t,0,Ch),e===void 0?e=n.rounding:Ko(e,0,8),Xt(r,t+Vr(r)+1,e))};Oe.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=xu(n,!0):(Ko(t,0,Ch),e===void 0?e=a.rounding:Ko(e,0,8),n=Xt(new a(n),t+1,e),r=xu(n,!0,t+1)),r};Oe.toFixed=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?xu(a):(Ko(t,0,Ch),e===void 0?e=i.rounding:Ko(e,0,8),n=Xt(new i(a),t+Vr(a)+1,e),r=xu(n.abs(),!1,t+Vr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Oe.toInteger=Oe.toint=function(){var t=this,e=t.constructor;return Xt(new e(t),Vr(t)+1,e.rounding)};Oe.toNumber=function(){return+this};Oe.toPower=Oe.pow=function(t){var e,r,n,a,i,o,s=this,l=s.constructor,u=12,d=+(t=new l(t));if(!t.s)return new l(Ia);if(s=new l(s),!s.s){if(t.s<1)throw Error(_i+"Infinity");return s}if(s.eq(Ia))return s;if(n=l.precision,t.eq(Ia))return Xt(s,n);if(e=t.e,r=t.d.length-1,o=e>=r,i=s.s,o){if((r=d<0?-d:d)<=gU){for(a=new l(Ia),e=Math.ceil(n/ur+4),gr=!1;r%2&&(a=a.times(s),Xk(a.d,e)),r=Eh(r/2),r!==0;)s=s.times(s),Xk(s.d,e);return gr=!0,t.s<0?new l(Ia).div(a):Xt(a,n)}}else if(i<0)throw Error(_i+"NaN");return i=i<0&&t.d[Math.max(e,r)]&1?-1:1,s.s=1,gr=!1,a=t.times(Om(s,n+u)),gr=!0,a=xU(a),a.s=i,a};Oe.toPrecision=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?(r=Vr(a),n=xu(a,r<=i.toExpNeg||r>=i.toExpPos)):(Ko(t,1,Ch),e===void 0?e=i.rounding:Ko(e,0,8),a=Xt(new i(a),t,e),r=Vr(a),n=xu(a,t<=r||r<=i.toExpNeg,t)),n};Oe.toSignificantDigits=Oe.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Ko(t,1,Ch),e===void 0?e=n.rounding:Ko(e,0,8)),Xt(new n(r),t,e)};Oe.toString=Oe.valueOf=Oe.val=Oe.toJSON=Oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Vr(t),r=t.constructor;return xu(t,e<=r.toExpNeg||e>=r.toExpPos)};function yU(t,e){var r,n,a,i,o,s,l,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),gr?Xt(e,f):e;if(l=t.d,u=e.d,o=t.e,a=e.e,l=l.slice(),i=o-a,i){for(i<0?(n=l,i=-i,s=u.length):(n=u,a=o,s=l.length),o=Math.ceil(f/ur),s=o>s?o+1:s+1,i>s&&(i=s,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(s=l.length,i=u.length,s-i<0&&(i=s,n=u,u=l,l=n),r=0;i;)r=(l[--i]=l[i]+u[i]+r)/un|0,l[i]%=un;for(r&&(l.unshift(r),++a),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=a,gr?Xt(e,f):e}function Ko(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Jc+t)}function Oo(t){var e,r,n,a=t.length-1,i="",o=t[0];if(a>0){for(i+=o,e=1;e<a;e++)n=t[e]+"",r=ur-n.length,r&&(i+=ll(r)),i+=n;o=t[e],n=o+"",r=ur-n.length,r&&(i+=ll(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Cs=function(){function t(n,a){var i,o=0,s=n.length;for(n=n.slice();s--;)i=n[s]*a+o,n[s]=i%un|0,o=i/un|0;return o&&n.unshift(o),n}function e(n,a,i,o){var s,l;if(i!=o)l=i>o?1:-1;else for(s=l=0;s<i;s++)if(n[s]!=a[s]){l=n[s]>a[s]?1:-1;break}return l}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*un+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var s,l,u,d,f,h,p,v,m,g,x,y,w,_,S,C,E,A,j=n.constructor,T=n.s==a.s?1:-1,N=n.d,O=a.d;if(!n.s)return new j(n);if(!a.s)throw Error(_i+"Division by zero");for(l=n.e-a.e,E=O.length,S=N.length,p=new j(T),v=p.d=[],u=0;O[u]==(N[u]||0);)++u;if(O[u]>(N[u]||0)&&--l,i==null?y=i=j.precision:o?y=i+(Vr(n)-Vr(a))+1:y=i,y<0)return new j(0);if(y=y/ur+2|0,u=0,E==1)for(d=0,O=O[0],y++;(u<S||d)&&y--;u++)w=d*un+(N[u]||0),v[u]=w/O|0,d=w%O|0;else{for(d=un/(O[0]+1)|0,d>1&&(O=t(O,d),N=t(N,d),E=O.length,S=N.length),_=E,m=N.slice(0,E),g=m.length;g<E;)m[g++]=0;A=O.slice(),A.unshift(0),C=O[0],O[1]>=un/2&&++C;do d=0,s=e(O,m,E,g),s<0?(x=m[0],E!=g&&(x=x*un+(m[1]||0)),d=x/C|0,d>1?(d>=un&&(d=un-1),f=t(O,d),h=f.length,g=m.length,s=e(f,m,h,g),s==1&&(d--,r(f,E<h?A:O,h))):(d==0&&(s=d=1),f=O.slice()),h=f.length,h<g&&f.unshift(0),r(m,f,g),s==-1&&(g=m.length,s=e(O,m,E,g),s<1&&(d++,r(m,E<g?A:O,g))),g=m.length):s===0&&(d++,m=[0]),v[u++]=d,s&&m[0]?m[g++]=N[_]||0:(m=[N[_]],g=1);while((_++<S||m[0]!==void 0)&&y--)}return v[0]||v.shift(),p.e=l,Xt(p,o?i+Vr(p)+1:i)}}();function xU(t,e){var r,n,a,i,o,s,l=0,u=0,d=t.constructor,f=d.precision;if(Vr(t)>16)throw Error(NN+Vr(t));if(!t.s)return new d(Ia);for(e==null?(gr=!1,s=f):s=e,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(n=Math.log(Ac(2,u))/Math.LN10*2+5|0,s+=n,r=a=i=new d(Ia),d.precision=s;;){if(a=Xt(a.times(t),s),r=r.times(++l),o=i.plus(Cs(a,r,s)),Oo(o.d).slice(0,s)===Oo(i.d).slice(0,s)){for(;u--;)i=Xt(i.times(i),s);return d.precision=f,e==null?(gr=!0,Xt(i,f)):i}i=o}}function Vr(t){for(var e=t.e*ur,r=t.d[0];r>=10;r/=10)e++;return e}function h_(t,e,r){if(e>t.LN10.sd())throw gr=!0,r&&(t.precision=r),Error(_i+"LN10 precision limit exceeded");return Xt(new t(t.LN10),e)}function ll(t){for(var e="";t--;)e+="0";return e}function Om(t,e){var r,n,a,i,o,s,l,u,d,f=1,h=10,p=t,v=p.d,m=p.constructor,g=m.precision;if(p.s<1)throw Error(_i+(p.s?"NaN":"-Infinity"));if(p.eq(Ia))return new m(0);if(e==null?(gr=!1,u=g):u=e,p.eq(10))return e==null&&(gr=!0),h_(m,u);if(u+=h,m.precision=u,r=Oo(v),n=r.charAt(0),i=Vr(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=Oo(p.d),n=r.charAt(0),f++;i=Vr(p),n>1?(p=new m("0."+r),i++):p=new m(n+"."+r.slice(1))}else return l=h_(m,u+2,g).times(i+""),p=Om(new m(n+"."+r.slice(1)),u-h).plus(l),m.precision=g,e==null?(gr=!0,Xt(p,g)):p;for(s=o=p=Cs(p.minus(Ia),p.plus(Ia),u),d=Xt(p.times(p),u),a=3;;){if(o=Xt(o.times(d),u),l=s.plus(Cs(o,new m(a),u)),Oo(l.d).slice(0,u)===Oo(s.d).slice(0,u))return s=s.times(2),i!==0&&(s=s.plus(h_(m,u+2,g).times(i+""))),s=Cs(s,new m(f),u),m.precision=g,e==null?(gr=!0,Xt(s,g)):s;s=l,a+=2}}function Kk(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=Eh(r/ur),t.d=[],n=(r+1)%ur,r<0&&(n+=ur),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=ur;n<a;)t.d.push(+e.slice(n,n+=ur));e=e.slice(n),n=ur-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),gr&&(t.e>Hy||t.e<-Hy))throw Error(NN+r)}else t.s=0,t.e=0,t.d=[0];return t}function Xt(t,e,r){var n,a,i,o,s,l,u,d,f=t.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=e-o,n<0)n+=ur,a=e,u=f[d=0];else{if(d=Math.ceil((n+1)/ur),i=f.length,d>=i)return t;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=ur,a=n-ur+o}if(r!==void 0&&(i=Ac(10,o-a-1),s=u/i%10|0,l=e<0||f[d+1]!==void 0||u%i,l=r<4?(s||l)&&(r==0||r==(t.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?a>0?u/Ac(10,o-a):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return l?(i=Vr(t),f.length=1,e=e-i-1,f[0]=Ac(10,(ur-e%ur)%ur),t.e=Eh(-e/ur)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Ac(10,ur-n),f[d]=a>0?(u/Ac(10,o-a)%Ac(10,a)|0)*i:0),l)for(;;)if(d==0){(f[0]+=i)==un&&(f[0]=1,++t.e);break}else{if(f[d]+=i,f[d]!=un)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(gr&&(t.e>Hy||t.e<-Hy))throw Error(NN+Vr(t));return t}function wU(t,e){var r,n,a,i,o,s,l,u,d,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),gr?Xt(e,p):e;if(l=t.d,f=e.d,n=e.e,u=t.e,l=l.slice(),o=u-n,o){for(d=o<0,d?(r=l,o=-o,s=f.length):(r=f,n=u,s=l.length),a=Math.max(Math.ceil(p/ur),s)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=l.length,s=f.length,d=a<s,d&&(s=a),a=0;a<s;a++)if(l[a]!=f[a]){d=l[a]<f[a];break}o=0}for(d&&(r=l,l=f,f=r,e.s=-e.s),s=l.length,a=f.length-s;a>0;--a)l[s++]=0;for(a=f.length;a>o;){if(l[--a]<f[a]){for(i=a;i&&l[--i]===0;)l[i]=un-1;--l[i],l[a]+=un}l[a]-=f[a]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,gr?Xt(e,p):e):new h(0)}function xu(t,e,r){var n,a=Vr(t),i=Oo(t.d),o=i.length;return e?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+ll(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+ll(-a-1)+i,r&&(n=r-o)>0&&(i+=ll(n))):a>=o?(i+=ll(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+ll(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=ll(n))),t.s<0?"-"+i:i}function Xk(t,e){if(t.length>e)return t.length=e,!0}function bU(t){var e,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Jc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return Kk(o,i.toString())}else if(typeof i!="string")throw Error(Jc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,fNe.test(i))Kk(o,i);else throw Error(Jc+i)}if(a.prototype=Oe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=bU,a.config=a.set=hNe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function hNe(t){if(!t||typeof t!="object")throw Error(_i+"Object expected");var e,r,n,a=["precision",1,Ch,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(Eh(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(Jc+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Jc+r+": "+n);return this}var ON=bU(dNe);Ia=new ON(1);const Gt=ON;function pNe(t){return yNe(t)||gNe(t)||vNe(t)||mNe()}function mNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vNe(t,e){if(t){if(typeof t=="string")return uC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uC(t,e)}}function gNe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function yNe(t){if(Array.isArray(t))return uC(t)}function uC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var xNe=function(e){return e},_U={"@@functional/placeholder":!0},SU=function(e){return e===_U},Yk=function(e){return function r(){return arguments.length===0||arguments.length===1&&SU(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},wNe=function t(e,r){return e===1?r:Yk(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(s){return s!==_U}).length;return o>=e?r.apply(void 0,a):t(e-o,Yk(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var d=a.map(function(f){return SU(f)?l.shift():f});return r.apply(void 0,pNe(d).concat(l))}))})},cw=function(e){return wNe(e.length,e)},dC=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},bNe=cw(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),_Ne=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return xNe;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(s,l){return l(s)},i.apply(void 0,arguments))}},fC=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},CU=function(e){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(s,l){return s===r[l]})||(r=i,n=e.apply(void 0,i)),n}};function SNe(t){var e;return t===0?e=1:e=Math.floor(new Gt(t).abs().log(10).toNumber())+1,e}function CNe(t,e,r){for(var n=new Gt(t),a=0,i=[];n.lt(e)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var ENe=cw(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),ANe=cw(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),jNe=cw(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const uw={rangeStep:CNe,getDigitCount:SNe,interpolateNumber:ENe,uninterpolateNumber:ANe,uninterpolateTruncation:jNe};function hC(t){return TNe(t)||ONe(t)||EU(t)||NNe()}function NNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ONe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function TNe(t){if(Array.isArray(t))return pC(t)}function Tm(t,e){return INe(t)||kNe(t,e)||EU(t,e)||PNe()}function PNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EU(t,e){if(t){if(typeof t=="string")return pC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pC(t,e)}}function pC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kNe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=t[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(e&&r.length===e));n=!0);}catch(l){a=!0,i=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function INe(t){if(Array.isArray(t))return t}function AU(t){var e=Tm(t,2),r=e[0],n=e[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function jU(t,e,r){if(t.lte(0))return new Gt(0);var n=uw.getDigitCount(t.toNumber()),a=new Gt(10).pow(n),i=t.div(a),o=n!==1?.05:.1,s=new Gt(Math.ceil(i.div(o).toNumber())).add(r).mul(o),l=s.mul(a);return e?l:new Gt(Math.ceil(l))}function RNe(t,e,r){var n=1,a=new Gt(t);if(!a.isint()&&r){var i=Math.abs(t);i<1?(n=new Gt(10).pow(uw.getDigitCount(t)-1),a=new Gt(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Gt(Math.floor(t)))}else t===0?a=new Gt(Math.floor((e-1)/2)):r||(a=new Gt(Math.floor(t)));var o=Math.floor((e-1)/2),s=_Ne(bNe(function(l){return a.add(new Gt(l-o).mul(n)).toNumber()}),dC);return s(0,e)}function NU(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Gt(0),tickMin:new Gt(0),tickMax:new Gt(0)};var i=jU(new Gt(e).sub(t).div(r-1),n,a),o;t<=0&&e>=0?o=new Gt(0):(o=new Gt(t).add(e).div(2),o=o.sub(new Gt(o).mod(i)));var s=Math.ceil(o.sub(t).div(i).toNumber()),l=Math.ceil(new Gt(e).sub(o).div(i).toNumber()),u=s+l+1;return u>r?NU(t,e,r,n,a+1):(u<r&&(l=e>0?l+(r-u):l,s=e>0?s:s+(r-u)),{step:i,tickMin:o.sub(new Gt(s).mul(i)),tickMax:o.add(new Gt(l).mul(i))})}function DNe(t){var e=Tm(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),s=AU([r,n]),l=Tm(s,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(hC(dC(0,a-1).map(function(){return 1/0}))):[].concat(hC(dC(0,a-1).map(function(){return-1/0})),[d]);return r>n?fC(f):f}if(u===d)return RNe(u,a,i);var h=NU(u,d,o,i),p=h.step,v=h.tickMin,m=h.tickMax,g=uw.rangeStep(v,m.add(new Gt(.1).mul(p)),p);return r>n?fC(g):g}function MNe(t,e){var r=Tm(t,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=AU([n,a]),s=Tm(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[n,a];if(l===u)return[l];var d=Math.max(e,2),f=jU(new Gt(u).sub(l).div(d-1),i,0),h=[].concat(hC(uw.rangeStep(new Gt(l),new Gt(u).sub(new Gt(.99).mul(f)),f)),[u]);return n>a?fC(h):h}var $Ne=CU(DNe),LNe=CU(MNe),FNe="Invariant failed";function wu(t,e){throw new Error(FNe)}var BNe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}function qy(){return qy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qy.apply(this,arguments)}function UNe(t,e){return HNe(t)||zNe(t,e)||WNe(t,e)||VNe()}function VNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WNe(t,e){if(t){if(typeof t=="string")return Zk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zk(t,e)}}function Zk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zNe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function HNe(t){if(Array.isArray(t))return t}function qNe(t,e){if(t==null)return{};var r=GNe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function GNe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function KNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XNe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,PU(n.key),n)}}function YNe(t,e,r){return e&&XNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZNe(t,e,r){return e=Gy(e),QNe(t,OU()?Reflect.construct(e,r||[],Gy(t).constructor):e.apply(t,r))}function QNe(t,e){if(e&&(Tf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JNe(t)}function JNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OU=function(){return!!t})()}function Gy(t){return Gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gy(t)}function eOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mC(t,e)}function mC(t,e){return mC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},mC(t,e)}function TU(t,e,r){return e=PU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PU(t){var e=tOe(t,"string");return Tf(e)=="symbol"?e:e+""}function tOe(t,e){if(Tf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wv=function(t){function e(){return KNe(this,e),ZNe(this,e,arguments)}return eOe(e,t),YNe(e,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,s=n.dataKey,l=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=qNe(n,BNe),p=Ve(h,!1);this.props.direction==="x"&&d.type!=="number"&&wu();var v=l.map(function(m){var g=u(m,s),x=g.x,y=g.y,w=g.value,_=g.errorVal;if(!_)return null;var S=[],C,E;if(Array.isArray(_)){var A=UNe(_,2);C=A[0],E=A[1]}else C=E=_;if(i==="vertical"){var j=d.scale,T=y+a,N=T+o,O=T-o,$=j(w-C),R=j(w+E);S.push({x1:R,y1:N,x2:R,y2:O}),S.push({x1:$,y1:T,x2:R,y2:T}),S.push({x1:$,y1:N,x2:$,y2:O})}else if(i==="horizontal"){var F=f.scale,B=x+a,M=B-o,I=B+o,P=F(w-C),V=F(w+E);S.push({x1:M,y1:V,x2:I,y2:V}),S.push({x1:B,y1:P,x2:B,y2:V}),S.push({x1:M,y1:P,x2:I,y2:P})}return k.createElement(bt,qy({className:"recharts-errorBar",key:"bar-".concat(S.map(function(z){return"".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))},p),S.map(function(z){return k.createElement("line",qy({},z,{key:"line-".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))}))});return k.createElement(bt,{className:"recharts-errorBars"},v)}}])}(k.Component);TU(Wv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});TU(Wv,"displayName","ErrorBar");function Pm(t){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pm(t)}function Qk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function vc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Qk(Object(r),!0).forEach(function(n){rOe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rOe(t,e,r){return e=nOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nOe(t){var e=aOe(t,"string");return Pm(e)=="symbol"?e:e+""}function aOe(t,e){if(Pm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kU=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,i=e.legendContent,o=ja(r,Fd);if(!o)return null;var s=Fd.defaultProps,l=s!==void 0?vc(vc({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,v=p.sectors||p.data||[];return d.concat(v.map(function(m){return{type:o.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?vc(vc({},h),f.props):{},v=p.dataKey,m=p.name,g=p.legendType,x=p.hide;return{inactive:x,dataKey:v,type:l.iconType||g||"square",color:TN(f),value:m||v,payload:p}}),vc(vc(vc({},l),Fd.getWithHeight(o,a)),{},{payload:u,item:o})};function km(t){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},km(t)}function Jk(t){return lOe(t)||sOe(t)||oOe(t)||iOe()}function iOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oOe(t,e){if(t){if(typeof t=="string")return vC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vC(t,e)}}function sOe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lOe(t){if(Array.isArray(t))return vC(t)}function vC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function eI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Nr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eI(Object(r),!0).forEach(function(n){Ud(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ud(t,e,r){return e=cOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cOe(t){var e=uOe(t,"string");return km(e)=="symbol"?e:e+""}function uOe(t,e){if(km(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tn(t,e,r){return Je(t)||Je(e)?r:an(e)?Fa(t,e,r):Xe(e)?e(t):r}function Tp(t,e,r,n){var a=sNe(t,function(s){return tn(s,e)});if(r==="number"){var i=a.filter(function(s){return ge(s)||parseFloat(s)});return i.length?[lw(i),sw(i)]:[1/0,-1/0]}var o=n?a.filter(function(s){return!Je(s)}):a;return o.map(function(s){return an(s)||s instanceof Date?s:""})}var dOe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var l=i.range,u=0;u<s;u++){var d=u>0?a[u-1].coordinate:a[s-1].coordinate,f=a[u].coordinate,h=u>=s-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(Yn(f-d)!==Yn(h-f)){var v=[];if(Yn(h-f)===Yn(l[1]-l[0])){p=h;var m=f+l[1]-l[0];v[0]=Math.min(m,(m+d)/2),v[1]=Math.max(m,(m+d)/2)}else{p=d;var g=h+l[1]-l[0];v[0]=Math.min(f,(g+f)/2),v[1]=Math.max(f,(g+f)/2)}var x=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>x[0]&&e<=x[1]||e>=v[0]&&e<=v[1]){o=a[u].index;break}}else{var y=Math.min(d,h),w=Math.max(d,h);if(e>(y+f)/2&&e<=(w+f)/2){o=a[u].index;break}}}else for(var _=0;_<s;_++)if(_===0&&e<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<s-1&&e>(n[_].coordinate+n[_-1].coordinate)/2&&e<=(n[_].coordinate+n[_+1].coordinate)/2||_===s-1&&e>(n[_].coordinate+n[_-1].coordinate)/2){o=n[_].index;break}return o},TN=function(e){var r,n=e,a=n.type.displayName,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Nr(Nr({},e.type.defaultProps),e.props):e.props,o=i.stroke,s=i.fill,l;switch(a){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},fOe=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},s=Object.keys(i),l=0,u=s.length;l<u;l++)for(var d=i[s[l]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var v=d[f[h]],m=v.items,g=v.cateAxisId,x=m.filter(function(E){return _s(E.type).indexOf("Bar")>=0});if(x&&x.length){var y=x[0].type.defaultProps,w=y!==void 0?Nr(Nr({},y),x[0].props):x[0].props,_=w.barSize,S=w[g];o[S]||(o[S]=[]);var C=Je(_)?r:_;o[S].push({item:x[0],stackList:x.slice(1),barSize:Je(C)?void 0:Zn(C,n,0)})}}return o},hOe=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,i=e.sizeList,o=i===void 0?[]:i,s=e.maxBarSize,l=o.length;if(l<1)return null;var u=Zn(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=a/l,v=o.reduce(function(_,S){return _+S.barSize||0},0);v+=(l-1)*u,v>=a&&(v-=(l-1)*u,u=0),v>=a&&p>0&&(h=!0,p*=.9,v=l*p);var m=(a-v)/2>>0,g={offset:m-u,size:0};d=o.reduce(function(_,S){var C={item:S.item,position:{offset:g.offset+g.size+u,size:h?p:S.barSize}},E=[].concat(Jk(_),[C]);return g=E[E.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(A){E.push({item:A,position:g})}),E},f)}else{var x=Zn(n,a,0,!0);a-2*x-(l-1)*u<=0&&(u=0);var y=(a-2*x-(l-1)*u)/l;y>1&&(y>>=0);var w=s===+s?Math.min(y,s):y;d=o.reduce(function(_,S,C){var E=[].concat(Jk(_),[{item:S.item,position:{offset:x+(y+u)*C+(y-w)/2,size:w}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(A){E.push({item:A,position:E[E.length-1].position})}),E},f)}return d},pOe=function(e,r,n,a){var i=n.children,o=n.width,s=n.margin,l=o-(s.left||0)-(s.right||0),u=kU({children:i,legendWidth:l});if(u){var d=a||{},f=d.width,h=d.height,p=u.align,v=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&v==="middle")&&p!=="center"&&ge(e[p]))return Nr(Nr({},e),{},Ud({},p,e[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&v!=="middle"&&ge(e[v]))return Nr(Nr({},e),{},Ud({},v,e[v]+(h||0)))}return e},mOe=function(e,r,n){return Je(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},IU=function(e,r,n,a,i){var o=r.props.children,s=Ba(o,Wv).filter(function(u){return mOe(a,i,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=tn(d,n);if(Je(f))return u;var h=Array.isArray(f)?[lw(f),sw(f)]:[f,f],p=l.reduce(function(v,m){var g=tn(d,m,0),x=h[0]-Math.abs(Array.isArray(g)?g[0]:g),y=h[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(x,v[0]),Math.max(y,v[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},vOe=function(e,r,n,a,i){var o=r.map(function(s){return IU(e,s,n,i,a)}).filter(function(s){return!Je(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},RU=function(e,r,n,a,i){var o=r.map(function(l){var u=l.props.dataKey;return n==="number"&&u&&IU(e,l,u,a)||Tp(e,u,n,i)});if(n==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var d=0,f=u.length;d<f;d++)s[u[d]]||(s[u[d]]=!0,l.push(u[d]));return l},[])},DU=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},Fc=function(e,r,n){if(!e)return null;var a=e.scale,i=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Yn(s[0]-s[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!$v(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},p_=new WeakMap,Lg=function(e,r){if(typeof r!="function")return e;p_.has(e)||p_.set(e,new WeakMap);var n=p_.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},MU=function(e,r,n){var a=e.scale,i=e.type,o=e.layout,s=e.axisType;if(a==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Cm(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:Uy(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Op(),realScaleType:"point"}:i==="category"?{scale:Cm(),realScaleType:"band"}:{scale:Uy(),realScaleType:"linear"};if(vu(a)){var l="scale".concat(qx(a));return{scale:(Gk[l]||Op)(),realScaleType:Gk[l]?l:"point"}}return Xe(a)?{scale:a}:{scale:Op(),realScaleType:"point"}},tI=1e-4,$U=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),i=Math.min(a[0],a[1])-tI,o=Math.max(a[0],a[1])+tI,s=e(r[0]),l=e(r[n-1]);(s<i||s>o||l<i||l>o)&&e.domain([r[0],r[n-1]])}},gOe=function(e,r){if(!e)return null;for(var n=0,a=e.length;n<a;n++)if(e[n].item===r)return e[n].position;return null},yOe=function(e,r){if(!r||r.length!==2||!ge(r[0])||!ge(r[1]))return e;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[e[0],e[1]];return(!ge(e[0])||e[0]<n)&&(i[0]=n),(!ge(e[1])||e[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},xOe=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,o=0,s=0;s<r;++s){var l=$v(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=i,e[s][n][1]=i+l,i=e[s][n][1]):(e[s][n][0]=o,e[s][n][1]=o+l,o=e[s][n][1])}},wOe=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var s=$v(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=i,e[o][n][1]=i+s,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},bOe={sign:xOe,expand:F0e,none:_f,silhouette:B0e,wiggle:U0e,positive:wOe},_Oe=function(e,r,n){var a=r.map(function(s){return s.props.dataKey}),i=bOe[n],o=L0e().keys(a).value(function(s,l){return+tn(s,l,0)}).order(US).offset(i);return o(e)},SOe=function(e,r,n,a,i,o){if(!e)return null;var s=o?r.reverse():r,l={},u=s.reduce(function(f,h){var p,v=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Nr(Nr({},h.type.defaultProps),h.props):h.props,m=v.stackId,g=v.hide;if(g)return f;var x=v[n],y=f[x]||{hasStack:!1,stackGroups:{}};if(an(m)){var w=y.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(h),y.hasStack=!0,y.stackGroups[m]=w}else y.stackGroups[xh("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Nr(Nr({},f),{},Ud({},x,y))},l),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var v={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,g){var x=p.stackGroups[g];return Nr(Nr({},m),{},Ud({},g,{numericAxisId:n,cateAxisId:a,items:x.items,stackedData:_Oe(e,x.items,i)}))},v)}return Nr(Nr({},f),{},Ud({},h,p))},d)},LU=function(e,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=$Ne(u,i,s);return e.domain([lw(d),sw(d)]),{niceTicks:d}}if(i&&a==="number"){var f=e.domain(),h=LNe(f,i,s);return{niceTicks:h}}return null};function rI(t){var e=t.axis,r=t.ticks,n=t.bandSize,a=t.entry,i=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Je(a[e.dataKey])){var s=wy(r,"value",a[e.dataKey]);if(s)return s.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=tn(a,Je(o)?e.dataKey:o);return Je(l)?null:e.scale(l)}var nI=function(e){var r=e.axis,n=e.ticks,a=e.offset,i=e.bandSize,o=e.entry,s=e.index;if(r.type==="category")return n[s]?n[s].coordinate+a:null;var l=tn(o,r.dataKey,r.domain[s]);return Je(l)?null:r.scale(l)-i/2+a},COe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},EOe=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Nr(Nr({},e.type.defaultProps),e.props):e.props,i=a.stackId;if(an(i)){var o=r[i];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},AOe=function(e){return e.reduce(function(r,n){return[lw(n.concat([r[0]]).filter(ge)),sw(n.concat([r[1]]).filter(ge))]},[1/0,-1/0])},FU=function(e,r,n){return Object.keys(e).reduce(function(a,i){var o=e[i],s=o.stackedData,l=s.reduce(function(u,d){var f=AOe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},aI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,iI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gC=function(e,r,n){if(Xe(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(ge(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(aI.test(e[0])){var i=+aI.exec(e[0])[1];a[0]=r[0]-i}else Xe(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(ge(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(iI.test(e[1])){var o=+iI.exec(e[1])[1];a[1]=r[1]+o}else Xe(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},Ky=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var i=aN(r,function(f){return f.coordinate}),o=1/0,s=1,l=i.length;s<l;s++){var u=i[s],d=i[s-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},oI=function(e,r,n){return!e||!e.length||Vv(e,Fa(n,"type.defaultProps.domain"))?r:e},BU=function(e,r){var n=e.type.defaultProps?Nr(Nr({},e.type.defaultProps),e.props):e.props,a=n.dataKey,i=n.name,o=n.unit,s=n.formatter,l=n.tooltipType,u=n.chartType,d=n.hide;return Nr(Nr({},Ve(e,!1)),{},{dataKey:a,unit:o,formatter:s,name:i||a,color:TN(e),value:tn(r,a),type:l,payload:r,chartType:u,hide:d})};function Im(t){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Im(t)}function sI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function us(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sI(Object(r),!0).forEach(function(n){UU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UU(t,e,r){return e=jOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jOe(t){var e=NOe(t,"string");return Im(e)=="symbol"?e:e+""}function NOe(t,e){if(Im(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OOe(t,e){return IOe(t)||kOe(t,e)||POe(t,e)||TOe()}function TOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function POe(t,e){if(t){if(typeof t=="string")return lI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lI(t,e)}}function lI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kOe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function IOe(t){if(Array.isArray(t))return t}var Xy=Math.PI/180,ROe=function(e){return e*180/Math.PI},rr=function(e,r,n,a){return{x:e+Math.cos(-Xy*a)*n,y:r+Math.sin(-Xy*a)*n}},VU=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},DOe=function(e,r,n,a,i){var o=e.width,s=e.height,l=e.startAngle,u=e.endAngle,d=Zn(e.cx,o,o/2),f=Zn(e.cy,s,s/2),h=VU(o,s,n),p=Zn(e.innerRadius,h,0),v=Zn(e.outerRadius,h,h*.8),m=Object.keys(r);return m.reduce(function(g,x){var y=r[x],w=y.domain,_=y.reversed,S;if(Je(y.range))a==="angleAxis"?S=[l,u]:a==="radiusAxis"&&(S=[p,v]),_&&(S=[S[1],S[0]]);else{S=y.range;var C=S,E=OOe(C,2);l=E[0],u=E[1]}var A=MU(y,i),j=A.realScaleType,T=A.scale;T.domain(w).range(S),$U(T);var N=LU(T,us(us({},y),{},{realScaleType:j})),O=us(us(us({},y),N),{},{range:S,radius:v,realScaleType:j,scale:T,cx:d,cy:f,innerRadius:p,outerRadius:v,startAngle:l,endAngle:u});return us(us({},g),{},UU({},x,O))},{})},MOe=function(e,r){var n=e.x,a=e.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},$Oe=function(e,r){var n=e.x,a=e.y,i=r.cx,o=r.cy,s=MOe({x:n,y:a},{x:i,y:o});if(s<=0)return{radius:s};var l=(n-i)/s,u=Math.acos(l);return a>o&&(u=2*Math.PI-u),{radius:s,angle:ROe(u),angleInRadian:u}},LOe=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},FOe=function(e,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),s=Math.min(i,o);return e+s*360},cI=function(e,r){var n=e.x,a=e.y,i=$Oe({x:n,y:a},r),o=i.radius,s=i.angle,l=r.innerRadius,u=r.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var d=LOe(r),f=d.startAngle,h=d.endAngle,p=s,v;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;v=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;v=p>=h&&p<=f}return v?us(us({},r),{},{radius:o,angle:FOe(p,r)}):null},WU=function(e){return!b.isValidElement(e)&&!Xe(e)&&typeof e!="boolean"?e.className:""};function Rm(t){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rm(t)}var BOe=["offset"];function UOe(t){return HOe(t)||zOe(t)||WOe(t)||VOe()}function VOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WOe(t,e){if(t){if(typeof t=="string")return yC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yC(t,e)}}function zOe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function HOe(t){if(Array.isArray(t))return yC(t)}function yC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qOe(t,e){if(t==null)return{};var r=GOe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function GOe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function uI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Hr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uI(Object(r),!0).forEach(function(n){KOe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KOe(t,e,r){return e=XOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XOe(t){var e=YOe(t,"string");return Rm(e)=="symbol"?e:e+""}function YOe(t,e){if(Rm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dm(){return Dm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dm.apply(this,arguments)}var ZOe=function(e){var r=e.value,n=e.formatter,a=Je(e.children)?r:e.children;return Xe(n)?n(a):a},QOe=function(e,r){var n=Yn(r-e),a=Math.min(Math.abs(r-e),360);return n*a},JOe=function(e,r,n){var a=e.position,i=e.viewBox,o=e.offset,s=e.className,l=i,u=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,v=l.endAngle,m=l.clockWise,g=(f+h)/2,x=QOe(p,v),y=x>=0?1:-1,w,_;a==="insideStart"?(w=p+y*o,_=m):a==="insideEnd"?(w=v-y*o,_=!m):a==="end"&&(w=v+y*o,_=m),_=x<=0?_:!_;var S=rr(u,d,g,w),C=rr(u,d,g,w+(_?1:-1)*359),E="M".concat(S.x,",").concat(S.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(_?0:1,`,
    `).concat(C.x,",").concat(C.y),A=Je(e.id)?xh("recharts-radial-line-"):e.id;return k.createElement("text",Dm({},n,{dominantBaseline:"central",className:tt("recharts-radial-bar-label",s)}),k.createElement("defs",null,k.createElement("path",{id:A,d:E})),k.createElement("textPath",{xlinkHref:"#".concat(A)},r))},eTe=function(e){var r=e.viewBox,n=e.offset,a=e.position,i=r,o=i.cx,s=i.cy,l=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var p=rr(o,s,u+n,h),v=p.x,m=p.y;return{x:v,y:m,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var g=(l+u)/2,x=rr(o,s,g,h),y=x.x,w=x.y;return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},tTe=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,i=e.position,o=r,s=o.x,l=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,p=f>0?"end":"start",v=f>0?"start":"end",m=u>=0?1:-1,g=m*a,x=m>0?"end":"start",y=m>0?"start":"end";if(i==="top"){var w={x:s+u/2,y:l-f*a,textAnchor:"middle",verticalAnchor:p};return Hr(Hr({},w),n?{height:Math.max(l-n.y,0),width:u}:{})}if(i==="bottom"){var _={x:s+u/2,y:l+d+h,textAnchor:"middle",verticalAnchor:v};return Hr(Hr({},_),n?{height:Math.max(n.y+n.height-(l+d),0),width:u}:{})}if(i==="left"){var S={x:s-g,y:l+d/2,textAnchor:x,verticalAnchor:"middle"};return Hr(Hr({},S),n?{width:Math.max(S.x-n.x,0),height:d}:{})}if(i==="right"){var C={x:s+u+g,y:l+d/2,textAnchor:y,verticalAnchor:"middle"};return Hr(Hr({},C),n?{width:Math.max(n.x+n.width-C.x,0),height:d}:{})}var E=n?{width:u,height:d}:{};return i==="insideLeft"?Hr({x:s+g,y:l+d/2,textAnchor:y,verticalAnchor:"middle"},E):i==="insideRight"?Hr({x:s+u-g,y:l+d/2,textAnchor:x,verticalAnchor:"middle"},E):i==="insideTop"?Hr({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:v},E):i==="insideBottom"?Hr({x:s+u/2,y:l+d-h,textAnchor:"middle",verticalAnchor:p},E):i==="insideTopLeft"?Hr({x:s+g,y:l+h,textAnchor:y,verticalAnchor:v},E):i==="insideTopRight"?Hr({x:s+u-g,y:l+h,textAnchor:x,verticalAnchor:v},E):i==="insideBottomLeft"?Hr({x:s+g,y:l+d-h,textAnchor:y,verticalAnchor:p},E):i==="insideBottomRight"?Hr({x:s+u-g,y:l+d-h,textAnchor:x,verticalAnchor:p},E):mh(i)&&(ge(i.x)||Mc(i.x))&&(ge(i.y)||Mc(i.y))?Hr({x:s+Zn(i.x,u),y:l+Zn(i.y,d),textAnchor:"end",verticalAnchor:"end"},E):Hr({x:s+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},E)},rTe=function(e){return"cx"in e&&ge(e.cx)};function fn(t){var e=t.offset,r=e===void 0?5:e,n=qOe(t,BOe),a=Hr({offset:r},n),i=a.viewBox,o=a.position,s=a.value,l=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||Je(s)&&Je(l)&&!b.isValidElement(u)&&!Xe(u))return null;if(b.isValidElement(u))return b.cloneElement(u,a);var p;if(Xe(u)){if(p=b.createElement(u,a),b.isValidElement(p))return p}else p=ZOe(a);var v=rTe(i),m=Ve(a,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return JOe(a,p,m);var g=v?eTe(a):tTe(a);return k.createElement(yu,Dm({className:tt("recharts-label",f)},m,g,{breakAll:h}),p)}fn.displayName="Label";var zU=function(e){var r=e.cx,n=e.cy,a=e.angle,i=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,p=e.top,v=e.left,m=e.width,g=e.height,x=e.clockWise,y=e.labelViewBox;if(y)return y;if(ge(m)&&ge(g)){if(ge(f)&&ge(h))return{x:f,y:h,width:m,height:g};if(ge(p)&&ge(v))return{x:p,y:v,width:m,height:g}}return ge(f)&&ge(h)?{x:f,y:h,width:0,height:0}:ge(r)&&ge(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||l||s||0,clockWise:x}:e.viewBox?e.viewBox:{}},nTe=function(e,r){return e?e===!0?k.createElement(fn,{key:"label-implicit",viewBox:r}):an(e)?k.createElement(fn,{key:"label-implicit",viewBox:r,value:e}):b.isValidElement(e)?e.type===fn?b.cloneElement(e,{key:"label-implicit",viewBox:r}):k.createElement(fn,{key:"label-implicit",content:e,viewBox:r}):Xe(e)?k.createElement(fn,{key:"label-implicit",content:e,viewBox:r}):mh(e)?k.createElement(fn,Dm({viewBox:r},e,{key:"label-implicit"})):null:null},aTe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,i=zU(e),o=Ba(a,fn).map(function(l,u){return b.cloneElement(l,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var s=nTe(e.label,r||i);return[s].concat(UOe(o))};fn.parseViewBox=zU;fn.renderCallByParent=aTe;function iTe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var oTe=iTe;const sTe=Wt(oTe);function Mm(t){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mm(t)}var lTe=["valueAccessor"],cTe=["data","dataKey","clockWise","id","textBreakAll"];function uTe(t){return pTe(t)||hTe(t)||fTe(t)||dTe()}function dTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fTe(t,e){if(t){if(typeof t=="string")return xC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xC(t,e)}}function hTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pTe(t){if(Array.isArray(t))return xC(t)}function xC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Yy(){return Yy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yy.apply(this,arguments)}function dI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function fI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dI(Object(r),!0).forEach(function(n){mTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mTe(t,e,r){return e=vTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vTe(t){var e=gTe(t,"string");return Mm(e)=="symbol"?e:e+""}function gTe(t,e){if(Mm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hI(t,e){if(t==null)return{};var r=yTe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yTe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var xTe=function(e){return Array.isArray(e.value)?sTe(e.value):e.value};function Es(t){var e=t.valueAccessor,r=e===void 0?xTe:e,n=hI(t,lTe),a=n.data,i=n.dataKey,o=n.clockWise,s=n.id,l=n.textBreakAll,u=hI(n,cTe);return!a||!a.length?null:k.createElement(bt,{className:"recharts-label-list"},a.map(function(d,f){var h=Je(i)?r(d,f):tn(d&&d.payload,i),p=Je(s)?{}:{id:"".concat(s,"-").concat(f)};return k.createElement(fn,Yy({},Ve(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:fn.parseViewBox(Je(o)?d:fI(fI({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Es.displayName="LabelList";function wTe(t,e){return t?t===!0?k.createElement(Es,{key:"labelList-implicit",data:e}):k.isValidElement(t)||Xe(t)?k.createElement(Es,{key:"labelList-implicit",data:e,content:t}):mh(t)?k.createElement(Es,Yy({data:e},t,{key:"labelList-implicit"})):null:null}function bTe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=Ba(n,Es).map(function(o,s){return b.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!r)return a;var i=wTe(t.label,e);return[i].concat(uTe(a))}Es.renderCallByParent=bTe;function $m(t){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$m(t)}function wC(){return wC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wC.apply(this,arguments)}function pI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function mI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pI(Object(r),!0).forEach(function(n){_Te(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _Te(t,e,r){return e=STe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function STe(t){var e=CTe(t,"string");return $m(e)=="symbol"?e:e+""}function CTe(t,e){if($m(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if($m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ETe=function(e,r){var n=Yn(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},Fg=function(e){var r=e.cx,n=e.cy,a=e.radius,i=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,d=l*(s?1:-1)+a,f=Math.asin(l/d)/Xy,h=u?i:i+o*f,p=rr(r,n,d,h),v=rr(r,n,a,h),m=u?i-o*f:i,g=rr(r,n,d*Math.cos(f*Xy),m);return{center:p,circleTangency:v,lineTangency:g,theta:f}},HU=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,o=e.startAngle,s=e.endAngle,l=ETe(o,s),u=o+l,d=rr(r,n,i,o),f=rr(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=rr(r,n,a,o),v=rr(r,n,a,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},ATe=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=Yn(d-u),h=Fg({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:l}),p=h.circleTangency,v=h.lineTangency,m=h.theta,g=Fg({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:l}),x=g.circleTangency,y=g.lineTangency,w=g.theta,_=l?Math.abs(u-d):Math.abs(u-d)-m-w;if(_<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):HU({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var S="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(a>0){var C=Fg({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),E=C.circleTangency,A=C.lineTangency,j=C.theta,T=Fg({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),N=T.circleTangency,O=T.lineTangency,$=T.theta,R=l?Math.abs(u-d):Math.abs(u-d)-j-$;if(R<0&&o===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(R>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},jTe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},qU=function(e){var r=mI(mI({},jTe),e),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var p=tt("recharts-sector",h),v=o-i,m=Zn(s,v,0,!0),g;return m>0&&Math.abs(d-f)<360?g=ATe({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(m,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):g=HU({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),k.createElement("path",wC({},Ve(r,!0),{className:p,d:g,role:"img"}))};function Lm(t){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lm(t)}function bC(){return bC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bC.apply(this,arguments)}function vI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function gI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vI(Object(r),!0).forEach(function(n){NTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NTe(t,e,r){return e=OTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OTe(t){var e=TTe(t,"string");return Lm(e)=="symbol"?e:e+""}function TTe(t,e){if(Lm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yI={curveBasisClosed:j0e,curveBasisOpen:N0e,curveBasis:A0e,curveBumpX:f0e,curveBumpY:h0e,curveLinearClosed:O0e,curveLinear:Kx,curveMonotoneX:T0e,curveMonotoneY:P0e,curveNatural:k0e,curveStep:I0e,curveStepAfter:D0e,curveStepBefore:R0e},Bg=function(e){return e.x===+e.x&&e.y===+e.y},Xh=function(e){return e.x},Yh=function(e){return e.y},PTe=function(e,r){if(Xe(e))return e;var n="curve".concat(qx(e));return(n==="curveMonotone"||n==="curveBump")&&r?yI["".concat(n).concat(r==="vertical"?"Y":"X")]:yI[n]||Kx},kTe=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,i=a===void 0?[]:a,o=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,d=PTe(n,s),f=u?i.filter(function(m){return Bg(m)}):i,h;if(Array.isArray(o)){var p=u?o.filter(function(m){return Bg(m)}):o,v=f.map(function(m,g){return gI(gI({},m),{},{base:p[g]})});return s==="vertical"?h=Tg().y(Yh).x1(Xh).x0(function(m){return m.base.x}):h=Tg().x(Xh).y1(Yh).y0(function(m){return m.base.y}),h.defined(Bg).curve(d),h(v)}return s==="vertical"&&ge(o)?h=Tg().y(Yh).x1(Xh).x0(o):ge(o)?h=Tg().x(Xh).y1(Yh).y0(o):h=VF().x(Xh).y(Yh),h.defined(Bg).curve(d),h(f)},Zy=function(e){var r=e.className,n=e.points,a=e.path,i=e.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?kTe(e):a;return b.createElement("path",bC({},Ve(e,!1),by(e),{className:tt("recharts-curve",r),d:o,ref:i}))},GU={exports:{}},ITe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",RTe=ITe,DTe=RTe;function KU(){}function XU(){}XU.resetWarningCache=KU;var MTe=function(){function t(n,a,i,o,s,l){if(l!==DTe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:XU,resetWarningCache:KU};return r.PropTypes=r,r};GU.exports=MTe();var $Te=GU.exports;const Nt=Wt($Te);var LTe=Object.getOwnPropertyNames,FTe=Object.getOwnPropertySymbols,BTe=Object.prototype.hasOwnProperty;function xI(t,e){return function(n,a,i){return t(n,a,i)&&e(n,a,i)}}function Ug(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);var i=a.cache,o=i.get(r),s=i.get(n);if(o&&s)return o===n&&s===r;i.set(r,n),i.set(n,r);var l=t(r,n,a);return i.delete(r),i.delete(n),l}}function wI(t){return LTe(t).concat(FTe(t))}var UTe=Object.hasOwn||function(t,e){return BTe.call(t,e)};function Du(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var VTe="__v",WTe="__o",zTe="_owner",bI=Object.getOwnPropertyDescriptor,_I=Object.keys;function HTe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function qTe(t,e){return Du(t.getTime(),e.getTime())}function GTe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function KTe(t,e){return t===e}function SI(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),i=t.entries(),o,s,l=0;(o=i.next())&&!o.done;){for(var u=e.entries(),d=!1,f=0;(s=u.next())&&!s.done;){if(a[f]){f++;continue}var h=o.value,p=s.value;if(r.equals(h[0],p[0],l,f,t,e,r)&&r.equals(h[1],p[1],h[0],p[0],t,e,r)){d=a[f]=!0;break}f++}if(!d)return!1;l++}return!0}var XTe=Du;function YTe(t,e,r){var n=_I(t),a=n.length;if(_I(e).length!==a)return!1;for(;a-- >0;)if(!YU(t,e,r,n[a]))return!1;return!0}function Zh(t,e,r){var n=wI(t),a=n.length;if(wI(e).length!==a)return!1;for(var i,o,s;a-- >0;)if(i=n[a],!YU(t,e,r,i)||(o=bI(t,i),s=bI(e,i),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function ZTe(t,e){return Du(t.valueOf(),e.valueOf())}function QTe(t,e){return t.source===e.source&&t.flags===e.flags}function CI(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),i=t.values(),o,s;(o=i.next())&&!o.done;){for(var l=e.values(),u=!1,d=0;(s=l.next())&&!s.done;){if(!a[d]&&r.equals(o.value,s.value,o.value,s.value,t,e,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function JTe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function ePe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function YU(t,e,r,n){return(n===zTe||n===WTe||n===VTe)&&(t.$$typeof||e.$$typeof)?!0:UTe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var tPe="[object Arguments]",rPe="[object Boolean]",nPe="[object Date]",aPe="[object Error]",iPe="[object Map]",oPe="[object Number]",sPe="[object Object]",lPe="[object RegExp]",cPe="[object Set]",uPe="[object String]",dPe="[object URL]",fPe=Array.isArray,EI=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,AI=Object.assign,hPe=Object.prototype.toString.call.bind(Object.prototype.toString);function pPe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,a=t.areFunctionsEqual,i=t.areMapsEqual,o=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(v,m,g){if(v===m)return!0;if(v==null||m==null)return!1;var x=typeof v;if(x!==typeof m)return!1;if(x!=="object")return x==="number"?o(v,m,g):x==="function"?a(v,m,g):!1;var y=v.constructor;if(y!==m.constructor)return!1;if(y===Object)return s(v,m,g);if(fPe(v))return e(v,m,g);if(EI!=null&&EI(v))return f(v,m,g);if(y===Date)return r(v,m,g);if(y===RegExp)return u(v,m,g);if(y===Map)return i(v,m,g);if(y===Set)return d(v,m,g);var w=hPe(v);return w===nPe?r(v,m,g):w===lPe?u(v,m,g):w===iPe?i(v,m,g):w===cPe?d(v,m,g):w===sPe?typeof v.then!="function"&&typeof m.then!="function"&&s(v,m,g):w===dPe?h(v,m,g):w===aPe?n(v,m,g):w===tPe?s(v,m,g):w===rPe||w===oPe||w===uPe?l(v,m,g):!1}}function mPe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,a={areArraysEqual:n?Zh:HTe,areDatesEqual:qTe,areErrorsEqual:GTe,areFunctionsEqual:KTe,areMapsEqual:n?xI(SI,Zh):SI,areNumbersEqual:XTe,areObjectsEqual:n?Zh:YTe,arePrimitiveWrappersEqual:ZTe,areRegExpsEqual:QTe,areSetsEqual:n?xI(CI,Zh):CI,areTypedArraysEqual:n?Zh:JTe,areUrlsEqual:ePe};if(r&&(a=AI({},a,r(a))),e){var i=Ug(a.areArraysEqual),o=Ug(a.areMapsEqual),s=Ug(a.areObjectsEqual),l=Ug(a.areSetsEqual);a=AI({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return a}function vPe(t){return function(e,r,n,a,i,o,s){return t(e,r,s)}}function gPe(t){var e=t.circular,r=t.comparator,n=t.createState,a=t.equals,i=t.strict;if(n)return function(l,u){var d=n(),f=d.cache,h=f===void 0?e?new WeakMap:void 0:f,p=d.meta;return r(l,u,{cache:h,equals:a,meta:p,strict:i})};if(e)return function(l,u){return r(l,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(l,u){return r(l,u,o)}}var yPe=cc();cc({strict:!0});cc({circular:!0});cc({circular:!0,strict:!0});cc({createInternalComparator:function(){return Du}});cc({strict:!0,createInternalComparator:function(){return Du}});cc({circular:!0,createInternalComparator:function(){return Du}});cc({circular:!0,createInternalComparator:function(){return Du},strict:!0});function cc(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,a=t.createState,i=t.strict,o=i===void 0?!1:i,s=mPe(t),l=pPe(s),u=n?n(l):vPe(l);return gPe({circular:r,comparator:l,createState:a,equals:u,strict:o})}function xPe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function jI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>e?(t(i),r=-1):xPe(a)};requestAnimationFrame(n)}function _C(t){"@babel/helpers - typeof";return _C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_C(t)}function wPe(t){return CPe(t)||SPe(t)||_Pe(t)||bPe()}function bPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Pe(t,e){if(t){if(typeof t=="string")return NI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NI(t,e)}}function NI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function SPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function CPe(t){if(Array.isArray(t))return t}function EPe(){var t={},e=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,s=wPe(o),l=s[0],u=s.slice(1);if(typeof l=="number"){jI(a.bind(null,u),l);return}a(l),jI(a.bind(null,u));return}_C(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function Fm(t){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fm(t)}function OI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function TI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OI(Object(r),!0).forEach(function(n){ZU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZU(t,e,r){return e=APe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function APe(t){var e=jPe(t,"string");return Fm(e)==="symbol"?e:String(e)}function jPe(t,e){if(Fm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Fm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NPe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},OPe=function(e){return e},TPe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Pp=function(e,r){return Object.keys(r).reduce(function(n,a){return TI(TI({},n),{},ZU({},a,e(a,r[a])))},{})},PI=function(e,r,n){return e.map(function(a){return"".concat(TPe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function PPe(t,e){return RPe(t)||IPe(t,e)||QU(t,e)||kPe()}function kPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IPe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function RPe(t){if(Array.isArray(t))return t}function DPe(t){return LPe(t)||$Pe(t)||QU(t)||MPe()}function MPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QU(t,e){if(t){if(typeof t=="string")return SC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SC(t,e)}}function $Pe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function LPe(t){if(Array.isArray(t))return SC(t)}function SC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Qy=1e-4,JU=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},eV=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},kI=function(e,r){return function(n){var a=JU(e,r);return eV(a,n)}},FPe=function(e,r){return function(n){var a=JU(e,r),i=[].concat(DPe(a.map(function(o,s){return o*s}).slice(1)),[0]);return eV(i,n)}},II=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,s=1;break;case"ease":a=.25,i=.1,o=.25,s=1;break;case"ease-in":a=.42,i=0,o=1,s=1;break;case"ease-out":a=.42,i=0,o=.58,s=1;break;case"ease-in-out":a=0,i=0,o=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),d=PPe(u,4);a=d[0],i=d[1],o=d[2],s=d[3]}}}var f=kI(a,o),h=kI(i,s),p=FPe(a,o),v=function(x){return x>1?1:x<0?0:x},m=function(x){for(var y=x>1?1:x,w=y,_=0;_<8;++_){var S=f(w)-y,C=p(w);if(Math.abs(S-y)<Qy||C<Qy)return h(w);w=v(w-S/C)}return h(w)};return m.isStepper=!1,m},BPe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,i=a===void 0?8:a,o=e.dt,s=o===void 0?17:o,l=function(d,f,h){var p=-(d-f)*n,v=h*i,m=h+(p-v)*s/1e3,g=h*s/1e3+d;return Math.abs(g-f)<Qy&&Math.abs(m)<Qy?[f,0]:[g,m]};return l.isStepper=!0,l.dt=s,l},UPe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return II(a);case"spring":return BPe();default:if(a.split("(")[0]==="cubic-bezier")return II(a)}return typeof a=="function"?a:null};function Bm(t){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bm(t)}function RI(t){return zPe(t)||WPe(t)||tV(t)||VPe()}function VPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zPe(t){if(Array.isArray(t))return EC(t)}function DI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Sn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DI(Object(r),!0).forEach(function(n){CC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CC(t,e,r){return e=HPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HPe(t){var e=qPe(t,"string");return Bm(e)==="symbol"?e:String(e)}function qPe(t,e){if(Bm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Bm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GPe(t,e){return YPe(t)||XPe(t,e)||tV(t,e)||KPe()}function KPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tV(t,e){if(t){if(typeof t=="string")return EC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EC(t,e)}}function EC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function XPe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function YPe(t){if(Array.isArray(t))return t}var Jy=function(e,r,n){return e+(r-e)*n},AC=function(e){var r=e.from,n=e.to;return r!==n},ZPe=function t(e,r,n){var a=Pp(function(i,o){if(AC(o)){var s=e(o.from,o.to,o.velocity),l=GPe(s,2),u=l[0],d=l[1];return Sn(Sn({},o),{},{from:u,velocity:d})}return o},r);return n<1?Pp(function(i,o){return AC(o)?Sn(Sn({},o),{},{velocity:Jy(o.velocity,a[i].velocity,n),from:Jy(o.from,a[i].from,n)}):o},r):t(e,a,n-1)};const QPe=function(t,e,r,n,a){var i=NPe(t,e),o=i.reduce(function(g,x){return Sn(Sn({},g),{},CC({},x,[t[x],e[x]]))},{}),s=i.reduce(function(g,x){return Sn(Sn({},g),{},CC({},x,{from:t[x],velocity:0,to:e[x]}))},{}),l=-1,u,d,f=function(){return null},h=function(){return Pp(function(x,y){return y.from},s)},p=function(){return!Object.values(s).filter(AC).length},v=function(x){u||(u=x);var y=x-u,w=y/r.dt;s=ZPe(r,s,w),a(Sn(Sn(Sn({},t),e),h())),u=x,p()||(l=requestAnimationFrame(f))},m=function(x){d||(d=x);var y=(x-d)/n,w=Pp(function(S,C){return Jy.apply(void 0,RI(C).concat([r(y)]))},o);if(a(Sn(Sn(Sn({},t),e),w)),y<1)l=requestAnimationFrame(f);else{var _=Pp(function(S,C){return Jy.apply(void 0,RI(C).concat([r(1)]))},o);a(Sn(Sn(Sn({},t),e),_))}};return f=r.isStepper?v:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Pf(t){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(t)}var JPe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function e3e(t,e){if(t==null)return{};var r=t3e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function t3e(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function m_(t){return i3e(t)||a3e(t)||n3e(t)||r3e()}function r3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n3e(t,e){if(t){if(typeof t=="string")return jC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jC(t,e)}}function a3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function i3e(t){if(Array.isArray(t))return jC(t)}function jC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function MI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Di(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MI(Object(r),!0).forEach(function(n){dp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dp(t,e,r){return e=rV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s3e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rV(n.key),n)}}function l3e(t,e,r){return e&&s3e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rV(t){var e=c3e(t,"string");return Pf(e)==="symbol"?e:String(e)}function c3e(t,e){if(Pf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Pf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function u3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NC(t,e)}function NC(t,e){return NC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},NC(t,e)}function d3e(t){var e=f3e();return function(){var n=e1(t),a;if(e){var i=e1(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return OC(this,a)}}function OC(t,e){if(e&&(Pf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TC(t)}function TC(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f3e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function e1(t){return e1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},e1(t)}var Xo=function(t){u3e(r,t);var e=d3e(r);function r(n,a){var i;o3e(this,r),i=e.call(this,n,a);var o=i.props,s=o.isActive,l=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(TC(i)),i.changeStyle=i.changeStyle.bind(TC(i)),!s||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),OC(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},OC(i);i.state={style:l?dp({},l,u):u}}else i.state={style:{}};return i}return l3e(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,s=i.canBegin,l=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(s){if(!o){var p={style:l?dp({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(p);return}if(!(yPe(a.to,d)&&a.canBegin&&a.isActive)){var v=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=v||u?f:a.to;if(this.state&&h){var g={style:l?dp({},l,m):m};(l&&h[l]!==m||!l&&h!==m)&&this.setState(g)}this.runAnimation(Di(Di({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,s=a.to,l=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=QPe(o,s,UPe(u),l,this.changeStyle),v=function(){i.stopJSAnimation=p()};this.manager.start([h,d,v,l,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,s=a.begin,l=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(m,g,x){if(x===0)return m;var y=g.duration,w=g.easing,_=w===void 0?"ease":w,S=g.style,C=g.properties,E=g.onAnimationEnd,A=x>0?o[x-1]:g,j=C||Object.keys(S);if(typeof _=="function"||_==="spring")return[].concat(m_(m),[i.runJSAnimation.bind(i,{from:A.style,to:S,duration:y,easing:_}),y]);var T=PI(j,y,_),N=Di(Di(Di({},A.style),S),{},{transition:T});return[].concat(m_(m),[N,y,E]).filter(OPe)};return this.manager.start([l].concat(m_(o.reduce(p,[d,Math.max(h,s)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=EPe());var i=a.begin,o=a.duration,s=a.attributeName,l=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var m=s?dp({},s,l):l,g=PI(Object.keys(m),o,u);v.start([d,i,Di(Di({},m),{},{transition:g}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var s=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=e3e(a,JPe),u=b.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!s||u===0||o<=0)return i;var f=function(p){var v=p.props,m=v.style,g=m===void 0?{}:m,x=v.className,y=b.cloneElement(p,Di(Di({},l),{},{style:Di(Di({},g),d),className:x}));return y};return u===1?f(b.Children.only(i)):k.createElement("div",null,b.Children.map(i,function(h){return f(h)}))}}]),r}(b.PureComponent);Xo.displayName="Animate";Xo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Xo.propTypes={from:Nt.oneOfType([Nt.object,Nt.string]),to:Nt.oneOfType([Nt.object,Nt.string]),attributeName:Nt.string,duration:Nt.number,begin:Nt.number,easing:Nt.oneOfType([Nt.string,Nt.func]),steps:Nt.arrayOf(Nt.shape({duration:Nt.number.isRequired,style:Nt.object.isRequired,easing:Nt.oneOfType([Nt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Nt.func]),properties:Nt.arrayOf("string"),onAnimationEnd:Nt.func})),children:Nt.oneOfType([Nt.node,Nt.func]),isActive:Nt.bool,canBegin:Nt.bool,onAnimationEnd:Nt.func,shouldReAnimate:Nt.bool,onAnimationStart:Nt.func,onAnimationReStart:Nt.func};function Um(t){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Um(t)}function t1(){return t1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},t1.apply(this,arguments)}function h3e(t,e){return g3e(t)||v3e(t,e)||m3e(t,e)||p3e()}function p3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m3e(t,e){if(t){if(typeof t=="string")return $I(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $I(t,e)}}function $I(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function v3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function g3e(t){if(Array.isArray(t))return t}function LI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function FI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LI(Object(r),!0).forEach(function(n){y3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function y3e(t,e,r){return e=x3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function x3e(t){var e=w3e(t,"string");return Um(e)=="symbol"?e:e+""}function w3e(t,e){if(Um(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BI=function(e,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),s=a>=0?1:-1,l=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>o?o:i[h];d="M".concat(e,",").concat(r+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(r)),d+="L ".concat(e+n-l*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+s*f[1])),d+="L ".concat(e+n,",").concat(r+a-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+n-l*f[2],",").concat(r+a)),d+="L ".concat(e+l*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+a-s*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var v=Math.min(o,i);d="M ".concat(e,",").concat(r+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+l*v,",").concat(r,`
            L `).concat(e+n-l*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+n,",").concat(r+s*v,`
            L `).concat(e+n,",").concat(r+a-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+n-l*v,",").concat(r+a,`
            L `).concat(e+l*v,",").concat(r+a,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(r+a-s*v," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},b3e=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,i=r.x,o=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(i,i+s),d=Math.max(i,i+s),f=Math.min(o,o+l),h=Math.max(o,o+l);return n>=u&&n<=d&&a>=f&&a<=h}return!1},_3e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},PN=function(e){var r=FI(FI({},_3e),e),n=b.useRef(),a=b.useState(-1),i=h3e(a,2),o=i[0],s=i[1];b.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&s(_)}catch{}},[]);var l=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,v=r.animationEasing,m=r.animationDuration,g=r.animationBegin,x=r.isAnimationActive,y=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=tt("recharts-rectangle",p);return y?k.createElement(Xo,{canBegin:o>0,from:{width:d,height:f,x:l,y:u},to:{width:d,height:f,x:l,y:u},duration:m,animationEasing:v,isActive:y},function(_){var S=_.width,C=_.height,E=_.x,A=_.y;return k.createElement(Xo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,isActive:x,easing:v},k.createElement("path",t1({},Ve(r,!0),{className:w,d:BI(E,A,S,C,h),ref:n})))}):k.createElement("path",t1({},Ve(r,!0),{className:w,d:BI(l,u,d,f,h)}))},S3e=["points","className","baseLinePoints","connectNulls"];function Sd(){return Sd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sd.apply(this,arguments)}function C3e(t,e){if(t==null)return{};var r=E3e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function E3e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function UI(t){return O3e(t)||N3e(t)||j3e(t)||A3e()}function A3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j3e(t,e){if(t){if(typeof t=="string")return PC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PC(t,e)}}function N3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function O3e(t){if(Array.isArray(t))return PC(t)}function PC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var VI=function(e){return e&&e.x===+e.x&&e.y===+e.y},T3e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){VI(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),VI(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},kp=function(e,r){var n=T3e(e);r&&(n=[n.reduce(function(i,o){return[].concat(UI(i),UI(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},P3e=function(e,r,n){var a=kp(e,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(kp(r.reverse(),n).slice(1))},k3e=function(e){var r=e.points,n=e.className,a=e.baseLinePoints,i=e.connectNulls,o=C3e(e,S3e);if(!r||!r.length)return null;var s=tt("recharts-polygon",n);if(a&&a.length){var l=o.stroke&&o.stroke!=="none",u=P3e(r,a,i);return k.createElement("g",{className:s},k.createElement("path",Sd({},Ve(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),l?k.createElement("path",Sd({},Ve(o,!0),{fill:"none",d:kp(r,i)})):null,l?k.createElement("path",Sd({},Ve(o,!0),{fill:"none",d:kp(a,i)})):null)}var d=kp(r,i);return k.createElement("path",Sd({},Ve(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:s,d}))};function kC(){return kC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kC.apply(this,arguments)}var dw=function(e){var r=e.cx,n=e.cy,a=e.r,i=e.className,o=tt("recharts-dot",i);return r===+r&&n===+n&&a===+a?b.createElement("circle",kC({},Ve(e,!1),by(e),{className:o,cx:r,cy:n,r:a})):null};function Vm(t){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vm(t)}var I3e=["x","y","top","left","width","height","className"];function IC(){return IC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},IC.apply(this,arguments)}function WI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function R3e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WI(Object(r),!0).forEach(function(n){D3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function D3e(t,e,r){return e=M3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M3e(t){var e=$3e(t,"string");return Vm(e)=="symbol"?e:e+""}function $3e(t,e){if(Vm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function L3e(t,e){if(t==null)return{};var r=F3e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function F3e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var B3e=function(e,r,n,a,i,o){return"M".concat(e,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},U3e=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,o=e.top,s=o===void 0?0:o,l=e.left,u=l===void 0?0:l,d=e.width,f=d===void 0?0:d,h=e.height,p=h===void 0?0:h,v=e.className,m=L3e(e,I3e),g=R3e({x:n,y:i,top:s,left:u,width:f,height:p},m);return!ge(n)||!ge(i)||!ge(f)||!ge(p)||!ge(s)||!ge(u)?null:k.createElement("path",IC({},Ve(g,!0),{className:tt("recharts-cross",v),d:B3e(n,i,f,p,s,u)}))},V3e=ow,W3e=mU,z3e=oc;function H3e(t,e){return t&&t.length?V3e(t,z3e(e),W3e):void 0}var q3e=H3e;const G3e=Wt(q3e);var K3e=ow,X3e=oc,Y3e=vU;function Z3e(t,e){return t&&t.length?K3e(t,X3e(e),Y3e):void 0}var Q3e=Z3e;const J3e=Wt(Q3e);var e4e=["cx","cy","angle","ticks","axisLine"],t4e=["ticks","tick","angle","tickFormatter","stroke"];function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}function Ip(){return Ip=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ip.apply(this,arguments)}function zI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function gc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zI(Object(r),!0).forEach(function(n){fw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HI(t,e){if(t==null)return{};var r=r4e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function r4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function n4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,aV(n.key),n)}}function a4e(t,e,r){return e&&qI(t.prototype,e),r&&qI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function i4e(t,e,r){return e=r1(e),o4e(t,nV()?Reflect.construct(e,r||[],r1(t).constructor):e.apply(t,r))}function o4e(t,e){if(e&&(kf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s4e(t)}function s4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nV=function(){return!!t})()}function r1(t){return r1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},r1(t)}function l4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RC(t,e)}function RC(t,e){return RC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},RC(t,e)}function fw(t,e,r){return e=aV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aV(t){var e=c4e(t,"string");return kf(e)=="symbol"?e:e+""}function c4e(t,e){if(kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hw=function(t){function e(){return n4e(this,e),i4e(this,e,arguments)}return l4e(e,t),a4e(e,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,s=i.cx,l=i.cy;return rr(s,l,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,s=n.ticks,l=G3e(s,function(d){return d.coordinate||0}),u=J3e(s,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,s=n.ticks,l=n.axisLine,u=HI(n,e4e),d=s.reduce(function(v,m){return[Math.min(v[0],m.coordinate),Math.max(v[1],m.coordinate)]},[1/0,-1/0]),f=rr(a,i,d[0],o),h=rr(a,i,d[1],o),p=gc(gc(gc({},Ve(u,!1)),{},{fill:"none"},Ve(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return k.createElement("line",Ip({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,s=a.angle,l=a.tickFormatter,u=a.stroke,d=HI(a,t4e),f=this.getTickTextAnchor(),h=Ve(d,!1),p=Ve(o,!1),v=i.map(function(m,g){var x=n.getTickValueCoord(m),y=gc(gc(gc(gc({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(x.x,", ").concat(x.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:g},x),{},{payload:m});return k.createElement(bt,Ip({className:tt("recharts-polar-radius-axis-tick",WU(o)),key:"tick-".concat(m.coordinate)},gu(n.props,m,g)),e.renderTickItem(o,y,l?l(m.value,g):m.value))});return k.createElement(bt,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:k.createElement(bt,{className:tt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),fn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return k.isValidElement(n)?o=k.cloneElement(n,a):Xe(n)?o=n(a):o=k.createElement(yu,Ip({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(b.PureComponent);fw(hw,"displayName","PolarRadiusAxis");fw(hw,"axisType","radiusAxis");fw(hw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function Oc(){return Oc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Oc.apply(this,arguments)}function GI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function yc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GI(Object(r),!0).forEach(function(n){pw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function u4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oV(n.key),n)}}function d4e(t,e,r){return e&&KI(t.prototype,e),r&&KI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function f4e(t,e,r){return e=n1(e),h4e(t,iV()?Reflect.construct(e,r||[],n1(t).constructor):e.apply(t,r))}function h4e(t,e){if(e&&(If(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p4e(t)}function p4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iV=function(){return!!t})()}function n1(t){return n1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},n1(t)}function m4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DC(t,e)}function DC(t,e){return DC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},DC(t,e)}function pw(t,e,r){return e=oV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oV(t){var e=v4e(t,"string");return If(e)=="symbol"?e:e+""}function v4e(t,e){if(If(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(If(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var g4e=Math.PI/180,XI=1e-5,mw=function(t){function e(){return u4e(this,e),f4e(this,e,arguments)}return m4e(e,t),d4e(e,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,s=a.radius,l=a.orientation,u=a.tickSize,d=u||8,f=rr(i,o,s,n.coordinate),h=rr(i,o,s+(l==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*g4e),o;return i>XI?o=a==="outer"?"start":"end":i<-XI?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,s=n.axisLine,l=n.axisLineType,u=yc(yc({},Ve(this.props,!1)),{},{fill:"none"},Ve(s,!1));if(l==="circle")return k.createElement(dw,Oc({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(h){return rr(a,i,o,h.coordinate)});return k.createElement(k3e,Oc({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,s=a.tickLine,l=a.tickFormatter,u=a.stroke,d=Ve(this.props,!1),f=Ve(o,!1),h=yc(yc({},d),{},{fill:"none"},Ve(s,!1)),p=i.map(function(v,m){var g=n.getTickLineCoord(v),x=n.getTickTextAnchor(v),y=yc(yc(yc({textAnchor:x},d),{},{stroke:"none",fill:u},f),{},{index:m,payload:v,x:g.x2,y:g.y2});return k.createElement(bt,Oc({className:tt("recharts-polar-angle-axis-tick",WU(o)),key:"tick-".concat(v.coordinate)},gu(n.props,v,m)),s&&k.createElement("line",Oc({className:"recharts-polar-angle-axis-tick-line"},h,g)),o&&e.renderTickItem(o,y,l?l(v.value,m):v.value))});return k.createElement(bt,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:k.createElement(bt,{className:tt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return k.isValidElement(n)?o=k.cloneElement(n,a):Xe(n)?o=n(a):o=k.createElement(yu,Oc({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(b.PureComponent);pw(mw,"displayName","PolarAngleAxis");pw(mw,"axisType","angleAxis");pw(mw,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var y4e=fB,x4e=y4e(Object.getPrototypeOf,Object),w4e=x4e,b4e=Vs,_4e=w4e,S4e=Ws,C4e="[object Object]",E4e=Function.prototype,A4e=Object.prototype,sV=E4e.toString,j4e=A4e.hasOwnProperty,N4e=sV.call(Object);function O4e(t){if(!S4e(t)||b4e(t)!=C4e)return!1;var e=_4e(t);if(e===null)return!0;var r=j4e.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&sV.call(r)==N4e}var T4e=O4e;const P4e=Wt(T4e);var k4e=Vs,I4e=Ws,R4e="[object Boolean]";function D4e(t){return t===!0||t===!1||I4e(t)&&k4e(t)==R4e}var M4e=D4e;const $4e=Wt(M4e);function Wm(t){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wm(t)}function a1(){return a1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a1.apply(this,arguments)}function L4e(t,e){return V4e(t)||U4e(t,e)||B4e(t,e)||F4e()}function F4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B4e(t,e){if(t){if(typeof t=="string")return YI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YI(t,e)}}function YI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function U4e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function V4e(t){if(Array.isArray(t))return t}function ZI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function QI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZI(Object(r),!0).forEach(function(n){W4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function W4e(t,e,r){return e=z4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z4e(t){var e=H4e(t,"string");return Wm(e)=="symbol"?e:e+""}function H4e(t,e){if(Wm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JI=function(e,r,n,a,i){var o=n-a,s;return s="M ".concat(e,",").concat(r),s+="L ".concat(e+n,",").concat(r),s+="L ".concat(e+n-o/2,",").concat(r+i),s+="L ".concat(e+n-o/2-a,",").concat(r+i),s+="L ".concat(e,",").concat(r," Z"),s},q4e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},G4e=function(e){var r=QI(QI({},q4e),e),n=b.useRef(),a=b.useState(-1),i=L4e(a,2),o=i[0],s=i[1];b.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&s(w)}catch{}},[]);var l=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,v=r.animationEasing,m=r.animationDuration,g=r.animationBegin,x=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var y=tt("recharts-trapezoid",p);return x?k.createElement(Xo,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:u},duration:m,animationEasing:v,isActive:x},function(w){var _=w.upperWidth,S=w.lowerWidth,C=w.height,E=w.x,A=w.y;return k.createElement(Xo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,easing:v},k.createElement("path",a1({},Ve(r,!0),{className:y,d:JI(E,A,_,S,C),ref:n})))}):k.createElement("g",null,k.createElement("path",a1({},Ve(r,!0),{className:y,d:JI(l,u,d,f,h)})))},K4e=["option","shapeType","propTransformer","activeClassName","isActive"];function zm(t){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zm(t)}function X4e(t,e){if(t==null)return{};var r=Y4e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Y4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function eR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function i1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eR(Object(r),!0).forEach(function(n){Z4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Z4e(t,e,r){return e=Q4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Q4e(t){var e=J4e(t,"string");return zm(e)=="symbol"?e:e+""}function J4e(t,e){if(zm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eke(t,e){return i1(i1({},e),t)}function tke(t,e){return t==="symbols"}function tR(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return k.createElement(PN,r);case"trapezoid":return k.createElement(G4e,r);case"sector":return k.createElement(qU,r);case"symbols":if(tke(e))return k.createElement(Xj,r);break;default:return null}}function rke(t){return b.isValidElement(t)?t.props:t}function lV(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?eke:n,i=t.activeClassName,o=i===void 0?"recharts-active-shape":i,s=t.isActive,l=X4e(t,K4e),u;if(b.isValidElement(e))u=b.cloneElement(e,i1(i1({},l),rke(e)));else if(Xe(e))u=e(l);else if(P4e(e)&&!$4e(e)){var d=a(e,l);u=k.createElement(tR,{shapeType:r,elementProps:d})}else{var f=l;u=k.createElement(tR,{shapeType:r,elementProps:f})}return s?k.createElement(bt,{className:o},u):u}function vw(t,e){return e!=null&&"trapezoids"in t.props}function gw(t,e){return e!=null&&"sectors"in t.props}function Hm(t,e){return e!=null&&"points"in t.props}function nke(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,i=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&i}function ake(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function ike(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function oke(t,e){var r;return vw(t,e)?r=nke:gw(t,e)?r=ake:Hm(t,e)&&(r=ike),r}function ske(t,e){var r;return vw(t,e)?r="trapezoids":gw(t,e)?r="sectors":Hm(t,e)&&(r="points"),r}function lke(t,e){if(vw(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(gw(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Hm(t,e)?e.payload:{}}function cke(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=ske(r,e),i=lke(r,e),o=n.filter(function(l,u){var d=Vv(i,l),f=r.props[a].filter(function(v){var m=oke(r,e);return m(v,e)}),h=r.props[a].indexOf(f[f.length-1]),p=u===h;return d&&p}),s=n.indexOf(o[o.length-1]);return s}var h0;function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}function Cd(){return Cd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cd.apply(this,arguments)}function rR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Zt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rR(Object(r),!0).forEach(function(n){ci(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uV(n.key),n)}}function dke(t,e,r){return e&&nR(t.prototype,e),r&&nR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function fke(t,e,r){return e=o1(e),hke(t,cV()?Reflect.construct(e,r||[],o1(t).constructor):e.apply(t,r))}function hke(t,e){if(e&&(Rf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pke(t)}function pke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cV=function(){return!!t})()}function o1(t){return o1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},o1(t)}function mke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MC(t,e)}function MC(t,e){return MC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},MC(t,e)}function ci(t,e,r){return e=uV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uV(t){var e=vke(t,"string");return Rf(e)=="symbol"?e:e+""}function vke(t,e){if(Rf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hs=function(t){function e(r){var n;return uke(this,e),n=fke(this,e,[r]),ci(n,"pieRef",null),ci(n,"sectorRefs",[]),ci(n,"id",xh("recharts-pie-")),ci(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Xe(a)&&a()}),ci(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Xe(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return mke(e,t),dke(e,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,s=i.labelLine,l=i.dataKey,u=i.valueKey,d=Ve(this.props,!1),f=Ve(o,!1),h=Ve(s,!1),p=o&&o.offsetRadius||20,v=n.map(function(m,g){var x=(m.startAngle+m.endAngle)/2,y=rr(m.cx,m.cy,m.outerRadius+p,x),w=Zt(Zt(Zt(Zt({},d),m),{},{stroke:"none"},f),{},{index:g,textAnchor:e.getTextAnchor(y.x,m.cx)},y),_=Zt(Zt(Zt(Zt({},d),m),{},{fill:"none",stroke:m.fill},h),{},{index:g,points:[rr(m.cx,m.cy,m.outerRadius,x),y]}),S=l;return Je(l)&&Je(u)?S="value":Je(l)&&(S=u),k.createElement(bt,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(g)},s&&e.renderLabelLineItem(s,_,"line"),e.renderLabelItem(o,w,tn(m,S)))});return k.createElement(bt,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,s=i.blendStroke,l=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=l&&a.hasActiveIndex()?l:null,p=f?o:h,v=Zt(Zt({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return k.createElement(bt,Cd({ref:function(g){g&&!a.sectorRefs.includes(g)&&a.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},gu(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),k.createElement(lV,Cd({option:p,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,s=a.animationBegin,l=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return k.createElement(Xo,{begin:s,duration:l,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var m=v.t,g=[],x=i&&i[0],y=x.startAngle;return i.forEach(function(w,_){var S=h&&h[_],C=_>0?Fa(w,"paddingAngle",0):0;if(S){var E=Ta(S.endAngle-S.startAngle,w.endAngle-w.startAngle),A=Zt(Zt({},w),{},{startAngle:y+C,endAngle:y+E(m)+C});g.push(A),y=A.endAngle}else{var j=w.endAngle,T=w.startAngle,N=Ta(0,j-T),O=N(m),$=Zt(Zt({},w),{},{startAngle:y+C,endAngle:y+O+C});g.push($),y=$.endAngle}}),k.createElement(bt,null,n.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!Vv(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,s=a.className,l=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,p=a.isAnimationActive,v=this.state.isAnimationFinished;if(i||!o||!o.length||!ge(u)||!ge(d)||!ge(f)||!ge(h))return null;var m=tt("recharts-pie",s);return k.createElement(bt,{tabIndex:this.props.rootTabIndex,className:m,ref:function(x){n.pieRef=x}},this.renderSectors(),l&&this.renderLabels(o),fn.renderCallByParent(this.props,null,!1),(!p||v)&&Es.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(k.isValidElement(n))return k.cloneElement(n,a);if(Xe(n))return n(a);var o=tt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return k.createElement(Zy,Cd({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(k.isValidElement(n))return k.cloneElement(n,a);var o=i;if(Xe(n)&&(o=n(a),k.isValidElement(o)))return o;var s=tt("recharts-pie-label-text",typeof n!="boolean"&&!Xe(n)?n.className:"");return k.createElement(yu,Cd({},a,{alignmentBaseline:"middle",className:s}),o)}}])}(b.PureComponent);h0=Hs;ci(Hs,"displayName","Pie");ci(Hs,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ro.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ci(Hs,"parseDeltaAngle",function(t,e){var r=Yn(e-t),n=Math.min(Math.abs(e-t),360);return r*n});ci(Hs,"getRealPieData",function(t){var e=t.data,r=t.children,n=Ve(t,!1),a=Ba(r,Jx);return e&&e.length?e.map(function(i,o){return Zt(Zt(Zt({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Zt(Zt({},n),i.props)}):[]});ci(Hs,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,a=e.width,i=e.height,o=VU(a,i),s=n+Zn(t.cx,a,a/2),l=r+Zn(t.cy,i,i/2),u=Zn(t.innerRadius,o,0),d=Zn(t.outerRadius,o,o*.8),f=t.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:d,maxRadius:f}});ci(Hs,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Zt(Zt({},e.type.defaultProps),e.props):e.props,a=h0.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,s=n.endAngle,l=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),v=h0.parseCoordinateOfPie(n,r),m=h0.parseDeltaAngle(o,s),g=Math.abs(m),x=u;Je(u)&&Je(f)?(Ss(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):Je(u)&&(Ss(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=f);var y=a.filter(function(A){return tn(A,x,0)!==0}).length,w=(g>=360?y:y-1)*l,_=g-y*p-w,S=a.reduce(function(A,j){var T=tn(j,x,0);return A+(ge(T)?T:0)},0),C;if(S>0){var E;C=a.map(function(A,j){var T=tn(A,x,0),N=tn(A,d,j),O=(ge(T)?T:0)/S,$;j?$=E.endAngle+Yn(m)*l*(T!==0?1:0):$=o;var R=$+Yn(m)*((T!==0?p:0)+O*_),F=($+R)/2,B=(v.innerRadius+v.outerRadius)/2,M=[{name:N,value:T,payload:A,dataKey:x,type:h}],I=rr(v.cx,v.cy,B,F);return E=Zt(Zt(Zt({percent:O,cornerRadius:i,name:N,tooltipPayload:M,midAngle:F,middleRadius:B,tooltipPosition:I},A),v),{},{value:tn(A,x),startAngle:$,endAngle:R,payload:A,paddingAngle:Yn(m)*l}),E})}return Zt(Zt({},v),{},{sectors:C,data:a})});var gke=Math.ceil,yke=Math.max;function xke(t,e,r,n){for(var a=-1,i=yke(gke((e-t)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=t,t+=r;return o}var wke=xke,bke=TB,aR=1/0,_ke=17976931348623157e292;function Ske(t){if(!t)return t===0?t:0;if(t=bke(t),t===aR||t===-aR){var e=t<0?-1:1;return e*_ke}return t===t?t:0}var Cke=Ske,Eke=wke,Ake=Qx,v_=Cke;function jke(t){return function(e,r,n){return n&&typeof n!="number"&&Ake(e,r,n)&&(r=n=void 0),e=v_(e),r===void 0?(r=e,e=0):r=v_(r),n=n===void 0?e<r?1:-1:v_(n),Eke(e,r,n,t)}}var Nke=jke,Oke=Nke,Tke=Oke(),Pke=Tke;const s1=Wt(Pke);function qm(t){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qm(t)}function iR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function oR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iR(Object(r),!0).forEach(function(n){dV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dV(t,e,r){return e=kke(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kke(t){var e=Ike(t,"string");return qm(e)=="symbol"?e:e+""}function Ike(t,e){if(qm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rke=["Webkit","Moz","O","ms"],Dke=function(e,r){var n=e.replace(/(\w)/,function(i){return i.toUpperCase()}),a=Rke.reduce(function(i,o){return oR(oR({},i),{},dV({},o+n,r))},{});return a[e]=r,a};function Df(t){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}function l1(){return l1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},l1.apply(this,arguments)}function sR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function g_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sR(Object(r),!0).forEach(function(n){Ea(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hV(n.key),n)}}function $ke(t,e,r){return e&&lR(t.prototype,e),r&&lR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lke(t,e,r){return e=c1(e),Fke(t,fV()?Reflect.construct(e,r||[],c1(t).constructor):e.apply(t,r))}function Fke(t,e){if(e&&(Df(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bke(t)}function Bke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fV=function(){return!!t})()}function c1(t){return c1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},c1(t)}function Uke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$C(t,e)}function $C(t,e){return $C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$C(t,e)}function Ea(t,e,r){return e=hV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hV(t){var e=Vke(t,"string");return Df(e)=="symbol"?e:e+""}function Vke(t,e){if(Df(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wke=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,i=e.x,o=e.width,s=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,u=Op().domain(s1(0,l)).range([i,i+o-s]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},cR=function(e){return e.changedTouches&&!!e.changedTouches.length},Mf=function(t){function e(r){var n;return Mke(this,e),n=Lke(this,e,[r]),Ea(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Ea(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Ea(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,s=a.startIndex;o==null||o({endIndex:i,startIndex:s})}),n.detachDragEndListener()}),Ea(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Ea(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Ea(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Ea(n,"handleSlideDragStart",function(a){var i=cR(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Uke(e,t),$ke(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),p=e.getIndexInRange(o,f),v=e.getIndexInRange(o,h);return{startIndex:p-p%l,endIndex:v===d?d:v-v%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,s=a.dataKey,l=tn(i[n],s,n);return Xe(o)?o(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,s=a.endX,l=this.props,u=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,v=l.onChange,m=n.pageX-i;m>0?m=Math.min(m,u+d-f-s,u+d-f-o):m<0&&(m=Math.max(m,u-o,u-s));var g=this.getIndex({startX:o+m,endX:s+m});(g.startIndex!==h||g.endIndex!==p)&&v&&v(g),this.setState({startX:o+m,endX:s+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=cR(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,s=a.endX,l=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,v=d.onChange,m=d.gap,g=d.data,x={startX:this.state.startX,endX:this.state.endX},y=n.pageX-i;y>0?y=Math.min(y,f+h-p-u):y<0&&(y=Math.max(y,f-u)),x[o]=u+y;var w=this.getIndex(x),_=w.startIndex,S=w.endIndex,C=function(){var A=g.length-1;return o==="startX"&&(s>l?_%m===0:S%m===0)||s<l&&S===A||o==="endX"&&(s>l?S%m===0:_%m===0)||s>l&&S===A};this.setState(Ea(Ea({},o,u+y),"brushMoveStartX",n.pageX),function(){v&&C()&&v(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,d=this.state[a],f=s.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=s.length)){var p=s[h];a==="startX"&&p>=u||a==="endX"&&p<=l||this.setState(Ea({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,s=n.height,l=n.fill,u=n.stroke;return k.createElement("rect",{stroke:u,fill:l,x:a,y:i,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,s=n.height,l=n.data,u=n.children,d=n.padding,f=b.Children.only(u);return f?k.cloneElement(f,{x:a,y:i,width:o,height:s,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,s=this,l=this.props,u=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,v=l.data,m=l.startIndex,g=l.endIndex,x=Math.max(n,this.props.x),y=g_(g_({},Ve(this.props,!1)),{},{x,y:u,width:d,height:f}),w=p||"Min value: ".concat((i=v[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=v[g])===null||o===void 0?void 0:o.name);return k.createElement(bt,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),s.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,a))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,s=i.height,l=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return k.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:o,width:f,height:s})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,s=n.height,l=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,v={pointerEvents:"none",fill:u};return k.createElement(bt,{className:"recharts-brush-texts"},k.createElement(yu,l1({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+s/2},v),this.getTextOfTick(a)),k.createElement(yu,l1({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:o+s/2},v),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,s=n.x,l=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,v=h.endX,m=h.isTextActive,g=h.isSlideMoving,x=h.isTravellerMoving,y=h.isTravellerFocused;if(!a||!a.length||!ge(s)||!ge(l)||!ge(u)||!ge(d)||u<=0||d<=0)return null;var w=tt("recharts-brush",i),_=k.Children.count(o)===1,S=Dke("userSelect","none");return k.createElement(bt,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(p,v),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(v,"endX"),(m||g||x||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,s=n.height,l=n.stroke,u=Math.floor(i+s/2)-1;return k.createElement(k.Fragment,null,k.createElement("rect",{x:a,y:i,width:o,height:s,fill:l,stroke:"none"}),k.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),k.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return k.isValidElement(n)?i=k.cloneElement(n,a):Xe(n)?i=n(a):i=e.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,s=n.x,l=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return g_({prevData:i,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},i&&i.length?Wke({data:i,width:o,x:s,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||s!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([s,s+o-l]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,s=i-1;s-o>1;){var l=Math.floor((o+s)/2);n[l]>a?s=l:o=l}return a>=n[s]?s:o}}])}(b.PureComponent);Ea(Mf,"displayName","Brush");Ea(Mf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var zke=nN;function Hke(t,e){var r;return zke(t,function(n,a,i){return r=e(n,a,i),!r}),!!r}var qke=Hke,Gke=aB,Kke=oc,Xke=qke,Yke=ba,Zke=Qx;function Qke(t,e,r){var n=Yke(t)?Gke:Xke;return r&&Zke(t,e,r)&&(e=void 0),n(t,Kke(e))}var Jke=Qke;const eIe=Wt(Jke);var Mo=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},uR=EB;function tIe(t,e,r){e=="__proto__"&&uR?uR(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var rIe=tIe,nIe=rIe,aIe=SB,iIe=oc;function oIe(t,e){var r={};return e=iIe(e),aIe(t,function(n,a,i){nIe(r,a,e(n,a,i))}),r}var sIe=oIe;const lIe=Wt(sIe);function cIe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var uIe=cIe,dIe=nN;function fIe(t,e){var r=!0;return dIe(t,function(n,a,i){return r=!!e(n,a,i),r}),r}var hIe=fIe,pIe=uIe,mIe=hIe,vIe=oc,gIe=ba,yIe=Qx;function xIe(t,e,r){var n=gIe(t)?pIe:mIe;return r&&yIe(t,e,r)&&(e=void 0),n(t,vIe(e))}var wIe=xIe;const bIe=Wt(wIe);var _Ie=["x","y"];function Gm(t){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gm(t)}function LC(){return LC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},LC.apply(this,arguments)}function dR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Qh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dR(Object(r),!0).forEach(function(n){SIe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SIe(t,e,r){return e=CIe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CIe(t){var e=EIe(t,"string");return Gm(e)=="symbol"?e:e+""}function EIe(t,e){if(Gm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AIe(t,e){if(t==null)return{};var r=jIe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jIe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function NIe(t,e){var r=t.x,n=t.y,a=AIe(t,_Ie),i="".concat(r),o=parseInt(i,10),s="".concat(n),l=parseInt(s,10),u="".concat(e.height||a.height),d=parseInt(u,10),f="".concat(e.width||a.width),h=parseInt(f,10);return Qh(Qh(Qh(Qh(Qh({},e),a),o?{x:o}:{}),l?{y:l}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function fR(t){return k.createElement(lV,LC({shapeType:"rectangle",propTransformer:NIe,activeClassName:"recharts-active-bar"},t))}var OIe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof e=="number")return e;var i=ge(n)||Zve(n);return i?e(n,a):(i||wu(),r)}},TIe=["value","background"],pV;function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(t)}function PIe(t,e){if(t==null)return{};var r=kIe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kIe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function u1(){return u1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u1.apply(this,arguments)}function hR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function $r(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hR(Object(r),!0).forEach(function(n){Al(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vV(n.key),n)}}function RIe(t,e,r){return e&&pR(t.prototype,e),r&&pR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function DIe(t,e,r){return e=d1(e),MIe(t,mV()?Reflect.construct(e,r||[],d1(t).constructor):e.apply(t,r))}function MIe(t,e){if(e&&($f(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Ie(t)}function $Ie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mV=function(){return!!t})()}function d1(t){return d1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},d1(t)}function LIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FC(t,e)}function FC(t,e){return FC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},FC(t,e)}function Al(t,e,r){return e=vV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vV(t){var e=FIe(t,"string");return $f(e)=="symbol"?e:e+""}function FIe(t,e){if($f(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if($f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mu=function(t){function e(){var r;IIe(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=DIe(this,e,[].concat(a)),Al(r,"state",{isAnimationFinished:!1}),Al(r,"id",xh("recharts-bar-")),Al(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Al(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return LIe(e,t),RIe(e,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,s=i.dataKey,l=i.activeIndex,u=i.activeBar,d=Ve(this.props,!1);return n&&n.map(function(f,h){var p=h===l,v=p?u:o,m=$r($r($r({},d),f),{},{isActive:p,option:v,index:h,dataKey:s,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return k.createElement(bt,u1({className:"recharts-bar-rectangle"},gu(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),k.createElement(fR,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,s=a.isAnimationActive,l=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return k.createElement(Xo,{begin:l,duration:u,isActive:s,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var v=p.t,m=i.map(function(g,x){var y=h&&h[x];if(y){var w=Ta(y.x,g.x),_=Ta(y.y,g.y),S=Ta(y.width,g.width),C=Ta(y.height,g.height);return $r($r({},g),{},{x:w(v),y:_(v),width:S(v),height:C(v)})}if(o==="horizontal"){var E=Ta(0,g.height),A=E(v);return $r($r({},g),{},{y:g.y+g.height-A,height:A})}var j=Ta(0,g.width),T=j(v);return $r($r({},g),{},{width:T})});return k.createElement(bt,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Vv(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,s=a.activeIndex,l=Ve(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=PIe(u,TIe);if(!f)return null;var p=$r($r($r($r($r({},h),{},{fill:"#eee"},f),l),gu(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return k.createElement(fR,u1({key:"background-bar-".concat(d),option:n.props.background,isActive:d===s},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,s=i.xAxis,l=i.yAxis,u=i.layout,d=i.children,f=Ba(d,Wv);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(g,x){var y=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:y,errorVal:tn(g,x)}},v={clipPath:n?"url(#clipPath-".concat(a,")"):null};return k.createElement(bt,v,f.map(function(m){return k.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,s=n.xAxis,l=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,v=n.background,m=n.id;if(a||!i||!i.length)return null;var g=this.state.isAnimationFinished,x=tt("recharts-bar",o),y=s&&s.allowDataOverflow,w=l&&l.allowDataOverflow,_=y||w,S=Je(m)?this.id:m;return k.createElement(bt,{className:x},y||w?k.createElement("defs",null,k.createElement("clipPath",{id:"clipPath-".concat(S)},k.createElement("rect",{x:y?u:u-f/2,y:w?d:d-h/2,width:y?f:f*2,height:w?h:h*2}))):null,k.createElement(bt,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(S,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,S),(!p||g)&&Es.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(b.PureComponent);pV=Mu;Al(Mu,"displayName","Bar");Al(Mu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ro.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Al(Mu,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,a=t.bandSize,i=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,p=gOe(n,r);if(!p)return null;var v=e.layout,m=r.type.defaultProps,g=m!==void 0?$r($r({},m),r.props):r.props,x=g.dataKey,y=g.children,w=g.minPointSize,_=v==="horizontal"?o:i,S=u?_.scale.domain():null,C=COe({numericAxis:_}),E=Ba(y,Jx),A=f.map(function(j,T){var N,O,$,R,F,B;u?N=yOe(u[d+T],S):(N=tn(j,x),Array.isArray(N)||(N=[C,N]));var M=OIe(w,pV.defaultProps.minPointSize)(N[1],T);if(v==="horizontal"){var I,P=[o.scale(N[0]),o.scale(N[1])],V=P[0],z=P[1];O=nI({axis:i,ticks:s,bandSize:a,offset:p.offset,entry:j,index:T}),$=(I=z??V)!==null&&I!==void 0?I:void 0,R=p.size;var H=V-z;if(F=Number.isNaN(H)?0:H,B={x:O,y:o.y,width:R,height:o.height},Math.abs(M)>0&&Math.abs(F)<Math.abs(M)){var K=Yn(F||M)*(Math.abs(M)-Math.abs(F));$-=K,F+=K}}else{var re=[i.scale(N[0]),i.scale(N[1])],ue=re[0],oe=re[1];if(O=ue,$=nI({axis:o,ticks:l,bandSize:a,offset:p.offset,entry:j,index:T}),R=oe-ue,F=p.size,B={x:i.x,y:$,width:i.width,height:F},Math.abs(M)>0&&Math.abs(R)<Math.abs(M)){var te=Yn(R||M)*(Math.abs(M)-Math.abs(R));R+=te}}return $r($r($r({},j),{},{x:O,y:$,width:R,height:F,value:u?N:N[1],payload:j,background:B},E&&E[T]&&E[T].props),{},{tooltipPayload:[BU(r,j)],tooltipPosition:{x:O+R/2,y:$+F/2}})});return $r({data:A,layout:v},h)});function Km(t){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Km(t)}function BIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gV(n.key),n)}}function UIe(t,e,r){return e&&mR(t.prototype,e),r&&mR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function vR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function qi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vR(Object(r),!0).forEach(function(n){yw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yw(t,e,r){return e=gV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gV(t){var e=VIe(t,"string");return Km(e)=="symbol"?e:e+""}function VIe(t,e){if(Km(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yV=function(e,r,n,a,i){var o=e.width,s=e.height,l=e.layout,u=e.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!ja(u,Mu);return d.reduce(function(p,v){var m=r[v],g=m.orientation,x=m.domain,y=m.padding,w=y===void 0?{}:y,_=m.mirror,S=m.reversed,C="".concat(g).concat(_?"Mirror":""),E,A,j,T,N;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var O=x[1]-x[0],$=1/0,R=m.categoricalDomain.sort(ege);if(R.forEach(function(re,ue){ue>0&&($=Math.min((re||0)-(R[ue-1]||0),$))}),Number.isFinite($)){var F=$/O,B=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(E=F*B/2),m.padding==="no-gap"){var M=Zn(e.barCategoryGap,F*B),I=F*B/2;E=I-M-(I-M)/B*M}}}a==="xAxis"?A=[n.left+(w.left||0)+(E||0),n.left+n.width-(w.right||0)-(E||0)]:a==="yAxis"?A=l==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(E||0),n.top+n.height-(w.bottom||0)-(E||0)]:A=m.range,S&&(A=[A[1],A[0]]);var P=MU(m,i,h),V=P.scale,z=P.realScaleType;V.domain(x).range(A),$U(V);var H=LU(V,qi(qi({},m),{},{realScaleType:z}));a==="xAxis"?(N=g==="top"&&!_||g==="bottom"&&_,j=n.left,T=f[C]-N*m.height):a==="yAxis"&&(N=g==="left"&&!_||g==="right"&&_,j=f[C]-N*m.width,T=n.top);var K=qi(qi(qi({},m),H),{},{realScaleType:z,x:j,y:T,scale:V,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return K.bandSize=Ky(K,H),!m.hide&&a==="xAxis"?f[C]+=(N?-1:1)*K.height:m.hide||(f[C]+=(N?-1:1)*K.width),qi(qi({},p),{},yw({},v,K))},{})},xV=function(e,r){var n=e.x,a=e.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},WIe=function(e){var r=e.x1,n=e.y1,a=e.x2,i=e.y2;return xV({x:r,y:n},{x:a,y:i})},wV=function(){function t(e){BIe(this,t),this.scale=e}return UIe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])}();yw(wV,"EPS",1e-4);var kN=function(e){var r=Object.keys(e).reduce(function(n,a){return qi(qi({},n),{},yw({},a,wV.create(e[a])))},{});return qi(qi({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,s=i.position;return lIe(a,function(l,u){return r[u].apply(l,{bandAware:o,position:s})})},isInRange:function(a){return bIe(a,function(i,o){return r[o].isInRange(i)})}})};function zIe(t){return(t%180+180)%180}var HIe=function(e){var r=e.width,n=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=zIe(a),o=i*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},qIe=tve(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),bV=b.createContext(void 0),_V=b.createContext(void 0),SV=b.createContext(void 0),GIe=b.createContext({}),CV=b.createContext(void 0),EV=b.createContext(0),AV=b.createContext(0),gR=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=e.clipPathId,s=e.children,l=e.width,u=e.height,d=qIe(i);return k.createElement(bV.Provider,{value:n},k.createElement(_V.Provider,{value:a},k.createElement(GIe.Provider,{value:i},k.createElement(SV.Provider,{value:d},k.createElement(CV.Provider,{value:o},k.createElement(EV.Provider,{value:u},k.createElement(AV.Provider,{value:l},s)))))))},KIe=function(){return b.useContext(CV)},jV=function(e){var r=b.useContext(bV);r==null&&wu();var n=r[e];return n==null&&wu(),n},NV=function(e){var r=b.useContext(_V);r==null&&wu();var n=r[e];return n==null&&wu(),n},XIe=function(){var e=b.useContext(SV);return e},OV=function(){return b.useContext(AV)},TV=function(){return b.useContext(EV)};function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}function YIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZIe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kV(n.key),n)}}function QIe(t,e,r){return e&&ZIe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function JIe(t,e,r){return e=f1(e),eRe(t,PV()?Reflect.construct(e,r||[],f1(t).constructor):e.apply(t,r))}function eRe(t,e){if(e&&(Lf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tRe(t)}function tRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PV=function(){return!!t})()}function f1(t){return f1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},f1(t)}function rRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BC(t,e)}function BC(t,e){return BC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},BC(t,e)}function yR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function xR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yR(Object(r),!0).forEach(function(n){IN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IN(t,e,r){return e=kV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kV(t){var e=nRe(t,"string");return Lf(e)=="symbol"?e:e+""}function nRe(t,e){if(Lf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aRe(t,e){return lRe(t)||sRe(t,e)||oRe(t,e)||iRe()}function iRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oRe(t,e){if(t){if(typeof t=="string")return wR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wR(t,e)}}function wR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sRe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function lRe(t){if(Array.isArray(t))return t}function UC(){return UC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},UC.apply(this,arguments)}var cRe=function(e,r){var n;return k.isValidElement(e)?n=k.cloneElement(e,r):Xe(e)?n=e(r):n=k.createElement("line",UC({},r,{className:"recharts-reference-line-line"})),n},uRe=function(e,r,n,a,i,o,s,l,u){var d=i.x,f=i.y,h=i.width,p=i.height;if(n){var v=u.y,m=e.y.apply(v,{position:o});if(Mo(u,"discard")&&!e.y.isInRange(m))return null;var g=[{x:d+h,y:m},{x:d,y:m}];return l==="left"?g.reverse():g}if(r){var x=u.x,y=e.x.apply(x,{position:o});if(Mo(u,"discard")&&!e.x.isInRange(y))return null;var w=[{x:y,y:f+p},{x:y,y:f}];return s==="top"?w.reverse():w}if(a){var _=u.segment,S=_.map(function(C){return e.apply(C,{position:o})});return Mo(u,"discard")&&eIe(S,function(C){return!e.isInRange(C)})?null:S}return null};function dRe(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,i=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,u=KIe(),d=jV(a),f=NV(i),h=XIe();if(!u||!h)return null;Ss(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=kN({x:d.scale,y:f.scale}),v=an(e),m=an(r),g=n&&n.length===2,x=uRe(p,v,m,g,h,t.position,d.orientation,f.orientation,t);if(!x)return null;var y=aRe(x,2),w=y[0],_=w.x,S=w.y,C=y[1],E=C.x,A=C.y,j=Mo(t,"hidden")?"url(#".concat(u,")"):void 0,T=xR(xR({clipPath:j},Ve(t,!0)),{},{x1:_,y1:S,x2:E,y2:A});return k.createElement(bt,{className:tt("recharts-reference-line",s)},cRe(o,T),fn.renderCallByParent(t,WIe({x1:_,y1:S,x2:E,y2:A})))}var RN=function(t){function e(){return YIe(this,e),JIe(this,e,arguments)}return rRe(e,t),QIe(e,[{key:"render",value:function(){return k.createElement(dRe,this.props)}}])}(k.Component);IN(RN,"displayName","ReferenceLine");IN(RN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function VC(){return VC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},VC.apply(this,arguments)}function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function bR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function _R(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bR(Object(r),!0).forEach(function(n){xw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hRe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RV(n.key),n)}}function pRe(t,e,r){return e&&hRe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mRe(t,e,r){return e=h1(e),vRe(t,IV()?Reflect.construct(e,r||[],h1(t).constructor):e.apply(t,r))}function vRe(t,e){if(e&&(Ff(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gRe(t)}function gRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IV=function(){return!!t})()}function h1(t){return h1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},h1(t)}function yRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WC(t,e)}function WC(t,e){return WC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},WC(t,e)}function xw(t,e,r){return e=RV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RV(t){var e=xRe(t,"string");return Ff(e)=="symbol"?e:e+""}function xRe(t,e){if(Ff(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wRe=function(e){var r=e.x,n=e.y,a=e.xAxis,i=e.yAxis,o=kN({x:a.scale,y:i.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return Mo(e,"discard")&&!o.isInRange(s)?null:s},ww=function(t){function e(){return fRe(this,e),mRe(this,e,arguments)}return yRe(e,t),pRe(e,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,s=n.alwaysShow,l=n.clipPathId,u=an(a),d=an(i);if(Ss(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=wRe(this.props);if(!f)return null;var h=f.x,p=f.y,v=this.props,m=v.shape,g=v.className,x=Mo(this.props,"hidden")?"url(#".concat(l,")"):void 0,y=_R(_R({clipPath:x},Ve(this.props,!0)),{},{cx:h,cy:p});return k.createElement(bt,{className:tt("recharts-reference-dot",g)},e.renderDot(m,y),fn.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(k.Component);xw(ww,"displayName","ReferenceDot");xw(ww,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});xw(ww,"renderDot",function(t,e){var r;return k.isValidElement(t)?r=k.cloneElement(t,e):Xe(t)?r=t(e):r=k.createElement(dw,VC({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function zC(){return zC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zC.apply(this,arguments)}function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}function SR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function CR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SR(Object(r),!0).forEach(function(n){bw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _Re(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,MV(n.key),n)}}function SRe(t,e,r){return e&&_Re(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function CRe(t,e,r){return e=p1(e),ERe(t,DV()?Reflect.construct(e,r||[],p1(t).constructor):e.apply(t,r))}function ERe(t,e){if(e&&(Bf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ARe(t)}function ARe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DV=function(){return!!t})()}function p1(t){return p1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},p1(t)}function jRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HC(t,e)}function HC(t,e){return HC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},HC(t,e)}function bw(t,e,r){return e=MV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MV(t){var e=NRe(t,"string");return Bf(e)=="symbol"?e:e+""}function NRe(t,e){if(Bf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ORe=function(e,r,n,a,i){var o=i.x1,s=i.x2,l=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=kN({x:d.scale,y:f.scale}),p={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},v={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Mo(i,"discard")&&(!h.isInRange(p)||!h.isInRange(v))?null:xV(p,v)},_w=function(t){function e(){return bRe(this,e),CRe(this,e,arguments)}return jRe(e,t),SRe(e,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,s=n.y2,l=n.className,u=n.alwaysShow,d=n.clipPathId;Ss(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=an(a),h=an(i),p=an(o),v=an(s),m=this.props.shape;if(!f&&!h&&!p&&!v&&!m)return null;var g=ORe(f,h,p,v,this.props);if(!g&&!m)return null;var x=Mo(this.props,"hidden")?"url(#".concat(d,")"):void 0;return k.createElement(bt,{className:tt("recharts-reference-area",l)},e.renderRect(m,CR(CR({clipPath:x},Ve(this.props,!0)),g)),fn.renderCallByParent(this.props,g))}}])}(k.Component);bw(_w,"displayName","ReferenceArea");bw(_w,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});bw(_w,"renderRect",function(t,e){var r;return k.isValidElement(t)?r=k.cloneElement(t,e):Xe(t)?r=t(e):r=k.createElement(PN,zC({},e,{className:"recharts-reference-area-rect"})),r});function $V(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],a=0;a<t.length;a+=e)n.push(t[a]);return n}function TRe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return HIe(n,r)}function PRe(t,e,r){var n=r==="width",a=t.x,i=t.y,o=t.width,s=t.height;return e===1?{start:n?a:i,end:n?a+o:i+s}:{start:n?a+o:i+s,end:n?a:i}}function m1(t,e,r,n,a){if(t*e<t*n||t*e>t*a)return!1;var i=r();return t*(e-t*i/2-n)>=0&&t*(e+t*i/2-a)<=0}function kRe(t,e){return $V(t,e+1)}function IRe(t,e,r,n,a){for(var i=(n||[]).slice(),o=e.start,s=e.end,l=0,u=1,d=o,f=function(){var v=n==null?void 0:n[l];if(v===void 0)return{v:$V(n,u)};var m=l,g,x=function(){return g===void 0&&(g=r(v,m)),g},y=v.coordinate,w=l===0||m1(t,y,x,d,s);w||(l=0,d=o,u+=1),w&&(d=y+t*(x()/2+a),l+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function Xm(t){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xm(t)}function ER(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function In(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ER(Object(r),!0).forEach(function(n){RRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ER(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RRe(t,e,r){return e=DRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DRe(t){var e=MRe(t,"string");return Xm(e)=="symbol"?e:e+""}function MRe(t,e){if(Xm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $Re(t,e,r,n,a){for(var i=(n||[]).slice(),o=i.length,s=e.start,l=e.end,u=function(h){var p=i[h],v,m=function(){return v===void 0&&(v=r(p,h)),v};if(h===o-1){var g=t*(p.coordinate+t*m()/2-l);i[h]=p=In(In({},p),{},{tickCoord:g>0?p.coordinate-g*t:p.coordinate})}else i[h]=p=In(In({},p),{},{tickCoord:p.coordinate});var x=m1(t,p.tickCoord,m,s,l);x&&(l=p.tickCoord-t*(m()/2+a),i[h]=In(In({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function LRe(t,e,r,n,a,i){var o=(n||[]).slice(),s=o.length,l=e.start,u=e.end;if(i){var d=n[s-1],f=r(d,s-1),h=t*(d.coordinate+t*f/2-u);o[s-1]=d=In(In({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var p=m1(t,d.tickCoord,function(){return f},l,u);p&&(u=d.tickCoord-t*(f/2+a),o[s-1]=In(In({},d),{},{isShow:!0}))}for(var v=i?s-1:s,m=function(y){var w=o[y],_,S=function(){return _===void 0&&(_=r(w,y)),_};if(y===0){var C=t*(w.coordinate-t*S()/2-l);o[y]=w=In(In({},w),{},{tickCoord:C<0?w.coordinate-C*t:w.coordinate})}else o[y]=w=In(In({},w),{},{tickCoord:w.coordinate});var E=m1(t,w.tickCoord,S,l,u);E&&(l=w.tickCoord+t*(S()/2+a),o[y]=In(In({},w),{},{isShow:!0}))},g=0;g<v;g++)m(g);return o}function FRe(t,e,r){var n=t.tick,a=t.ticks,i=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!a||!a.length||!n)return[];if(ge(l)||Ro.isSsr)return kRe(a,typeof l=="number"&&ge(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",v=d&&p==="width"?Np(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},m=function(w,_){var S=Xe(u)?u(w.value,_):w.value;return p==="width"?TRe(Np(S,{fontSize:e,letterSpacing:r}),v,f):Np(S,{fontSize:e,letterSpacing:r})[p]},g=a.length>=2?Yn(a[1].coordinate-a[0].coordinate):1,x=PRe(i,g,p);return l==="equidistantPreserveStart"?IRe(g,x,m,a,o):(l==="preserveStart"||l==="preserveStartEnd"?h=LRe(g,x,m,a,o,l==="preserveStartEnd"):h=$Re(g,x,m,a,o),h.filter(function(y){return y.isShow}))}var BRe=["viewBox"],URe=["viewBox"],VRe=["ticks"];function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function Ed(){return Ed=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ed.apply(this,arguments)}function AR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function zr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AR(Object(r),!0).forEach(function(n){DN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function y_(t,e){if(t==null)return{};var r=WRe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function WRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function zRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FV(n.key),n)}}function HRe(t,e,r){return e&&jR(t.prototype,e),r&&jR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function qRe(t,e,r){return e=v1(e),GRe(t,LV()?Reflect.construct(e,r||[],v1(t).constructor):e.apply(t,r))}function GRe(t,e){if(e&&(Uf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KRe(t)}function KRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LV=function(){return!!t})()}function v1(t){return v1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},v1(t)}function XRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qC(t,e)}function qC(t,e){return qC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qC(t,e)}function DN(t,e,r){return e=FV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FV(t){var e=YRe(t,"string");return Uf(e)=="symbol"?e:e+""}function YRe(t,e){if(Uf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sw=function(t){function e(r){var n;return zRe(this,e),n=qRe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return XRe(e,t),HRe(e,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=y_(n,BRe),s=this.props,l=s.viewBox,u=y_(s,URe);return!Ld(i,l)||!Ld(o,u)||!Ld(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,s=a.width,l=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,p,v,m,g,x,y,w=f?-1:1,_=n.tickSize||d,S=ge(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=v=n.coordinate,g=o+ +!f*l,m=g-w*_,y=m-w*h,x=S;break;case"left":m=g=n.coordinate,v=i+ +!f*s,p=v-w*_,x=p-w*h,y=S;break;case"right":m=g=n.coordinate,v=i+ +f*s,p=v+w*_,x=p+w*h,y=S;break;default:p=v=n.coordinate,g=o+ +f*l,m=g+w*_,y=m+w*h,x=S;break}return{line:{x1:p,y1:m,x2:v,y2:g},tick:{x,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,s=n.height,l=n.orientation,u=n.mirror,d=n.axisLine,f=zr(zr(zr({},Ve(this.props,!1)),Ve(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=zr(zr({},f),{},{x1:a,y1:i+h*s,x2:a+o,y2:i+h*s})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=zr(zr({},f),{},{x1:a+p*o,y1:i,x2:a+p*o,y2:i+s})}return k.createElement("line",Ed({},f,{className:tt("recharts-cartesian-axis-line",Fa(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,s=this.props,l=s.tickLine,u=s.stroke,d=s.tick,f=s.tickFormatter,h=s.unit,p=FRe(zr(zr({},this.props),{},{ticks:n}),a,i),v=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),g=Ve(this.props,!1),x=Ve(d,!1),y=zr(zr({},g),{},{fill:"none"},Ve(l,!1)),w=p.map(function(_,S){var C=o.getTickLineCoord(_),E=C.line,A=C.tick,j=zr(zr(zr(zr({textAnchor:v,verticalAnchor:m},g),{},{stroke:"none",fill:u},x),A),{},{index:S,payload:_,visibleTicksCount:p.length,tickFormatter:f});return k.createElement(bt,Ed({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},gu(o.props,_,S)),l&&k.createElement("line",Ed({},y,E,{className:tt("recharts-cartesian-axis-tick-line",Fa(l,"className"))})),d&&e.renderTickItem(d,j,"".concat(Xe(f)?f(_.value,S):_.value).concat(h||"")))});return k.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,s=a.height,l=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,p=y_(f,VRe),v=h;return Xe(l)&&(v=h&&h.length>0?l(this.props):l(p)),o<=0||s<=0||!v||!v.length?null:k.createElement(bt,{className:tt("recharts-cartesian-axis",u),ref:function(g){n.layerReference=g}},i&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),fn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o,s=tt(a.className,"recharts-cartesian-axis-tick-value");return k.isValidElement(n)?o=k.cloneElement(n,zr(zr({},a),{},{className:s})):Xe(n)?o=n(zr(zr({},a),{},{className:s})):o=k.createElement(yu,Ed({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(b.Component);DN(Sw,"displayName","CartesianAxis");DN(Sw,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var ZRe=["type","layout","connectNulls","ref"],QRe=["key"];function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}function NR(t,e){if(t==null)return{};var r=JRe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function JRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Rp(){return Rp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rp.apply(this,arguments)}function OR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ca(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OR(Object(r),!0).forEach(function(n){Gi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ju(t){return n8e(t)||r8e(t)||t8e(t)||e8e()}function e8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t8e(t,e){if(t){if(typeof t=="string")return GC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GC(t,e)}}function r8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function n8e(t){if(Array.isArray(t))return GC(t)}function GC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function a8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,UV(n.key),n)}}function i8e(t,e,r){return e&&TR(t.prototype,e),r&&TR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function o8e(t,e,r){return e=g1(e),s8e(t,BV()?Reflect.construct(e,r||[],g1(t).constructor):e.apply(t,r))}function s8e(t,e){if(e&&(Vf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l8e(t)}function l8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BV=function(){return!!t})()}function g1(t){return g1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},g1(t)}function c8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KC(t,e)}function KC(t,e){return KC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},KC(t,e)}function Gi(t,e,r){return e=UV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UV(t){var e=u8e(t,"string");return Vf(e)=="symbol"?e:e+""}function u8e(t,e){if(Vf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zv=function(t){function e(){var r;a8e(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=o8e(this,e,[].concat(a)),Gi(r,"state",{isAnimationFinished:!0,totalLength:0}),Gi(r,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),Gi(r,"getStrokeDasharray",function(o,s,l){var u=l.reduce(function(x,y){return x+y});if(!u)return r.generateSimpleStrokeDasharray(s,o);for(var d=Math.floor(o/u),f=o%u,h=s-o,p=[],v=0,m=0;v<l.length;m+=l[v],++v)if(m+l[v]>f){p=[].concat(Ju(l.slice(0,v)),[f-m]);break}var g=p.length%2===0?[0,h]:[h];return[].concat(Ju(e.repeat(l,d)),Ju(p),g).map(function(x){return"".concat(x,"px")}).join(", ")}),Gi(r,"id",xh("recharts-line-")),Gi(r,"pathRef",function(o){r.mainCurve=o}),Gi(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Gi(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return c8e(e,t),i8e(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,s=i.xAxis,l=i.yAxis,u=i.layout,d=i.children,f=Ba(d,Wv);if(!f)return null;var h=function(m,g){return{x:m.x,y:m.y,value:m.value,errorVal:tn(m.payload,g)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return k.createElement(bt,p,f.map(function(v){return k.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,d=s.dataKey,f=Ve(this.props,!1),h=Ve(l,!0),p=u.map(function(m,g){var x=Ca(Ca(Ca({key:"dot-".concat(g),r:3},f),h),{},{index:g,cx:m.x,cy:m.y,value:m.value,dataKey:d,payload:m.payload,points:u});return e.renderDotItem(l,x)}),v={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return k.createElement(bt,Rp({className:"recharts-line-dots",key:"dots"},v),p)}},{key:"renderCurveStatically",value:function(n,a,i,o){var s=this.props,l=s.type,u=s.layout,d=s.connectNulls;s.ref;var f=NR(s,ZRe),h=Ca(Ca(Ca({},Ve(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:l,layout:u,connectNulls:d});return k.createElement(Zy,Rp({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,o=this.props,s=o.points,l=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,v=o.animateNewValues,m=o.width,g=o.height,x=this.state,y=x.prevPoints,w=x.totalLength;return k.createElement(Xo,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var S=_.t;if(y){var C=y.length/s.length,E=s.map(function(O,$){var R=Math.floor($*C);if(y[R]){var F=y[R],B=Ta(F.x,O.x),M=Ta(F.y,O.y);return Ca(Ca({},O),{},{x:B(S),y:M(S)})}if(v){var I=Ta(m*2,O.x),P=Ta(g/2,O.y);return Ca(Ca({},O),{},{x:I(S),y:P(S)})}return Ca(Ca({},O),{},{x:O.x,y:O.y})});return i.renderCurveStatically(E,n,a)}var A=Ta(0,w),j=A(S),T;if(l){var N="".concat(l).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});T=i.getStrokeDasharray(j,w,N)}else T=i.generateSimpleStrokeDasharray(w,j);return i.renderCurveStatically(s,n,a,{strokeDasharray:T})})}},{key:"renderCurve",value:function(n,a){var i=this.props,o=i.points,s=i.isAnimationActive,l=this.state,u=l.prevPoints,d=l.totalLength;return s&&o&&o.length&&(!u&&d>0||!Vv(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,s=a.points,l=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,p=a.width,v=a.height,m=a.isAnimationActive,g=a.id;if(i||!s||!s.length)return null;var x=this.state.isAnimationFinished,y=s.length===1,w=tt("recharts-line",l),_=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,C=_||S,E=Je(g)?this.id:g,A=(n=Ve(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},j=A.r,T=j===void 0?3:j,N=A.strokeWidth,O=N===void 0?2:N,$=cge(o)?o:{},R=$.clipDot,F=R===void 0?!0:R,B=T*2+O;return k.createElement(bt,{className:w},_||S?k.createElement("defs",null,k.createElement("clipPath",{id:"clipPath-".concat(E)},k.createElement("rect",{x:_?h:h-p/2,y:S?f:f-v/2,width:_?p:p*2,height:S?v:v*2})),!F&&k.createElement("clipPath",{id:"clipPath-dots-".concat(E)},k.createElement("rect",{x:h-B/2,y:f-B/2,width:p+B,height:v+B}))):null,!y&&this.renderCurve(C,E),this.renderErrorBar(C,E),(y||o)&&this.renderDots(C,F,E),(!m||x)&&Es.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(Ju(n),[0]):n,o=[],s=0;s<a;++s)o=[].concat(Ju(o),Ju(i));return o}},{key:"renderDotItem",value:function(n,a){var i;if(k.isValidElement(n))i=k.cloneElement(n,a);else if(Xe(n))i=n(a);else{var o=a.key,s=NR(a,QRe),l=tt("recharts-line-dot",typeof n!="boolean"?n.className:"");i=k.createElement(dw,Rp({key:o},s,{className:l}))}return i}}])}(b.PureComponent);Gi(zv,"displayName","Line");Gi(zv,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ro.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Gi(zv,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,a=t.xAxisTicks,i=t.yAxisTicks,o=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,d=e.layout,f=l.map(function(h,p){var v=tn(h,o);return d==="horizontal"?{x:rI({axis:r,ticks:a,bandSize:s,entry:h,index:p}),y:Je(v)?null:n.scale(v),value:v,payload:h}:{x:Je(v)?null:r.scale(v),y:rI({axis:n,ticks:i,bandSize:s,entry:h,index:p}),value:v,payload:h}});return Ca({points:f,layout:d},u)});function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}function d8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f8e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zV(n.key),n)}}function h8e(t,e,r){return e&&f8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function p8e(t,e,r){return e=y1(e),m8e(t,VV()?Reflect.construct(e,r||[],y1(t).constructor):e.apply(t,r))}function m8e(t,e){if(e&&(Wf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v8e(t)}function v8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VV=function(){return!!t})()}function y1(t){return y1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},y1(t)}function g8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XC(t,e)}function XC(t,e){return XC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},XC(t,e)}function WV(t,e,r){return e=zV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zV(t){var e=y8e(t,"string");return Wf(e)=="symbol"?e:e+""}function y8e(t,e){if(Wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YC(){return YC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},YC.apply(this,arguments)}function x8e(t){var e=t.xAxisId,r=OV(),n=TV(),a=jV(e);return a==null?null:b.createElement(Sw,YC({},a,{className:tt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Fc(o,!0)}}))}var zf=function(t){function e(){return d8e(this,e),p8e(this,e,arguments)}return g8e(e,t),h8e(e,[{key:"render",value:function(){return b.createElement(x8e,this.props)}}])}(b.Component);WV(zf,"displayName","XAxis");WV(zf,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}function w8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b8e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,GV(n.key),n)}}function _8e(t,e,r){return e&&b8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function S8e(t,e,r){return e=x1(e),C8e(t,HV()?Reflect.construct(e,r||[],x1(t).constructor):e.apply(t,r))}function C8e(t,e){if(e&&(Hf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E8e(t)}function E8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HV=function(){return!!t})()}function x1(t){return x1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},x1(t)}function A8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZC(t,e)}function ZC(t,e){return ZC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ZC(t,e)}function qV(t,e,r){return e=GV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GV(t){var e=j8e(t,"string");return Hf(e)=="symbol"?e:e+""}function j8e(t,e){if(Hf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QC(){return QC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},QC.apply(this,arguments)}var N8e=function(e){var r=e.yAxisId,n=OV(),a=TV(),i=NV(r);return i==null?null:b.createElement(Sw,QC({},i,{className:tt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(s){return Fc(s,!0)}}))},qf=function(t){function e(){return w8e(this,e),S8e(this,e,arguments)}return A8e(e,t),_8e(e,[{key:"render",value:function(){return b.createElement(N8e,this.props)}}])}(b.Component);qV(qf,"displayName","YAxis");qV(qf,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function PR(t){return k8e(t)||P8e(t)||T8e(t)||O8e()}function O8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T8e(t,e){if(t){if(typeof t=="string")return JC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JC(t,e)}}function P8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function k8e(t){if(Array.isArray(t))return JC(t)}function JC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var eE=function(e,r,n,a,i){var o=Ba(e,RN),s=Ba(e,ww),l=[].concat(PR(o),PR(s)),u=Ba(e,_w),d="".concat(a,"Id"),f=a[0],h=r;if(l.length&&(h=l.reduce(function(m,g){if(g.props[d]===n&&Mo(g.props,"extendDomain")&&ge(g.props[f])){var x=g.props[f];return[Math.min(m[0],x),Math.max(m[1],x)]}return m},h)),u.length){var p="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(m,g){if(g.props[d]===n&&Mo(g.props,"extendDomain")&&ge(g.props[p])&&ge(g.props[v])){var x=g.props[p],y=g.props[v];return[Math.min(m[0],x,y),Math.max(m[1],x,y)]}return m},h)}return i&&i.length&&(h=i.reduce(function(m,g){return ge(g)?[Math.min(m[0],g),Math.max(m[1],g)]:m},h)),h},KV={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function i(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||l,h),v=r?r+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],p]:l._events[v].push(p):(l._events[v]=p,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},s.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,v=new Array(p);h<p;h++)v[h]=f[h].fn;return v},s.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,d,f,h,p,v){var m=r?r+u:u;if(!this._events[m])return!1;var g=this._events[m],x=arguments.length,y,w;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),x){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,f),!0;case 4:return g.fn.call(g.context,d,f,h),!0;case 5:return g.fn.call(g.context,d,f,h,p),!0;case 6:return g.fn.call(g.context,d,f,h,p,v),!0}for(w=1,y=new Array(x-1);w<x;w++)y[w-1]=arguments[w];g.fn.apply(g.context,y)}else{var _=g.length,S;for(w=0;w<_;w++)switch(g[w].once&&this.removeListener(u,g[w].fn,void 0,!0),x){case 1:g[w].fn.call(g[w].context);break;case 2:g[w].fn.call(g[w].context,d);break;case 3:g[w].fn.call(g[w].context,d,f);break;case 4:g[w].fn.call(g[w].context,d,f,h);break;default:if(!y)for(S=1,y=new Array(x-1);S<x;S++)y[S-1]=arguments[S];g[w].fn.apply(g[w].context,y)}}return!0},s.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},s.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},s.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var v=this._events[p];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&o(this,p);else{for(var m=0,g=[],x=v.length;m<x;m++)(v[m].fn!==d||h&&!v[m].once||f&&v[m].context!==f)&&g.push(v[m]);g.length?this._events[p]=g.length===1?g[0]:g:o(this,p)}return this},s.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(KV);var I8e=KV.exports;const R8e=Wt(I8e);var x_=new R8e,w_="recharts.syncMouseEvents";function Ym(t){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ym(t)}function D8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M8e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,XV(n.key),n)}}function $8e(t,e,r){return e&&M8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function b_(t,e,r){return e=XV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XV(t){var e=L8e(t,"string");return Ym(e)=="symbol"?e:e+""}function L8e(t,e){if(Ym(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var F8e=function(){function t(){D8e(this,t),b_(this,"activeIndex",0),b_(this,"coordinateList",[]),b_(this,"layout","horizontal")}return $8e(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,s=o===void 0?null:o,l=r.layout,u=l===void 0?null:l,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,s=a.height,l=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+l+u,h=o+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function B8e(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],a=t==null?void 0:t[1];if(n&&a&&ge(n)&&ge(a))return!0}return!1}function U8e(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function YV(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,i=t.endAngle,o=rr(e,r,n,a),s=rr(e,r,n,i);return{points:[o,s],cx:e,cy:r,radius:n,startAngle:a,endAngle:i}}function V8e(t,e,r){var n,a,i,o;if(t==="horizontal")n=e.x,i=n,a=r.top,o=r.top+r.height;else if(t==="vertical")a=e.y,o=a,n=r.left,i=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=rr(s,l,u,f),p=rr(s,l,d,f);n=h.x,a=h.y,i=p.x,o=p.y}else return YV(e);return[{x:n,y:a},{x:i,y:o}]}function Zm(t){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zm(t)}function kR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Vg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kR(Object(r),!0).forEach(function(n){W8e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function W8e(t,e,r){return e=z8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z8e(t){var e=H8e(t,"string");return Zm(e)=="symbol"?e:e+""}function H8e(t,e){if(Zm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function q8e(t){var e,r,n=t.element,a=t.tooltipEventType,i=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,p=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var v,m=Zy;if(h==="ScatterChart")v=o,m=U3e;else if(h==="BarChart")v=U8e(f,o,l,d),m=PN;else if(f==="radial"){var g=YV(o),x=g.cx,y=g.cy,w=g.radius,_=g.startAngle,S=g.endAngle;v={cx:x,cy:y,startAngle:_,endAngle:S,innerRadius:w,outerRadius:w},m=qU}else v={points:V8e(f,o,l)},m=Zy;var C=Vg(Vg(Vg(Vg({stroke:"#ccc",pointerEvents:"none"},l),v),Ve(p,!1)),{},{payload:s,payloadIndex:u,className:tt("recharts-tooltip-cursor",p.className)});return b.isValidElement(p)?b.cloneElement(p,C):b.createElement(m,C)}var G8e=["item"],K8e=["children","className","width","height","style","compact","title","desc"];function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function Ad(){return Ad=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ad.apply(this,arguments)}function IR(t,e){return Z8e(t)||Y8e(t,e)||QV(t,e)||X8e()}function X8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y8e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function Z8e(t){if(Array.isArray(t))return t}function RR(t,e){if(t==null)return{};var r=Q8e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Q8e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function J8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eDe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JV(n.key),n)}}function tDe(t,e,r){return e&&eDe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rDe(t,e,r){return e=w1(e),nDe(t,ZV()?Reflect.construct(e,r||[],w1(t).constructor):e.apply(t,r))}function nDe(t,e){if(e&&(Gf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aDe(t)}function aDe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZV=function(){return!!t})()}function w1(t){return w1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},w1(t)}function iDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tE(t,e)}function tE(t,e){return tE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},tE(t,e)}function Kf(t){return lDe(t)||sDe(t)||QV(t)||oDe()}function oDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QV(t,e){if(t){if(typeof t=="string")return rE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rE(t,e)}}function sDe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lDe(t){if(Array.isArray(t))return rE(t)}function rE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function DR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function J(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DR(Object(r),!0).forEach(function(n){We(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function We(t,e,r){return e=JV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JV(t){var e=cDe(t,"string");return Gf(e)=="symbol"?e:e+""}function cDe(t,e){if(Gf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uDe={xAxis:["bottom","top"],yAxis:["left","right"]},dDe={width:"100%",height:"100%"},eW={x:0,y:0};function Wg(t){return t}var fDe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},hDe=function(e,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(e==="horizontal")return{x:i.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,s=a.radius;return J(J(J({},a),rr(a.cx,a.cy,s,o)),{},{angle:o,radius:s})}var l=i.coordinate,u=a.angle;return J(J(J({},a),rr(a.cx,a.cy,l,u)),{},{angle:u,radius:l})}return eW},Cw=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Kf(s),Kf(u)):s},[]);return o.length>0?o:e&&e.length&&ge(a)&&ge(i)?e.slice(a,i+1):[]};function tW(t){return t==="number"?[0,"auto"]:void 0}var nE=function(e,r,n,a){var i=e.graphicalItems,o=e.tooltipAxis,s=Cw(r,e);return n<0||!i||!i.length||n>=s.length?null:i.reduce(function(l,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?s:f;h=wy(p,o.dataKey,a)}else h=f&&f[n]||s[n];return h?[].concat(Kf(l),[BU(u,h)]):l},[])},MR=function(e,r,n,a){var i=a||{x:e.chartX,y:e.chartY},o=fDe(i,n),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,d=dOe(o,s,u,l);if(d>=0&&u){var f=u[d]&&u[d].value,h=nE(e,r,d,f),p=hDe(n,s,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},pDe=function(e,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,p=DU(d,i);return n.reduce(function(v,m){var g,x=m.type.defaultProps!==void 0?J(J({},m.type.defaultProps),m.props):m.props,y=x.type,w=x.dataKey,_=x.allowDataOverflow,S=x.allowDuplicatedCategory,C=x.scale,E=x.ticks,A=x.includeHidden,j=x[o];if(v[j])return v;var T=Cw(e.data,{graphicalItems:a.filter(function(H){var K,re=o in H.props?H.props[o]:(K=H.type.defaultProps)===null||K===void 0?void 0:K[o];return re===j}),dataStartIndex:l,dataEndIndex:u}),N=T.length,O,$,R;B8e(x.domain,_,y)&&(O=gC(x.domain,null,_),p&&(y==="number"||C!=="auto")&&(R=Tp(T,w,"category")));var F=tW(y);if(!O||O.length===0){var B,M=(B=x.domain)!==null&&B!==void 0?B:F;if(w){if(O=Tp(T,w,y),y==="category"&&p){var I=Jve(O);S&&I?($=O,O=s1(0,N)):S||(O=oI(M,O,m).reduce(function(H,K){return H.indexOf(K)>=0?H:[].concat(Kf(H),[K])},[]))}else if(y==="category")S?O=O.filter(function(H){return H!==""&&!Je(H)}):O=oI(M,O,m).reduce(function(H,K){return H.indexOf(K)>=0||K===""||Je(K)?H:[].concat(Kf(H),[K])},[]);else if(y==="number"){var P=vOe(T,a.filter(function(H){var K,re,ue=o in H.props?H.props[o]:(K=H.type.defaultProps)===null||K===void 0?void 0:K[o],oe="hide"in H.props?H.props.hide:(re=H.type.defaultProps)===null||re===void 0?void 0:re.hide;return ue===j&&(A||!oe)}),w,i,d);P&&(O=P)}p&&(y==="number"||C!=="auto")&&(R=Tp(T,w,"category"))}else p?O=s1(0,N):s&&s[j]&&s[j].hasStack&&y==="number"?O=h==="expand"?[0,1]:FU(s[j].stackGroups,l,u):O=RU(T,a.filter(function(H){var K=o in H.props?H.props[o]:H.type.defaultProps[o],re="hide"in H.props?H.props.hide:H.type.defaultProps.hide;return K===j&&(A||!re)}),y,d,!0);if(y==="number")O=eE(f,O,j,i,E),M&&(O=gC(M,O,_));else if(y==="category"&&M){var V=M,z=O.every(function(H){return V.indexOf(H)>=0});z&&(O=V)}}return J(J({},v),{},We({},j,J(J({},x),{},{axisType:i,domain:O,categoricalDomain:R,duplicateDomain:$,originalDomain:(g=x.domain)!==null&&g!==void 0?g:F,isCategorical:p,layout:d})))},{})},mDe=function(e,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,h=Cw(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:u}),p=h.length,v=DU(d,i),m=-1;return n.reduce(function(g,x){var y=x.type.defaultProps!==void 0?J(J({},x.type.defaultProps),x.props):x.props,w=y[o],_=tW("number");if(!g[w]){m++;var S;return v?S=s1(0,p):s&&s[w]&&s[w].hasStack?(S=FU(s[w].stackGroups,l,u),S=eE(f,S,w,i)):(S=gC(_,RU(h,n.filter(function(C){var E,A,j=o in C.props?C.props[o]:(E=C.type.defaultProps)===null||E===void 0?void 0:E[o],T="hide"in C.props?C.props.hide:(A=C.type.defaultProps)===null||A===void 0?void 0:A.hide;return j===w&&!T}),"number",d),a.defaultProps.allowDataOverflow),S=eE(f,S,w,i)),J(J({},g),{},We({},w,J(J({axisType:i},a.defaultProps),{},{hide:!0,orientation:Fa(uDe,"".concat(i,".").concat(m%2),null),domain:S,originalDomain:_,isCategorical:v,layout:d})))}return g},{})},vDe=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=e.children,f="".concat(a,"Id"),h=Ba(d,i),p={};return h&&h.length?p=pDe(e,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(p=mDe(e,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),p},gDe=function(e){var r=ad(e),n=Fc(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:aN(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Ky(r,n)}},$R=function(e){var r=e.children,n=e.defaultShowTooltip,a=ja(r,Mf),i=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},yDe=function(e){return!e||!e.length?!1:e.some(function(r){var n=_s(r&&r.type);return n&&n.indexOf("Bar")>=0})},LR=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},xDe=function(e,r){var n=e.props,a=e.graphicalItems,i=e.xAxisMap,o=i===void 0?{}:i,s=e.yAxisMap,l=s===void 0?{}:s,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=ja(f,Mf),v=ja(f,Fd),m=Object.keys(l).reduce(function(S,C){var E=l[C],A=E.orientation;return!E.mirror&&!E.hide?J(J({},S),{},We({},A,S[A]+E.width)):S},{left:h.left||0,right:h.right||0}),g=Object.keys(o).reduce(function(S,C){var E=o[C],A=E.orientation;return!E.mirror&&!E.hide?J(J({},S),{},We({},A,Fa(S,"".concat(A))+E.height)):S},{top:h.top||0,bottom:h.bottom||0}),x=J(J({},g),m),y=x.bottom;p&&(x.bottom+=p.props.height||Mf.defaultProps.height),v&&r&&(x=pOe(x,a,n,r));var w=u-x.left-x.right,_=d-x.top-x.bottom;return J(J({brushBottom:y},x),{},{width:Math.max(w,0),height:Math.max(_,0)})},wDe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},MN=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,i=a===void 0?"axis":a,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(x,y){var w=y.graphicalItems,_=y.stackGroups,S=y.offset,C=y.updateId,E=y.dataStartIndex,A=y.dataEndIndex,j=x.barSize,T=x.layout,N=x.barGap,O=x.barCategoryGap,$=x.maxBarSize,R=LR(T),F=R.numericAxisName,B=R.cateAxisName,M=yDe(w),I=[];return w.forEach(function(P,V){var z=Cw(x.data,{graphicalItems:[P],dataStartIndex:E,dataEndIndex:A}),H=P.type.defaultProps!==void 0?J(J({},P.type.defaultProps),P.props):P.props,K=H.dataKey,re=H.maxBarSize,ue=H["".concat(F,"Id")],oe=H["".concat(B,"Id")],te={},pe=l.reduce(function(q,L){var X=y["".concat(L.axisType,"Map")],ne=H["".concat(L.axisType,"Id")];X&&X[ne]||L.axisType==="zAxis"||wu();var ie=X[ne];return J(J({},q),{},We(We({},L.axisType,ie),"".concat(L.axisType,"Ticks"),Fc(ie)))},te),ee=pe[B],se=pe["".concat(B,"Ticks")],ve=_&&_[ue]&&_[ue].hasStack&&EOe(P,_[ue].stackGroups),Z=_s(P.type).indexOf("Bar")>=0,Ge=Ky(ee,se),Be=[],ht=M&&fOe({barSize:j,stackGroups:_,totalSize:wDe(pe,B)});if(Z){var yt,Kt,gn=Je(re)?$:re,Wr=(yt=(Kt=Ky(ee,se,!0))!==null&&Kt!==void 0?Kt:gn)!==null&&yt!==void 0?yt:0;Be=hOe({barGap:N,barCategoryGap:O,bandSize:Wr!==Ge?Wr:Ge,sizeList:ht[oe],maxBarSize:gn}),Wr!==Ge&&(Be=Be.map(function(q){return J(J({},q),{},{position:J(J({},q.position),{},{offset:q.position.offset-Wr/2})})}))}var U=P&&P.type&&P.type.getComposedData;U&&I.push({props:J(J({},U(J(J({},pe),{},{displayedData:z,props:x,dataKey:K,item:P,bandSize:Ge,barPosition:Be,offset:S,stackedData:ve,layout:T,dataStartIndex:E,dataEndIndex:A}))),{},We(We(We({key:P.key||"item-".concat(V)},F,pe[F]),B,pe[B]),"animationId",C)),childIndex:fge(P,x.children),item:P})}),I},p=function(x,y){var w=x.props,_=x.dataStartIndex,S=x.dataEndIndex,C=x.updateId;if(!J3({props:w}))return null;var E=w.children,A=w.layout,j=w.stackOffset,T=w.data,N=w.reverseStackOrder,O=LR(A),$=O.numericAxisName,R=O.cateAxisName,F=Ba(E,n),B=SOe(T,F,"".concat($,"Id"),"".concat(R,"Id"),j,N),M=l.reduce(function(H,K){var re="".concat(K.axisType,"Map");return J(J({},H),{},We({},re,vDe(w,J(J({},K),{},{graphicalItems:F,stackGroups:K.axisType===$&&B,dataStartIndex:_,dataEndIndex:S}))))},{}),I=xDe(J(J({},M),{},{props:w,graphicalItems:F}),y==null?void 0:y.legendBBox);Object.keys(M).forEach(function(H){M[H]=d(w,M[H],I,H.replace("Map",""),r)});var P=M["".concat(R,"Map")],V=gDe(P),z=h(w,J(J({},M),{},{dataStartIndex:_,dataEndIndex:S,updateId:C,graphicalItems:F,stackGroups:B,offset:I}));return J(J({formattedGraphicalItems:z,graphicalItems:F,offset:I,stackGroups:B},V),M)},v=function(g){function x(y){var w,_,S;return J8e(this,x),S=rDe(this,x,[y]),We(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),We(S,"accessibilityManager",new F8e),We(S,"handleLegendBBoxUpdate",function(C){if(C){var E=S.state,A=E.dataStartIndex,j=E.dataEndIndex,T=E.updateId;S.setState(J({legendBBox:C},p({props:S.props,dataStartIndex:A,dataEndIndex:j,updateId:T},J(J({},S.state),{},{legendBBox:C}))))}}),We(S,"handleReceiveSyncEvent",function(C,E,A){if(S.props.syncId===C){if(A===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(E)}}),We(S,"handleBrushChange",function(C){var E=C.startIndex,A=C.endIndex;if(E!==S.state.dataStartIndex||A!==S.state.dataEndIndex){var j=S.state.updateId;S.setState(function(){return J({dataStartIndex:E,dataEndIndex:A},p({props:S.props,dataStartIndex:E,dataEndIndex:A,updateId:j},S.state))}),S.triggerSyncEvent({dataStartIndex:E,dataEndIndex:A})}}),We(S,"handleMouseEnter",function(C){var E=S.getMouseInfo(C);if(E){var A=J(J({},E),{},{isTooltipActive:!0});S.setState(A),S.triggerSyncEvent(A);var j=S.props.onMouseEnter;Xe(j)&&j(A,C)}}),We(S,"triggeredAfterMouseMove",function(C){var E=S.getMouseInfo(C),A=E?J(J({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(A),S.triggerSyncEvent(A);var j=S.props.onMouseMove;Xe(j)&&j(A,C)}),We(S,"handleItemMouseEnter",function(C){S.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),We(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),We(S,"handleMouseMove",function(C){C.persist(),S.throttleTriggeredAfterMouseMove(C)}),We(S,"handleMouseLeave",function(C){S.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};S.setState(E),S.triggerSyncEvent(E);var A=S.props.onMouseLeave;Xe(A)&&A(E,C)}),We(S,"handleOuterEvent",function(C){var E=dge(C),A=Fa(S.props,"".concat(E));if(E&&Xe(A)){var j,T;/.*touch.*/i.test(E)?T=S.getMouseInfo(C.changedTouches[0]):T=S.getMouseInfo(C),A((j=T)!==null&&j!==void 0?j:{},C)}}),We(S,"handleClick",function(C){var E=S.getMouseInfo(C);if(E){var A=J(J({},E),{},{isTooltipActive:!0});S.setState(A),S.triggerSyncEvent(A);var j=S.props.onClick;Xe(j)&&j(A,C)}}),We(S,"handleMouseDown",function(C){var E=S.props.onMouseDown;if(Xe(E)){var A=S.getMouseInfo(C);E(A,C)}}),We(S,"handleMouseUp",function(C){var E=S.props.onMouseUp;if(Xe(E)){var A=S.getMouseInfo(C);E(A,C)}}),We(S,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),We(S,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.handleMouseDown(C.changedTouches[0])}),We(S,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.handleMouseUp(C.changedTouches[0])}),We(S,"handleDoubleClick",function(C){var E=S.props.onDoubleClick;if(Xe(E)){var A=S.getMouseInfo(C);E(A,C)}}),We(S,"handleContextMenu",function(C){var E=S.props.onContextMenu;if(Xe(E)){var A=S.getMouseInfo(C);E(A,C)}}),We(S,"triggerSyncEvent",function(C){S.props.syncId!==void 0&&x_.emit(w_,S.props.syncId,C,S.eventEmitterSymbol)}),We(S,"applySyncEvent",function(C){var E=S.props,A=E.layout,j=E.syncMethod,T=S.state.updateId,N=C.dataStartIndex,O=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)S.setState(J({dataStartIndex:N,dataEndIndex:O},p({props:S.props,dataStartIndex:N,dataEndIndex:O,updateId:T},S.state)));else if(C.activeTooltipIndex!==void 0){var $=C.chartX,R=C.chartY,F=C.activeTooltipIndex,B=S.state,M=B.offset,I=B.tooltipTicks;if(!M)return;if(typeof j=="function")F=j(I,C);else if(j==="value"){F=-1;for(var P=0;P<I.length;P++)if(I[P].value===C.activeLabel){F=P;break}}var V=J(J({},M),{},{x:M.left,y:M.top}),z=Math.min($,V.x+V.width),H=Math.min(R,V.y+V.height),K=I[F]&&I[F].value,re=nE(S.state,S.props.data,F),ue=I[F]?{x:A==="horizontal"?I[F].coordinate:z,y:A==="horizontal"?H:I[F].coordinate}:eW;S.setState(J(J({},C),{},{activeLabel:K,activeCoordinate:ue,activePayload:re,activeTooltipIndex:F}))}else S.setState(C)}),We(S,"renderCursor",function(C){var E,A=S.state,j=A.isTooltipActive,T=A.activeCoordinate,N=A.activePayload,O=A.offset,$=A.activeTooltipIndex,R=A.tooltipAxisBandSize,F=S.getTooltipEventType(),B=(E=C.props.active)!==null&&E!==void 0?E:j,M=S.props.layout,I=C.key||"_recharts-cursor";return k.createElement(q8e,{key:I,activeCoordinate:T,activePayload:N,activeTooltipIndex:$,chartName:r,element:C,isActive:B,layout:M,offset:O,tooltipAxisBandSize:R,tooltipEventType:F})}),We(S,"renderPolarAxis",function(C,E,A){var j=Fa(C,"type.axisType"),T=Fa(S.state,"".concat(j,"Map")),N=C.type.defaultProps,O=N!==void 0?J(J({},N),C.props):C.props,$=T&&T[O["".concat(j,"Id")]];return b.cloneElement(C,J(J({},$),{},{className:tt(j,$.className),key:C.key||"".concat(E,"-").concat(A),ticks:Fc($,!0)}))}),We(S,"renderPolarGrid",function(C){var E=C.props,A=E.radialLines,j=E.polarAngles,T=E.polarRadius,N=S.state,O=N.radiusAxisMap,$=N.angleAxisMap,R=ad(O),F=ad($),B=F.cx,M=F.cy,I=F.innerRadius,P=F.outerRadius;return b.cloneElement(C,{polarAngles:Array.isArray(j)?j:Fc(F,!0).map(function(V){return V.coordinate}),polarRadius:Array.isArray(T)?T:Fc(R,!0).map(function(V){return V.coordinate}),cx:B,cy:M,innerRadius:I,outerRadius:P,key:C.key||"polar-grid",radialLines:A})}),We(S,"renderLegend",function(){var C=S.state.formattedGraphicalItems,E=S.props,A=E.children,j=E.width,T=E.height,N=S.props.margin||{},O=j-(N.left||0)-(N.right||0),$=kU({children:A,formattedGraphicalItems:C,legendWidth:O,legendContent:u});if(!$)return null;var R=$.item,F=RR($,G8e);return b.cloneElement(R,J(J({},F),{},{chartWidth:j,chartHeight:T,margin:N,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),We(S,"renderTooltip",function(){var C,E=S.props,A=E.children,j=E.accessibilityLayer,T=ja(A,oi);if(!T)return null;var N=S.state,O=N.isTooltipActive,$=N.activeCoordinate,R=N.activePayload,F=N.activeLabel,B=N.offset,M=(C=T.props.active)!==null&&C!==void 0?C:O;return b.cloneElement(T,{viewBox:J(J({},B),{},{x:B.left,y:B.top}),active:M,label:F,payload:M?R:[],coordinate:$,accessibilityLayer:j})}),We(S,"renderBrush",function(C){var E=S.props,A=E.margin,j=E.data,T=S.state,N=T.offset,O=T.dataStartIndex,$=T.dataEndIndex,R=T.updateId;return b.cloneElement(C,{key:C.key||"_recharts-brush",onChange:Lg(S.handleBrushChange,C.props.onChange),data:j,x:ge(C.props.x)?C.props.x:N.left,y:ge(C.props.y)?C.props.y:N.top+N.height+N.brushBottom-(A.bottom||0),width:ge(C.props.width)?C.props.width:N.width,startIndex:O,endIndex:$,updateId:"brush-".concat(R)})}),We(S,"renderReferenceElement",function(C,E,A){if(!C)return null;var j=S,T=j.clipPathId,N=S.state,O=N.xAxisMap,$=N.yAxisMap,R=N.offset,F=C.type.defaultProps||{},B=C.props,M=B.xAxisId,I=M===void 0?F.xAxisId:M,P=B.yAxisId,V=P===void 0?F.yAxisId:P;return b.cloneElement(C,{key:C.key||"".concat(E,"-").concat(A),xAxis:O[I],yAxis:$[V],viewBox:{x:R.left,y:R.top,width:R.width,height:R.height},clipPathId:T})}),We(S,"renderActivePoints",function(C){var E=C.item,A=C.activePoint,j=C.basePoint,T=C.childIndex,N=C.isRange,O=[],$=E.props.key,R=E.item.type.defaultProps!==void 0?J(J({},E.item.type.defaultProps),E.item.props):E.item.props,F=R.activeDot,B=R.dataKey,M=J(J({index:T,dataKey:B,cx:A.x,cy:A.y,r:4,fill:TN(E.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},Ve(F,!1)),by(F));return O.push(x.renderActiveDot(F,M,"".concat($,"-activePoint-").concat(T))),j?O.push(x.renderActiveDot(F,J(J({},M),{},{cx:j.x,cy:j.y}),"".concat($,"-basePoint-").concat(T))):N&&O.push(null),O}),We(S,"renderGraphicChild",function(C,E,A){var j=S.filterFormatItem(C,E,A);if(!j)return null;var T=S.getTooltipEventType(),N=S.state,O=N.isTooltipActive,$=N.tooltipAxis,R=N.activeTooltipIndex,F=N.activeLabel,B=S.props.children,M=ja(B,oi),I=j.props,P=I.points,V=I.isRange,z=I.baseLine,H=j.item.type.defaultProps!==void 0?J(J({},j.item.type.defaultProps),j.item.props):j.item.props,K=H.activeDot,re=H.hide,ue=H.activeBar,oe=H.activeShape,te=!!(!re&&O&&M&&(K||ue||oe)),pe={};T!=="axis"&&M&&M.props.trigger==="click"?pe={onClick:Lg(S.handleItemMouseEnter,C.props.onClick)}:T!=="axis"&&(pe={onMouseLeave:Lg(S.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:Lg(S.handleItemMouseEnter,C.props.onMouseEnter)});var ee=b.cloneElement(C,J(J({},j.props),pe));function se(L){return typeof $.dataKey=="function"?$.dataKey(L.payload):null}if(te)if(R>=0){var ve,Z;if($.dataKey&&!$.allowDuplicatedCategory){var Ge=typeof $.dataKey=="function"?se:"payload.".concat($.dataKey.toString());ve=wy(P,Ge,F),Z=V&&z&&wy(z,Ge,F)}else ve=P==null?void 0:P[R],Z=V&&z&&z[R];if(oe||ue){var Be=C.props.activeIndex!==void 0?C.props.activeIndex:R;return[b.cloneElement(C,J(J(J({},j.props),pe),{},{activeIndex:Be})),null,null]}if(!Je(ve))return[ee].concat(Kf(S.renderActivePoints({item:j,activePoint:ve,basePoint:Z,childIndex:R,isRange:V})))}else{var ht,yt=(ht=S.getItemByXY(S.state.activeCoordinate))!==null&&ht!==void 0?ht:{graphicalItem:ee},Kt=yt.graphicalItem,gn=Kt.item,Wr=gn===void 0?C:gn,U=Kt.childIndex,q=J(J(J({},j.props),pe),{},{activeIndex:U});return[b.cloneElement(Wr,q),null,null]}return V?[ee,null,null]:[ee,null]}),We(S,"renderCustomized",function(C,E,A){return b.cloneElement(C,J(J({key:"recharts-customized-".concat(A)},S.props),S.state))}),We(S,"renderMap",{CartesianGrid:{handler:Wg,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:Wg},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:Wg},YAxis:{handler:Wg},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((w=y.id)!==null&&w!==void 0?w:xh("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=PB(S.triggeredAfterMouseMove,(_=y.throttleDelay)!==null&&_!==void 0?_:1e3/60),S.state={},S}return iDe(x,g),tDe(x,[{key:"componentDidMount",value:function(){var w,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,_=w.children,S=w.data,C=w.height,E=w.layout,A=ja(_,oi);if(A){var j=A.props.defaultIndex;if(!(typeof j!="number"||j<0||j>this.state.tooltipTicks.length-1)){var T=this.state.tooltipTicks[j]&&this.state.tooltipTicks[j].value,N=nE(this.state,S,j,T),O=this.state.tooltipTicks[j].coordinate,$=(this.state.offset.top+C)/2,R=E==="horizontal",F=R?{x:O,y:$}:{y:O,x:$},B=this.state.formattedGraphicalItems.find(function(I){var P=I.item;return P.type.name==="Scatter"});B&&(F=J(J({},F),B.props.points[j].tooltipPosition),N=B.props.points[j].tooltipPayload);var M={activeTooltipIndex:j,isTooltipActive:!0,activeLabel:T,activePayload:N,activeCoordinate:F};this.setState(M),this.renderCursor(A),this.accessibilityManager.setIndex(j)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var S,C;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(w){kS([ja(w.children,oi)],[ja(this.props.children,oi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=ja(this.props.children,oi);if(w&&typeof w.props.shared=="boolean"){var _=w.props.shared?"axis":"item";return s.indexOf(_)>=0?_:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var _=this.container,S=_.getBoundingClientRect(),C=FCe(S),E={chartX:Math.round(w.pageX-C.left),chartY:Math.round(w.pageY-C.top)},A=S.width/_.offsetWidth||1,j=this.inRange(E.chartX,E.chartY,A);if(!j)return null;var T=this.state,N=T.xAxisMap,O=T.yAxisMap,$=this.getTooltipEventType(),R=MR(this.state,this.props.data,this.props.layout,j);if($!=="axis"&&N&&O){var F=ad(N).scale,B=ad(O).scale,M=F&&F.invert?F.invert(E.chartX):null,I=B&&B.invert?B.invert(E.chartY):null;return J(J({},E),{},{xValue:M,yValue:I},R)}return R?J(J({},E),R):null}},{key:"inRange",value:function(w,_){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,E=w/S,A=_/S;if(C==="horizontal"||C==="vertical"){var j=this.state.offset,T=E>=j.left&&E<=j.left+j.width&&A>=j.top&&A<=j.top+j.height;return T?{x:E,y:A}:null}var N=this.state,O=N.angleAxisMap,$=N.radiusAxisMap;if(O&&$){var R=ad(O);return cI({x:E,y:A},R)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,_=this.getTooltipEventType(),S=ja(w,oi),C={};S&&_==="axis"&&(S.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=by(this.props,this.handleOuterEvent);return J(J({},E),C)}},{key:"addListener",value:function(){x_.on(w_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){x_.removeListener(w_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,_,S){for(var C=this.state.formattedGraphicalItems,E=0,A=C.length;E<A;E++){var j=C[E];if(j.item===w||j.props.key===w.key||_===_s(j.item.type)&&S===j.childIndex)return j}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,_=this.state.offset,S=_.left,C=_.top,E=_.height,A=_.width;return k.createElement("defs",null,k.createElement("clipPath",{id:w},k.createElement("rect",{x:S,y:C,height:E,width:A})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(_,S){var C=IR(S,2),E=C[0],A=C[1];return J(J({},_),{},We({},E,A.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(_,S){var C=IR(S,2),E=C[0],A=C[1];return J(J({},_),{},We({},E,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(w){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(w){var _=this.state,S=_.formattedGraphicalItems,C=_.activeItem;if(S&&S.length)for(var E=0,A=S.length;E<A;E++){var j=S[E],T=j.props,N=j.item,O=N.type.defaultProps!==void 0?J(J({},N.type.defaultProps),N.props):N.props,$=_s(N.type);if($==="Bar"){var R=(T.data||[]).find(function(I){return b3e(w,I)});if(R)return{graphicalItem:j,payload:R}}else if($==="RadialBar"){var F=(T.data||[]).find(function(I){return cI(w,I)});if(F)return{graphicalItem:j,payload:F}}else if(vw(j,C)||gw(j,C)||Hm(j,C)){var B=cke({graphicalItem:j,activeTooltipItem:C,itemData:O.data}),M=O.activeIndex===void 0?B:O.activeIndex;return{graphicalItem:J(J({},j),{},{childIndex:M}),payload:Hm(j,C)?O.data[B]:j.props.data[B]}}}return null}},{key:"render",value:function(){var w=this;if(!J3(this))return null;var _=this.props,S=_.children,C=_.className,E=_.width,A=_.height,j=_.style,T=_.compact,N=_.title,O=_.desc,$=RR(_,K8e),R=Ve($,!1);if(T)return k.createElement(gR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},k.createElement(RS,Ad({},R,{width:E,height:A,title:N,desc:O}),this.renderClipPath(),t4(S,this.renderMap)));if(this.props.accessibilityLayer){var F,B;R.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,R.role=(B=this.props.role)!==null&&B!==void 0?B:"application",R.onKeyDown=function(I){w.accessibilityManager.keyboardEvent(I)},R.onFocus=function(){w.accessibilityManager.focus()}}var M=this.parseEventsOfWrapper();return k.createElement(gR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},k.createElement("div",Ad({className:tt("recharts-wrapper",C),style:J({position:"relative",cursor:"default",width:E,height:A},j)},M,{ref:function(P){w.container=P}}),k.createElement(RS,Ad({},R,{width:E,height:A,title:N,desc:O,style:dDe}),this.renderClipPath(),t4(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(b.Component);We(v,"displayName",r),We(v,"defaultProps",J({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),We(v,"getDerivedStateFromProps",function(g,x){var y=g.dataKey,w=g.data,_=g.children,S=g.width,C=g.height,E=g.layout,A=g.stackOffset,j=g.margin,T=x.dataStartIndex,N=x.dataEndIndex;if(x.updateId===void 0){var O=$R(g);return J(J(J({},O),{},{updateId:0},p(J(J({props:g},O),{},{updateId:0}),x)),{},{prevDataKey:y,prevData:w,prevWidth:S,prevHeight:C,prevLayout:E,prevStackOffset:A,prevMargin:j,prevChildren:_})}if(y!==x.prevDataKey||w!==x.prevData||S!==x.prevWidth||C!==x.prevHeight||E!==x.prevLayout||A!==x.prevStackOffset||!Ld(j,x.prevMargin)){var $=$R(g),R={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},F=J(J({},MR(x,w,E)),{},{updateId:x.updateId+1}),B=J(J(J({},$),R),F);return J(J(J({},B),p(J({props:g},B),x)),{},{prevDataKey:y,prevData:w,prevWidth:S,prevHeight:C,prevLayout:E,prevStackOffset:A,prevMargin:j,prevChildren:_})}if(!kS(_,x.prevChildren)){var M,I,P,V,z=ja(_,Mf),H=z&&(M=(I=z.props)===null||I===void 0?void 0:I.startIndex)!==null&&M!==void 0?M:T,K=z&&(P=(V=z.props)===null||V===void 0?void 0:V.endIndex)!==null&&P!==void 0?P:N,re=H!==T||K!==N,ue=!Je(w),oe=ue&&!re?x.updateId:x.updateId+1;return J(J({updateId:oe},p(J(J({props:g},x),{},{updateId:oe,dataStartIndex:H,dataEndIndex:K}),x)),{},{prevChildren:_,dataStartIndex:H,dataEndIndex:K})}return null}),We(v,"renderActiveDot",function(g,x,y){var w;return b.isValidElement(g)?w=b.cloneElement(g,x):Xe(g)?w=g(x):w=k.createElement(dw,x),k.createElement(bt,{className:"recharts-active-dot",key:y},w)});var m=b.forwardRef(function(x,y){return k.createElement(v,Ad({},x,{ref:y}))});return m.displayName=v.displayName,m},bDe=MN({chartName:"LineChart",GraphicalChild:zv,axisComponents:[{axisType:"xAxis",AxisComp:zf},{axisType:"yAxis",AxisComp:qf}],formatAxisMap:yV}),_De=MN({chartName:"BarChart",GraphicalChild:Mu,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:zf},{axisType:"yAxis",AxisComp:qf}],formatAxisMap:yV}),SDe=MN({chartName:"PieChart",GraphicalChild:Hs,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:mw},{axisType:"radiusAxis",AxisComp:hw}],formatAxisMap:DOe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const CDe=[{month:"Jul",revenue:42e4},{month:"Aug",revenue:58e4},{month:"Sep",revenue:65e4},{month:"Oct",revenue:72e4},{month:"Nov",revenue:89e4},{month:"Dec",revenue:115e4}],EDe=[{name:"T. Nagar",revenue:485e3,orders:124},{name:"Anna Nagar",revenue:392e3,orders:98},{name:"Velachery",revenue:168e3,orders:56}],FR=[{name:"Bridal Wear",value:45},{name:"Saree Blouses",value:25},{name:"Kurtas",value:15},{name:"Alterations",value:10},{name:"Others",value:5}],BR=["hsl(345, 60%, 28%)","hsl(42, 70%, 50%)","hsl(345, 40%, 45%)","hsl(36, 30%, 70%)","hsl(36, 20%, 85%)"],ADe=()=>c.jsxs(Rr,{title:"Reports",subtitle:"Business analytics and insights",children:[c.jsxs("div",{className:"mb-4 flex items-center",children:[c.jsx("div",{className:"flex-1",children:c.jsx("p",{className:"text-sm text-muted-foreground",children:"Reports are temporarily disabled for updates."})}),c.jsxs("div",{className:"flex items-center w-full sm:w-auto justify-between sm:justify-end",children:[c.jsx("div",{className:"flex items-center gap-3",children:c.jsxs(Y,{variant:"outline",className:"gap-2",children:[c.jsx(ao,{className:"h-4 w-4"}),"Export Report"]})}),c.jsx("div",{className:"hidden sm:block ml-3",children:c.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-amber-100 text-amber-800 border border-amber-200",children:"Update Required"})})]})]}),c.jsxs("div",{className:"opacity-60 pointer-events-none select-none",children:[c.jsxs("div",{className:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[c.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[c.jsxs(Pt,{defaultValue:"this_month",children:[c.jsx(Et,{className:"w-40",children:c.jsx(kt,{placeholder:"Period"})}),c.jsxs(At,{children:[c.jsx(je,{value:"today",children:"Today"}),c.jsx(je,{value:"this_week",children:"This Week"}),c.jsx(je,{value:"this_month",children:"This Month"}),c.jsx(je,{value:"this_quarter",children:"This Quarter"}),c.jsx(je,{value:"this_year",children:"This Year"})]})]}),c.jsxs(Pt,{defaultValue:"all",children:[c.jsx(Et,{className:"w-36",children:c.jsx(kt,{placeholder:"Store"})}),c.jsxs(At,{children:[c.jsx(je,{value:"all",children:"All Stores"}),c.jsx(je,{value:"anna_nagar",children:"Anna Nagar"}),c.jsx(je,{value:"t_nagar",children:"T. Nagar"}),c.jsx(je,{value:"velachery",children:"Velachery"})]})]})]}),c.jsxs(Y,{variant:"outline",className:"gap-2",children:[c.jsx(ao,{className:"h-4 w-4"}),"Export Report"]})]}),c.jsxs("div",{className:"mb-8 grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[c.jsx(ps,{title:"Total Revenue",value:"10,45,000",change:"+18.2% vs last month",changeType:"positive",icon:c.jsx(KM,{className:"h-6 w-6 text-primary"})}),c.jsx(ps,{title:"Orders Completed",value:"278",change:"+12 vs last month",changeType:"positive",icon:c.jsx(zl,{className:"h-6 w-6 text-primary"})}),c.jsx(ps,{title:"New Customers",value:"45",change:"+8 vs last month",changeType:"positive",icon:c.jsx(lf,{className:"h-6 w-6 text-primary"})}),c.jsx(ps,{title:"Avg. Order Value",value:"3,760",change:"+5.4% vs last month",changeType:"positive",icon:c.jsx(rG,{className:"h-6 w-6 text-primary"})})]}),c.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[c.jsxs("div",{className:"card-luxury p-6",children:[c.jsx("h3",{className:"mb-6 font-display text-lg font-semibold text-foreground",children:"Revenue Trend"}),c.jsx("div",{className:"h-64 sm:h-80",children:c.jsx(a_,{width:"100%",height:"100%",children:c.jsxs(bDe,{data:CDe,children:[c.jsx(zf,{dataKey:"month",stroke:"hsl(var(--muted-foreground))",fontSize:12}),c.jsx(qf,{stroke:"hsl(var(--muted-foreground))",fontSize:12,tickFormatter:t=>`${(t/1e5).toFixed(1)}L`}),c.jsx(oi,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},formatter:t=>[`${t.toLocaleString()}`,"Revenue"]}),c.jsx(zv,{type:"monotone",dataKey:"revenue",stroke:"hsl(345, 60%, 28%)",strokeWidth:3,dot:{fill:"hsl(345, 60%, 28%)",strokeWidth:2}})]})})})]}),c.jsxs("div",{className:"card-luxury p-6",children:[c.jsx("h3",{className:"mb-6 font-display text-lg font-semibold text-foreground",children:"Revenue by Store"}),c.jsx("div",{className:"h-64 sm:h-80",children:c.jsx(a_,{width:"100%",height:"100%",children:c.jsxs(_De,{data:EDe,layout:"vertical",children:[c.jsx(zf,{type:"number",stroke:"hsl(var(--muted-foreground))",fontSize:12,tickFormatter:t=>`${(t/1e3).toFixed(0)}k`}),c.jsx(qf,{dataKey:"name",type:"category",stroke:"hsl(var(--muted-foreground))",fontSize:12,width:80}),c.jsx(oi,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},formatter:t=>[`${t.toLocaleString()}`,"Revenue"]}),c.jsx(Mu,{dataKey:"revenue",fill:"hsl(345, 60%, 28%)",radius:[0,4,4,0]})]})})})]}),c.jsxs("div",{className:"card-luxury p-6",children:[c.jsx("h3",{className:"mb-6 font-display text-lg font-semibold text-foreground",children:"Sales by Category"}),c.jsx("div",{className:"h-64 sm:h-80",children:c.jsx(a_,{width:"100%",height:"100%",children:c.jsxs(SDe,{children:[c.jsx(Hs,{data:FR,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:2,dataKey:"value",label:({name:t,percent:e})=>`${t} (${(e*100).toFixed(0)}%)`,labelLine:!1,children:FR.map((t,e)=>c.jsx(Jx,{fill:BR[e%BR.length]},`cell-${e}`))}),c.jsx(oi,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}})]})})})]}),c.jsxs("div",{className:"card-luxury p-6",children:[c.jsx("h3",{className:"mb-6 font-display text-lg font-semibold text-foreground",children:"Top Products"}),c.jsx("div",{className:"space-y-4",children:[{name:"Bridal Lehenga Custom",orders:45,revenue:225e4},{name:"Kanjivaram Saree Blouse",orders:89,revenue:445e3},{name:"Designer Kurta Set",orders:67,revenue:335e3},{name:"Silk Saree Alterations",orders:156,revenue:234e3},{name:"Party Wear Blouse",orders:78,revenue:195e3}].map((t,e)=>c.jsxs("div",{className:"flex items-center justify-between border-b border-border pb-4 last:border-0 last:pb-0",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary/10 font-display text-sm font-semibold text-primary",children:e+1}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-foreground",children:t.name}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.orders," orders"]})]})]}),c.jsxs("p",{className:"font-medium text-foreground",children:["",(t.revenue/1e3).toFixed(0),"k"]})]},t.name))})]})]})]})]});var po="Accordion",jDe=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[$N,NDe,ODe]=sv(po),[Ew,lMe]=$n(po,[ODe,F9]),LN=F9(),rW=k.forwardRef((t,e)=>{const{type:r,...n}=t,a=n,i=n;return c.jsx($N.Provider,{scope:t.__scopeAccordion,children:r==="multiple"?c.jsx(IDe,{...i,ref:e}):c.jsx(kDe,{...a,ref:e})})});rW.displayName=po;var[nW,TDe]=Ew(po),[aW,PDe]=Ew(po,{collapsible:!1}),kDe=k.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},collapsible:i=!1,...o}=t,[s,l]=xi({prop:r,defaultProp:n??"",onChange:a,caller:po});return c.jsx(nW,{scope:t.__scopeAccordion,value:k.useMemo(()=>s?[s]:[],[s]),onItemOpen:l,onItemClose:k.useCallback(()=>i&&l(""),[i,l]),children:c.jsx(aW,{scope:t.__scopeAccordion,collapsible:i,children:c.jsx(iW,{...o,ref:e})})})}),IDe=k.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...i}=t,[o,s]=xi({prop:r,defaultProp:n??[],onChange:a,caller:po}),l=k.useCallback(d=>s((f=[])=>[...f,d]),[s]),u=k.useCallback(d=>s((f=[])=>f.filter(h=>h!==d)),[s]);return c.jsx(nW,{scope:t.__scopeAccordion,value:o,onItemOpen:l,onItemClose:u,children:c.jsx(aW,{scope:t.__scopeAccordion,collapsible:!0,children:c.jsx(iW,{...i,ref:e})})})}),[RDe,Aw]=Ew(po),iW=k.forwardRef((t,e)=>{const{__scopeAccordion:r,disabled:n,dir:a,orientation:i="vertical",...o}=t,s=k.useRef(null),l=Ke(s,e),u=NDe(r),f=sh(a)==="ltr",h=de(t.onKeyDown,p=>{var A;if(!jDe.includes(p.key))return;const v=p.target,m=u().filter(j=>{var T;return!((T=j.ref.current)!=null&&T.disabled)}),g=m.findIndex(j=>j.ref.current===v),x=m.length;if(g===-1)return;p.preventDefault();let y=g;const w=0,_=x-1,S=()=>{y=g+1,y>_&&(y=w)},C=()=>{y=g-1,y<w&&(y=_)};switch(p.key){case"Home":y=w;break;case"End":y=_;break;case"ArrowRight":i==="horizontal"&&(f?S():C());break;case"ArrowDown":i==="vertical"&&S();break;case"ArrowLeft":i==="horizontal"&&(f?C():S());break;case"ArrowUp":i==="vertical"&&C();break}const E=y%x;(A=m[E].ref.current)==null||A.focus()});return c.jsx(RDe,{scope:r,disabled:n,direction:a,orientation:i,children:c.jsx($N.Slot,{scope:r,children:c.jsx(Ie.div,{...o,"data-orientation":i,ref:l,onKeyDown:n?void 0:h})})})}),b1="AccordionItem",[DDe,FN]=Ew(b1),oW=k.forwardRef((t,e)=>{const{__scopeAccordion:r,value:n,...a}=t,i=Aw(b1,r),o=TDe(b1,r),s=LN(r),l=$a(),u=n&&o.value.includes(n)||!1,d=i.disabled||t.disabled;return c.jsx(DDe,{scope:r,open:u,disabled:d,triggerId:l,children:c.jsx(V9,{"data-orientation":i.orientation,"data-state":fW(u),...s,...a,ref:e,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(n):o.onItemClose(n)}})})});oW.displayName=b1;var sW="AccordionHeader",lW=k.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,a=Aw(po,r),i=FN(sW,r);return c.jsx(Ie.h3,{"data-orientation":a.orientation,"data-state":fW(i.open),"data-disabled":i.disabled?"":void 0,...n,ref:e})});lW.displayName=sW;var aE="AccordionTrigger",cW=k.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,a=Aw(po,r),i=FN(aE,r),o=PDe(aE,r),s=LN(r);return c.jsx($N.ItemSlot,{scope:r,children:c.jsx(vfe,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...s,...n,ref:e})})});cW.displayName=aE;var uW="AccordionContent",dW=k.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,a=Aw(po,r),i=FN(uW,r),o=LN(r);return c.jsx(gfe,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...o,...n,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});dW.displayName=uW;function fW(t){return t?"open":"closed"}var MDe=rW,$De=oW,LDe=lW,hW=cW,pW=dW;const FDe=MDe,vo=b.forwardRef(({className:t,...e},r)=>c.jsx($De,{ref:r,className:fe("border-b",t),...e}));vo.displayName="AccordionItem";const go=b.forwardRef(({className:t,children:e,...r},n)=>c.jsx(LDe,{className:"flex",children:c.jsxs(hW,{ref:n,className:fe("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...r,children:[e,c.jsx(iu,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));go.displayName=hW.displayName;const yo=b.forwardRef(({className:t,children:e,...r},n)=>c.jsx(pW,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:c.jsx("div",{className:fe("pb-4 pt-0",t),children:e})}));yo.displayName=pW.displayName;function mW({className:t,...e}){return c.jsx("div",{className:fe("animate-pulse rounded-md bg-muted",t),...e})}const UR=[{value:"slate",label:"Slate",class:"bg-slate-500"},{value:"gray",label:"Gray",class:"bg-gray-500"},{value:"red",label:"Red",class:"bg-red-500"},{value:"amber",label:"Amber",class:"bg-amber-500"},{value:"yellow",label:"Yellow",class:"bg-yellow-500"},{value:"green",label:"Green",class:"bg-green-500"},{value:"emerald",label:"Emerald",class:"bg-emerald-500"},{value:"cyan",label:"Cyan",class:"bg-cyan-500"},{value:"blue",label:"Blue",class:"bg-blue-500"},{value:"indigo",label:"Indigo",class:"bg-indigo-500"},{value:"purple",label:"Purple",class:"bg-purple-500"},{value:"violet",label:"Violet",class:"bg-violet-500"}],BDe=()=>{const{orderStatuses:t,isLoading:e,createOrderStatus:r,updateOrderStatus:n,deleteOrderStatus:a}=Pj(),[i,o]=b.useState(!1),[s,l]=b.useState(null),[u,d]=b.useState({code:"",label:"",color:"gray",is_active:!0}),f=()=>{d({code:"",label:"",color:"gray",is_active:!0}),l(null)},h=()=>{f(),o(!0)},p=x=>{l(x),d({code:x.code,label:x.label,color:x.color,is_active:x.is_active}),o(!0)},v=async()=>{if(!(!u.code||!u.label)){if(s)await n.mutateAsync({id:s.id,label:u.label,color:u.color,is_active:u.is_active});else{const x=Math.max(...(t==null?void 0:t.map(y=>y.sort_order))||[0],0);await r.mutateAsync({code:u.code.toLowerCase().replace(/\s+/g,"_"),label:u.label,color:u.color,is_active:u.is_active,is_system:!1,sort_order:x+1})}o(!1),f()}},m=async x=>{x.is_system||confirm(`Are you sure you want to delete "${x.label}"?`)&&await a.mutateAsync(x.id)},g=x=>{var y;return((y=UR.find(w=>w.value===x))==null?void 0:y.class)||"bg-gray-500"};return e?c.jsx("div",{className:"space-y-3",children:[1,2,3].map(x=>c.jsx(mW,{className:"h-14 w-full"},x))}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage order workflow statuses"}),c.jsxs(Y,{size:"sm",onClick:h,children:[c.jsx(Lo,{className:"mr-2 h-4 w-4"}),"Add Status"]})]}),c.jsx("div",{className:"space-y-2",children:t==null?void 0:t.map(x=>c.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-3",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(HM,{className:"h-4 w-4 text-muted-foreground cursor-grab"}),c.jsx("div",{className:`h-3 w-3 rounded-full ${g(x.color)}`}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-medium",children:x.label}),x.is_system&&c.jsx(Gq,{className:"h-3 w-3 text-muted-foreground"}),!x.is_active&&c.jsx("span",{className:"text-xs text-muted-foreground",children:"(Inactive)"})]}),c.jsx("span",{className:"text-xs text-muted-foreground",children:x.code})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Y,{variant:"ghost",size:"icon",onClick:()=>p(x),children:c.jsx(Ya,{className:"h-4 w-4"})}),!x.is_system&&c.jsx(Y,{variant:"ghost",size:"icon",onClick:()=>m(x),children:c.jsx(io,{className:"h-4 w-4 text-destructive"})})]})]},x.id))}),c.jsx(Vt,{open:i,onOpenChange:o,children:c.jsxs(It,{children:[c.jsx(Rt,{children:c.jsx(Dt,{children:s?"Edit Order Status":"Add Order Status"})}),c.jsxs("div",{className:"space-y-4 py-4",children:[!s&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(Bt,{htmlFor:"code",children:"Code"}),c.jsx(ye,{id:"code",placeholder:"e.g., quality_check",value:u.code,onChange:x=>d({...u,code:x.target.value})}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Internal identifier (lowercase, underscores)"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Bt,{htmlFor:"label",children:"Display Label"}),c.jsx(ye,{id:"label",placeholder:"e.g., Quality Check",value:u.label,onChange:x=>d({...u,label:x.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Bt,{children:"Color"}),c.jsxs(Pt,{value:u.color,onValueChange:x=>d({...u,color:x}),children:[c.jsx(Et,{children:c.jsx(kt,{})}),c.jsx(At,{children:UR.map(x=>c.jsx(je,{value:x.value,children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:`h-3 w-3 rounded-full ${x.class}`}),x.label]})},x.value))})]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(Bt,{htmlFor:"is_active",children:"Active"}),c.jsx(bs,{id:"is_active",checked:u.is_active,onCheckedChange:x=>d({...u,is_active:x})})]})]}),c.jsxs(Tt,{className:"flex items-center gap-2",children:[c.jsx(Y,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),c.jsx(Y,{onClick:v,disabled:!u.code||!u.label,children:s?"Save Changes":"Add Status"})]})]})})]})},VR=[{value:"slate",label:"Slate",class:"bg-slate-500"},{value:"zinc",label:"Zinc",class:"bg-zinc-500"},{value:"gray",label:"Gray",class:"bg-gray-500"},{value:"amber",label:"Amber/Gold",class:"bg-amber-500"},{value:"yellow",label:"Yellow",class:"bg-yellow-500"},{value:"violet",label:"Violet",class:"bg-violet-500"},{value:"purple",label:"Purple",class:"bg-purple-500"},{value:"blue",label:"Blue",class:"bg-blue-500"},{value:"emerald",label:"Emerald",class:"bg-emerald-500"}],UDe=()=>{const{vipStatuses:t,isLoading:e,updateVipStatus:r}=xfe(),[n,a]=b.useState(!1),[i,o]=b.useState(null),[s,l]=b.useState({label:"",color:"gray"}),u=h=>{o(h),l({label:h.label,color:h.color}),a(!0)},d=async()=>{!i||!s.label||(await r.mutateAsync({id:i.id,label:s.label,color:s.color}),a(!1),o(null))},f=h=>{var p;return((p=VR.find(v=>v.value===h))==null?void 0:p.class)||"bg-gray-500"};return e?c.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(h=>c.jsx(mW,{className:"h-14 w-full"},h))}):c.jsxs("div",{className:"space-y-4",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Customize VIP tier labels and colors"}),c.jsx("div",{className:"space-y-2",children:t==null?void 0:t.map(h=>c.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-3",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(HM,{className:"h-4 w-4 text-muted-foreground cursor-grab"}),c.jsx("div",{className:`h-3 w-3 rounded-full ${f(h.color)}`}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:h.label}),c.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:["(",h.code,")"]})]})]}),c.jsx(Y,{variant:"ghost",size:"icon",onClick:()=>u(h),children:c.jsx(Ya,{className:"h-4 w-4"})})]},h.id))}),c.jsx(Vt,{open:n,onOpenChange:a,children:c.jsxs(It,{children:[c.jsx(Rt,{children:c.jsx(Dt,{children:"Edit VIP Level"})}),c.jsxs("div",{className:"space-y-4 py-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Bt,{htmlFor:"vip-label",children:"Display Label"}),c.jsx(ye,{id:"vip-label",placeholder:"e.g., Diamond",value:s.label,onChange:h=>l({...s,label:h.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Bt,{children:"Color"}),c.jsxs(Pt,{value:s.color,onValueChange:h=>l({...s,color:h}),children:[c.jsx(Et,{children:c.jsx(kt,{})}),c.jsx(At,{children:VR.map(h=>c.jsx(je,{value:h.value,children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:`h-3 w-3 rounded-full ${h.class}`}),h.label]})},h.value))})]})]})]}),c.jsxs(Tt,{children:[c.jsx(Y,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),c.jsx(Y,{onClick:d,disabled:!s.label,children:"Save Changes"})]})]})})]})};function VDe(){const{toast:t}=pr(),e=b.useRef(null),{settings:r,isLoading:n,save:a}=cF("invoice_template"),[i,o]=b.useState(()=>({companyName:"Quppayam Boutique",companyAddress:"Chennai, India",companyPhone:"+91 44 2628 1234",companyEmail:"contact@quppayam.com",invoicePrefix:"INV-",showLogo:!0,showPaymentTerms:!0,paymentTerms:"Payment is due within 15 days of invoice date.",footerNote:"Thank you for your business!",showTaxBreakdown:!0,logoUrl:""}));b.useEffect(()=>{r&&o(d=>({...d,...r}))},[r]);const s=()=>{a(i)},l=async d=>{if(d)try{const f=d.name.split(".").pop(),h=`logos/${Date.now()}-${Math.random().toString(36).slice(2)}.${f}`,{error:p}=await le.storage.from("materials").upload(h,d);if(p)throw p;const{data:v}=le.storage.from("materials").getPublicUrl(h);o(m=>({...m,logoUrl:v.publicUrl})),t({title:"Logo uploaded"})}catch(f){t({title:"Upload failed",description:f.message,variant:"destructive"})}},u=d=>{var h;const f=(h=d.target.files)==null?void 0:h[0];f&&l(f)};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium mb-4",children:"Company Information"}),c.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Bt,{htmlFor:"company-name",children:"Company Name"}),c.jsx(ye,{id:"company-name",value:i.companyName,onChange:d=>o({...i,companyName:d.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Bt,{htmlFor:"company-phone",children:"Phone"}),c.jsx(ye,{id:"company-phone",value:i.companyPhone,onChange:d=>o({...i,companyPhone:d.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Bt,{htmlFor:"company-email",children:"Email"}),c.jsx(ye,{id:"company-email",type:"email",value:i.companyEmail,onChange:d=>o({...i,companyEmail:d.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Bt,{htmlFor:"invoice-prefix",children:"Invoice Number Prefix"}),c.jsx(ye,{id:"invoice-prefix",value:i.invoicePrefix,onChange:d=>o({...i,invoicePrefix:d.target.value}),placeholder:"INV-"})]})]}),c.jsxs("div",{className:"space-y-2 mt-4",children:[c.jsx(Bt,{htmlFor:"company-address",children:"Address"}),c.jsx(ea,{id:"company-address",value:i.companyAddress,onChange:d=>o({...i,companyAddress:d.target.value}),rows:2})]}),c.jsxs("div",{className:"mt-4",children:[c.jsx(Bt,{children:"Company Logo"}),c.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[i.logoUrl?c.jsx("img",{src:i.logoUrl,alt:"logo",className:"h-12 w-24 object-contain"}):c.jsx("div",{className:"h-12 w-24 rounded bg-muted flex items-center justify-center text-sm text-muted-foreground",children:"No logo"}),c.jsx("input",{ref:e,type:"file",accept:"image/*",onChange:u,className:"hidden"}),c.jsx(Y,{variant:"outline",size:"sm",onClick:()=>{var d;return(d=e.current)==null?void 0:d.click()},children:"Upload Logo"})]})]})]}),c.jsx(bf,{}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium mb-4",children:"Invoice Display Options"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-sm",children:"Show Logo"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Display company logo on invoices"})]}),c.jsx(bs,{checked:i.showLogo,onCheckedChange:d=>o({...i,showLogo:d})})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-sm",children:"Show Tax Breakdown"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Display tax details separately"})]}),c.jsx(bs,{checked:i.showTaxBreakdown,onCheckedChange:d=>o({...i,showTaxBreakdown:d})})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-sm",children:"Show Payment Terms"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Include payment terms on invoice"})]}),c.jsx(bs,{checked:i.showPaymentTerms,onCheckedChange:d=>o({...i,showPaymentTerms:d})})]})]})]}),c.jsx(bf,{}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium mb-4",children:"Custom Text"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Bt,{htmlFor:"payment-terms",children:"Payment Terms"}),c.jsx(ea,{id:"payment-terms",value:i.paymentTerms,onChange:d=>o({...i,paymentTerms:d.target.value}),rows:2,placeholder:"Payment is due within 15 days..."})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Bt,{htmlFor:"footer-note",children:"Footer Note"}),c.jsx(ye,{id:"footer-note",value:i.footerNote,onChange:d=>o({...i,footerNote:d.target.value}),placeholder:"Thank you for your business!"})]})]})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Preview"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Y,{variant:"outline",onClick:()=>{o({companyName:"Quppayam Boutique",companyAddress:"Chennai, India",companyPhone:"+91 44 2628 1234",companyEmail:"contact@quppayam.com",invoicePrefix:"INV-",showLogo:!0,showPaymentTerms:!0,paymentTerms:"Payment is due within 15 days of invoice date.",footerNote:"Thank you for your business!",showTaxBreakdown:!0,logoUrl:""})},children:"Reset"}),c.jsx(Y,{onClick:s,children:"Save Template Settings"})]})]}),c.jsxs("div",{className:"rounded-lg border border-border p-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[i.showLogo&&i.logoUrl&&c.jsx("img",{src:i.logoUrl,alt:"logo",className:"h-10 object-contain"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-display text-lg font-semibold",children:i.companyName}),c.jsx("div",{className:"text-xs text-muted-foreground",children:i.companyAddress})]})]}),c.jsxs("div",{className:"text-right text-sm",children:[c.jsx("div",{children:"Invoice"}),c.jsxs("div",{className:"text-muted-foreground",children:[i.invoicePrefix,"0001"]})]})]}),i.showPaymentTerms&&c.jsx("p",{className:"mt-3 text-xs text-muted-foreground",children:i.paymentTerms})]})]})}function WDe(){const{categories:t,isLoading:e,createCategory:r,updateCategory:n,deleteCategory:a}=Ij(),[i,o]=b.useState(!1),[s,l]=b.useState(""),[u,d]=b.useState(null);return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:"Product Categories"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage categories used for inventory items."})]}),c.jsxs(Vt,{open:i,onOpenChange:o,children:[c.jsx(Zo,{asChild:!0,children:c.jsxs(Y,{variant:"outline",size:"sm",className:"gap-2",children:[c.jsx(Lo,{className:"h-4 w-4"}),"Add"]})}),c.jsxs(It,{children:[c.jsx(Rt,{children:c.jsx(Dt,{children:u?"Edit Category":"Add Category"})}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(ye,{value:s,onChange:f=>l(f.target.value),placeholder:"Category name"}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(Y,{variant:"outline",onClick:()=>{o(!1),l(""),d(null)},children:"Cancel"}),c.jsx(Y,{onClick:()=>{s&&(u?n.mutate({id:u,name:s}):r.mutate({name:s}),o(!1),l(""))},children:u?"Save":"Add"})]})]}),c.jsx(Tt,{})]})]})]}),c.jsx("div",{className:"space-y-2",children:e?c.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading categories..."}):t.map(f=>c.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-3",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(XM,{className:"h-4 w-4 text-muted-foreground"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:f.name}),c.jsx("p",{className:"text-xs text-muted-foreground",children:f.slug})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>{d(f.id),l(f.name),o(!0)},children:c.jsx(Yq,{className:"h-4 w-4"})}),c.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>a.mutate(f.id),children:c.jsx(io,{className:"h-4 w-4 text-destructive"})})]})]},f.id))})]})}const zDe=()=>c.jsx(Rr,{title:"Settings",subtitle:"Configure your boutique management system",children:c.jsx("div",{className:"max-w-4xl",children:c.jsxs(FDe,{type:"single",collapsible:!0,defaultValue:"business",className:"space-y-4",children:[c.jsxs(vo,{value:"business",className:"card-luxury border-none",children:[c.jsx(go,{className:"px-6 py-4 hover:no-underline",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary/10",children:c.jsx(VM,{className:"h-5 w-5 text-primary"})}),c.jsxs("div",{className:"text-left",children:[c.jsx("h2",{className:"font-display text-lg font-semibold text-foreground",children:"Business Information"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Basic details about your boutique"})]})]})}),c.jsxs(yo,{className:"px-6 pb-6",children:[c.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Bt,{htmlFor:"business-name",children:"Business Name"}),c.jsx(ye,{id:"business-name",defaultValue:"Quppayam Boutique"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Bt,{htmlFor:"business-phone",children:"Phone Number"}),c.jsx(ye,{id:"business-phone",defaultValue:"+91 44 2628 1234"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Bt,{htmlFor:"business-email",children:"Email Address"}),c.jsx(ye,{id:"business-email",type:"email",defaultValue:"contact@quppayam.com"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Bt,{htmlFor:"currency",children:"Currency"}),c.jsxs(Pt,{defaultValue:"inr",children:[c.jsx(Et,{id:"currency",children:c.jsx(kt,{})}),c.jsxs(At,{children:[c.jsx(je,{value:"inr",children:"Indian Rupee ()"}),c.jsx(je,{value:"usd",children:"US Dollar ($)"})]})]})]})]}),c.jsx("div",{className:"mt-6 flex justify-end",children:c.jsx(Y,{children:"Save Changes"})})]})]}),c.jsxs(vo,{value:"order-status",className:"card-luxury border-none",children:[c.jsx(go,{className:"px-6 py-4 hover:no-underline",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary/10",children:c.jsx(qq,{className:"h-5 w-5 text-primary"})}),c.jsxs("div",{className:"text-left",children:[c.jsx("h2",{className:"font-display text-lg font-semibold text-foreground",children:"Order Status Options"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Customize order workflow statuses"})]})]})}),c.jsx(yo,{className:"px-6 pb-6",children:c.jsx(BDe,{})})]}),c.jsxs(vo,{value:"vip-status",className:"card-luxury border-none",children:[c.jsx(go,{className:"px-6 py-4 hover:no-underline",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary/10",children:c.jsx(Ma,{className:"h-5 w-5 text-primary"})}),c.jsxs("div",{className:"text-left",children:[c.jsx("h2",{className:"font-display text-lg font-semibold text-foreground",children:"VIP Status Options"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Customize VIP tier labels and display order"})]})]})}),c.jsx(yo,{className:"px-6 pb-6",children:c.jsx(UDe,{})})]}),c.jsxs(vo,{value:"invoice",className:"card-luxury border-none",children:[c.jsx(go,{className:"px-6 py-4 hover:no-underline",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary/10",children:c.jsx(ou,{className:"h-5 w-5 text-primary"})}),c.jsxs("div",{className:"text-left",children:[c.jsx("h2",{className:"font-display text-lg font-semibold text-foreground",children:"Invoice Template"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Customize invoice layout and content"})]})]})}),c.jsx(yo,{className:"px-6 pb-6",children:c.jsx(VDe,{})})]}),c.jsxs(vo,{value:"categories",className:"card-luxury border-none",children:[c.jsx(go,{className:"px-6 py-4 hover:no-underline",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary/10",children:c.jsx(XM,{className:"h-5 w-5 text-primary"})}),c.jsxs("div",{className:"text-left",children:[c.jsx("h2",{className:"font-display text-lg font-semibold text-foreground",children:"Product Categories"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage the canonical product categories used across inventory."})]})]})}),c.jsx(yo,{className:"px-6 pb-6",children:c.jsx(WDe,{})})]}),c.jsxs(vo,{value:"notifications",className:"card-luxury border-none",children:[c.jsx(go,{className:"px-6 py-4 hover:no-underline opacity-80 cursor-not-allowed pointer-events-none",children:c.jsxs("div",{className:"flex items-center gap-3 w-full justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary/10",children:c.jsx(UM,{className:"h-5 w-5 text-primary"})}),c.jsxs("div",{className:"text-left",children:[c.jsx("h2",{className:"font-display text-lg font-semibold text-foreground",children:"Notifications"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure how you receive updates"})]})]}),c.jsx("div",{className:"ml-4 flex-shrink-0",children:c.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-amber-100 text-amber-800 border border-amber-200",children:"Requires Update"})})]})}),c.jsx(yo,{className:"px-6 pb-6",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-foreground",children:"Low Stock Alerts"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified when inventory runs low"})]}),c.jsx(bs,{defaultChecked:!0})]}),c.jsx(bf,{}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-foreground",children:"New Order Notifications"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive alerts for new orders"})]}),c.jsx(bs,{defaultChecked:!0})]}),c.jsx(bf,{}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-foreground",children:"Fitting Reminders"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Daily digest of upcoming fittings"})]}),c.jsx(bs,{defaultChecked:!0})]})]})})]}),c.jsxs(vo,{value:"whatsapp",className:"card-luxury border-none",children:[c.jsx(go,{className:"px-6 py-4 hover:no-underline opacity-80 cursor-not-allowed pointer-events-none",children:c.jsxs("div",{className:"flex items-center gap-3 w-full justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary/10",children:c.jsx(Xq,{className:"h-5 w-5 text-primary"})}),c.jsxs("div",{className:"text-left",children:[c.jsx("h2",{className:"font-display text-lg font-semibold text-foreground",children:"WhatsApp Integration"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure customer messaging via WhatsApp Business API"})]})]}),c.jsx("div",{className:"ml-4 flex-shrink-0",children:c.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-amber-100 text-amber-800 border border-amber-200",children:"Requires Update"})})]})}),c.jsx(yo,{className:"px-6 pb-6",children:c.jsxs("div",{className:"rounded-lg border border-border bg-muted/30 p-4",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Connect your WhatsApp Business account to enable automated customer notifications."}),c.jsx(Y,{className:"mt-4",variant:"outline",children:"Connect WhatsApp Business"})]})})]}),c.jsxs(vo,{value:"roles",className:"card-luxury border-none",children:[c.jsx(go,{className:"px-6 py-4 hover:no-underline opacity-80 cursor-not-allowed pointer-events-none",children:c.jsxs("div",{className:"flex items-center gap-3 w-full justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary/10",children:c.jsx(tG,{className:"h-5 w-5 text-primary"})}),c.jsxs("div",{className:"text-left",children:[c.jsx("h2",{className:"font-display text-lg font-semibold text-foreground",children:"User Roles & Permissions"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage access levels for your team"})]})]}),c.jsx("div",{className:"ml-4 flex-shrink-0",children:c.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-amber-100 text-amber-800 border border-amber-200",children:"Requires Update"})})]})}),c.jsx(yo,{className:"px-6 pb-6",children:c.jsx("div",{className:"space-y-3",children:[{role:"Admin",users:2,description:"Full access to all features"},{role:"Store Manager",users:3,description:"Manage orders, customers, and staff"},{role:"Sales Associate",users:5,description:"Create orders and manage customers"},{role:"Tailor",users:4,description:"View assigned orders and update status"}].map(t=>c.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-foreground",children:t.role}),c.jsx("p",{className:"text-sm text-muted-foreground",children:t.description})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("span",{className:"text-sm text-muted-foreground",children:[t.users," users"]}),c.jsx(Y,{variant:"outline",size:"sm",children:"Configure"})]})]},t.role))})})]}),c.jsxs(vo,{value:"billing",className:"card-luxury border-none",children:[c.jsx(go,{className:"px-6 py-4 hover:no-underline opacity-80 cursor-not-allowed pointer-events-none",children:c.jsxs("div",{className:"flex items-center gap-3 w-full justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary/10",children:c.jsx(zM,{className:"h-5 w-5 text-primary"})}),c.jsxs("div",{className:"text-left",children:[c.jsx("h2",{className:"font-display text-lg font-semibold text-foreground",children:"Billing & Subscription"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your subscription and payment methods"})]})]}),c.jsx("div",{className:"ml-4 flex-shrink-0",children:c.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-amber-100 text-amber-800 border border-amber-200",children:"Requires Update"})})]})}),c.jsx(yo,{className:"px-6 pb-6",children:c.jsx("div",{className:"rounded-lg border border-gold/30 bg-gold/5 p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-foreground",children:"Premium Plan"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Unlimited stores  Advanced analytics  Priority support"})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"font-display text-2xl font-semibold text-foreground",children:"4,999"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"per month"})]})]})})})]})]})})}),HDe=()=>{const t=ah();return b.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),c.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),c.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),c.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},qDe=new xY,GDe=()=>c.jsx(CY,{client:qDe,children:c.jsxs(rY,{children:[c.jsx(BG,{}),c.jsx(yK,{}),c.jsx(PZ,{children:c.jsxs(CZ,{children:[c.jsx(oa,{path:"/auth",element:c.jsx(yee,{})}),c.jsx(oa,{path:"/",element:c.jsx(Ii,{children:c.jsx(cfe,{})})}),c.jsx(oa,{path:"/customers",element:c.jsx(Ii,{children:c.jsx(ffe,{})})}),c.jsx(oa,{path:"/orders",element:c.jsx(Ii,{children:c.jsx(Mfe,{})})}),c.jsx(oa,{path:"/online-orders",element:c.jsx(Ii,{children:c.jsx(yhe,{})})}),c.jsx(oa,{path:"/measurements",element:c.jsx(Ii,{children:c.jsx(Ffe,{})})}),c.jsx(oa,{path:"/inventory",element:c.jsx(Ii,{children:c.jsx(Hfe,{})})}),c.jsx(oa,{path:"/employees",element:c.jsx(Ii,{children:c.jsx(Jfe,{})})}),c.jsx(oa,{path:"/services",element:c.jsx(Ii,{children:c.jsx(fhe,{})})}),c.jsx(oa,{path:"/stores",element:c.jsx(Ii,{children:c.jsx(ahe,{})})}),c.jsx(oa,{path:"/reports",element:c.jsx(Ii,{children:c.jsx(ADe,{})})}),c.jsx(oa,{path:"/settings",element:c.jsx(Ii,{children:c.jsx(zDe,{})})}),c.jsx(oa,{path:"*",element:c.jsx(HDe,{})})]})})]})});fM(document.getElementById("root")).render(c.jsx(GDe,{}));
