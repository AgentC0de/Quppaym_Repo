var WN=t=>{throw TypeError(t)};var Cw=(t,e,r)=>e.has(t)||WN("Cannot "+r);var U=(t,e,r)=>(Cw(t,e,"read from private field"),r?r.call(t):e.get(t)),Fe=(t,e,r)=>e.has(t)?WN("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Ae=(t,e,r,n)=>(Cw(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),rt=(t,e,r)=>(Cw(t,e,"access private method"),r);var Vv=(t,e,r,n)=>({set _(i){Ae(t,e,i,r)},get _(){return U(t,e,n)}});function OW(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Wv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var e8={exports:{}},x1={},t8={exports:{}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ym=Symbol.for("react.element"),NW=Symbol.for("react.portal"),jW=Symbol.for("react.fragment"),TW=Symbol.for("react.strict_mode"),PW=Symbol.for("react.profiler"),kW=Symbol.for("react.provider"),IW=Symbol.for("react.context"),RW=Symbol.for("react.forward_ref"),DW=Symbol.for("react.suspense"),MW=Symbol.for("react.memo"),$W=Symbol.for("react.lazy"),zN=Symbol.iterator;function LW(t){return t===null||typeof t!="object"?null:(t=zN&&t[zN]||t["@@iterator"],typeof t=="function"?t:null)}var r8={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},n8=Object.assign,i8={};function Uf(t,e,r){this.props=t,this.context=e,this.refs=i8,this.updater=r||r8}Uf.prototype.isReactComponent={};Uf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Uf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function a8(){}a8.prototype=Uf.prototype;function rE(t,e,r){this.props=t,this.context=e,this.refs=i8,this.updater=r||r8}var nE=rE.prototype=new a8;nE.constructor=rE;n8(nE,Uf.prototype);nE.isPureReactComponent=!0;var HN=Array.isArray,o8=Object.prototype.hasOwnProperty,iE={current:null},s8={key:!0,ref:!0,__self:!0,__source:!0};function l8(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)o8.call(e,n)&&!s8.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:Ym,type:t,key:a,ref:o,props:i,_owner:iE.current}}function FW(t,e){return{$$typeof:Ym,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function aE(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ym}function BW(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var GN=/\/+/g;function Ew(t,e){return typeof t=="object"&&t!==null&&t.key!=null?BW(""+t.key):e.toString(36)}function U0(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ym:case NW:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+Ew(o,0):n,HN(i)?(r="",t!=null&&(r=t.replace(GN,"$&/")+"/"),U0(i,e,r,"",function(c){return c})):i!=null&&(aE(i)&&(i=FW(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(GN,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",HN(t))for(var s=0;s<t.length;s++){a=t[s];var l=n+Ew(a,s);o+=U0(a,e,r,l,i)}else if(l=LW(t),typeof l=="function")for(t=l.call(t),s=0;!(a=t.next()).done;)a=a.value,l=n+Ew(a,s++),o+=U0(a,e,r,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function zv(t,e,r){if(t==null)return t;var n=[],i=0;return U0(t,n,"","",function(a){return e.call(r,a,i++)}),n}function UW(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Kn={current:null},V0={transition:null},VW={ReactCurrentDispatcher:Kn,ReactCurrentBatchConfig:V0,ReactCurrentOwner:iE};function c8(){throw Error("act(...) is not supported in production builds of React.")}st.Children={map:zv,forEach:function(t,e,r){zv(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return zv(t,function(){e++}),e},toArray:function(t){return zv(t,function(e){return e})||[]},only:function(t){if(!aE(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};st.Component=Uf;st.Fragment=jW;st.Profiler=PW;st.PureComponent=rE;st.StrictMode=TW;st.Suspense=DW;st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VW;st.act=c8;st.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=n8({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=iE.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)o8.call(e,l)&&!s8.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];n.children=s}return{$$typeof:Ym,type:t.type,key:i,ref:a,props:n,_owner:o}};st.createContext=function(t){return t={$$typeof:IW,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:kW,_context:t},t.Consumer=t};st.createElement=l8;st.createFactory=function(t){var e=l8.bind(null,t);return e.type=t,e};st.createRef=function(){return{current:null}};st.forwardRef=function(t){return{$$typeof:RW,render:t}};st.isValidElement=aE;st.lazy=function(t){return{$$typeof:$W,_payload:{_status:-1,_result:t},_init:UW}};st.memo=function(t,e){return{$$typeof:MW,type:t,compare:e===void 0?null:e}};st.startTransition=function(t){var e=V0.transition;V0.transition={};try{t()}finally{V0.transition=e}};st.unstable_act=c8;st.useCallback=function(t,e){return Kn.current.useCallback(t,e)};st.useContext=function(t){return Kn.current.useContext(t)};st.useDebugValue=function(){};st.useDeferredValue=function(t){return Kn.current.useDeferredValue(t)};st.useEffect=function(t,e){return Kn.current.useEffect(t,e)};st.useId=function(){return Kn.current.useId()};st.useImperativeHandle=function(t,e,r){return Kn.current.useImperativeHandle(t,e,r)};st.useInsertionEffect=function(t,e){return Kn.current.useInsertionEffect(t,e)};st.useLayoutEffect=function(t,e){return Kn.current.useLayoutEffect(t,e)};st.useMemo=function(t,e){return Kn.current.useMemo(t,e)};st.useReducer=function(t,e,r){return Kn.current.useReducer(t,e,r)};st.useRef=function(t){return Kn.current.useRef(t)};st.useState=function(t){return Kn.current.useState(t)};st.useSyncExternalStore=function(t,e,r){return Kn.current.useSyncExternalStore(t,e,r)};st.useTransition=function(){return Kn.current.useTransition()};st.version="18.3.1";t8.exports=st;var b=t8.exports;const k=Dt(b),oE=OW({__proto__:null,default:k},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WW=b,zW=Symbol.for("react.element"),HW=Symbol.for("react.fragment"),GW=Object.prototype.hasOwnProperty,qW=WW.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KW={key:!0,ref:!0,__self:!0,__source:!0};function u8(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)GW.call(e,n)&&!KW.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:zW,type:t,key:a,ref:o,props:i,_owner:qW.current}}x1.Fragment=HW;x1.jsx=u8;x1.jsxs=u8;e8.exports=x1;var u=e8.exports,d8={exports:{}},Ui={},f8={exports:{}},h8={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,R){var V=j.length;j.push(R);e:for(;0<V;){var W=V-1>>>1,z=j[W];if(0<i(z,R))j[W]=R,j[V]=z,V=W;else break e}}function r(j){return j.length===0?null:j[0]}function n(j){if(j.length===0)return null;var R=j[0],V=j.pop();if(V!==R){j[0]=V;e:for(var W=0,z=j.length,K=z>>>1;W<K;){var re=2*(W+1)-1,ue=j[re],le=re+1,J=j[le];if(0>i(ue,V))le<z&&0>i(J,ue)?(j[W]=J,j[le]=V,W=le):(j[W]=ue,j[re]=V,W=re);else if(le<z&&0>i(J,V))j[W]=J,j[le]=V,W=le;else break e}}return R}function i(j,R){var V=j.sortIndex-R.sortIndex;return V!==0?V:j.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],c=[],d=1,f=null,h=3,p=!1,v=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(j){for(var R=r(c);R!==null;){if(R.callback===null)n(c);else if(R.startTime<=j)n(c),R.sortIndex=R.expirationTime,e(l,R);else break;R=r(c)}}function S(j){if(m=!1,w(j),!v)if(r(l)!==null)v=!0,L(_);else{var R=r(c);R!==null&&M(S,R.startTime-j)}}function _(j,R){v=!1,m&&(m=!1,y(A),A=-1),p=!0;var V=h;try{for(w(R),f=r(l);f!==null&&(!(f.expirationTime>R)||j&&!N());){var W=f.callback;if(typeof W=="function"){f.callback=null,h=f.priorityLevel;var z=W(f.expirationTime<=R);R=t.unstable_now(),typeof z=="function"?f.callback=z:f===r(l)&&n(l),w(R)}else n(l);f=r(l)}if(f!==null)var K=!0;else{var re=r(c);re!==null&&M(S,re.startTime-R),K=!1}return K}finally{f=null,h=V,p=!1}}var C=!1,E=null,A=-1,O=5,T=-1;function N(){return!(t.unstable_now()-T<O)}function P(){if(E!==null){var j=t.unstable_now();T=j;var R=!0;try{R=E(!0,j)}finally{R?$():(C=!1,E=null)}}else C=!1}var $;if(typeof x=="function")$=function(){x(P)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,F=D.port2;D.port1.onmessage=P,$=function(){F.postMessage(null)}}else $=function(){g(P,0)};function L(j){E=j,C||(C=!0,$())}function M(j,R){A=g(function(){j(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,L(_))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(j){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var V=h;h=R;try{return j()}finally{h=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,R){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var V=h;h=j;try{return R()}finally{h=V}},t.unstable_scheduleCallback=function(j,R,V){var W=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?W+V:W):V=W,j){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=V+z,j={id:d++,callback:R,priorityLevel:j,startTime:V,expirationTime:z,sortIndex:-1},V>W?(j.sortIndex=V,e(c,j),r(l)===null&&j===r(c)&&(m?(y(A),A=-1):m=!0,M(S,V-W))):(j.sortIndex=z,e(l,j),v||p||(v=!0,L(_))),j},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(j){var R=h;return function(){var V=h;h=R;try{return j.apply(this,arguments)}finally{h=V}}}})(h8);f8.exports=h8;var XW=f8.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YW=b,Ri=XW;function oe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p8=new Set,jp={};function fu(t,e){qd(t,e),qd(t+"Capture",e)}function qd(t,e){for(jp[t]=e,t=0;t<e.length;t++)p8.add(e[t])}var ds=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g_=Object.prototype.hasOwnProperty,ZW=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qN={},KN={};function QW(t){return g_.call(KN,t)?!0:g_.call(qN,t)?!1:ZW.test(t)?KN[t]=!0:(qN[t]=!0,!1)}function JW(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ez(t,e,r,n){if(e===null||typeof e>"u"||JW(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xn(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var An={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){An[t]=new Xn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];An[e]=new Xn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){An[t]=new Xn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){An[t]=new Xn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){An[t]=new Xn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){An[t]=new Xn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){An[t]=new Xn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){An[t]=new Xn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){An[t]=new Xn(t,5,!1,t.toLowerCase(),null,!1,!1)});var sE=/[\-:]([a-z])/g;function lE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(sE,lE);An[e]=new Xn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(sE,lE);An[e]=new Xn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(sE,lE);An[e]=new Xn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){An[t]=new Xn(t,1,!1,t.toLowerCase(),null,!1,!1)});An.xlinkHref=new Xn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){An[t]=new Xn(t,1,!1,t.toLowerCase(),null,!0,!0)});function cE(t,e,r,n){var i=An.hasOwnProperty(e)?An[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ez(e,r,i,n)&&(r=null),n||i===null?QW(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var js=YW.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hv=Symbol.for("react.element"),Qu=Symbol.for("react.portal"),Ju=Symbol.for("react.fragment"),uE=Symbol.for("react.strict_mode"),y_=Symbol.for("react.profiler"),m8=Symbol.for("react.provider"),v8=Symbol.for("react.context"),dE=Symbol.for("react.forward_ref"),x_=Symbol.for("react.suspense"),w_=Symbol.for("react.suspense_list"),fE=Symbol.for("react.memo"),qs=Symbol.for("react.lazy"),g8=Symbol.for("react.offscreen"),XN=Symbol.iterator;function wh(t){return t===null||typeof t!="object"?null:(t=XN&&t[XN]||t["@@iterator"],typeof t=="function"?t:null)}var Sr=Object.assign,Aw;function qh(t){if(Aw===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Aw=e&&e[1]||""}return`
`+Aw+t}var Ow=!1;function Nw(t,e){if(!t||Ow)return"";Ow=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{Ow=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?qh(t):""}function tz(t){switch(t.tag){case 5:return qh(t.type);case 16:return qh("Lazy");case 13:return qh("Suspense");case 19:return qh("SuspenseList");case 0:case 2:case 15:return t=Nw(t.type,!1),t;case 11:return t=Nw(t.type.render,!1),t;case 1:return t=Nw(t.type,!0),t;default:return""}}function b_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ju:return"Fragment";case Qu:return"Portal";case y_:return"Profiler";case uE:return"StrictMode";case x_:return"Suspense";case w_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case v8:return(t.displayName||"Context")+".Consumer";case m8:return(t._context.displayName||"Context")+".Provider";case dE:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fE:return e=t.displayName||null,e!==null?e:b_(t.type)||"Memo";case qs:e=t._payload,t=t._init;try{return b_(t(e))}catch{}}return null}function rz(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return b_(e);case 8:return e===uE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function kl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function y8(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nz(t){var e=y8(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Gv(t){t._valueTracker||(t._valueTracker=nz(t))}function x8(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=y8(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function dg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function __(t,e){var r=e.checked;return Sr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function YN(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=kl(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function w8(t,e){e=e.checked,e!=null&&cE(t,"checked",e,!1)}function S_(t,e){w8(t,e);var r=kl(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?C_(t,e.type,r):e.hasOwnProperty("defaultValue")&&C_(t,e.type,kl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ZN(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function C_(t,e,r){(e!=="number"||dg(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Kh=Array.isArray;function wd(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+kl(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function E_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(oe(91));return Sr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function QN(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(oe(92));if(Kh(r)){if(1<r.length)throw Error(oe(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:kl(r)}}function b8(t,e){var r=kl(e.value),n=kl(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function JN(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function _8(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function A_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?_8(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var qv,S8=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(qv=qv||document.createElement("div"),qv.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=qv.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Tp(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var op={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iz=["Webkit","ms","Moz","O"];Object.keys(op).forEach(function(t){iz.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),op[e]=op[t]})});function C8(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||op.hasOwnProperty(t)&&op[t]?(""+e).trim():e+"px"}function E8(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=C8(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var az=Sr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function O_(t,e){if(e){if(az[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(oe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(oe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(oe(62))}}function N_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var j_=null;function hE(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var T_=null,bd=null,_d=null;function ej(t){if(t=Jm(t)){if(typeof T_!="function")throw Error(oe(280));var e=t.stateNode;e&&(e=C1(e),T_(t.stateNode,t.type,e))}}function A8(t){bd?_d?_d.push(t):_d=[t]:bd=t}function O8(){if(bd){var t=bd,e=_d;if(_d=bd=null,ej(t),e)for(t=0;t<e.length;t++)ej(e[t])}}function N8(t,e){return t(e)}function j8(){}var jw=!1;function T8(t,e,r){if(jw)return t(e,r);jw=!0;try{return N8(t,e,r)}finally{jw=!1,(bd!==null||_d!==null)&&(j8(),O8())}}function Pp(t,e){var r=t.stateNode;if(r===null)return null;var n=C1(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(oe(231,e,typeof r));return r}var P_=!1;if(ds)try{var bh={};Object.defineProperty(bh,"passive",{get:function(){P_=!0}}),window.addEventListener("test",bh,bh),window.removeEventListener("test",bh,bh)}catch{P_=!1}function oz(t,e,r,n,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var sp=!1,fg=null,hg=!1,k_=null,sz={onError:function(t){sp=!0,fg=t}};function lz(t,e,r,n,i,a,o,s,l){sp=!1,fg=null,oz.apply(sz,arguments)}function cz(t,e,r,n,i,a,o,s,l){if(lz.apply(this,arguments),sp){if(sp){var c=fg;sp=!1,fg=null}else throw Error(oe(198));hg||(hg=!0,k_=c)}}function hu(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function P8(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function tj(t){if(hu(t)!==t)throw Error(oe(188))}function uz(t){var e=t.alternate;if(!e){if(e=hu(t),e===null)throw Error(oe(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return tj(i),t;if(a===n)return tj(i),e;a=a.sibling}throw Error(oe(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(oe(189))}}if(r.alternate!==n)throw Error(oe(190))}if(r.tag!==3)throw Error(oe(188));return r.stateNode.current===r?t:e}function k8(t){return t=uz(t),t!==null?I8(t):null}function I8(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=I8(t);if(e!==null)return e;t=t.sibling}return null}var R8=Ri.unstable_scheduleCallback,rj=Ri.unstable_cancelCallback,dz=Ri.unstable_shouldYield,fz=Ri.unstable_requestPaint,kr=Ri.unstable_now,hz=Ri.unstable_getCurrentPriorityLevel,pE=Ri.unstable_ImmediatePriority,D8=Ri.unstable_UserBlockingPriority,pg=Ri.unstable_NormalPriority,pz=Ri.unstable_LowPriority,M8=Ri.unstable_IdlePriority,w1=null,yo=null;function mz(t){if(yo&&typeof yo.onCommitFiberRoot=="function")try{yo.onCommitFiberRoot(w1,t,void 0,(t.current.flags&128)===128)}catch{}}var za=Math.clz32?Math.clz32:yz,vz=Math.log,gz=Math.LN2;function yz(t){return t>>>=0,t===0?32:31-(vz(t)/gz|0)|0}var Kv=64,Xv=4194304;function Xh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function mg(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var s=o&~i;s!==0?n=Xh(s):(a&=o,a!==0&&(n=Xh(a)))}else o=r&~i,o!==0?n=Xh(o):a!==0&&(n=Xh(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-za(e),i=1<<r,n|=t[r],e&=~i;return n}function xz(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wz(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-za(a),s=1<<o,l=i[o];l===-1?(!(s&r)||s&n)&&(i[o]=xz(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}}function I_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $8(){var t=Kv;return Kv<<=1,!(Kv&4194240)&&(Kv=64),t}function Tw(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Zm(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-za(e),t[e]=r}function bz(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-za(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function mE(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-za(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var It=0;function L8(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var F8,vE,B8,U8,V8,R_=!1,Yv=[],gl=null,yl=null,xl=null,kp=new Map,Ip=new Map,Js=[],_z="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nj(t,e){switch(t){case"focusin":case"focusout":gl=null;break;case"dragenter":case"dragleave":yl=null;break;case"mouseover":case"mouseout":xl=null;break;case"pointerover":case"pointerout":kp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ip.delete(e.pointerId)}}function _h(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Jm(e),e!==null&&vE(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Sz(t,e,r,n,i){switch(e){case"focusin":return gl=_h(gl,t,e,r,n,i),!0;case"dragenter":return yl=_h(yl,t,e,r,n,i),!0;case"mouseover":return xl=_h(xl,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return kp.set(a,_h(kp.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Ip.set(a,_h(Ip.get(a)||null,t,e,r,n,i)),!0}return!1}function W8(t){var e=wc(t.target);if(e!==null){var r=hu(e);if(r!==null){if(e=r.tag,e===13){if(e=P8(r),e!==null){t.blockedOn=e,V8(t.priority,function(){B8(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function W0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=D_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);j_=n,r.target.dispatchEvent(n),j_=null}else return e=Jm(r),e!==null&&vE(e),t.blockedOn=r,!1;e.shift()}return!0}function ij(t,e,r){W0(t)&&r.delete(e)}function Cz(){R_=!1,gl!==null&&W0(gl)&&(gl=null),yl!==null&&W0(yl)&&(yl=null),xl!==null&&W0(xl)&&(xl=null),kp.forEach(ij),Ip.forEach(ij)}function Sh(t,e){t.blockedOn===e&&(t.blockedOn=null,R_||(R_=!0,Ri.unstable_scheduleCallback(Ri.unstable_NormalPriority,Cz)))}function Rp(t){function e(i){return Sh(i,t)}if(0<Yv.length){Sh(Yv[0],t);for(var r=1;r<Yv.length;r++){var n=Yv[r];n.blockedOn===t&&(n.blockedOn=null)}}for(gl!==null&&Sh(gl,t),yl!==null&&Sh(yl,t),xl!==null&&Sh(xl,t),kp.forEach(e),Ip.forEach(e),r=0;r<Js.length;r++)n=Js[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Js.length&&(r=Js[0],r.blockedOn===null);)W8(r),r.blockedOn===null&&Js.shift()}var Sd=js.ReactCurrentBatchConfig,vg=!0;function Ez(t,e,r,n){var i=It,a=Sd.transition;Sd.transition=null;try{It=1,gE(t,e,r,n)}finally{It=i,Sd.transition=a}}function Az(t,e,r,n){var i=It,a=Sd.transition;Sd.transition=null;try{It=4,gE(t,e,r,n)}finally{It=i,Sd.transition=a}}function gE(t,e,r,n){if(vg){var i=D_(t,e,r,n);if(i===null)Bw(t,e,n,gg,r),nj(t,n);else if(Sz(i,t,e,r,n))n.stopPropagation();else if(nj(t,n),e&4&&-1<_z.indexOf(t)){for(;i!==null;){var a=Jm(i);if(a!==null&&F8(a),a=D_(t,e,r,n),a===null&&Bw(t,e,n,gg,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Bw(t,e,n,null,r)}}var gg=null;function D_(t,e,r,n){if(gg=null,t=hE(n),t=wc(t),t!==null)if(e=hu(t),e===null)t=null;else if(r=e.tag,r===13){if(t=P8(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return gg=t,null}function z8(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hz()){case pE:return 1;case D8:return 4;case pg:case pz:return 16;case M8:return 536870912;default:return 16}default:return 16}}var fl=null,yE=null,z0=null;function H8(){if(z0)return z0;var t,e=yE,r=e.length,n,i="value"in fl?fl.value:fl.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return z0=i.slice(t,1<n?1-n:void 0)}function H0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Zv(){return!0}function aj(){return!1}function Vi(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Zv:aj,this.isPropagationStopped=aj,this}return Sr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Zv)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Zv)},persist:function(){},isPersistent:Zv}),e}var Vf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xE=Vi(Vf),Qm=Sr({},Vf,{view:0,detail:0}),Oz=Vi(Qm),Pw,kw,Ch,b1=Sr({},Qm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wE,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ch&&(Ch&&t.type==="mousemove"?(Pw=t.screenX-Ch.screenX,kw=t.screenY-Ch.screenY):kw=Pw=0,Ch=t),Pw)},movementY:function(t){return"movementY"in t?t.movementY:kw}}),oj=Vi(b1),Nz=Sr({},b1,{dataTransfer:0}),jz=Vi(Nz),Tz=Sr({},Qm,{relatedTarget:0}),Iw=Vi(Tz),Pz=Sr({},Vf,{animationName:0,elapsedTime:0,pseudoElement:0}),kz=Vi(Pz),Iz=Sr({},Vf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Rz=Vi(Iz),Dz=Sr({},Vf,{data:0}),sj=Vi(Dz),Mz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$z={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fz(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Lz[t])?!!e[t]:!1}function wE(){return Fz}var Bz=Sr({},Qm,{key:function(t){if(t.key){var e=Mz[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=H0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$z[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wE,charCode:function(t){return t.type==="keypress"?H0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?H0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Uz=Vi(Bz),Vz=Sr({},b1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lj=Vi(Vz),Wz=Sr({},Qm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wE}),zz=Vi(Wz),Hz=Sr({},Vf,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gz=Vi(Hz),qz=Sr({},b1,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Kz=Vi(qz),Xz=[9,13,27,32],bE=ds&&"CompositionEvent"in window,lp=null;ds&&"documentMode"in document&&(lp=document.documentMode);var Yz=ds&&"TextEvent"in window&&!lp,G8=ds&&(!bE||lp&&8<lp&&11>=lp),cj=" ",uj=!1;function q8(t,e){switch(t){case"keyup":return Xz.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function K8(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ed=!1;function Zz(t,e){switch(t){case"compositionend":return K8(e);case"keypress":return e.which!==32?null:(uj=!0,cj);case"textInput":return t=e.data,t===cj&&uj?null:t;default:return null}}function Qz(t,e){if(ed)return t==="compositionend"||!bE&&q8(t,e)?(t=H8(),z0=yE=fl=null,ed=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return G8&&e.locale!=="ko"?null:e.data;default:return null}}var Jz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dj(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Jz[t.type]:e==="textarea"}function X8(t,e,r,n){A8(n),e=yg(e,"onChange"),0<e.length&&(r=new xE("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var cp=null,Dp=null;function eH(t){oD(t,0)}function _1(t){var e=nd(t);if(x8(e))return t}function tH(t,e){if(t==="change")return e}var Y8=!1;if(ds){var Rw;if(ds){var Dw="oninput"in document;if(!Dw){var fj=document.createElement("div");fj.setAttribute("oninput","return;"),Dw=typeof fj.oninput=="function"}Rw=Dw}else Rw=!1;Y8=Rw&&(!document.documentMode||9<document.documentMode)}function hj(){cp&&(cp.detachEvent("onpropertychange",Z8),Dp=cp=null)}function Z8(t){if(t.propertyName==="value"&&_1(Dp)){var e=[];X8(e,Dp,t,hE(t)),T8(eH,e)}}function rH(t,e,r){t==="focusin"?(hj(),cp=e,Dp=r,cp.attachEvent("onpropertychange",Z8)):t==="focusout"&&hj()}function nH(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _1(Dp)}function iH(t,e){if(t==="click")return _1(e)}function aH(t,e){if(t==="input"||t==="change")return _1(e)}function oH(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qa=typeof Object.is=="function"?Object.is:oH;function Mp(t,e){if(qa(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!g_.call(e,i)||!qa(t[i],e[i]))return!1}return!0}function pj(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mj(t,e){var r=pj(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=pj(r)}}function Q8(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Q8(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function J8(){for(var t=window,e=dg();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=dg(t.document)}return e}function _E(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function sH(t){var e=J8(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Q8(r.ownerDocument.documentElement,r)){if(n!==null&&_E(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=mj(r,a);var o=mj(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var lH=ds&&"documentMode"in document&&11>=document.documentMode,td=null,M_=null,up=null,$_=!1;function vj(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;$_||td==null||td!==dg(n)||(n=td,"selectionStart"in n&&_E(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),up&&Mp(up,n)||(up=n,n=yg(M_,"onSelect"),0<n.length&&(e=new xE("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=td)))}function Qv(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var rd={animationend:Qv("Animation","AnimationEnd"),animationiteration:Qv("Animation","AnimationIteration"),animationstart:Qv("Animation","AnimationStart"),transitionend:Qv("Transition","TransitionEnd")},Mw={},eD={};ds&&(eD=document.createElement("div").style,"AnimationEvent"in window||(delete rd.animationend.animation,delete rd.animationiteration.animation,delete rd.animationstart.animation),"TransitionEvent"in window||delete rd.transitionend.transition);function S1(t){if(Mw[t])return Mw[t];if(!rd[t])return t;var e=rd[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in eD)return Mw[t]=e[r];return t}var tD=S1("animationend"),rD=S1("animationiteration"),nD=S1("animationstart"),iD=S1("transitionend"),aD=new Map,gj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ul(t,e){aD.set(t,e),fu(e,[t])}for(var $w=0;$w<gj.length;$w++){var Lw=gj[$w],cH=Lw.toLowerCase(),uH=Lw[0].toUpperCase()+Lw.slice(1);Ul(cH,"on"+uH)}Ul(tD,"onAnimationEnd");Ul(rD,"onAnimationIteration");Ul(nD,"onAnimationStart");Ul("dblclick","onDoubleClick");Ul("focusin","onFocus");Ul("focusout","onBlur");Ul(iD,"onTransitionEnd");qd("onMouseEnter",["mouseout","mouseover"]);qd("onMouseLeave",["mouseout","mouseover"]);qd("onPointerEnter",["pointerout","pointerover"]);qd("onPointerLeave",["pointerout","pointerover"]);fu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fu("onBeforeInput",["compositionend","keypress","textInput","paste"]);fu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dH=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yh));function yj(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,cz(n,e,void 0,t),t.currentTarget=null}function oD(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;yj(i,s,c),a=l}else for(o=0;o<n.length;o++){if(s=n[o],l=s.instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;yj(i,s,c),a=l}}}if(hg)throw t=k_,hg=!1,k_=null,t}function ir(t,e){var r=e[V_];r===void 0&&(r=e[V_]=new Set);var n=t+"__bubble";r.has(n)||(sD(e,t,2,!1),r.add(n))}function Fw(t,e,r){var n=0;e&&(n|=4),sD(r,t,n,e)}var Jv="_reactListening"+Math.random().toString(36).slice(2);function $p(t){if(!t[Jv]){t[Jv]=!0,p8.forEach(function(r){r!=="selectionchange"&&(dH.has(r)||Fw(r,!1,t),Fw(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Jv]||(e[Jv]=!0,Fw("selectionchange",!1,e))}}function sD(t,e,r,n){switch(z8(e)){case 1:var i=Ez;break;case 4:i=Az;break;default:i=gE}r=i.bind(null,e,r,t),i=void 0,!P_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Bw(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=wc(s),o===null)return;if(l=o.tag,l===5||l===6){n=a=o;continue e}s=s.parentNode}}n=n.return}T8(function(){var c=a,d=hE(r),f=[];e:{var h=aD.get(t);if(h!==void 0){var p=xE,v=t;switch(t){case"keypress":if(H0(r)===0)break e;case"keydown":case"keyup":p=Uz;break;case"focusin":v="focus",p=Iw;break;case"focusout":v="blur",p=Iw;break;case"beforeblur":case"afterblur":p=Iw;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=oj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=jz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=zz;break;case tD:case rD:case nD:p=kz;break;case iD:p=Gz;break;case"scroll":p=Oz;break;case"wheel":p=Kz;break;case"copy":case"cut":case"paste":p=Rz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=lj}var m=(e&4)!==0,g=!m&&t==="scroll",y=m?h!==null?h+"Capture":null:h;m=[];for(var x=c,w;x!==null;){w=x;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,y!==null&&(S=Pp(x,y),S!=null&&m.push(Lp(x,S,w)))),g)break;x=x.return}0<m.length&&(h=new p(h,v,null,r,d),f.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&r!==j_&&(v=r.relatedTarget||r.fromElement)&&(wc(v)||v[fs]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(v=r.relatedTarget||r.toElement,p=c,v=v?wc(v):null,v!==null&&(g=hu(v),v!==g||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=c),p!==v)){if(m=oj,S="onMouseLeave",y="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(m=lj,S="onPointerLeave",y="onPointerEnter",x="pointer"),g=p==null?h:nd(p),w=v==null?h:nd(v),h=new m(S,x+"leave",p,r,d),h.target=g,h.relatedTarget=w,S=null,wc(d)===c&&(m=new m(y,x+"enter",v,r,d),m.target=w,m.relatedTarget=g,S=m),g=S,p&&v)t:{for(m=p,y=v,x=0,w=m;w;w=Pu(w))x++;for(w=0,S=y;S;S=Pu(S))w++;for(;0<x-w;)m=Pu(m),x--;for(;0<w-x;)y=Pu(y),w--;for(;x--;){if(m===y||y!==null&&m===y.alternate)break t;m=Pu(m),y=Pu(y)}m=null}else m=null;p!==null&&xj(f,h,p,m,!1),v!==null&&g!==null&&xj(f,g,v,m,!0)}}e:{if(h=c?nd(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var _=tH;else if(dj(h))if(Y8)_=aH;else{_=nH;var C=rH}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=iH);if(_&&(_=_(t,c))){X8(f,_,r,d);break e}C&&C(t,h,c),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&C_(h,"number",h.value)}switch(C=c?nd(c):window,t){case"focusin":(dj(C)||C.contentEditable==="true")&&(td=C,M_=c,up=null);break;case"focusout":up=M_=td=null;break;case"mousedown":$_=!0;break;case"contextmenu":case"mouseup":case"dragend":$_=!1,vj(f,r,d);break;case"selectionchange":if(lH)break;case"keydown":case"keyup":vj(f,r,d)}var E;if(bE)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else ed?q8(t,r)&&(A="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(G8&&r.locale!=="ko"&&(ed||A!=="onCompositionStart"?A==="onCompositionEnd"&&ed&&(E=H8()):(fl=d,yE="value"in fl?fl.value:fl.textContent,ed=!0)),C=yg(c,A),0<C.length&&(A=new sj(A,t,null,r,d),f.push({event:A,listeners:C}),E?A.data=E:(E=K8(r),E!==null&&(A.data=E)))),(E=Yz?Zz(t,r):Qz(t,r))&&(c=yg(c,"onBeforeInput"),0<c.length&&(d=new sj("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:c}),d.data=E))}oD(f,e)})}function Lp(t,e,r){return{instance:t,listener:e,currentTarget:r}}function yg(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Pp(t,r),a!=null&&n.unshift(Lp(t,a,i)),a=Pp(t,e),a!=null&&n.push(Lp(t,a,i))),t=t.return}return n}function Pu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function xj(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&c!==null&&(s=c,i?(l=Pp(r,a),l!=null&&o.unshift(Lp(r,l,s))):i||(l=Pp(r,a),l!=null&&o.push(Lp(r,l,s)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var fH=/\r\n?/g,hH=/\u0000|\uFFFD/g;function wj(t){return(typeof t=="string"?t:""+t).replace(fH,`
`).replace(hH,"")}function e0(t,e,r){if(e=wj(e),wj(t)!==e&&r)throw Error(oe(425))}function xg(){}var L_=null,F_=null;function B_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var U_=typeof setTimeout=="function"?setTimeout:void 0,pH=typeof clearTimeout=="function"?clearTimeout:void 0,bj=typeof Promise=="function"?Promise:void 0,mH=typeof queueMicrotask=="function"?queueMicrotask:typeof bj<"u"?function(t){return bj.resolve(null).then(t).catch(vH)}:U_;function vH(t){setTimeout(function(){throw t})}function Uw(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Rp(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Rp(e)}function wl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function _j(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Wf=Math.random().toString(36).slice(2),uo="__reactFiber$"+Wf,Fp="__reactProps$"+Wf,fs="__reactContainer$"+Wf,V_="__reactEvents$"+Wf,gH="__reactListeners$"+Wf,yH="__reactHandles$"+Wf;function wc(t){var e=t[uo];if(e)return e;for(var r=t.parentNode;r;){if(e=r[fs]||r[uo]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=_j(t);t!==null;){if(r=t[uo])return r;t=_j(t)}return e}t=r,r=t.parentNode}return null}function Jm(t){return t=t[uo]||t[fs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function nd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(oe(33))}function C1(t){return t[Fp]||null}var W_=[],id=-1;function Vl(t){return{current:t}}function fr(t){0>id||(t.current=W_[id],W_[id]=null,id--)}function Xt(t,e){id++,W_[id]=t.current,t.current=e}var Il={},In=Vl(Il),li=Vl(!1),zc=Il;function Kd(t,e){var r=t.type.contextTypes;if(!r)return Il;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ci(t){return t=t.childContextTypes,t!=null}function wg(){fr(li),fr(In)}function Sj(t,e,r){if(In.current!==Il)throw Error(oe(168));Xt(In,e),Xt(li,r)}function lD(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(oe(108,rz(t)||"Unknown",i));return Sr({},r,n)}function bg(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Il,zc=In.current,Xt(In,t),Xt(li,li.current),!0}function Cj(t,e,r){var n=t.stateNode;if(!n)throw Error(oe(169));r?(t=lD(t,e,zc),n.__reactInternalMemoizedMergedChildContext=t,fr(li),fr(In),Xt(In,t)):fr(li),Xt(li,r)}var Yo=null,E1=!1,Vw=!1;function cD(t){Yo===null?Yo=[t]:Yo.push(t)}function xH(t){E1=!0,cD(t)}function Wl(){if(!Vw&&Yo!==null){Vw=!0;var t=0,e=It;try{var r=Yo;for(It=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Yo=null,E1=!1}catch(i){throw Yo!==null&&(Yo=Yo.slice(t+1)),R8(pE,Wl),i}finally{It=e,Vw=!1}}return null}var ad=[],od=0,_g=null,Sg=0,ea=[],ta=0,Hc=null,ts=1,rs="";function cc(t,e){ad[od++]=Sg,ad[od++]=_g,_g=t,Sg=e}function uD(t,e,r){ea[ta++]=ts,ea[ta++]=rs,ea[ta++]=Hc,Hc=t;var n=ts;t=rs;var i=32-za(n)-1;n&=~(1<<i),r+=1;var a=32-za(e)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,ts=1<<32-za(e)+i|r<<i|n,rs=a+t}else ts=1<<a|r<<i|n,rs=t}function SE(t){t.return!==null&&(cc(t,1),uD(t,1,0))}function CE(t){for(;t===_g;)_g=ad[--od],ad[od]=null,Sg=ad[--od],ad[od]=null;for(;t===Hc;)Hc=ea[--ta],ea[ta]=null,rs=ea[--ta],ea[ta]=null,ts=ea[--ta],ea[ta]=null}var ji=null,Ni=null,mr=!1,$a=null;function dD(t,e){var r=na(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Ej(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ji=t,Ni=wl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ji=t,Ni=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Hc!==null?{id:ts,overflow:rs}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=na(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,ji=t,Ni=null,!0):!1;default:return!1}}function z_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function H_(t){if(mr){var e=Ni;if(e){var r=e;if(!Ej(t,e)){if(z_(t))throw Error(oe(418));e=wl(r.nextSibling);var n=ji;e&&Ej(t,e)?dD(n,r):(t.flags=t.flags&-4097|2,mr=!1,ji=t)}}else{if(z_(t))throw Error(oe(418));t.flags=t.flags&-4097|2,mr=!1,ji=t}}}function Aj(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ji=t}function t0(t){if(t!==ji)return!1;if(!mr)return Aj(t),mr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!B_(t.type,t.memoizedProps)),e&&(e=Ni)){if(z_(t))throw fD(),Error(oe(418));for(;e;)dD(t,e),e=wl(e.nextSibling)}if(Aj(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(oe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ni=wl(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ni=null}}else Ni=ji?wl(t.stateNode.nextSibling):null;return!0}function fD(){for(var t=Ni;t;)t=wl(t.nextSibling)}function Xd(){Ni=ji=null,mr=!1}function EE(t){$a===null?$a=[t]:$a.push(t)}var wH=js.ReactCurrentBatchConfig;function Eh(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(oe(309));var n=r.stateNode}if(!n)throw Error(oe(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(oe(284));if(!r._owner)throw Error(oe(290,t))}return t}function r0(t,e){throw t=Object.prototype.toString.call(e),Error(oe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Oj(t){var e=t._init;return e(t._payload)}function hD(t){function e(y,x){if(t){var w=y.deletions;w===null?(y.deletions=[x],y.flags|=16):w.push(x)}}function r(y,x){if(!t)return null;for(;x!==null;)e(y,x),x=x.sibling;return null}function n(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function i(y,x){return y=Cl(y,x),y.index=0,y.sibling=null,y}function a(y,x,w){return y.index=w,t?(w=y.alternate,w!==null?(w=w.index,w<x?(y.flags|=2,x):w):(y.flags|=2,x)):(y.flags|=1048576,x)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function s(y,x,w,S){return x===null||x.tag!==6?(x=Xw(w,y.mode,S),x.return=y,x):(x=i(x,w),x.return=y,x)}function l(y,x,w,S){var _=w.type;return _===Ju?d(y,x,w.props.children,S,w.key):x!==null&&(x.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===qs&&Oj(_)===x.type)?(S=i(x,w.props),S.ref=Eh(y,x,w),S.return=y,S):(S=Q0(w.type,w.key,w.props,null,y.mode,S),S.ref=Eh(y,x,w),S.return=y,S)}function c(y,x,w,S){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=Yw(w,y.mode,S),x.return=y,x):(x=i(x,w.children||[]),x.return=y,x)}function d(y,x,w,S,_){return x===null||x.tag!==7?(x=Bc(w,y.mode,S,_),x.return=y,x):(x=i(x,w),x.return=y,x)}function f(y,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Xw(""+x,y.mode,w),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Hv:return w=Q0(x.type,x.key,x.props,null,y.mode,w),w.ref=Eh(y,null,x),w.return=y,w;case Qu:return x=Yw(x,y.mode,w),x.return=y,x;case qs:var S=x._init;return f(y,S(x._payload),w)}if(Kh(x)||wh(x))return x=Bc(x,y.mode,w,null),x.return=y,x;r0(y,x)}return null}function h(y,x,w,S){var _=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:s(y,x,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Hv:return w.key===_?l(y,x,w,S):null;case Qu:return w.key===_?c(y,x,w,S):null;case qs:return _=w._init,h(y,x,_(w._payload),S)}if(Kh(w)||wh(w))return _!==null?null:d(y,x,w,S,null);r0(y,w)}return null}function p(y,x,w,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(w)||null,s(x,y,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Hv:return y=y.get(S.key===null?w:S.key)||null,l(x,y,S,_);case Qu:return y=y.get(S.key===null?w:S.key)||null,c(x,y,S,_);case qs:var C=S._init;return p(y,x,w,C(S._payload),_)}if(Kh(S)||wh(S))return y=y.get(w)||null,d(x,y,S,_,null);r0(x,S)}return null}function v(y,x,w,S){for(var _=null,C=null,E=x,A=x=0,O=null;E!==null&&A<w.length;A++){E.index>A?(O=E,E=null):O=E.sibling;var T=h(y,E,w[A],S);if(T===null){E===null&&(E=O);break}t&&E&&T.alternate===null&&e(y,E),x=a(T,x,A),C===null?_=T:C.sibling=T,C=T,E=O}if(A===w.length)return r(y,E),mr&&cc(y,A),_;if(E===null){for(;A<w.length;A++)E=f(y,w[A],S),E!==null&&(x=a(E,x,A),C===null?_=E:C.sibling=E,C=E);return mr&&cc(y,A),_}for(E=n(y,E);A<w.length;A++)O=p(E,y,A,w[A],S),O!==null&&(t&&O.alternate!==null&&E.delete(O.key===null?A:O.key),x=a(O,x,A),C===null?_=O:C.sibling=O,C=O);return t&&E.forEach(function(N){return e(y,N)}),mr&&cc(y,A),_}function m(y,x,w,S){var _=wh(w);if(typeof _!="function")throw Error(oe(150));if(w=_.call(w),w==null)throw Error(oe(151));for(var C=_=null,E=x,A=x=0,O=null,T=w.next();E!==null&&!T.done;A++,T=w.next()){E.index>A?(O=E,E=null):O=E.sibling;var N=h(y,E,T.value,S);if(N===null){E===null&&(E=O);break}t&&E&&N.alternate===null&&e(y,E),x=a(N,x,A),C===null?_=N:C.sibling=N,C=N,E=O}if(T.done)return r(y,E),mr&&cc(y,A),_;if(E===null){for(;!T.done;A++,T=w.next())T=f(y,T.value,S),T!==null&&(x=a(T,x,A),C===null?_=T:C.sibling=T,C=T);return mr&&cc(y,A),_}for(E=n(y,E);!T.done;A++,T=w.next())T=p(E,y,A,T.value,S),T!==null&&(t&&T.alternate!==null&&E.delete(T.key===null?A:T.key),x=a(T,x,A),C===null?_=T:C.sibling=T,C=T);return t&&E.forEach(function(P){return e(y,P)}),mr&&cc(y,A),_}function g(y,x,w,S){if(typeof w=="object"&&w!==null&&w.type===Ju&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Hv:e:{for(var _=w.key,C=x;C!==null;){if(C.key===_){if(_=w.type,_===Ju){if(C.tag===7){r(y,C.sibling),x=i(C,w.props.children),x.return=y,y=x;break e}}else if(C.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===qs&&Oj(_)===C.type){r(y,C.sibling),x=i(C,w.props),x.ref=Eh(y,C,w),x.return=y,y=x;break e}r(y,C);break}else e(y,C);C=C.sibling}w.type===Ju?(x=Bc(w.props.children,y.mode,S,w.key),x.return=y,y=x):(S=Q0(w.type,w.key,w.props,null,y.mode,S),S.ref=Eh(y,x,w),S.return=y,y=S)}return o(y);case Qu:e:{for(C=w.key;x!==null;){if(x.key===C)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){r(y,x.sibling),x=i(x,w.children||[]),x.return=y,y=x;break e}else{r(y,x);break}else e(y,x);x=x.sibling}x=Yw(w,y.mode,S),x.return=y,y=x}return o(y);case qs:return C=w._init,g(y,x,C(w._payload),S)}if(Kh(w))return v(y,x,w,S);if(wh(w))return m(y,x,w,S);r0(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(r(y,x.sibling),x=i(x,w),x.return=y,y=x):(r(y,x),x=Xw(w,y.mode,S),x.return=y,y=x),o(y)):r(y,x)}return g}var Yd=hD(!0),pD=hD(!1),Cg=Vl(null),Eg=null,sd=null,AE=null;function OE(){AE=sd=Eg=null}function NE(t){var e=Cg.current;fr(Cg),t._currentValue=e}function G_(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Cd(t,e){Eg=t,AE=sd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ai=!0),t.firstContext=null)}function ua(t){var e=t._currentValue;if(AE!==t)if(t={context:t,memoizedValue:e,next:null},sd===null){if(Eg===null)throw Error(oe(308));sd=t,Eg.dependencies={lanes:0,firstContext:t}}else sd=sd.next=t;return e}var bc=null;function jE(t){bc===null?bc=[t]:bc.push(t)}function mD(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,jE(e)):(r.next=i.next,i.next=r),e.interleaved=r,hs(t,n)}function hs(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ks=!1;function TE(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vD(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function as(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function bl(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,vt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,hs(t,r)}return i=n.interleaved,i===null?(e.next=e,jE(n)):(e.next=i.next,i.next=e),n.interleaved=e,hs(t,r)}function G0(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,mE(t,r)}}function Nj(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Ag(t,e,r,n){var i=t.updateQueue;Ks=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,o===null?a=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==o&&(s===null?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;o=0,d=c=l=null,s=a;do{var h=s.lane,p=s.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=t,m=s;switch(h=e,p=r,m.tag){case 1:if(v=m.payload,typeof v=="function"){f=v.call(p,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=m.payload,h=typeof v=="function"?v.call(p,f,h):v,h==null)break e;f=Sr({},f,h);break e;case 2:Ks=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(c=d=p,l=f):d=d.next=p,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);qc|=o,t.lanes=o,t.memoizedState=f}}function jj(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(oe(191,i));i.call(n)}}}var ev={},xo=Vl(ev),Bp=Vl(ev),Up=Vl(ev);function _c(t){if(t===ev)throw Error(oe(174));return t}function PE(t,e){switch(Xt(Up,e),Xt(Bp,t),Xt(xo,ev),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:A_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=A_(e,t)}fr(xo),Xt(xo,e)}function Zd(){fr(xo),fr(Bp),fr(Up)}function gD(t){_c(Up.current);var e=_c(xo.current),r=A_(e,t.type);e!==r&&(Xt(Bp,t),Xt(xo,r))}function kE(t){Bp.current===t&&(fr(xo),fr(Bp))}var br=Vl(0);function Og(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ww=[];function IE(){for(var t=0;t<Ww.length;t++)Ww[t]._workInProgressVersionPrimary=null;Ww.length=0}var q0=js.ReactCurrentDispatcher,zw=js.ReactCurrentBatchConfig,Gc=0,_r=null,Xr=null,fn=null,Ng=!1,dp=!1,Vp=0,bH=0;function On(){throw Error(oe(321))}function RE(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!qa(t[r],e[r]))return!1;return!0}function DE(t,e,r,n,i,a){if(Gc=a,_r=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,q0.current=t===null||t.memoizedState===null?EH:AH,t=r(n,i),dp){a=0;do{if(dp=!1,Vp=0,25<=a)throw Error(oe(301));a+=1,fn=Xr=null,e.updateQueue=null,q0.current=OH,t=r(n,i)}while(dp)}if(q0.current=jg,e=Xr!==null&&Xr.next!==null,Gc=0,fn=Xr=_r=null,Ng=!1,e)throw Error(oe(300));return t}function ME(){var t=Vp!==0;return Vp=0,t}function oo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?_r.memoizedState=fn=t:fn=fn.next=t,fn}function da(){if(Xr===null){var t=_r.alternate;t=t!==null?t.memoizedState:null}else t=Xr.next;var e=fn===null?_r.memoizedState:fn.next;if(e!==null)fn=e,Xr=t;else{if(t===null)throw Error(oe(310));Xr=t,t={memoizedState:Xr.memoizedState,baseState:Xr.baseState,baseQueue:Xr.baseQueue,queue:Xr.queue,next:null},fn===null?_r.memoizedState=fn=t:fn=fn.next=t}return fn}function Wp(t,e){return typeof e=="function"?e(t):e}function Hw(t){var e=da(),r=e.queue;if(r===null)throw Error(oe(311));r.lastRenderedReducer=t;var n=Xr,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var s=o=null,l=null,c=a;do{var d=c.lane;if((Gc&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=f,o=n):l=l.next=f,_r.lanes|=d,qc|=d}c=c.next}while(c!==null&&c!==a);l===null?o=n:l.next=s,qa(n,e.memoizedState)||(ai=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,_r.lanes|=a,qc|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Gw(t){var e=da(),r=e.queue;if(r===null)throw Error(oe(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);qa(a,e.memoizedState)||(ai=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function yD(){}function xD(t,e){var r=_r,n=da(),i=e(),a=!qa(n.memoizedState,i);if(a&&(n.memoizedState=i,ai=!0),n=n.queue,$E(_D.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||fn!==null&&fn.memoizedState.tag&1){if(r.flags|=2048,zp(9,bD.bind(null,r,n,i,e),void 0,null),mn===null)throw Error(oe(349));Gc&30||wD(r,e,i)}return i}function wD(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=_r.updateQueue,e===null?(e={lastEffect:null,stores:null},_r.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function bD(t,e,r,n){e.value=r,e.getSnapshot=n,SD(e)&&CD(t)}function _D(t,e,r){return r(function(){SD(e)&&CD(t)})}function SD(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!qa(t,r)}catch{return!0}}function CD(t){var e=hs(t,1);e!==null&&Ha(e,t,1,-1)}function Tj(t){var e=oo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wp,lastRenderedState:t},e.queue=t,t=t.dispatch=CH.bind(null,_r,t),[e.memoizedState,t]}function zp(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=_r.updateQueue,e===null?(e={lastEffect:null,stores:null},_r.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function ED(){return da().memoizedState}function K0(t,e,r,n){var i=oo();_r.flags|=t,i.memoizedState=zp(1|e,r,void 0,n===void 0?null:n)}function A1(t,e,r,n){var i=da();n=n===void 0?null:n;var a=void 0;if(Xr!==null){var o=Xr.memoizedState;if(a=o.destroy,n!==null&&RE(n,o.deps)){i.memoizedState=zp(e,r,a,n);return}}_r.flags|=t,i.memoizedState=zp(1|e,r,a,n)}function Pj(t,e){return K0(8390656,8,t,e)}function $E(t,e){return A1(2048,8,t,e)}function AD(t,e){return A1(4,2,t,e)}function OD(t,e){return A1(4,4,t,e)}function ND(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function jD(t,e,r){return r=r!=null?r.concat([t]):null,A1(4,4,ND.bind(null,e,t),r)}function LE(){}function TD(t,e){var r=da();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&RE(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function PD(t,e){var r=da();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&RE(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function kD(t,e,r){return Gc&21?(qa(r,e)||(r=$8(),_r.lanes|=r,qc|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ai=!0),t.memoizedState=r)}function _H(t,e){var r=It;It=r!==0&&4>r?r:4,t(!0);var n=zw.transition;zw.transition={};try{t(!1),e()}finally{It=r,zw.transition=n}}function ID(){return da().memoizedState}function SH(t,e,r){var n=Sl(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},RD(t))DD(e,r);else if(r=mD(t,e,r,n),r!==null){var i=qn();Ha(r,t,n,i),MD(r,e,n)}}function CH(t,e,r){var n=Sl(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(RD(t))DD(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,qa(s,o)){var l=e.interleaved;l===null?(i.next=i,jE(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=mD(t,e,i,n),r!==null&&(i=qn(),Ha(r,t,n,i),MD(r,e,n))}}function RD(t){var e=t.alternate;return t===_r||e!==null&&e===_r}function DD(t,e){dp=Ng=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function MD(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,mE(t,r)}}var jg={readContext:ua,useCallback:On,useContext:On,useEffect:On,useImperativeHandle:On,useInsertionEffect:On,useLayoutEffect:On,useMemo:On,useReducer:On,useRef:On,useState:On,useDebugValue:On,useDeferredValue:On,useTransition:On,useMutableSource:On,useSyncExternalStore:On,useId:On,unstable_isNewReconciler:!1},EH={readContext:ua,useCallback:function(t,e){return oo().memoizedState=[t,e===void 0?null:e],t},useContext:ua,useEffect:Pj,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,K0(4194308,4,ND.bind(null,e,t),r)},useLayoutEffect:function(t,e){return K0(4194308,4,t,e)},useInsertionEffect:function(t,e){return K0(4,2,t,e)},useMemo:function(t,e){var r=oo();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=oo();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=SH.bind(null,_r,t),[n.memoizedState,t]},useRef:function(t){var e=oo();return t={current:t},e.memoizedState=t},useState:Tj,useDebugValue:LE,useDeferredValue:function(t){return oo().memoizedState=t},useTransition:function(){var t=Tj(!1),e=t[0];return t=_H.bind(null,t[1]),oo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=_r,i=oo();if(mr){if(r===void 0)throw Error(oe(407));r=r()}else{if(r=e(),mn===null)throw Error(oe(349));Gc&30||wD(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,Pj(_D.bind(null,n,a,t),[t]),n.flags|=2048,zp(9,bD.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=oo(),e=mn.identifierPrefix;if(mr){var r=rs,n=ts;r=(n&~(1<<32-za(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Vp++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=bH++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},AH={readContext:ua,useCallback:TD,useContext:ua,useEffect:$E,useImperativeHandle:jD,useInsertionEffect:AD,useLayoutEffect:OD,useMemo:PD,useReducer:Hw,useRef:ED,useState:function(){return Hw(Wp)},useDebugValue:LE,useDeferredValue:function(t){var e=da();return kD(e,Xr.memoizedState,t)},useTransition:function(){var t=Hw(Wp)[0],e=da().memoizedState;return[t,e]},useMutableSource:yD,useSyncExternalStore:xD,useId:ID,unstable_isNewReconciler:!1},OH={readContext:ua,useCallback:TD,useContext:ua,useEffect:$E,useImperativeHandle:jD,useInsertionEffect:AD,useLayoutEffect:OD,useMemo:PD,useReducer:Gw,useRef:ED,useState:function(){return Gw(Wp)},useDebugValue:LE,useDeferredValue:function(t){var e=da();return Xr===null?e.memoizedState=t:kD(e,Xr.memoizedState,t)},useTransition:function(){var t=Gw(Wp)[0],e=da().memoizedState;return[t,e]},useMutableSource:yD,useSyncExternalStore:xD,useId:ID,unstable_isNewReconciler:!1};function Na(t,e){if(t&&t.defaultProps){e=Sr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function q_(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Sr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var O1={isMounted:function(t){return(t=t._reactInternals)?hu(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=qn(),i=Sl(t),a=as(n,i);a.payload=e,r!=null&&(a.callback=r),e=bl(t,a,i),e!==null&&(Ha(e,t,i,n),G0(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=qn(),i=Sl(t),a=as(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=bl(t,a,i),e!==null&&(Ha(e,t,i,n),G0(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=qn(),n=Sl(t),i=as(r,n);i.tag=2,e!=null&&(i.callback=e),e=bl(t,i,n),e!==null&&(Ha(e,t,n,r),G0(e,t,n))}};function kj(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!Mp(r,n)||!Mp(i,a):!0}function $D(t,e,r){var n=!1,i=Il,a=e.contextType;return typeof a=="object"&&a!==null?a=ua(a):(i=ci(e)?zc:In.current,n=e.contextTypes,a=(n=n!=null)?Kd(t,i):Il),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=O1,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function Ij(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&O1.enqueueReplaceState(e,e.state,null)}function K_(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},TE(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=ua(a):(a=ci(e)?zc:In.current,i.context=Kd(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(q_(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&O1.enqueueReplaceState(i,i.state,null),Ag(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Qd(t,e){try{var r="",n=e;do r+=tz(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function qw(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function X_(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var NH=typeof WeakMap=="function"?WeakMap:Map;function LD(t,e,r){r=as(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Pg||(Pg=!0,a2=n),X_(t,e)},r}function FD(t,e,r){r=as(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){X_(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){X_(t,e),typeof n!="function"&&(_l===null?_l=new Set([this]):_l.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Rj(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new NH;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=VH.bind(null,t,e,r),e.then(t,t))}function Dj(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Mj(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=as(-1,1),e.tag=2,bl(r,e,1))),r.lanes|=1),t)}var jH=js.ReactCurrentOwner,ai=!1;function Bn(t,e,r,n){e.child=t===null?pD(e,null,r,n):Yd(e,t.child,r,n)}function $j(t,e,r,n,i){r=r.render;var a=e.ref;return Cd(e,i),n=DE(t,e,r,n,a,i),r=ME(),t!==null&&!ai?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ps(t,e,i)):(mr&&r&&SE(e),e.flags|=1,Bn(t,e,n,i),e.child)}function Lj(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!GE(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,BD(t,e,a,n,i)):(t=Q0(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Mp,r(o,n)&&t.ref===e.ref)return ps(t,e,i)}return e.flags|=1,t=Cl(a,n),t.ref=e.ref,t.return=e,e.child=t}function BD(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(Mp(a,n)&&t.ref===e.ref)if(ai=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(ai=!0);else return e.lanes=t.lanes,ps(t,e,i)}return Y_(t,e,r,n,i)}function UD(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xt(cd,wi),wi|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Xt(cd,wi),wi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Xt(cd,wi),wi|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,Xt(cd,wi),wi|=n;return Bn(t,e,i,r),e.child}function VD(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Y_(t,e,r,n,i){var a=ci(r)?zc:In.current;return a=Kd(e,a),Cd(e,i),r=DE(t,e,r,n,a,i),n=ME(),t!==null&&!ai?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ps(t,e,i)):(mr&&n&&SE(e),e.flags|=1,Bn(t,e,r,i),e.child)}function Fj(t,e,r,n,i){if(ci(r)){var a=!0;bg(e)}else a=!1;if(Cd(e,i),e.stateNode===null)X0(t,e),$D(e,r,n),K_(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=ua(c):(c=ci(r)?zc:In.current,c=Kd(e,c));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||l!==c)&&Ij(e,o,n,c),Ks=!1;var h=e.memoizedState;o.state=h,Ag(e,n,o,i),l=e.memoizedState,s!==n||h!==l||li.current||Ks?(typeof d=="function"&&(q_(e,r,d,n),l=e.memoizedState),(s=Ks||kj(e,r,s,n,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=c,n=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,vD(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:Na(e.type,s),o.props=c,f=e.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=ua(l):(l=ci(r)?zc:In.current,l=Kd(e,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==l)&&Ij(e,o,n,l),Ks=!1,h=e.memoizedState,o.state=h,Ag(e,n,o,i);var v=e.memoizedState;s!==f||h!==v||li.current||Ks?(typeof p=="function"&&(q_(e,r,p,n),v=e.memoizedState),(c=Ks||kj(e,r,c,n,h,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),o.props=n,o.state=v,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return Z_(t,e,r,n,a,i)}function Z_(t,e,r,n,i,a){VD(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&Cj(e,r,!1),ps(t,e,a);n=e.stateNode,jH.current=e;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Yd(e,t.child,null,a),e.child=Yd(e,null,s,a)):Bn(t,e,s,a),e.memoizedState=n.state,i&&Cj(e,r,!0),e.child}function WD(t){var e=t.stateNode;e.pendingContext?Sj(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Sj(t,e.context,!1),PE(t,e.containerInfo)}function Bj(t,e,r,n,i){return Xd(),EE(i),e.flags|=256,Bn(t,e,r,n),e.child}var Q_={dehydrated:null,treeContext:null,retryLane:0};function J_(t){return{baseLanes:t,cachePool:null,transitions:null}}function zD(t,e,r){var n=e.pendingProps,i=br.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Xt(br,i&1),t===null)return H_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=T1(o,n,0,null),t=Bc(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=J_(r),e.memoizedState=Q_,t):FE(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return TH(t,e,o,n,s,i,r);if(a){a=n.fallback,o=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Cl(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=Cl(s,a):(a=Bc(a,o,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?J_(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=Q_,n}return a=t.child,t=a.sibling,n=Cl(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function FE(t,e){return e=T1({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function n0(t,e,r,n){return n!==null&&EE(n),Yd(e,t.child,null,r),t=FE(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function TH(t,e,r,n,i,a,o){if(r)return e.flags&256?(e.flags&=-257,n=qw(Error(oe(422))),n0(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=T1({mode:"visible",children:n.children},i,0,null),a=Bc(a,i,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&Yd(e,t.child,null,o),e.child.memoizedState=J_(o),e.memoizedState=Q_,a);if(!(e.mode&1))return n0(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,a=Error(oe(419)),n=qw(a,n,void 0),n0(t,e,o,n)}if(s=(o&t.childLanes)!==0,ai||s){if(n=mn,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,hs(t,i),Ha(n,t,i,-1))}return HE(),n=qw(Error(oe(421))),n0(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=WH.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Ni=wl(i.nextSibling),ji=e,mr=!0,$a=null,t!==null&&(ea[ta++]=ts,ea[ta++]=rs,ea[ta++]=Hc,ts=t.id,rs=t.overflow,Hc=e),e=FE(e,n.children),e.flags|=4096,e)}function Uj(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),G_(t.return,e,r)}function Kw(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function HD(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(Bn(t,e,n.children,r),n=br.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Uj(t,r,e);else if(t.tag===19)Uj(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Xt(br,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Og(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Kw(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Og(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Kw(e,!0,r,null,a);break;case"together":Kw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function X0(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ps(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),qc|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(oe(153));if(e.child!==null){for(t=e.child,r=Cl(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Cl(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function PH(t,e,r){switch(e.tag){case 3:WD(e),Xd();break;case 5:gD(e);break;case 1:ci(e.type)&&bg(e);break;case 4:PE(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Xt(Cg,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Xt(br,br.current&1),e.flags|=128,null):r&e.child.childLanes?zD(t,e,r):(Xt(br,br.current&1),t=ps(t,e,r),t!==null?t.sibling:null);Xt(br,br.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return HD(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Xt(br,br.current),n)break;return null;case 22:case 23:return e.lanes=0,UD(t,e,r)}return ps(t,e,r)}var GD,e2,qD,KD;GD=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};e2=function(){};qD=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,_c(xo.current);var a=null;switch(r){case"input":i=__(t,i),n=__(t,n),a=[];break;case"select":i=Sr({},i,{value:void 0}),n=Sr({},n,{value:void 0}),a=[];break;case"textarea":i=E_(t,i),n=E_(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=xg)}O_(r,n);var o;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(jp.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in n){var l=n[c];if(s=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(a||(a=[]),a.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(jp.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ir("scroll",t),a||s===l||(a=[])):(a=a||[]).push(c,l))}r&&(a=a||[]).push("style",r);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};KD=function(t,e,r,n){r!==n&&(e.flags|=4)};function Ah(t,e){if(!mr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Nn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function kH(t,e,r){var n=e.pendingProps;switch(CE(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nn(e),null;case 1:return ci(e.type)&&wg(),Nn(e),null;case 3:return n=e.stateNode,Zd(),fr(li),fr(In),IE(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(t0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,$a!==null&&(l2($a),$a=null))),e2(t,e),Nn(e),null;case 5:kE(e);var i=_c(Up.current);if(r=e.type,t!==null&&e.stateNode!=null)qD(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(oe(166));return Nn(e),null}if(t=_c(xo.current),t0(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[uo]=e,n[Fp]=a,t=(e.mode&1)!==0,r){case"dialog":ir("cancel",n),ir("close",n);break;case"iframe":case"object":case"embed":ir("load",n);break;case"video":case"audio":for(i=0;i<Yh.length;i++)ir(Yh[i],n);break;case"source":ir("error",n);break;case"img":case"image":case"link":ir("error",n),ir("load",n);break;case"details":ir("toggle",n);break;case"input":YN(n,a),ir("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},ir("invalid",n);break;case"textarea":QN(n,a),ir("invalid",n)}O_(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?n.textContent!==s&&(a.suppressHydrationWarning!==!0&&e0(n.textContent,s,t),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&e0(n.textContent,s,t),i=["children",""+s]):jp.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&ir("scroll",n)}switch(r){case"input":Gv(n),ZN(n,a,!0);break;case"textarea":Gv(n),JN(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=xg)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=_8(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[uo]=e,t[Fp]=n,GD(t,e,!1,!1),e.stateNode=t;e:{switch(o=N_(r,n),r){case"dialog":ir("cancel",t),ir("close",t),i=n;break;case"iframe":case"object":case"embed":ir("load",t),i=n;break;case"video":case"audio":for(i=0;i<Yh.length;i++)ir(Yh[i],t);i=n;break;case"source":ir("error",t),i=n;break;case"img":case"image":case"link":ir("error",t),ir("load",t),i=n;break;case"details":ir("toggle",t),i=n;break;case"input":YN(t,n),i=__(t,n),ir("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Sr({},n,{value:void 0}),ir("invalid",t);break;case"textarea":QN(t,n),i=E_(t,n),ir("invalid",t);break;default:i=n}O_(r,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?E8(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&S8(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Tp(t,l):typeof l=="number"&&Tp(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(jp.hasOwnProperty(a)?l!=null&&a==="onScroll"&&ir("scroll",t):l!=null&&cE(t,a,l,o))}switch(r){case"input":Gv(t),ZN(t,n,!1);break;case"textarea":Gv(t),JN(t);break;case"option":n.value!=null&&t.setAttribute("value",""+kl(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?wd(t,!!n.multiple,a,!1):n.defaultValue!=null&&wd(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=xg)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Nn(e),null;case 6:if(t&&e.stateNode!=null)KD(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(oe(166));if(r=_c(Up.current),_c(xo.current),t0(e)){if(n=e.stateNode,r=e.memoizedProps,n[uo]=e,(a=n.nodeValue!==r)&&(t=ji,t!==null))switch(t.tag){case 3:e0(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&e0(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[uo]=e,e.stateNode=n}return Nn(e),null;case 13:if(fr(br),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(mr&&Ni!==null&&e.mode&1&&!(e.flags&128))fD(),Xd(),e.flags|=98560,a=!1;else if(a=t0(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(oe(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(oe(317));a[uo]=e}else Xd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nn(e),a=!1}else $a!==null&&(l2($a),$a=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||br.current&1?tn===0&&(tn=3):HE())),e.updateQueue!==null&&(e.flags|=4),Nn(e),null);case 4:return Zd(),e2(t,e),t===null&&$p(e.stateNode.containerInfo),Nn(e),null;case 10:return NE(e.type._context),Nn(e),null;case 17:return ci(e.type)&&wg(),Nn(e),null;case 19:if(fr(br),a=e.memoizedState,a===null)return Nn(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)Ah(a,!1);else{if(tn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Og(t),o!==null){for(e.flags|=128,Ah(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Xt(br,br.current&1|2),e.child}t=t.sibling}a.tail!==null&&kr()>Jd&&(e.flags|=128,n=!0,Ah(a,!1),e.lanes=4194304)}else{if(!n)if(t=Og(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Ah(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!mr)return Nn(e),null}else 2*kr()-a.renderingStartTime>Jd&&r!==1073741824&&(e.flags|=128,n=!0,Ah(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=kr(),e.sibling=null,r=br.current,Xt(br,n?r&1|2:r&1),e):(Nn(e),null);case 22:case 23:return zE(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?wi&1073741824&&(Nn(e),e.subtreeFlags&6&&(e.flags|=8192)):Nn(e),null;case 24:return null;case 25:return null}throw Error(oe(156,e.tag))}function IH(t,e){switch(CE(e),e.tag){case 1:return ci(e.type)&&wg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Zd(),fr(li),fr(In),IE(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return kE(e),null;case 13:if(fr(br),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(oe(340));Xd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return fr(br),null;case 4:return Zd(),null;case 10:return NE(e.type._context),null;case 22:case 23:return zE(),null;case 24:return null;default:return null}}var i0=!1,kn=!1,RH=typeof WeakSet=="function"?WeakSet:Set,je=null;function ld(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Nr(t,e,n)}else r.current=null}function t2(t,e,r){try{r()}catch(n){Nr(t,e,n)}}var Vj=!1;function DH(t,e){if(L_=vg,t=J8(),_E(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,s=-1,l=-1,c=0,d=0,f=t,h=null;t:for(;;){for(var p;f!==r||i!==0&&f.nodeType!==3||(s=o+i),f!==a||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===r&&++c===i&&(s=o),h===a&&++d===n&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(F_={focusedElem:t,selectionRange:r},vg=!1,je=e;je!==null;)if(e=je,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,je=t;else for(;je!==null;){e=je;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var m=v.memoizedProps,g=v.memoizedState,y=e.stateNode,x=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:Na(e.type,m),g);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(S){Nr(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,je=t;break}je=e.return}return v=Vj,Vj=!1,v}function fp(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&t2(e,r,a)}i=i.next}while(i!==n)}}function N1(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function r2(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function XD(t){var e=t.alternate;e!==null&&(t.alternate=null,XD(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[uo],delete e[Fp],delete e[V_],delete e[gH],delete e[yH])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function YD(t){return t.tag===5||t.tag===3||t.tag===4}function Wj(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||YD(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function n2(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=xg));else if(n!==4&&(t=t.child,t!==null))for(n2(t,e,r),t=t.sibling;t!==null;)n2(t,e,r),t=t.sibling}function i2(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(i2(t,e,r),t=t.sibling;t!==null;)i2(t,e,r),t=t.sibling}var Sn=null,ka=!1;function Fs(t,e,r){for(r=r.child;r!==null;)ZD(t,e,r),r=r.sibling}function ZD(t,e,r){if(yo&&typeof yo.onCommitFiberUnmount=="function")try{yo.onCommitFiberUnmount(w1,r)}catch{}switch(r.tag){case 5:kn||ld(r,e);case 6:var n=Sn,i=ka;Sn=null,Fs(t,e,r),Sn=n,ka=i,Sn!==null&&(ka?(t=Sn,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Sn.removeChild(r.stateNode));break;case 18:Sn!==null&&(ka?(t=Sn,r=r.stateNode,t.nodeType===8?Uw(t.parentNode,r):t.nodeType===1&&Uw(t,r),Rp(t)):Uw(Sn,r.stateNode));break;case 4:n=Sn,i=ka,Sn=r.stateNode.containerInfo,ka=!0,Fs(t,e,r),Sn=n,ka=i;break;case 0:case 11:case 14:case 15:if(!kn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&t2(r,e,o),i=i.next}while(i!==n)}Fs(t,e,r);break;case 1:if(!kn&&(ld(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){Nr(r,e,s)}Fs(t,e,r);break;case 21:Fs(t,e,r);break;case 22:r.mode&1?(kn=(n=kn)||r.memoizedState!==null,Fs(t,e,r),kn=n):Fs(t,e,r);break;default:Fs(t,e,r)}}function zj(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new RH),e.forEach(function(n){var i=zH.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function ba(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:Sn=s.stateNode,ka=!1;break e;case 3:Sn=s.stateNode.containerInfo,ka=!0;break e;case 4:Sn=s.stateNode.containerInfo,ka=!0;break e}s=s.return}if(Sn===null)throw Error(oe(160));ZD(a,o,i),Sn=null,ka=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Nr(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)QD(e,t),e=e.sibling}function QD(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ba(e,t),ao(t),n&4){try{fp(3,t,t.return),N1(3,t)}catch(m){Nr(t,t.return,m)}try{fp(5,t,t.return)}catch(m){Nr(t,t.return,m)}}break;case 1:ba(e,t),ao(t),n&512&&r!==null&&ld(r,r.return);break;case 5:if(ba(e,t),ao(t),n&512&&r!==null&&ld(r,r.return),t.flags&32){var i=t.stateNode;try{Tp(i,"")}catch(m){Nr(t,t.return,m)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&w8(i,a),N_(s,o);var c=N_(s,a);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?E8(i,f):d==="dangerouslySetInnerHTML"?S8(i,f):d==="children"?Tp(i,f):cE(i,d,f,c)}switch(s){case"input":S_(i,a);break;case"textarea":b8(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?wd(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?wd(i,!!a.multiple,a.defaultValue,!0):wd(i,!!a.multiple,a.multiple?[]:"",!1))}i[Fp]=a}catch(m){Nr(t,t.return,m)}}break;case 6:if(ba(e,t),ao(t),n&4){if(t.stateNode===null)throw Error(oe(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(m){Nr(t,t.return,m)}}break;case 3:if(ba(e,t),ao(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Rp(e.containerInfo)}catch(m){Nr(t,t.return,m)}break;case 4:ba(e,t),ao(t);break;case 13:ba(e,t),ao(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(VE=kr())),n&4&&zj(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(kn=(c=kn)||d,ba(e,t),kn=c):ba(e,t),ao(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(je=t,d=t.child;d!==null;){for(f=je=d;je!==null;){switch(h=je,p=h.child,h.tag){case 0:case 11:case 14:case 15:fp(4,h,h.return);break;case 1:ld(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(m){Nr(n,r,m)}}break;case 5:ld(h,h.return);break;case 22:if(h.memoizedState!==null){Gj(f);continue}}p!==null?(p.return=h,je=p):Gj(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=C8("display",o))}catch(m){Nr(t,t.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){Nr(t,t.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ba(e,t),ao(t),n&4&&zj(t);break;case 21:break;default:ba(e,t),ao(t)}}function ao(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(YD(r)){var n=r;break e}r=r.return}throw Error(oe(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Tp(i,""),n.flags&=-33);var a=Wj(t);i2(t,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,s=Wj(t);n2(t,s,o);break;default:throw Error(oe(161))}}catch(l){Nr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function MH(t,e,r){je=t,JD(t)}function JD(t,e,r){for(var n=(t.mode&1)!==0;je!==null;){var i=je,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||i0;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||kn;s=i0;var c=kn;if(i0=o,(kn=l)&&!c)for(je=i;je!==null;)o=je,l=o.child,o.tag===22&&o.memoizedState!==null?qj(i):l!==null?(l.return=o,je=l):qj(i);for(;a!==null;)je=a,JD(a),a=a.sibling;je=i,i0=s,kn=c}Hj(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,je=a):Hj(t)}}function Hj(t){for(;je!==null;){var e=je;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:kn||N1(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!kn)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Na(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&jj(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}jj(e,o,r)}break;case 5:var s=e.stateNode;if(r===null&&e.flags&4){r=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Rp(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}kn||e.flags&512&&r2(e)}catch(h){Nr(e,e.return,h)}}if(e===t){je=null;break}if(r=e.sibling,r!==null){r.return=e.return,je=r;break}je=e.return}}function Gj(t){for(;je!==null;){var e=je;if(e===t){je=null;break}var r=e.sibling;if(r!==null){r.return=e.return,je=r;break}je=e.return}}function qj(t){for(;je!==null;){var e=je;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{N1(4,e)}catch(l){Nr(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Nr(e,i,l)}}var a=e.return;try{r2(e)}catch(l){Nr(e,a,l)}break;case 5:var o=e.return;try{r2(e)}catch(l){Nr(e,o,l)}}}catch(l){Nr(e,e.return,l)}if(e===t){je=null;break}var s=e.sibling;if(s!==null){s.return=e.return,je=s;break}je=e.return}}var $H=Math.ceil,Tg=js.ReactCurrentDispatcher,BE=js.ReactCurrentOwner,sa=js.ReactCurrentBatchConfig,vt=0,mn=null,Lr=null,En=0,wi=0,cd=Vl(0),tn=0,Hp=null,qc=0,j1=0,UE=0,hp=null,ni=null,VE=0,Jd=1/0,qo=null,Pg=!1,a2=null,_l=null,a0=!1,hl=null,kg=0,pp=0,o2=null,Y0=-1,Z0=0;function qn(){return vt&6?kr():Y0!==-1?Y0:Y0=kr()}function Sl(t){return t.mode&1?vt&2&&En!==0?En&-En:wH.transition!==null?(Z0===0&&(Z0=$8()),Z0):(t=It,t!==0||(t=window.event,t=t===void 0?16:z8(t.type)),t):1}function Ha(t,e,r,n){if(50<pp)throw pp=0,o2=null,Error(oe(185));Zm(t,r,n),(!(vt&2)||t!==mn)&&(t===mn&&(!(vt&2)&&(j1|=r),tn===4&&el(t,En)),ui(t,n),r===1&&vt===0&&!(e.mode&1)&&(Jd=kr()+500,E1&&Wl()))}function ui(t,e){var r=t.callbackNode;wz(t,e);var n=mg(t,t===mn?En:0);if(n===0)r!==null&&rj(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&rj(r),e===1)t.tag===0?xH(Kj.bind(null,t)):cD(Kj.bind(null,t)),mH(function(){!(vt&6)&&Wl()}),r=null;else{switch(L8(n)){case 1:r=pE;break;case 4:r=D8;break;case 16:r=pg;break;case 536870912:r=M8;break;default:r=pg}r=sM(r,eM.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function eM(t,e){if(Y0=-1,Z0=0,vt&6)throw Error(oe(327));var r=t.callbackNode;if(Ed()&&t.callbackNode!==r)return null;var n=mg(t,t===mn?En:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Ig(t,n);else{e=n;var i=vt;vt|=2;var a=rM();(mn!==t||En!==e)&&(qo=null,Jd=kr()+500,Fc(t,e));do try{BH();break}catch(s){tM(t,s)}while(!0);OE(),Tg.current=a,vt=i,Lr!==null?e=0:(mn=null,En=0,e=tn)}if(e!==0){if(e===2&&(i=I_(t),i!==0&&(n=i,e=s2(t,i))),e===1)throw r=Hp,Fc(t,0),el(t,n),ui(t,kr()),r;if(e===6)el(t,n);else{if(i=t.current.alternate,!(n&30)&&!LH(i)&&(e=Ig(t,n),e===2&&(a=I_(t),a!==0&&(n=a,e=s2(t,a))),e===1))throw r=Hp,Fc(t,0),el(t,n),ui(t,kr()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(oe(345));case 2:uc(t,ni,qo);break;case 3:if(el(t,n),(n&130023424)===n&&(e=VE+500-kr(),10<e)){if(mg(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){qn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=U_(uc.bind(null,t,ni,qo),e);break}uc(t,ni,qo);break;case 4:if(el(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-za(n);a=1<<o,o=e[o],o>i&&(i=o),n&=~a}if(n=i,n=kr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*$H(n/1960))-n,10<n){t.timeoutHandle=U_(uc.bind(null,t,ni,qo),n);break}uc(t,ni,qo);break;case 5:uc(t,ni,qo);break;default:throw Error(oe(329))}}}return ui(t,kr()),t.callbackNode===r?eM.bind(null,t):null}function s2(t,e){var r=hp;return t.current.memoizedState.isDehydrated&&(Fc(t,e).flags|=256),t=Ig(t,e),t!==2&&(e=ni,ni=r,e!==null&&l2(e)),t}function l2(t){ni===null?ni=t:ni.push.apply(ni,t)}function LH(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!qa(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function el(t,e){for(e&=~UE,e&=~j1,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-za(e),n=1<<r;t[r]=-1,e&=~n}}function Kj(t){if(vt&6)throw Error(oe(327));Ed();var e=mg(t,0);if(!(e&1))return ui(t,kr()),null;var r=Ig(t,e);if(t.tag!==0&&r===2){var n=I_(t);n!==0&&(e=n,r=s2(t,n))}if(r===1)throw r=Hp,Fc(t,0),el(t,e),ui(t,kr()),r;if(r===6)throw Error(oe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,uc(t,ni,qo),ui(t,kr()),null}function WE(t,e){var r=vt;vt|=1;try{return t(e)}finally{vt=r,vt===0&&(Jd=kr()+500,E1&&Wl())}}function Kc(t){hl!==null&&hl.tag===0&&!(vt&6)&&Ed();var e=vt;vt|=1;var r=sa.transition,n=It;try{if(sa.transition=null,It=1,t)return t()}finally{It=n,sa.transition=r,vt=e,!(vt&6)&&Wl()}}function zE(){wi=cd.current,fr(cd)}function Fc(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,pH(r)),Lr!==null)for(r=Lr.return;r!==null;){var n=r;switch(CE(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&wg();break;case 3:Zd(),fr(li),fr(In),IE();break;case 5:kE(n);break;case 4:Zd();break;case 13:fr(br);break;case 19:fr(br);break;case 10:NE(n.type._context);break;case 22:case 23:zE()}r=r.return}if(mn=t,Lr=t=Cl(t.current,null),En=wi=e,tn=0,Hp=null,UE=j1=qc=0,ni=hp=null,bc!==null){for(e=0;e<bc.length;e++)if(r=bc[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}bc=null}return t}function tM(t,e){do{var r=Lr;try{if(OE(),q0.current=jg,Ng){for(var n=_r.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ng=!1}if(Gc=0,fn=Xr=_r=null,dp=!1,Vp=0,BE.current=null,r===null||r.return===null){tn=1,Hp=e,Lr=null;break}e:{var a=t,o=r.return,s=r,l=e;if(e=En,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Dj(o);if(p!==null){p.flags&=-257,Mj(p,o,s,a,e),p.mode&1&&Rj(a,c,e),e=p,l=c;var v=e.updateQueue;if(v===null){var m=new Set;m.add(l),e.updateQueue=m}else v.add(l);break e}else{if(!(e&1)){Rj(a,c,e),HE();break e}l=Error(oe(426))}}else if(mr&&s.mode&1){var g=Dj(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),Mj(g,o,s,a,e),EE(Qd(l,s));break e}}a=l=Qd(l,s),tn!==4&&(tn=2),hp===null?hp=[a]:hp.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var y=LD(a,l,e);Nj(a,y);break e;case 1:s=l;var x=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(_l===null||!_l.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e;var S=FD(a,s,e);Nj(a,S);break e}}a=a.return}while(a!==null)}iM(r)}catch(_){e=_,Lr===r&&r!==null&&(Lr=r=r.return);continue}break}while(!0)}function rM(){var t=Tg.current;return Tg.current=jg,t===null?jg:t}function HE(){(tn===0||tn===3||tn===2)&&(tn=4),mn===null||!(qc&268435455)&&!(j1&268435455)||el(mn,En)}function Ig(t,e){var r=vt;vt|=2;var n=rM();(mn!==t||En!==e)&&(qo=null,Fc(t,e));do try{FH();break}catch(i){tM(t,i)}while(!0);if(OE(),vt=r,Tg.current=n,Lr!==null)throw Error(oe(261));return mn=null,En=0,tn}function FH(){for(;Lr!==null;)nM(Lr)}function BH(){for(;Lr!==null&&!dz();)nM(Lr)}function nM(t){var e=oM(t.alternate,t,wi);t.memoizedProps=t.pendingProps,e===null?iM(t):Lr=e,BE.current=null}function iM(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=IH(r,e),r!==null){r.flags&=32767,Lr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{tn=6,Lr=null;return}}else if(r=kH(r,e,wi),r!==null){Lr=r;return}if(e=e.sibling,e!==null){Lr=e;return}Lr=e=t}while(e!==null);tn===0&&(tn=5)}function uc(t,e,r){var n=It,i=sa.transition;try{sa.transition=null,It=1,UH(t,e,r,n)}finally{sa.transition=i,It=n}return null}function UH(t,e,r,n){do Ed();while(hl!==null);if(vt&6)throw Error(oe(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(oe(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(bz(t,a),t===mn&&(Lr=mn=null,En=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||a0||(a0=!0,sM(pg,function(){return Ed(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=sa.transition,sa.transition=null;var o=It;It=1;var s=vt;vt|=4,BE.current=null,DH(t,r),QD(r,t),sH(F_),vg=!!L_,F_=L_=null,t.current=r,MH(r),fz(),vt=s,It=o,sa.transition=a}else t.current=r;if(a0&&(a0=!1,hl=t,kg=i),a=t.pendingLanes,a===0&&(_l=null),mz(r.stateNode),ui(t,kr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Pg)throw Pg=!1,t=a2,a2=null,t;return kg&1&&t.tag!==0&&Ed(),a=t.pendingLanes,a&1?t===o2?pp++:(pp=0,o2=t):pp=0,Wl(),null}function Ed(){if(hl!==null){var t=L8(kg),e=sa.transition,r=It;try{if(sa.transition=null,It=16>t?16:t,hl===null)var n=!1;else{if(t=hl,hl=null,kg=0,vt&6)throw Error(oe(331));var i=vt;for(vt|=4,je=t.current;je!==null;){var a=je,o=a.child;if(je.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(je=c;je!==null;){var d=je;switch(d.tag){case 0:case 11:case 15:fp(8,d,a)}var f=d.child;if(f!==null)f.return=d,je=f;else for(;je!==null;){d=je;var h=d.sibling,p=d.return;if(XD(d),d===c){je=null;break}if(h!==null){h.return=p,je=h;break}je=p}}}var v=a.alternate;if(v!==null){var m=v.child;if(m!==null){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(m!==null)}}je=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,je=o;else e:for(;je!==null;){if(a=je,a.flags&2048)switch(a.tag){case 0:case 11:case 15:fp(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,je=y;break e}je=a.return}}var x=t.current;for(je=x;je!==null;){o=je;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,je=w;else e:for(o=x;je!==null;){if(s=je,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:N1(9,s)}}catch(_){Nr(s,s.return,_)}if(s===o){je=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,je=S;break e}je=s.return}}if(vt=i,Wl(),yo&&typeof yo.onPostCommitFiberRoot=="function")try{yo.onPostCommitFiberRoot(w1,t)}catch{}n=!0}return n}finally{It=r,sa.transition=e}}return!1}function Xj(t,e,r){e=Qd(r,e),e=LD(t,e,1),t=bl(t,e,1),e=qn(),t!==null&&(Zm(t,1,e),ui(t,e))}function Nr(t,e,r){if(t.tag===3)Xj(t,t,r);else for(;e!==null;){if(e.tag===3){Xj(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(_l===null||!_l.has(n))){t=Qd(r,t),t=FD(e,t,1),e=bl(e,t,1),t=qn(),e!==null&&(Zm(e,1,t),ui(e,t));break}}e=e.return}}function VH(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=qn(),t.pingedLanes|=t.suspendedLanes&r,mn===t&&(En&r)===r&&(tn===4||tn===3&&(En&130023424)===En&&500>kr()-VE?Fc(t,0):UE|=r),ui(t,e)}function aM(t,e){e===0&&(t.mode&1?(e=Xv,Xv<<=1,!(Xv&130023424)&&(Xv=4194304)):e=1);var r=qn();t=hs(t,e),t!==null&&(Zm(t,e,r),ui(t,r))}function WH(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),aM(t,r)}function zH(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(oe(314))}n!==null&&n.delete(e),aM(t,r)}var oM;oM=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||li.current)ai=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return ai=!1,PH(t,e,r);ai=!!(t.flags&131072)}else ai=!1,mr&&e.flags&1048576&&uD(e,Sg,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;X0(t,e),t=e.pendingProps;var i=Kd(e,In.current);Cd(e,r),i=DE(null,e,n,t,i,r);var a=ME();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ci(n)?(a=!0,bg(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,TE(e),i.updater=O1,e.stateNode=i,i._reactInternals=e,K_(e,n,t,r),e=Z_(null,e,n,!0,a,r)):(e.tag=0,mr&&a&&SE(e),Bn(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(X0(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=GH(n),t=Na(n,t),i){case 0:e=Y_(null,e,n,t,r);break e;case 1:e=Fj(null,e,n,t,r);break e;case 11:e=$j(null,e,n,t,r);break e;case 14:e=Lj(null,e,n,Na(n.type,t),r);break e}throw Error(oe(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Na(n,i),Y_(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Na(n,i),Fj(t,e,n,i,r);case 3:e:{if(WD(e),t===null)throw Error(oe(387));n=e.pendingProps,a=e.memoizedState,i=a.element,vD(t,e),Ag(e,n,null,r);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Qd(Error(oe(423)),e),e=Bj(t,e,n,r,i);break e}else if(n!==i){i=Qd(Error(oe(424)),e),e=Bj(t,e,n,r,i);break e}else for(Ni=wl(e.stateNode.containerInfo.firstChild),ji=e,mr=!0,$a=null,r=pD(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Xd(),n===i){e=ps(t,e,r);break e}Bn(t,e,n,r)}e=e.child}return e;case 5:return gD(e),t===null&&H_(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,B_(n,i)?o=null:a!==null&&B_(n,a)&&(e.flags|=32),VD(t,e),Bn(t,e,o,r),e.child;case 6:return t===null&&H_(e),null;case 13:return zD(t,e,r);case 4:return PE(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Yd(e,null,n,r):Bn(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Na(n,i),$j(t,e,n,i,r);case 7:return Bn(t,e,e.pendingProps,r),e.child;case 8:return Bn(t,e,e.pendingProps.children,r),e.child;case 12:return Bn(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,Xt(Cg,n._currentValue),n._currentValue=o,a!==null)if(qa(a.value,o)){if(a.children===i.children&&!li.current){e=ps(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=as(-1,r&-r),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),G_(a.return,r,e),s.lanes|=r;break}l=l.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(oe(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),G_(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Bn(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Cd(e,r),i=ua(i),n=n(i),e.flags|=1,Bn(t,e,n,r),e.child;case 14:return n=e.type,i=Na(n,e.pendingProps),i=Na(n.type,i),Lj(t,e,n,i,r);case 15:return BD(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Na(n,i),X0(t,e),e.tag=1,ci(n)?(t=!0,bg(e)):t=!1,Cd(e,r),$D(e,n,i),K_(e,n,i,r),Z_(null,e,n,!0,t,r);case 19:return HD(t,e,r);case 22:return UD(t,e,r)}throw Error(oe(156,e.tag))};function sM(t,e){return R8(t,e)}function HH(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function na(t,e,r,n){return new HH(t,e,r,n)}function GE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function GH(t){if(typeof t=="function")return GE(t)?1:0;if(t!=null){if(t=t.$$typeof,t===dE)return 11;if(t===fE)return 14}return 2}function Cl(t,e){var r=t.alternate;return r===null?(r=na(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Q0(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")GE(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ju:return Bc(r.children,i,a,e);case uE:o=8,i|=8;break;case y_:return t=na(12,r,e,i|2),t.elementType=y_,t.lanes=a,t;case x_:return t=na(13,r,e,i),t.elementType=x_,t.lanes=a,t;case w_:return t=na(19,r,e,i),t.elementType=w_,t.lanes=a,t;case g8:return T1(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case m8:o=10;break e;case v8:o=9;break e;case dE:o=11;break e;case fE:o=14;break e;case qs:o=16,n=null;break e}throw Error(oe(130,t==null?t:typeof t,""))}return e=na(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function Bc(t,e,r,n){return t=na(7,t,n,e),t.lanes=r,t}function T1(t,e,r,n){return t=na(22,t,n,e),t.elementType=g8,t.lanes=r,t.stateNode={isHidden:!1},t}function Xw(t,e,r){return t=na(6,t,null,e),t.lanes=r,t}function Yw(t,e,r){return e=na(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qH(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tw(0),this.expirationTimes=Tw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tw(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function qE(t,e,r,n,i,a,o,s,l){return t=new qH(t,e,r,s,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=na(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},TE(a),t}function KH(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qu,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function lM(t){if(!t)return Il;t=t._reactInternals;e:{if(hu(t)!==t||t.tag!==1)throw Error(oe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ci(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(oe(171))}if(t.tag===1){var r=t.type;if(ci(r))return lD(t,r,e)}return e}function cM(t,e,r,n,i,a,o,s,l){return t=qE(r,n,!0,t,i,a,o,s,l),t.context=lM(null),r=t.current,n=qn(),i=Sl(r),a=as(n,i),a.callback=e??null,bl(r,a,i),t.current.lanes=i,Zm(t,i,n),ui(t,n),t}function P1(t,e,r,n){var i=e.current,a=qn(),o=Sl(i);return r=lM(r),e.context===null?e.context=r:e.pendingContext=r,e=as(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=bl(i,e,o),t!==null&&(Ha(t,i,o,a),G0(t,i,o)),o}function Rg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Yj(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function KE(t,e){Yj(t,e),(t=t.alternate)&&Yj(t,e)}function XH(){return null}var uM=typeof reportError=="function"?reportError:function(t){console.error(t)};function XE(t){this._internalRoot=t}k1.prototype.render=XE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(oe(409));P1(t,e,null,null)};k1.prototype.unmount=XE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Kc(function(){P1(null,t,null,null)}),e[fs]=null}};function k1(t){this._internalRoot=t}k1.prototype.unstable_scheduleHydration=function(t){if(t){var e=U8();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Js.length&&e!==0&&e<Js[r].priority;r++);Js.splice(r,0,t),r===0&&W8(t)}};function YE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function I1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Zj(){}function YH(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var c=Rg(o);a.call(c)}}var o=cM(e,n,t,0,null,!1,!1,"",Zj);return t._reactRootContainer=o,t[fs]=o.current,$p(t.nodeType===8?t.parentNode:t),Kc(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var c=Rg(l);s.call(c)}}var l=qE(t,0,!1,null,null,!1,!1,"",Zj);return t._reactRootContainer=l,t[fs]=l.current,$p(t.nodeType===8?t.parentNode:t),Kc(function(){P1(e,l,r,n)}),l}function R1(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=Rg(o);s.call(l)}}P1(e,o,t,i)}else o=YH(r,e,t,i,n);return Rg(o)}F8=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Xh(e.pendingLanes);r!==0&&(mE(e,r|1),ui(e,kr()),!(vt&6)&&(Jd=kr()+500,Wl()))}break;case 13:Kc(function(){var n=hs(t,1);if(n!==null){var i=qn();Ha(n,t,1,i)}}),KE(t,1)}};vE=function(t){if(t.tag===13){var e=hs(t,134217728);if(e!==null){var r=qn();Ha(e,t,134217728,r)}KE(t,134217728)}};B8=function(t){if(t.tag===13){var e=Sl(t),r=hs(t,e);if(r!==null){var n=qn();Ha(r,t,e,n)}KE(t,e)}};U8=function(){return It};V8=function(t,e){var r=It;try{return It=t,e()}finally{It=r}};T_=function(t,e,r){switch(e){case"input":if(S_(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=C1(n);if(!i)throw Error(oe(90));x8(n),S_(n,i)}}}break;case"textarea":b8(t,r);break;case"select":e=r.value,e!=null&&wd(t,!!r.multiple,e,!1)}};N8=WE;j8=Kc;var ZH={usingClientEntryPoint:!1,Events:[Jm,nd,C1,A8,O8,WE]},Oh={findFiberByHostInstance:wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QH={bundleType:Oh.bundleType,version:Oh.version,rendererPackageName:Oh.rendererPackageName,rendererConfig:Oh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:js.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=k8(t),t===null?null:t.stateNode},findFiberByHostInstance:Oh.findFiberByHostInstance||XH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var o0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!o0.isDisabled&&o0.supportsFiber)try{w1=o0.inject(QH),yo=o0}catch{}}Ui.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZH;Ui.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!YE(e))throw Error(oe(200));return KH(t,e,null,r)};Ui.createRoot=function(t,e){if(!YE(t))throw Error(oe(299));var r=!1,n="",i=uM;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=qE(t,1,!1,null,null,r,!1,n,i),t[fs]=e.current,$p(t.nodeType===8?t.parentNode:t),new XE(e)};Ui.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(oe(188)):(t=Object.keys(t).join(","),Error(oe(268,t)));return t=k8(e),t=t===null?null:t.stateNode,t};Ui.flushSync=function(t){return Kc(t)};Ui.hydrate=function(t,e,r){if(!I1(e))throw Error(oe(200));return R1(null,t,e,!0,r)};Ui.hydrateRoot=function(t,e,r){if(!YE(t))throw Error(oe(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=uM;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=cM(e,null,t,1,r??null,i,!1,a,o),t[fs]=e.current,$p(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new k1(e)};Ui.render=function(t,e,r){if(!I1(e))throw Error(oe(200));return R1(null,t,e,!1,r)};Ui.unmountComponentAtNode=function(t){if(!I1(t))throw Error(oe(40));return t._reactRootContainer?(Kc(function(){R1(null,null,t,!1,function(){t._reactRootContainer=null,t[fs]=null})}),!0):!1};Ui.unstable_batchedUpdates=WE;Ui.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!I1(r))throw Error(oe(200));if(t==null||t._reactInternals===void 0)throw Error(oe(38));return R1(t,e,r,!1,n)};Ui.version="18.3.1-next-f1338f8080-20240426";function dM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dM)}catch(t){console.error(t)}}dM(),d8.exports=Ui;var pu=d8.exports;const fM=Dt(pu);var hM,Qj=pu;hM=Qj.createRoot,Qj.hydrateRoot;const JH=1,eG=1e6;let Zw=0;function tG(){return Zw=(Zw+1)%Number.MAX_SAFE_INTEGER,Zw.toString()}const Qw=new Map,Jj=t=>{if(Qw.has(t))return;const e=setTimeout(()=>{Qw.delete(t),mp({type:"REMOVE_TOAST",toastId:t})},eG);Qw.set(t,e)},rG=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,JH)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?Jj(r):t.toasts.forEach(n=>{Jj(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},J0=[];let eg={toasts:[]};function mp(t){eg=rG(eg,t),J0.forEach(e=>{e(eg)})}function Ia({...t}){const e=tG(),r=i=>mp({type:"UPDATE_TOAST",toast:{...i,id:e}}),n=()=>mp({type:"DISMISS_TOAST",toastId:e});return mp({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||n()}}}),{id:e,dismiss:n,update:r}}function Vr(){const[t,e]=b.useState(eg);return b.useEffect(()=>(J0.push(e),()=>{const r=J0.indexOf(e);r>-1&&J0.splice(r,1)}),[t]),{...t,toast:Ia,dismiss:r=>mp({type:"DISMISS_TOAST",toastId:r})}}function ae(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function eT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function D1(...t){return e=>{let r=!1;const n=t.map(i=>{const a=eT(i,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():eT(t[i],null)}}}}function Ke(...t){return b.useCallback(D1(...t),t)}function nG(t,e){const r=b.createContext(e),n=a=>{const{children:o,...s}=a,l=b.useMemo(()=>s,Object.values(s));return u.jsx(r.Provider,{value:l,children:o})};n.displayName=t+"Provider";function i(a){const o=b.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[n,i]}function vn(t,e=[]){let r=[];function n(a,o){const s=b.createContext(o),l=r.length;r=[...r,o];const c=f=>{var y;const{scope:h,children:p,...v}=f,m=((y=h==null?void 0:h[t])==null?void 0:y[l])||s,g=b.useMemo(()=>v,Object.values(v));return u.jsx(m.Provider,{value:g,children:p})};c.displayName=a+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[t])==null?void 0:m[l])||s,v=b.useContext(p);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[c,d]}const i=()=>{const a=r.map(o=>b.createContext(o));return function(s){const l=(s==null?void 0:s[t])||a;return b.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[n,iG(i,...e)]}function iG(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((s,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...s,...f}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function Rl(t){const e=aG(t),r=b.forwardRef((n,i)=>{const{children:a,...o}=n,s=b.Children.toArray(a),l=s.find(oG);if(l){const c=l.props.children,d=s.map(f=>f===l?b.Children.count(c)>1?b.Children.only(null):b.isValidElement(c)?c.props.children:null:f);return u.jsx(e,{...o,ref:i,children:b.isValidElement(c)?b.cloneElement(c,void 0,d):null})}return u.jsx(e,{...o,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}var pM=Rl("Slot");function aG(t){const e=b.forwardRef((r,n)=>{const{children:i,...a}=r;if(b.isValidElement(i)){const o=lG(i),s=sG(a,i.props);return i.type!==b.Fragment&&(s.ref=n?D1(n,o):o),b.cloneElement(i,s)}return b.Children.count(i)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var mM=Symbol("radix.slottable");function vM(t){const e=({children:r})=>u.jsx(u.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=mM,e}function oG(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===mM}function sG(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...s)=>{const l=a(...s);return i(...s),l}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function lG(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function tv(t){const e=t+"CollectionProvider",[r,n]=vn(e),[i,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:g,children:y}=m,x=k.useRef(null),w=k.useRef(new Map).current;return u.jsx(i,{scope:g,itemMap:w,collectionRef:x,children:y})};o.displayName=e;const s=t+"CollectionSlot",l=Rl(s),c=k.forwardRef((m,g)=>{const{scope:y,children:x}=m,w=a(s,y),S=Ke(g,w.collectionRef);return u.jsx(l,{ref:S,children:x})});c.displayName=s;const d=t+"CollectionItemSlot",f="data-radix-collection-item",h=Rl(d),p=k.forwardRef((m,g)=>{const{scope:y,children:x,...w}=m,S=k.useRef(null),_=Ke(g,S),C=a(d,y);return k.useEffect(()=>(C.itemMap.set(S,{ref:S,...w}),()=>void C.itemMap.delete(S))),u.jsx(h,{[f]:"",ref:_,children:x})});p.displayName=d;function v(m){const g=a(t+"CollectionConsumer",m);return k.useCallback(()=>{const x=g.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(g.itemMap.values()).sort((C,E)=>w.indexOf(C.ref.current)-w.indexOf(E.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:c,ItemSlot:p},v,n]}var cG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Pe=cG.reduce((t,e)=>{const r=Rl(`Primitive.${e}`),n=b.forwardRef((i,a)=>{const{asChild:o,...s}=i,l=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...s,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function ZE(t,e){t&&pu.flushSync(()=>t.dispatchEvent(e))}function Ir(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function uG(t,e=globalThis==null?void 0:globalThis.document){const r=Ir(t);b.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var dG="DismissableLayer",c2="dismissableLayer.update",fG="dismissableLayer.pointerDownOutside",hG="dismissableLayer.focusOutside",tT,gM=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),mu=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:s,...l}=t,c=b.useContext(gM),[d,f]=b.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=b.useState({}),v=Ke(e,E=>f(E)),m=Array.from(c.layers),[g]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(g),x=d?m.indexOf(d):-1,w=c.layersWithOutsidePointerEventsDisabled.size>0,S=x>=y,_=mG(E=>{const A=E.target,O=[...c.branches].some(T=>T.contains(A));!S||O||(i==null||i(E),o==null||o(E),E.defaultPrevented||s==null||s())},h),C=vG(E=>{const A=E.target;[...c.branches].some(T=>T.contains(A))||(a==null||a(E),o==null||o(E),E.defaultPrevented||s==null||s())},h);return uG(E=>{x===c.layers.size-1&&(n==null||n(E),!E.defaultPrevented&&s&&(E.preventDefault(),s()))},h),b.useEffect(()=>{if(d)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(tT=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),rT(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=tT)}},[d,h,r,c]),b.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),rT())},[d,c]),b.useEffect(()=>{const E=()=>p({});return document.addEventListener(c2,E),()=>document.removeEventListener(c2,E)},[]),u.jsx(Pe.div,{...l,ref:v,style:{pointerEvents:w?S?"auto":"none":void 0,...t.style},onFocusCapture:ae(t.onFocusCapture,C.onFocusCapture),onBlurCapture:ae(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:ae(t.onPointerDownCapture,_.onPointerDownCapture)})});mu.displayName=dG;var pG="DismissableLayerBranch",yM=b.forwardRef((t,e)=>{const r=b.useContext(gM),n=b.useRef(null),i=Ke(e,n);return b.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),u.jsx(Pe.div,{...t,ref:i})});yM.displayName=pG;function mG(t,e=globalThis==null?void 0:globalThis.document){const r=Ir(t),n=b.useRef(!1),i=b.useRef(()=>{});return b.useEffect(()=>{const a=s=>{if(s.target&&!n.current){let l=function(){xM(fG,r,c,{discrete:!0})};const c={originalEvent:s};s.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function vG(t,e=globalThis==null?void 0:globalThis.document){const r=Ir(t),n=b.useRef(!1);return b.useEffect(()=>{const i=a=>{a.target&&!n.current&&xM(hG,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function rT(){const t=new CustomEvent(c2);document.dispatchEvent(t)}function xM(t,e,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?ZE(i,a):i.dispatchEvent(a)}var gG=mu,yG=yM,on=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},xG="Portal",zf=b.forwardRef((t,e)=>{var s;const{container:r,...n}=t,[i,a]=b.useState(!1);on(()=>a(!0),[]);const o=r||i&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return o?fM.createPortal(u.jsx(Pe.div,{...n,ref:e}),o):null});zf.displayName=xG;function wG(t,e){return b.useReducer((r,n)=>e[r][n]??r,t)}var sn=t=>{const{present:e,children:r}=t,n=bG(e),i=typeof r=="function"?r({present:n.isPresent}):b.Children.only(r),a=Ke(n.ref,_G(i));return typeof r=="function"||n.isPresent?b.cloneElement(i,{ref:a}):null};sn.displayName="Presence";function bG(t){const[e,r]=b.useState(),n=b.useRef(null),i=b.useRef(t),a=b.useRef("none"),o=t?"mounted":"unmounted",[s,l]=wG(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const c=s0(n.current);a.current=s==="mounted"?c:"none"},[s]),on(()=>{const c=n.current,d=i.current;if(d!==t){const h=a.current,p=s0(c);t?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),on(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=p=>{const m=s0(n.current).includes(p.animationName);if(p.target===e&&m&&(l("ANIMATION_END"),!i.current)){const g=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=g)})}},h=p=>{p.target===e&&(a.current=s0(n.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:b.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function s0(t){return(t==null?void 0:t.animationName)||"none"}function _G(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var SG=oE[" useInsertionEffect ".trim().toString()]||on;function Di({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,a,o]=CG({defaultProp:e,onChange:r}),s=t!==void 0,l=s?t:i;{const d=b.useRef(t!==void 0);b.useEffect(()=>{const f=d.current;f!==s&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=s},[s,n])}const c=b.useCallback(d=>{var f;if(s){const h=EG(d)?d(t):d;h!==t&&((f=o.current)==null||f.call(o,h))}else a(d)},[s,t,a,o]);return[l,c]}function CG({defaultProp:t,onChange:e}){const[r,n]=b.useState(t),i=b.useRef(r),a=b.useRef(e);return SG(()=>{a.current=e},[e]),b.useEffect(()=>{var o;i.current!==r&&((o=a.current)==null||o.call(a,r),i.current=r)},[r,i]),[r,n,a]}function EG(t){return typeof t=="function"}var wM=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),AG="VisuallyHidden",M1=b.forwardRef((t,e)=>u.jsx(Pe.span,{...t,ref:e,style:{...wM,...t.style}}));M1.displayName=AG;var OG=M1,QE="ToastProvider",[JE,NG,jG]=tv("Toast"),[bM,iMe]=vn("Toast",[jG]),[TG,$1]=bM(QE),_M=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=t,[s,l]=b.useState(null),[c,d]=b.useState(0),f=b.useRef(!1),h=b.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${QE}\`. Expected non-empty \`string\`.`),u.jsx(JE.Provider,{scope:e,children:u.jsx(TG,{scope:e,label:r,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:c,viewport:s,onViewportChange:l,onToastAdd:b.useCallback(()=>d(p=>p+1),[]),onToastRemove:b.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};_M.displayName=QE;var SM="ToastViewport",PG=["F8"],u2="toast.viewportPause",d2="toast.viewportResume",CM=b.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=PG,label:i="Notifications ({hotkey})",...a}=t,o=$1(SM,r),s=NG(r),l=b.useRef(null),c=b.useRef(null),d=b.useRef(null),f=b.useRef(null),h=Ke(e,f,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;b.useEffect(()=>{const g=y=>{var w;n.length!==0&&n.every(S=>y[S]||y.code===S)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[n]),b.useEffect(()=>{const g=l.current,y=f.current;if(v&&g&&y){const x=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(u2);y.dispatchEvent(C),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(d2);y.dispatchEvent(C),o.isClosePausedRef.current=!1}},S=C=>{!g.contains(C.relatedTarget)&&w()},_=()=>{g.contains(document.activeElement)||w()};return g.addEventListener("focusin",x),g.addEventListener("focusout",S),g.addEventListener("pointermove",x),g.addEventListener("pointerleave",_),window.addEventListener("blur",x),window.addEventListener("focus",w),()=>{g.removeEventListener("focusin",x),g.removeEventListener("focusout",S),g.removeEventListener("pointermove",x),g.removeEventListener("pointerleave",_),window.removeEventListener("blur",x),window.removeEventListener("focus",w)}}},[v,o.isClosePausedRef]);const m=b.useCallback(({tabbingDirection:g})=>{const x=s().map(w=>{const S=w.ref.current,_=[S,...zG(S)];return g==="forwards"?_:_.reverse()});return(g==="forwards"?x.reverse():x).flat()},[s]);return b.useEffect(()=>{const g=f.current;if(g){const y=x=>{var _,C,E;const w=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!w){const A=document.activeElement,O=x.shiftKey;if(x.target===g&&O){(_=c.current)==null||_.focus();return}const P=m({tabbingDirection:O?"backwards":"forwards"}),$=P.findIndex(D=>D===A);Jw(P.slice($+1))?x.preventDefault():O?(C=c.current)==null||C.focus():(E=d.current)==null||E.focus()}};return g.addEventListener("keydown",y),()=>g.removeEventListener("keydown",y)}},[s,m]),u.jsxs(yG,{ref:l,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&u.jsx(f2,{ref:c,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"forwards"});Jw(g)}}),u.jsx(JE.Slot,{scope:r,children:u.jsx(Pe.ol,{tabIndex:-1,...a,ref:h})}),v&&u.jsx(f2,{ref:d,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"backwards"});Jw(g)}})]})});CM.displayName=SM;var EM="ToastFocusProxy",f2=b.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=t,a=$1(EM,r);return u.jsx(M1,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const s=o.relatedTarget;!((c=a.viewport)!=null&&c.contains(s))&&n()}})});f2.displayName=EM;var rv="Toast",kG="toast.swipeStart",IG="toast.swipeMove",RG="toast.swipeCancel",DG="toast.swipeEnd",AM=b.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:a,...o}=t,[s,l]=Di({prop:n,defaultProp:i??!0,onChange:a,caller:rv});return u.jsx(sn,{present:r||s,children:u.jsx(LG,{open:s,...o,ref:e,onClose:()=>l(!1),onPause:Ir(t.onPause),onResume:Ir(t.onResume),onSwipeStart:ae(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ae(t.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ae(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ae(t.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});AM.displayName=rv;var[MG,$G]=bM(rv,{onClose(){}}),LG=b.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:s,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...v}=t,m=$1(rv,r),[g,y]=b.useState(null),x=Ke(e,D=>y(D)),w=b.useRef(null),S=b.useRef(null),_=i||m.duration,C=b.useRef(0),E=b.useRef(_),A=b.useRef(0),{onToastAdd:O,onToastRemove:T}=m,N=Ir(()=>{var F;(g==null?void 0:g.contains(document.activeElement))&&((F=m.viewport)==null||F.focus()),o()}),P=b.useCallback(D=>{!D||D===1/0||(window.clearTimeout(A.current),C.current=new Date().getTime(),A.current=window.setTimeout(N,D))},[N]);b.useEffect(()=>{const D=m.viewport;if(D){const F=()=>{P(E.current),c==null||c()},L=()=>{const M=new Date().getTime()-C.current;E.current=E.current-M,window.clearTimeout(A.current),l==null||l()};return D.addEventListener(u2,L),D.addEventListener(d2,F),()=>{D.removeEventListener(u2,L),D.removeEventListener(d2,F)}}},[m.viewport,_,l,c,P]),b.useEffect(()=>{a&&!m.isClosePausedRef.current&&P(_)},[a,_,m.isClosePausedRef,P]),b.useEffect(()=>(O(),()=>T()),[O,T]);const $=b.useMemo(()=>g?IM(g):null,[g]);return m.viewport?u.jsxs(u.Fragment,{children:[$&&u.jsx(FG,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:$}),u.jsx(MG,{scope:r,onClose:N,children:pu.createPortal(u.jsx(JE.ItemSlot,{scope:r,children:u.jsx(gG,{asChild:!0,onEscapeKeyDown:ae(s,()=>{m.isFocusedToastEscapeKeyDownRef.current||N(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(Pe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":m.swipeDirection,...v,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ae(t.onKeyDown,D=>{D.key==="Escape"&&(s==null||s(D.nativeEvent),D.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:ae(t.onPointerDown,D=>{D.button===0&&(w.current={x:D.clientX,y:D.clientY})}),onPointerMove:ae(t.onPointerMove,D=>{if(!w.current)return;const F=D.clientX-w.current.x,L=D.clientY-w.current.y,M=!!S.current,j=["left","right"].includes(m.swipeDirection),R=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,V=j?R(0,F):0,W=j?0:R(0,L),z=D.pointerType==="touch"?10:2,K={x:V,y:W},re={originalEvent:D,delta:K};M?(S.current=K,l0(IG,f,re,{discrete:!1})):nT(K,m.swipeDirection,z)?(S.current=K,l0(kG,d,re,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(F)>z||Math.abs(L)>z)&&(w.current=null)}),onPointerUp:ae(t.onPointerUp,D=>{const F=S.current,L=D.target;if(L.hasPointerCapture(D.pointerId)&&L.releasePointerCapture(D.pointerId),S.current=null,w.current=null,F){const M=D.currentTarget,j={originalEvent:D,delta:F};nT(F,m.swipeDirection,m.swipeThreshold)?l0(DG,p,j,{discrete:!0}):l0(RG,h,j,{discrete:!0}),M.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),FG=t=>{const{__scopeToast:e,children:r,...n}=t,i=$1(rv,e),[a,o]=b.useState(!1),[s,l]=b.useState(!1);return VG(()=>o(!0)),b.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),s?null:u.jsx(zf,{asChild:!0,children:u.jsx(M1,{...n,children:a&&u.jsxs(u.Fragment,{children:[i.label," ",r]})})})},BG="ToastTitle",OM=b.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return u.jsx(Pe.div,{...n,ref:e})});OM.displayName=BG;var UG="ToastDescription",NM=b.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return u.jsx(Pe.div,{...n,ref:e})});NM.displayName=UG;var jM="ToastAction",TM=b.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?u.jsx(kM,{altText:r,asChild:!0,children:u.jsx(eA,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${jM}\`. Expected non-empty \`string\`.`),null)});TM.displayName=jM;var PM="ToastClose",eA=b.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,i=$G(PM,r);return u.jsx(kM,{asChild:!0,children:u.jsx(Pe.button,{type:"button",...n,ref:e,onClick:ae(t.onClick,i.onClose)})})});eA.displayName=PM;var kM=b.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...i}=t;return u.jsx(Pe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function IM(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),WG(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...IM(n))}}),e}function l0(t,e,r,{discrete:n}){const i=r.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?ZE(i,a):i.dispatchEvent(a)}var nT=(t,e,r=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),a=n>i;return e==="left"||e==="right"?a&&n>r:!a&&i>r};function VG(t=()=>{}){const e=Ir(t);on(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function WG(t){return t.nodeType===t.ELEMENT_NODE}function zG(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Jw(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var HG=_M,RM=CM,DM=AM,MM=OM,$M=NM,LM=TM,FM=eA;function BM(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=BM(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function et(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=BM(t))&&(n&&(n+=" "),n+=e);return n}const iT=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,aT=et,nv=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return aT(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:a}=e,o=Object.keys(i).map(c=>{const d=r==null?void 0:r[c],f=a==null?void 0:a[c];if(d===null)return null;const h=iT(d)||iT(f);return i[c][h]}),s=r&&Object.entries(r).reduce((c,d)=>{let[f,h]=d;return h===void 0||(c[f]=h),c},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((c,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(v=>{let[m,g]=v;return Array.isArray(g)?g.includes({...a,...s}[m]):{...a,...s}[m]===g})?[...c,f,h]:c},[]);return aT(t,o,l,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GG=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),UM=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KG=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...s},l)=>b.createElement("svg",{ref:l,...qG,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:UM("lucide",i),...s},[...o.map(([c,d])=>b.createElement(c,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=(t,e)=>{const r=b.forwardRef(({className:n,...i},a)=>b.createElement(KG,{ref:a,iconNode:e,className:UM(`lucide-${GG(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XG=Re("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=Re("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=Re("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=Re("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YG=Re("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=Re("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=Re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=Re("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=Re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=Re("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=Re("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZG=Re("CircleArrowDown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QG=Re("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JG=Re("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=Re("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eq=Re("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=Re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=Re("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=Re("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=Re("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=Re("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=Re("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=Re("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tq=Re("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=Re("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=Re("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=Re("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=Re("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=Re("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rq=Re("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nq=Re("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=Re("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iq=Re("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=Re("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=Re("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aq=Re("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=Re("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oq=Re("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=Re("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=Re("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=Re("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=Re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=Re("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sq=Re("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lq=Re("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=Re("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=Re("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cq=Re("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uq=Re("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=Re("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=Re("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=Re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dq=Re("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=Re("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=Re("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=Re("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fq=Re("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=Re("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=Re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=Re("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hq=Re("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=Re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),lA="-",pq=t=>{const e=vq(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const s=o.split(lA);return s[0]===""&&s.length!==1&&s.shift(),ZM(s,e)||mq(o)},getConflictingClassGroupIds:(o,s)=>{const l=r[o]||[];return s&&n[o]?[...l,...n[o]]:l}}},ZM=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?ZM(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(lA);return(o=e.validators.find(({validator:s})=>s(a)))==null?void 0:o.classGroupId},oT=/^\[(.+)\]$/,mq=t=>{if(oT.test(t)){const e=oT.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},vq=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return yq(Object.entries(t.classGroups),r).forEach(([a,o])=>{g2(o,n,a,e)}),n},g2=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:sT(e,i);a.classGroupId=r;return}if(typeof i=="function"){if(gq(i)){g2(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,o])=>{g2(o,sT(e,a),r,n)})})},sT=(t,e)=>{let r=t;return e.split(lA).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},gq=t=>t.isThemeGetter,yq=(t,e)=>e?t.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,s])=>[e+o,s])):a);return[r,i]}):t,xq=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(a,o)=>{r.set(a,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return i(a,o),o},set(a,o){r.has(a)?r.set(a,o):i(a,o)}}},QM="!",wq=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],a=e.length,o=s=>{const l=[];let c=0,d=0,f;for(let g=0;g<s.length;g++){let y=s[g];if(c===0){if(y===i&&(n||s.slice(g,g+a)===e)){l.push(s.slice(d,g)),d=g+a;continue}if(y==="/"){f=g;continue}}y==="["?c++:y==="]"&&c--}const h=l.length===0?s:s.substring(d),p=h.startsWith(QM),v=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:m}};return r?s=>r({className:s,parseClassName:o}):o},bq=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},_q=t=>({cache:xq(t.cacheSize),parseClassName:wq(t),...pq(t)}),Sq=/\s+/,Cq=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,a=[],o=t.trim().split(Sq);let s="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(c);let v=!!p,m=n(v?h.substring(0,p):h);if(!m){if(!v){s=c+(s.length>0?" "+s:s);continue}if(m=n(h),!m){s=c+(s.length>0?" "+s:s);continue}v=!1}const g=bq(d).join(":"),y=f?g+QM:g,x=y+m;if(a.includes(x))continue;a.push(x);const w=i(m,v);for(let S=0;S<w.length;++S){const _=w[S];a.push(y+_)}s=c+(s.length>0?" "+s:s)}return s};function Eq(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=JM(e))&&(n&&(n+=" "),n+=r);return n}const JM=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=JM(t[n]))&&(r&&(r+=" "),r+=e);return r};function Aq(t,...e){let r,n,i,a=o;function o(l){const c=e.reduce((d,f)=>f(d),t());return r=_q(c),n=r.cache.get,i=r.cache.set,a=s,s(l)}function s(l){const c=n(l);if(c)return c;const d=Cq(l,r);return i(l,d),d}return function(){return a(Eq.apply(null,arguments))}}const nr=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},e6=/^\[(?:([a-z-]+):)?(.+)\]$/i,Oq=/^\d+\/\d+$/,Nq=new Set(["px","full","screen"]),jq=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Tq=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Pq=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,kq=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Iq=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,$o=t=>Ad(t)||Nq.has(t)||Oq.test(t),Bs=t=>qf(t,"length",Uq),Ad=t=>!!t&&!Number.isNaN(Number(t)),eb=t=>qf(t,"number",Ad),Nh=t=>!!t&&Number.isInteger(Number(t)),Rq=t=>t.endsWith("%")&&Ad(t.slice(0,-1)),tt=t=>e6.test(t),Us=t=>jq.test(t),Dq=new Set(["length","size","percentage"]),Mq=t=>qf(t,Dq,t6),$q=t=>qf(t,"position",t6),Lq=new Set(["image","url"]),Fq=t=>qf(t,Lq,Wq),Bq=t=>qf(t,"",Vq),jh=()=>!0,qf=(t,e,r)=>{const n=e6.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},Uq=t=>Tq.test(t)&&!Pq.test(t),t6=()=>!1,Vq=t=>kq.test(t),Wq=t=>Iq.test(t),zq=()=>{const t=nr("colors"),e=nr("spacing"),r=nr("blur"),n=nr("brightness"),i=nr("borderColor"),a=nr("borderRadius"),o=nr("borderSpacing"),s=nr("borderWidth"),l=nr("contrast"),c=nr("grayscale"),d=nr("hueRotate"),f=nr("invert"),h=nr("gap"),p=nr("gradientColorStops"),v=nr("gradientColorStopPositions"),m=nr("inset"),g=nr("margin"),y=nr("opacity"),x=nr("padding"),w=nr("saturate"),S=nr("scale"),_=nr("sepia"),C=nr("skew"),E=nr("space"),A=nr("translate"),O=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",tt,e],P=()=>[tt,e],$=()=>["",$o,Bs],D=()=>["auto",Ad,tt],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],M=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",tt],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[Ad,tt];return{cacheSize:500,separator:":",theme:{colors:[jh],spacing:[$o,Bs],blur:["none","",Us,tt],brightness:W(),borderColor:[t],borderRadius:["none","","full",Us,tt],borderSpacing:P(),borderWidth:$(),contrast:W(),grayscale:R(),hueRotate:W(),invert:R(),gap:P(),gradientColorStops:[t],gradientColorStopPositions:[Rq,Bs],inset:N(),margin:N(),opacity:W(),padding:P(),saturate:W(),scale:W(),sepia:R(),skew:W(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",tt]}],container:["container"],columns:[{columns:[Us]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),tt]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Nh,tt]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",tt]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",Nh,tt]}],"grid-cols":[{"grid-cols":[jh]}],"col-start-end":[{col:["auto",{span:["full",Nh,tt]},tt]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[jh]}],"row-start-end":[{row:["auto",{span:[Nh,tt]},tt]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",tt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",tt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",tt,e]}],"min-w":[{"min-w":[tt,e,"min","max","fit"]}],"max-w":[{"max-w":[tt,e,"none","full","min","max","fit","prose",{screen:[Us]},Us]}],h:[{h:[tt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[tt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[tt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[tt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Us,Bs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",eb]}],"font-family":[{font:[jh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",tt]}],"line-clamp":[{"line-clamp":["none",Ad,eb]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",$o,tt]}],"list-image":[{"list-image":["none",tt]}],"list-style-type":[{list:["none","disc","decimal",tt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",$o,Bs]}],"underline-offset":[{"underline-offset":["auto",$o,tt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",tt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",tt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),$q]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Mq]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Fq]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:L()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[$o,tt]}],"outline-w":[{outline:[$o,Bs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[$o,Bs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Us,Bq]}],"shadow-color":[{shadow:[jh]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...M(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":M()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Us,tt]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",tt]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",tt]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",tt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Nh,tt]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",tt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",tt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",tt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[$o,Bs,eb]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Hq=Aq(zq);function he(...t){return Hq(et(t))}const Gq=HG,r6=b.forwardRef(({className:t,...e},r)=>u.jsx(RM,{ref:r,className:he("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));r6.displayName=RM.displayName;const qq=nv("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),n6=b.forwardRef(({className:t,variant:e,...r},n)=>u.jsx(DM,{ref:n,className:he(qq({variant:e}),t),...r}));n6.displayName=DM.displayName;const Kq=b.forwardRef(({className:t,...e},r)=>u.jsx(LM,{ref:r,className:he("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));Kq.displayName=LM.displayName;const i6=b.forwardRef(({className:t,...e},r)=>u.jsx(FM,{ref:r,className:he("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(U1,{className:"h-4 w-4"})}));i6.displayName=FM.displayName;const a6=b.forwardRef(({className:t,...e},r)=>u.jsx(MM,{ref:r,className:he("text-sm font-semibold",t),...e}));a6.displayName=MM.displayName;const o6=b.forwardRef(({className:t,...e},r)=>u.jsx($M,{ref:r,className:he("text-sm opacity-90",t),...e}));o6.displayName=$M.displayName;function Xq(){const{toasts:t}=Vr();return u.jsxs(Gq,{children:[t.map(function({id:e,title:r,description:n,action:i,...a}){return u.jsxs(n6,{...a,children:[u.jsxs("div",{className:"grid gap-1",children:[r&&u.jsx(a6,{children:r}),n&&u.jsx(o6,{children:n})]}),i,u.jsx(i6,{})]},e)}),u.jsx(r6,{})]})}var lT=["light","dark"],Yq="(prefers-color-scheme: dark)",Zq=b.createContext(void 0),Qq={setTheme:t=>{},themes:[]},Jq=()=>{var t;return(t=b.useContext(Zq))!=null?t:Qq};b.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:a,value:o,attrs:s,nonce:l})=>{let c=a==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${s.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=i?lT.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(v,m=!1,g=!0)=>{let y=o?o[v]:v,x=m?v+"|| ''":`'${y}'`,w="";return i&&g&&!m&&lT.includes(v)&&(w+=`d.style.colorScheme = '${v}';`),r==="class"?m||y?w+=`c.add(${x})`:w+="null":y&&(w+=`d[s](n,${x})`),w},p=t?`!function(){${d}${h(t)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${Yq}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${c?"":"else{"+h(a,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(a,!1,!1)};}${f}}catch(t){}}();`;return b.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})});var eK=t=>{switch(t){case"success":return nK;case"info":return aK;case"warning":return iK;case"error":return oK;default:return null}},tK=Array(12).fill(0),rK=({visible:t,className:e})=>k.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},k.createElement("div",{className:"sonner-spinner"},tK.map((r,n)=>k.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),nK=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},k.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),iK=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},k.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),aK=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},k.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),oK=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},k.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),sK=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},k.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),k.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),lK=()=>{let[t,e]=k.useState(document.hidden);return k.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},y2=1,cK=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:y2++,a=this.toasts.find(s=>s.id===i),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(s=>s.id===i?(this.publish({...s,...t,id:i,title:r}),{...s,...t,id:i,dismissible:o,title:r}):s):this.addToast({title:r,...n,dismissible:o,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),i=r!==void 0,a,o=n.then(async l=>{if(a=["resolve",l],k.isValidElement(l))i=!1,this.create({id:r,type:"default",message:l});else if(dK(l)&&!l.ok){i=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:r,type:"error",message:c,description:d})}else if(e.success!==void 0){i=!1;let c=typeof e.success=="function"?await e.success(l):e.success,d=typeof e.description=="function"?await e.description(l):e.description;this.create({id:r,type:"success",message:c,description:d})}}).catch(async l=>{if(a=["reject",l],e.error!==void 0){i=!1;let c=typeof e.error=="function"?await e.error(l):e.error,d=typeof e.description=="function"?await e.description(l):e.description;this.create({id:r,type:"error",message:c,description:d})}}).finally(()=>{var l;i&&(this.dismiss(r),r=void 0),(l=e.finally)==null||l.call(e)}),s=()=>new Promise((l,c)=>o.then(()=>a[0]==="reject"?c(a[1]):l(a[1])).catch(c));return typeof r!="string"&&typeof r!="number"?{unwrap:s}:Object.assign(r,{unwrap:s})},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||y2++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ri=new cK,uK=(t,e)=>{let r=(e==null?void 0:e.id)||y2++;return ri.addToast({title:t,...e,id:r}),r},dK=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",fK=uK,hK=()=>ri.toasts,pK=()=>ri.getActiveToasts(),cT=Object.assign(fK,{success:ri.success,info:ri.info,warning:ri.warning,error:ri.error,custom:ri.custom,message:ri.message,promise:ri.promise,dismiss:ri.dismiss,loading:ri.loading},{getHistory:hK,getToasts:pK});function mK(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}mK(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function c0(t){return t.label!==void 0}var vK=3,gK="32px",yK="16px",uT=4e3,xK=356,wK=14,bK=20,_K=200;function _a(...t){return t.filter(Boolean).join(" ")}function SK(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var CK=t=>{var e,r,n,i,a,o,s,l,c,d,f;let{invert:h,toast:p,unstyled:v,interacting:m,setHeights:g,visibleToasts:y,heights:x,index:w,toasts:S,expanded:_,removeToast:C,defaultRichColors:E,closeButton:A,style:O,cancelButtonStyle:T,actionButtonStyle:N,className:P="",descriptionClassName:$="",duration:D,position:F,gap:L,loadingIcon:M,expandByDefault:j,classNames:R,icons:V,closeButtonAriaLabel:W="Close toast",pauseWhenPageIsHidden:z}=t,[K,re]=k.useState(null),[ue,le]=k.useState(null),[J,me]=k.useState(!1),[ee,ne]=k.useState(!1),[ve,X]=k.useState(!1),[q,ie]=k.useState(!1),[Ve,it]=k.useState(!1),[St,ft]=k.useState(0),[gr,B]=k.useState(0),H=k.useRef(p.duration||D||uT),Y=k.useRef(null),de=k.useRef(null),fe=w===0,se=w+1<=y,Ce=p.type,lt=p.dismissible!==!1,$t=p.className||"",Zn=p.descriptionClassName||"",Do=k.useMemo(()=>x.findIndex(Je=>Je.toastId===p.id)||0,[x,p.id]),no=k.useMemo(()=>{var Je;return(Je=p.closeButton)!=null?Je:A},[p.closeButton,A]),Fv=k.useMemo(()=>p.duration||D||uT,[p.duration,D]),ec=k.useRef(0),io=k.useRef(0),Bv=k.useRef(0),Mo=k.useRef(null),[_w,Uv]=F.split("-"),UN=k.useMemo(()=>x.reduce((Je,Lt,pr)=>pr>=Do?Je:Je+Lt.height,0),[x,Do]),VN=lK(),EW=p.invert||h,Sw=Ce==="loading";io.current=k.useMemo(()=>Do*L+UN,[Do,UN]),k.useEffect(()=>{H.current=Fv},[Fv]),k.useEffect(()=>{me(!0)},[]),k.useEffect(()=>{let Je=de.current;if(Je){let Lt=Je.getBoundingClientRect().height;return B(Lt),g(pr=>[{toastId:p.id,height:Lt,position:p.position},...pr]),()=>g(pr=>pr.filter(ya=>ya.toastId!==p.id))}},[g,p.id]),k.useLayoutEffect(()=>{if(!J)return;let Je=de.current,Lt=Je.style.height;Je.style.height="auto";let pr=Je.getBoundingClientRect().height;Je.style.height=Lt,B(pr),g(ya=>ya.find(xa=>xa.toastId===p.id)?ya.map(xa=>xa.toastId===p.id?{...xa,height:pr}:xa):[{toastId:p.id,height:pr,position:p.position},...ya])},[J,p.title,p.description,g,p.id]);let Ms=k.useCallback(()=>{ne(!0),ft(io.current),g(Je=>Je.filter(Lt=>Lt.toastId!==p.id)),setTimeout(()=>{C(p)},_K)},[p,C,g,io]);k.useEffect(()=>{if(p.promise&&Ce==="loading"||p.duration===1/0||p.type==="loading")return;let Je;return _||m||z&&VN?(()=>{if(Bv.current<ec.current){let Lt=new Date().getTime()-ec.current;H.current=H.current-Lt}Bv.current=new Date().getTime()})():H.current!==1/0&&(ec.current=new Date().getTime(),Je=setTimeout(()=>{var Lt;(Lt=p.onAutoClose)==null||Lt.call(p,p),Ms()},H.current)),()=>clearTimeout(Je)},[_,m,p,Ce,z,VN,Ms]),k.useEffect(()=>{p.delete&&Ms()},[Ms,p.delete]);function AW(){var Je,Lt,pr;return V!=null&&V.loading?k.createElement("div",{className:_a(R==null?void 0:R.loader,(Je=p==null?void 0:p.classNames)==null?void 0:Je.loader,"sonner-loader"),"data-visible":Ce==="loading"},V.loading):M?k.createElement("div",{className:_a(R==null?void 0:R.loader,(Lt=p==null?void 0:p.classNames)==null?void 0:Lt.loader,"sonner-loader"),"data-visible":Ce==="loading"},M):k.createElement(rK,{className:_a(R==null?void 0:R.loader,(pr=p==null?void 0:p.classNames)==null?void 0:pr.loader),visible:Ce==="loading"})}return k.createElement("li",{tabIndex:0,ref:de,className:_a(P,$t,R==null?void 0:R.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,R==null?void 0:R.default,R==null?void 0:R[Ce],(r=p==null?void 0:p.classNames)==null?void 0:r[Ce]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:E,"data-styled":!(p.jsx||p.unstyled||v),"data-mounted":J,"data-promise":!!p.promise,"data-swiped":Ve,"data-removed":ee,"data-visible":se,"data-y-position":_w,"data-x-position":Uv,"data-index":w,"data-front":fe,"data-swiping":ve,"data-dismissible":lt,"data-type":Ce,"data-invert":EW,"data-swipe-out":q,"data-swipe-direction":ue,"data-expanded":!!(_||j&&J),style:{"--index":w,"--toasts-before":w,"--z-index":S.length-w,"--offset":`${ee?St:io.current}px`,"--initial-height":j?"auto":`${gr}px`,...O,...p.style},onDragEnd:()=>{X(!1),re(null),Mo.current=null},onPointerDown:Je=>{Sw||!lt||(Y.current=new Date,ft(io.current),Je.target.setPointerCapture(Je.pointerId),Je.target.tagName!=="BUTTON"&&(X(!0),Mo.current={x:Je.clientX,y:Je.clientY}))},onPointerUp:()=>{var Je,Lt,pr,ya;if(q||!lt)return;Mo.current=null;let xa=Number(((Je=de.current)==null?void 0:Je.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),$s=Number(((Lt=de.current)==null?void 0:Lt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),tc=new Date().getTime()-((pr=Y.current)==null?void 0:pr.getTime()),wa=K==="x"?xa:$s,Ls=Math.abs(wa)/tc;if(Math.abs(wa)>=bK||Ls>.11){ft(io.current),(ya=p.onDismiss)==null||ya.call(p,p),le(K==="x"?xa>0?"right":"left":$s>0?"down":"up"),Ms(),ie(!0),it(!1);return}X(!1),re(null)},onPointerMove:Je=>{var Lt,pr,ya,xa;if(!Mo.current||!lt||((Lt=window.getSelection())==null?void 0:Lt.toString().length)>0)return;let $s=Je.clientY-Mo.current.y,tc=Je.clientX-Mo.current.x,wa=(pr=t.swipeDirections)!=null?pr:SK(F);!K&&(Math.abs(tc)>1||Math.abs($s)>1)&&re(Math.abs(tc)>Math.abs($s)?"x":"y");let Ls={x:0,y:0};K==="y"?(wa.includes("top")||wa.includes("bottom"))&&(wa.includes("top")&&$s<0||wa.includes("bottom")&&$s>0)&&(Ls.y=$s):K==="x"&&(wa.includes("left")||wa.includes("right"))&&(wa.includes("left")&&tc<0||wa.includes("right")&&tc>0)&&(Ls.x=tc),(Math.abs(Ls.x)>0||Math.abs(Ls.y)>0)&&it(!0),(ya=de.current)==null||ya.style.setProperty("--swipe-amount-x",`${Ls.x}px`),(xa=de.current)==null||xa.style.setProperty("--swipe-amount-y",`${Ls.y}px`)}},no&&!p.jsx?k.createElement("button",{"aria-label":W,"data-disabled":Sw,"data-close-button":!0,onClick:Sw||!lt?()=>{}:()=>{var Je;Ms(),(Je=p.onDismiss)==null||Je.call(p,p)},className:_a(R==null?void 0:R.closeButton,(i=p==null?void 0:p.classNames)==null?void 0:i.closeButton)},(a=V==null?void 0:V.close)!=null?a:sK):null,p.jsx||b.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:k.createElement(k.Fragment,null,Ce||p.icon||p.promise?k.createElement("div",{"data-icon":"",className:_a(R==null?void 0:R.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||AW():null,p.type!=="loading"?p.icon||(V==null?void 0:V[Ce])||eK(Ce):null):null,k.createElement("div",{"data-content":"",className:_a(R==null?void 0:R.content,(s=p==null?void 0:p.classNames)==null?void 0:s.content)},k.createElement("div",{"data-title":"",className:_a(R==null?void 0:R.title,(l=p==null?void 0:p.classNames)==null?void 0:l.title)},typeof p.title=="function"?p.title():p.title),p.description?k.createElement("div",{"data-description":"",className:_a($,Zn,R==null?void 0:R.description,(c=p==null?void 0:p.classNames)==null?void 0:c.description)},typeof p.description=="function"?p.description():p.description):null),b.isValidElement(p.cancel)?p.cancel:p.cancel&&c0(p.cancel)?k.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||T,onClick:Je=>{var Lt,pr;c0(p.cancel)&&lt&&((pr=(Lt=p.cancel).onClick)==null||pr.call(Lt,Je),Ms())},className:_a(R==null?void 0:R.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,b.isValidElement(p.action)?p.action:p.action&&c0(p.action)?k.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||N,onClick:Je=>{var Lt,pr;c0(p.action)&&((pr=(Lt=p.action).onClick)==null||pr.call(Lt,Je),!Je.defaultPrevented&&Ms())},className:_a(R==null?void 0:R.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function dT(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function EK(t,e){let r={};return[t,e].forEach((n,i)=>{let a=i===1,o=a?"--mobile-offset":"--offset",s=a?yK:gK;function l(c){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(c=>{n[c]===void 0?r[`${o}-${c}`]=s:r[`${o}-${c}`]=typeof n[c]=="number"?`${n[c]}px`:n[c]}):l(s)}),r}var AK=b.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:o,className:s,offset:l,mobileOffset:c,theme:d="light",richColors:f,duration:h,style:p,visibleToasts:v=vK,toastOptions:m,dir:g=dT(),gap:y=wK,loadingIcon:x,icons:w,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:_}=t,[C,E]=k.useState([]),A=k.useMemo(()=>Array.from(new Set([n].concat(C.filter(z=>z.position).map(z=>z.position)))),[C,n]),[O,T]=k.useState([]),[N,P]=k.useState(!1),[$,D]=k.useState(!1),[F,L]=k.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),M=k.useRef(null),j=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=k.useRef(null),V=k.useRef(!1),W=k.useCallback(z=>{E(K=>{var re;return(re=K.find(ue=>ue.id===z.id))!=null&&re.delete||ri.dismiss(z.id),K.filter(({id:ue})=>ue!==z.id)})},[]);return k.useEffect(()=>ri.subscribe(z=>{if(z.dismiss){E(K=>K.map(re=>re.id===z.id?{...re,delete:!0}:re));return}setTimeout(()=>{fM.flushSync(()=>{E(K=>{let re=K.findIndex(ue=>ue.id===z.id);return re!==-1?[...K.slice(0,re),{...K[re],...z},...K.slice(re+1)]:[z,...K]})})})}),[]),k.useEffect(()=>{if(d!=="system"){L(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),typeof window>"u")return;let z=window.matchMedia("(prefers-color-scheme: dark)");try{z.addEventListener("change",({matches:K})=>{L(K?"dark":"light")})}catch{z.addListener(({matches:re})=>{try{L(re?"dark":"light")}catch(ue){console.error(ue)}})}},[d]),k.useEffect(()=>{C.length<=1&&P(!1)},[C]),k.useEffect(()=>{let z=K=>{var re,ue;i.every(le=>K[le]||K.code===le)&&(P(!0),(re=M.current)==null||re.focus()),K.code==="Escape"&&(document.activeElement===M.current||(ue=M.current)!=null&&ue.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[i]),k.useEffect(()=>{if(M.current)return()=>{R.current&&(R.current.focus({preventScroll:!0}),R.current=null,V.current=!1)}},[M.current]),k.createElement("section",{ref:e,"aria-label":`${S} ${j}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},A.map((z,K)=>{var re;let[ue,le]=z.split("-");return C.length?k.createElement("ol",{key:z,dir:g==="auto"?dT():g,tabIndex:-1,ref:M,className:s,"data-sonner-toaster":!0,"data-theme":F,"data-y-position":ue,"data-lifted":N&&C.length>1&&!a,"data-x-position":le,style:{"--front-toast-height":`${((re=O[0])==null?void 0:re.height)||0}px`,"--width":`${xK}px`,"--gap":`${y}px`,...p,...EK(l,c)},onBlur:J=>{V.current&&!J.currentTarget.contains(J.relatedTarget)&&(V.current=!1,R.current&&(R.current.focus({preventScroll:!0}),R.current=null))},onFocus:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||V.current||(V.current=!0,R.current=J.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{$||P(!1)},onDragEnd:()=>P(!1),onPointerDown:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},C.filter(J=>!J.position&&K===0||J.position===z).map((J,me)=>{var ee,ne;return k.createElement(CK,{key:J.id,icons:w,index:me,toast:J,defaultRichColors:f,duration:(ee=m==null?void 0:m.duration)!=null?ee:h,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:r,visibleToasts:v,closeButton:(ne=m==null?void 0:m.closeButton)!=null?ne:o,interacting:$,position:z,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:W,toasts:C.filter(ve=>ve.position==J.position),heights:O.filter(ve=>ve.position==J.position),setHeights:T,expandByDefault:a,gap:y,loadingIcon:x,expanded:N,pauseWhenPageIsHidden:_,swipeDirections:t.swipeDirections})})):null}))});const OK=({...t})=>{const{theme:e="system"}=Jq();return u.jsx(AK,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var NK=oE[" useId ".trim().toString()]||(()=>{}),jK=0;function Ti(t){const[e,r]=b.useState(NK());return on(()=>{r(n=>n??String(jK++))},[t]),e?`radix-${e}`:""}const TK=["top","right","bottom","left"],Ml=Math.min,Si=Math.max,Dg=Math.round,u0=Math.floor,wo=t=>({x:t,y:t}),PK={left:"right",right:"left",bottom:"top",top:"bottom"},kK={start:"end",end:"start"};function x2(t,e,r){return Si(t,Ml(e,r))}function vs(t,e){return typeof t=="function"?t(e):t}function gs(t){return t.split("-")[0]}function Kf(t){return t.split("-")[1]}function cA(t){return t==="x"?"y":"x"}function uA(t){return t==="y"?"height":"width"}const IK=new Set(["top","bottom"]);function ho(t){return IK.has(gs(t))?"y":"x"}function dA(t){return cA(ho(t))}function RK(t,e,r){r===void 0&&(r=!1);const n=Kf(t),i=dA(t),a=uA(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=Mg(o)),[o,Mg(o)]}function DK(t){const e=Mg(t);return[w2(t),e,w2(e)]}function w2(t){return t.replace(/start|end/g,e=>kK[e])}const fT=["left","right"],hT=["right","left"],MK=["top","bottom"],$K=["bottom","top"];function LK(t,e,r){switch(t){case"top":case"bottom":return r?e?hT:fT:e?fT:hT;case"left":case"right":return e?MK:$K;default:return[]}}function FK(t,e,r,n){const i=Kf(t);let a=LK(gs(t),r==="start",n);return i&&(a=a.map(o=>o+"-"+i),e&&(a=a.concat(a.map(w2)))),a}function Mg(t){return t.replace(/left|right|bottom|top/g,e=>PK[e])}function BK(t){return{top:0,right:0,bottom:0,left:0,...t}}function s6(t){return typeof t!="number"?BK(t):{top:t,right:t,bottom:t,left:t}}function $g(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function pT(t,e,r){let{reference:n,floating:i}=t;const a=ho(e),o=dA(e),s=uA(o),l=gs(e),c=a==="y",d=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,h=n[s]/2-i[s]/2;let p;switch(l){case"top":p={x:d,y:n.y-i.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-i.width,y:f};break;default:p={x:n.x,y:n.y}}switch(Kf(e)){case"start":p[o]-=h*(r&&c?-1:1);break;case"end":p[o]+=h*(r&&c?-1:1);break}return p}const UK=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:o}=r,s=a.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=pT(c,n,l),h=n,p={},v=0;for(let m=0;m<s.length;m++){const{name:g,fn:y}=s[m],{x,y:w,data:S,reset:_}=await y({x:d,y:f,initialPlacement:n,placement:h,strategy:i,middlewareData:p,rects:c,platform:o,elements:{reference:t,floating:e}});d=x??d,f=w??f,p={...p,[g]:{...p[g],...S}},_&&v<=50&&(v++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(c=_.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):_.rects),{x:d,y:f}=pT(c,h,l)),m=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:p}};async function qp(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:a,rects:o,elements:s,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=vs(e,t),v=s6(p),g=s[h?f==="floating"?"reference":"floating":f],y=$g(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(g)))==null||r?g:g.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(s.floating)),boundary:c,rootBoundary:d,strategy:l})),x=f==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(s.floating)),S=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},_=$g(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:x,offsetParent:w,strategy:l}):x);return{top:(y.top-_.top+v.top)/S.y,bottom:(_.bottom-y.bottom+v.bottom)/S.y,left:(y.left-_.left+v.left)/S.x,right:(_.right-y.right+v.right)/S.x}}const VK=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:a,platform:o,elements:s,middlewareData:l}=e,{element:c,padding:d=0}=vs(t,e)||{};if(c==null)return{};const f=s6(d),h={x:r,y:n},p=dA(i),v=uA(p),m=await o.getDimensions(c),g=p==="y",y=g?"top":"left",x=g?"bottom":"right",w=g?"clientHeight":"clientWidth",S=a.reference[v]+a.reference[p]-h[p]-a.floating[v],_=h[p]-a.reference[p],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let E=C?C[w]:0;(!E||!await(o.isElement==null?void 0:o.isElement(C)))&&(E=s.floating[w]||a.floating[v]);const A=S/2-_/2,O=E/2-m[v]/2-1,T=Ml(f[y],O),N=Ml(f[x],O),P=T,$=E-m[v]-N,D=E/2-m[v]/2+A,F=x2(P,D,$),L=!l.arrow&&Kf(i)!=null&&D!==F&&a.reference[v]/2-(D<P?T:N)-m[v]/2<0,M=L?D<P?D-P:D-$:0;return{[p]:h[p]+M,data:{[p]:F,centerOffset:D-F-M,...L&&{alignmentOffset:M}},reset:L}}}),WK=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:a,rects:o,initialPlacement:s,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:m=!0,...g}=vs(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const y=gs(i),x=ho(s),w=gs(s)===s,S=await(l.isRTL==null?void 0:l.isRTL(c.floating)),_=h||(w||!m?[Mg(s)]:DK(s)),C=v!=="none";!h&&C&&_.push(...FK(s,m,v,S));const E=[s,..._],A=await qp(e,g),O=[];let T=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&O.push(A[y]),f){const D=RK(i,o,S);O.push(A[D[0]],A[D[1]])}if(T=[...T,{placement:i,overflows:O}],!O.every(D=>D<=0)){var N,P;const D=(((N=a.flip)==null?void 0:N.index)||0)+1,F=E[D];if(F&&(!(f==="alignment"?x!==ho(F):!1)||T.every(j=>j.overflows[0]>0&&ho(j.placement)===x)))return{data:{index:D,overflows:T},reset:{placement:F}};let L=(P=T.filter(M=>M.overflows[0]<=0).sort((M,j)=>M.overflows[1]-j.overflows[1])[0])==null?void 0:P.placement;if(!L)switch(p){case"bestFit":{var $;const M=($=T.filter(j=>{if(C){const R=ho(j.placement);return R===x||R==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(R=>R>0).reduce((R,V)=>R+V,0)]).sort((j,R)=>j[1]-R[1])[0])==null?void 0:$[0];M&&(L=M);break}case"initialPlacement":L=s;break}if(i!==L)return{reset:{placement:L}}}return{}}}};function mT(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function vT(t){return TK.some(e=>t[e]>=0)}const zK=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=vs(t,e);switch(n){case"referenceHidden":{const a=await qp(e,{...i,elementContext:"reference"}),o=mT(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:vT(o)}}}case"escaped":{const a=await qp(e,{...i,altBoundary:!0}),o=mT(a,r.floating);return{data:{escapedOffsets:o,escaped:vT(o)}}}default:return{}}}}},l6=new Set(["left","top"]);async function HK(t,e){const{placement:r,platform:n,elements:i}=t,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=gs(r),s=Kf(r),l=ho(r)==="y",c=l6.has(o)?-1:1,d=a&&l?-1:1,f=vs(e,t);let{mainAxis:h,crossAxis:p,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof v=="number"&&(p=s==="end"?v*-1:v),l?{x:p*d,y:h*c}:{x:h*c,y:p*d}}const GK=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:a,placement:o,middlewareData:s}=e,l=await HK(e,t);return o===((r=s.offset)==null?void 0:r.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:o}}}}},qK=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:g=>{let{x:y,y:x}=g;return{x:y,y:x}}},...l}=vs(t,e),c={x:r,y:n},d=await qp(e,l),f=ho(gs(i)),h=cA(f);let p=c[h],v=c[f];if(a){const g=h==="y"?"top":"left",y=h==="y"?"bottom":"right",x=p+d[g],w=p-d[y];p=x2(x,p,w)}if(o){const g=f==="y"?"top":"left",y=f==="y"?"bottom":"right",x=v+d[g],w=v-d[y];v=x2(x,v,w)}const m=s.fn({...e,[h]:p,[f]:v});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:a,[f]:o}}}}}},KK=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:a,middlewareData:o}=e,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=vs(t,e),d={x:r,y:n},f=ho(i),h=cA(f);let p=d[h],v=d[f];const m=vs(s,e),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const w=h==="y"?"height":"width",S=a.reference[h]-a.floating[w]+g.mainAxis,_=a.reference[h]+a.reference[w]-g.mainAxis;p<S?p=S:p>_&&(p=_)}if(c){var y,x;const w=h==="y"?"width":"height",S=l6.has(gs(i)),_=a.reference[f]-a.floating[w]+(S&&((y=o.offset)==null?void 0:y[f])||0)+(S?0:g.crossAxis),C=a.reference[f]+a.reference[w]+(S?0:((x=o.offset)==null?void 0:x[f])||0)-(S?g.crossAxis:0);v<_?v=_:v>C&&(v=C)}return{[h]:p,[f]:v}}}},XK=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:a,platform:o,elements:s}=e,{apply:l=()=>{},...c}=vs(t,e),d=await qp(e,c),f=gs(i),h=Kf(i),p=ho(i)==="y",{width:v,height:m}=a.floating;let g,y;f==="top"||f==="bottom"?(g=f,y=h===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(y=f,g=h==="end"?"top":"bottom");const x=m-d.top-d.bottom,w=v-d.left-d.right,S=Ml(m-d[g],x),_=Ml(v-d[y],w),C=!e.middlewareData.shift;let E=S,A=_;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(A=w),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(E=x),C&&!h){const T=Si(d.left,0),N=Si(d.right,0),P=Si(d.top,0),$=Si(d.bottom,0);p?A=v-2*(T!==0||N!==0?T+N:Si(d.left,d.right)):E=m-2*(P!==0||$!==0?P+$:Si(d.top,d.bottom))}await l({...e,availableWidth:A,availableHeight:E});const O=await o.getDimensions(s.floating);return v!==O.width||m!==O.height?{reset:{rects:!0}}:{}}}};function V1(){return typeof window<"u"}function Xf(t){return c6(t)?(t.nodeName||"").toLowerCase():"#document"}function Pi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function To(t){var e;return(e=(c6(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function c6(t){return V1()?t instanceof Node||t instanceof Pi(t).Node:!1}function Ka(t){return V1()?t instanceof Element||t instanceof Pi(t).Element:!1}function Eo(t){return V1()?t instanceof HTMLElement||t instanceof Pi(t).HTMLElement:!1}function gT(t){return!V1()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Pi(t).ShadowRoot}const YK=new Set(["inline","contents"]);function ov(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=Xa(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!YK.has(i)}const ZK=new Set(["table","td","th"]);function QK(t){return ZK.has(Xf(t))}const JK=[":popover-open",":modal"];function W1(t){return JK.some(e=>{try{return t.matches(e)}catch{return!1}})}const eX=["transform","translate","scale","rotate","perspective"],tX=["transform","translate","scale","rotate","perspective","filter"],rX=["paint","layout","strict","content"];function fA(t){const e=hA(),r=Ka(t)?Xa(t):t;return eX.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||tX.some(n=>(r.willChange||"").includes(n))||rX.some(n=>(r.contain||"").includes(n))}function nX(t){let e=$l(t);for(;Eo(e)&&!tf(e);){if(fA(e))return e;if(W1(e))return null;e=$l(e)}return null}function hA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const iX=new Set(["html","body","#document"]);function tf(t){return iX.has(Xf(t))}function Xa(t){return Pi(t).getComputedStyle(t)}function z1(t){return Ka(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function $l(t){if(Xf(t)==="html")return t;const e=t.assignedSlot||t.parentNode||gT(t)&&t.host||To(t);return gT(e)?e.host:e}function u6(t){const e=$l(t);return tf(e)?t.ownerDocument?t.ownerDocument.body:t.body:Eo(e)&&ov(e)?e:u6(e)}function Kp(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=u6(t),a=i===((n=t.ownerDocument)==null?void 0:n.body),o=Pi(i);if(a){const s=b2(o);return e.concat(o,o.visualViewport||[],ov(i)?i:[],s&&r?Kp(s):[])}return e.concat(i,Kp(i,[],r))}function b2(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function d6(t){const e=Xa(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Eo(t),a=i?t.offsetWidth:r,o=i?t.offsetHeight:n,s=Dg(r)!==a||Dg(n)!==o;return s&&(r=a,n=o),{width:r,height:n,$:s}}function pA(t){return Ka(t)?t:t.contextElement}function Od(t){const e=pA(t);if(!Eo(e))return wo(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:a}=d6(e);let o=(a?Dg(r.width):r.width)/n,s=(a?Dg(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const aX=wo(0);function f6(t){const e=Pi(t);return!hA()||!e.visualViewport?aX:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function oX(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Pi(t)?!1:e}function Qc(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),a=pA(t);let o=wo(1);e&&(n?Ka(n)&&(o=Od(n)):o=Od(t));const s=oX(a,r,n)?f6(a):wo(0);let l=(i.left+s.x)/o.x,c=(i.top+s.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(a){const h=Pi(a),p=n&&Ka(n)?Pi(n):n;let v=h,m=b2(v);for(;m&&n&&p!==v;){const g=Od(m),y=m.getBoundingClientRect(),x=Xa(m),w=y.left+(m.clientLeft+parseFloat(x.paddingLeft))*g.x,S=y.top+(m.clientTop+parseFloat(x.paddingTop))*g.y;l*=g.x,c*=g.y,d*=g.x,f*=g.y,l+=w,c+=S,v=Pi(m),m=b2(v)}}return $g({width:d,height:f,x:l,y:c})}function mA(t,e){const r=z1(t).scrollLeft;return e?e.left+r:Qc(To(t)).left+r}function h6(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-(r?0:mA(t,n)),a=n.top+e.scrollTop;return{x:i,y:a}}function sX(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const a=i==="fixed",o=To(n),s=e?W1(e.floating):!1;if(n===o||s&&a)return r;let l={scrollLeft:0,scrollTop:0},c=wo(1);const d=wo(0),f=Eo(n);if((f||!f&&!a)&&((Xf(n)!=="body"||ov(o))&&(l=z1(n)),Eo(n))){const p=Qc(n);c=Od(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=o&&!f&&!a?h6(o,l,!0):wo(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:r.y*c.y-l.scrollTop*c.y+d.y+h.y}}function lX(t){return Array.from(t.getClientRects())}function cX(t){const e=To(t),r=z1(t),n=t.ownerDocument.body,i=Si(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=Si(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+mA(t);const s=-r.scrollTop;return Xa(n).direction==="rtl"&&(o+=Si(e.clientWidth,n.clientWidth)-i),{width:i,height:a,x:o,y:s}}function uX(t,e){const r=Pi(t),n=To(t),i=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;const c=hA();(!c||c&&e==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:a,height:o,x:s,y:l}}const dX=new Set(["absolute","fixed"]);function fX(t,e){const r=Qc(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,a=Eo(t)?Od(t):wo(1),o=t.clientWidth*a.x,s=t.clientHeight*a.y,l=i*a.x,c=n*a.y;return{width:o,height:s,x:l,y:c}}function yT(t,e,r){let n;if(e==="viewport")n=uX(t,r);else if(e==="document")n=cX(To(t));else if(Ka(e))n=fX(e,r);else{const i=f6(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return $g(n)}function p6(t,e){const r=$l(t);return r===e||!Ka(r)||tf(r)?!1:Xa(r).position==="fixed"||p6(r,e)}function hX(t,e){const r=e.get(t);if(r)return r;let n=Kp(t,[],!1).filter(s=>Ka(s)&&Xf(s)!=="body"),i=null;const a=Xa(t).position==="fixed";let o=a?$l(t):t;for(;Ka(o)&&!tf(o);){const s=Xa(o),l=fA(o);!l&&s.position==="fixed"&&(i=null),(a?!l&&!i:!l&&s.position==="static"&&!!i&&dX.has(i.position)||ov(o)&&!l&&p6(t,o))?n=n.filter(d=>d!==o):i=s,o=$l(o)}return e.set(t,n),n}function pX(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?W1(e)?[]:hX(e,this._c):[].concat(r),n],s=o[0],l=o.reduce((c,d)=>{const f=yT(e,d,i);return c.top=Si(f.top,c.top),c.right=Ml(f.right,c.right),c.bottom=Ml(f.bottom,c.bottom),c.left=Si(f.left,c.left),c},yT(e,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function mX(t){const{width:e,height:r}=d6(t);return{width:e,height:r}}function vX(t,e,r){const n=Eo(e),i=To(e),a=r==="fixed",o=Qc(t,!0,a,e);let s={scrollLeft:0,scrollTop:0};const l=wo(0);function c(){l.x=mA(i)}if(n||!n&&!a)if((Xf(e)!=="body"||ov(i))&&(s=z1(e)),n){const p=Qc(e,!0,a,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&c();a&&!n&&i&&c();const d=i&&!n&&!a?h6(i,s):wo(0),f=o.left+s.scrollLeft-l.x-d.x,h=o.top+s.scrollTop-l.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function tb(t){return Xa(t).position==="static"}function xT(t,e){if(!Eo(t)||Xa(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return To(t)===r&&(r=r.ownerDocument.body),r}function m6(t,e){const r=Pi(t);if(W1(t))return r;if(!Eo(t)){let i=$l(t);for(;i&&!tf(i);){if(Ka(i)&&!tb(i))return i;i=$l(i)}return r}let n=xT(t,e);for(;n&&QK(n)&&tb(n);)n=xT(n,e);return n&&tf(n)&&tb(n)&&!fA(n)?r:n||nX(t)||r}const gX=async function(t){const e=this.getOffsetParent||m6,r=this.getDimensions,n=await r(t.floating);return{reference:vX(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function yX(t){return Xa(t).direction==="rtl"}const xX={convertOffsetParentRelativeRectToViewportRelativeRect:sX,getDocumentElement:To,getClippingRect:pX,getOffsetParent:m6,getElementRects:gX,getClientRects:lX,getDimensions:mX,getScale:Od,isElement:Ka,isRTL:yX};function v6(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function wX(t,e){let r=null,n;const i=To(t);function a(){var s;clearTimeout(n),(s=r)==null||s.disconnect(),r=null}function o(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),a();const c=t.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=c;if(s||e(),!h||!p)return;const v=u0(f),m=u0(i.clientWidth-(d+h)),g=u0(i.clientHeight-(f+p)),y=u0(d),w={rootMargin:-v+"px "+-m+"px "+-g+"px "+-y+"px",threshold:Si(0,Ml(1,l))||1};let S=!0;function _(C){const E=C[0].intersectionRatio;if(E!==l){if(!S)return o();E?o(!1,E):n=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!v6(c,t.getBoundingClientRect())&&o(),S=!1}try{r=new IntersectionObserver(_,{...w,root:i.ownerDocument})}catch{r=new IntersectionObserver(_,w)}r.observe(t)}return o(!0),a}function bX(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=pA(t),d=i||a?[...c?Kp(c):[],...Kp(e)]:[];d.forEach(y=>{i&&y.addEventListener("scroll",r,{passive:!0}),a&&y.addEventListener("resize",r)});const f=c&&s?wX(c,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(y=>{let[x]=y;x&&x.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(e)})),r()}),c&&!l&&p.observe(c),p.observe(e));let v,m=l?Qc(t):null;l&&g();function g(){const y=Qc(t);m&&!v6(m,y)&&r(),m=y,v=requestAnimationFrame(g)}return r(),()=>{var y;d.forEach(x=>{i&&x.removeEventListener("scroll",r),a&&x.removeEventListener("resize",r)}),f==null||f(),(y=p)==null||y.disconnect(),p=null,l&&cancelAnimationFrame(v)}}const _X=GK,SX=qK,CX=WK,EX=XK,AX=zK,wT=VK,OX=KK,NX=(t,e,r)=>{const n=new Map,i={platform:xX,...r},a={...i.platform,_c:n};return UK(t,e,{...i,platform:a})};var jX=typeof document<"u",TX=function(){},tg=jX?b.useLayoutEffect:TX;function Lg(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Lg(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&t.$$typeof)&&!Lg(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function g6(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function bT(t,e){const r=g6(t);return Math.round(e*r)/r}function rb(t){const e=b.useRef(t);return tg(()=>{e.current=t}),e}function PX(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:o}={},transform:s=!0,whileElementsMounted:l,open:c}=t,[d,f]=b.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=b.useState(n);Lg(h,n)||p(n);const[v,m]=b.useState(null),[g,y]=b.useState(null),x=b.useCallback(j=>{j!==C.current&&(C.current=j,m(j))},[]),w=b.useCallback(j=>{j!==E.current&&(E.current=j,y(j))},[]),S=a||v,_=o||g,C=b.useRef(null),E=b.useRef(null),A=b.useRef(d),O=l!=null,T=rb(l),N=rb(i),P=rb(c),$=b.useCallback(()=>{if(!C.current||!E.current)return;const j={placement:e,strategy:r,middleware:h};N.current&&(j.platform=N.current),NX(C.current,E.current,j).then(R=>{const V={...R,isPositioned:P.current!==!1};D.current&&!Lg(A.current,V)&&(A.current=V,pu.flushSync(()=>{f(V)}))})},[h,e,r,N,P]);tg(()=>{c===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,f(j=>({...j,isPositioned:!1})))},[c]);const D=b.useRef(!1);tg(()=>(D.current=!0,()=>{D.current=!1}),[]),tg(()=>{if(S&&(C.current=S),_&&(E.current=_),S&&_){if(T.current)return T.current(S,_,$);$()}},[S,_,$,T,O]);const F=b.useMemo(()=>({reference:C,floating:E,setReference:x,setFloating:w}),[x,w]),L=b.useMemo(()=>({reference:S,floating:_}),[S,_]),M=b.useMemo(()=>{const j={position:r,left:0,top:0};if(!L.floating)return j;const R=bT(L.floating,d.x),V=bT(L.floating,d.y);return s?{...j,transform:"translate("+R+"px, "+V+"px)",...g6(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:R,top:V}},[r,s,L.floating,d.x,d.y]);return b.useMemo(()=>({...d,update:$,refs:F,elements:L,floatingStyles:M}),[d,$,F,L,M])}const kX=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?wT({element:n.current,padding:i}).fn(r):{}:n?wT({element:n,padding:i}).fn(r):{}}}},IX=(t,e)=>({..._X(t),options:[t,e]}),RX=(t,e)=>({...SX(t),options:[t,e]}),DX=(t,e)=>({...OX(t),options:[t,e]}),MX=(t,e)=>({...CX(t),options:[t,e]}),$X=(t,e)=>({...EX(t),options:[t,e]}),LX=(t,e)=>({...AX(t),options:[t,e]}),FX=(t,e)=>({...kX(t),options:[t,e]});var BX="Arrow",y6=b.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...a}=t;return u.jsx(Pe.svg,{...a,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});y6.displayName=BX;var UX=y6;function vA(t){const[e,r]=b.useState(void 0);return on(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,s;if("borderBoxSize"in a){const l=a.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,s=c.blockSize}else o=t.offsetWidth,s=t.offsetHeight;r({width:o,height:s})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var gA="Popper",[x6,Hl]=vn(gA),[VX,w6]=x6(gA),b6=t=>{const{__scopePopper:e,children:r}=t,[n,i]=b.useState(null);return u.jsx(VX,{scope:e,anchor:n,onAnchorChange:i,children:r})};b6.displayName=gA;var _6="PopperAnchor",S6=b.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,a=w6(_6,r),o=b.useRef(null),s=Ke(e,o);return b.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:u.jsx(Pe.div,{...i,ref:s})});S6.displayName=_6;var yA="PopperContent",[WX,zX]=x6(yA),C6=b.forwardRef((t,e)=>{var J,me,ee,ne,ve,X;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:v,...m}=t,g=w6(yA,r),[y,x]=b.useState(null),w=Ke(e,q=>x(q)),[S,_]=b.useState(null),C=vA(S),E=(C==null?void 0:C.width)??0,A=(C==null?void 0:C.height)??0,O=n+(a!=="center"?"-"+a:""),T=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(c)?c:[c],P=N.length>0,$={padding:T,boundary:N.filter(GX),altBoundary:P},{refs:D,floatingStyles:F,placement:L,isPositioned:M,middlewareData:j}=PX({strategy:"fixed",placement:O,whileElementsMounted:(...q)=>bX(...q,{animationFrame:p==="always"}),elements:{reference:g.anchor},middleware:[IX({mainAxis:i+A,alignmentAxis:o}),l&&RX({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?DX():void 0,...$}),l&&MX({...$}),$X({...$,apply:({elements:q,rects:ie,availableWidth:Ve,availableHeight:it})=>{const{width:St,height:ft}=ie.reference,gr=q.floating.style;gr.setProperty("--radix-popper-available-width",`${Ve}px`),gr.setProperty("--radix-popper-available-height",`${it}px`),gr.setProperty("--radix-popper-anchor-width",`${St}px`),gr.setProperty("--radix-popper-anchor-height",`${ft}px`)}}),S&&FX({element:S,padding:s}),qX({arrowWidth:E,arrowHeight:A}),h&&LX({strategy:"referenceHidden",...$})]}),[R,V]=O6(L),W=Ir(v);on(()=>{M&&(W==null||W())},[M,W]);const z=(J=j.arrow)==null?void 0:J.x,K=(me=j.arrow)==null?void 0:me.y,re=((ee=j.arrow)==null?void 0:ee.centerOffset)!==0,[ue,le]=b.useState();return on(()=>{y&&le(window.getComputedStyle(y).zIndex)},[y]),u.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:M?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ue,"--radix-popper-transform-origin":[(ne=j.transformOrigin)==null?void 0:ne.x,(ve=j.transformOrigin)==null?void 0:ve.y].join(" "),...((X=j.hide)==null?void 0:X.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(WX,{scope:r,placedSide:R,onArrowChange:_,arrowX:z,arrowY:K,shouldHideArrow:re,children:u.jsx(Pe.div,{"data-side":R,"data-align":V,...m,ref:w,style:{...m.style,animation:M?void 0:"none"}})})})});C6.displayName=yA;var E6="PopperArrow",HX={top:"bottom",right:"left",bottom:"top",left:"right"},A6=b.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,a=zX(E6,n),o=HX[a.placedSide];return u.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:u.jsx(UX,{...i,ref:r,style:{...i.style,display:"block"}})})});A6.displayName=E6;function GX(t){return t!==null}var qX=t=>({name:"transformOrigin",options:t,fn(e){var g,y,x;const{placement:r,rects:n,middlewareData:i}=e,o=((g=i.arrow)==null?void 0:g.centerOffset)!==0,s=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=O6(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=i.arrow)==null?void 0:y.x)??0)+s/2,p=(((x=i.arrow)==null?void 0:x.y)??0)+l/2;let v="",m="";return c==="bottom"?(v=o?f:`${h}px`,m=`${-l}px`):c==="top"?(v=o?f:`${h}px`,m=`${n.floating.height+l}px`):c==="right"?(v=`${-l}px`,m=o?f:`${p}px`):c==="left"&&(v=`${n.floating.width+l}px`,m=o?f:`${p}px`),{data:{x:v,y:m}}}});function O6(t){const[e,r="center"]=t.split("-");return[e,r]}var xA=b6,sv=S6,H1=C6,G1=A6,[q1,aMe]=vn("Tooltip",[Hl]),wA=Hl(),N6="TooltipProvider",KX=700,_T="tooltip.open",[XX,j6]=q1(N6),T6=t=>{const{__scopeTooltip:e,delayDuration:r=KX,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=t,o=b.useRef(!0),s=b.useRef(!1),l=b.useRef(0);return b.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),u.jsx(XX,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:b.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:s,onPointerInTransitChange:b.useCallback(c=>{s.current=c},[]),disableHoverableContent:i,children:a})};T6.displayName=N6;var P6="Tooltip",[oMe,K1]=q1(P6),_2="TooltipTrigger",YX=b.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=K1(_2,r),a=j6(_2,r),o=wA(r),s=b.useRef(null),l=Ke(e,s,i.onTriggerChange),c=b.useRef(!1),d=b.useRef(!1),f=b.useCallback(()=>c.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),u.jsx(sv,{asChild:!0,...o,children:u.jsx(Pe.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:l,onPointerMove:ae(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:ae(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:ae(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ae(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:ae(t.onBlur,i.onClose),onClick:ae(t.onClick,i.onClose)})})});YX.displayName=_2;var ZX="TooltipPortal",[sMe,QX]=q1(ZX,{forceMount:void 0}),rf="TooltipContent",k6=b.forwardRef((t,e)=>{const r=QX(rf,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=t,o=K1(rf,t.__scopeTooltip);return u.jsx(sn,{present:n||o.open,children:o.disableHoverableContent?u.jsx(I6,{side:i,...a,ref:e}):u.jsx(JX,{side:i,...a,ref:e})})}),JX=b.forwardRef((t,e)=>{const r=K1(rf,t.__scopeTooltip),n=j6(rf,t.__scopeTooltip),i=b.useRef(null),a=Ke(e,i),[o,s]=b.useState(null),{trigger:l,onClose:c}=r,d=i.current,{onPointerInTransitChange:f}=n,h=b.useCallback(()=>{s(null),f(!1)},[f]),p=b.useCallback((v,m)=>{const g=v.currentTarget,y={x:v.clientX,y:v.clientY},x=iY(y,g.getBoundingClientRect()),w=aY(y,x),S=oY(m.getBoundingClientRect()),_=lY([...w,...S]);s(_),f(!0)},[f]);return b.useEffect(()=>()=>h(),[h]),b.useEffect(()=>{if(l&&d){const v=g=>p(g,d),m=g=>p(g,l);return l.addEventListener("pointerleave",v),d.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",m)}}},[l,d,p,h]),b.useEffect(()=>{if(o){const v=m=>{const g=m.target,y={x:m.clientX,y:m.clientY},x=(l==null?void 0:l.contains(g))||(d==null?void 0:d.contains(g)),w=!sY(y,o);x?h():w&&(h(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,d,o,c,h]),u.jsx(I6,{...t,ref:a})}),[eY,tY]=q1(P6,{isInside:!1}),rY=vM("TooltipContent"),I6=b.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...s}=t,l=K1(rf,r),c=wA(r),{onClose:d}=l;return b.useEffect(()=>(document.addEventListener(_T,d),()=>document.removeEventListener(_T,d)),[d]),b.useEffect(()=>{if(l.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),u.jsx(mu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:u.jsxs(H1,{"data-state":l.stateAttribute,...c,...s,ref:e,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(rY,{children:n}),u.jsx(eY,{scope:r,isInside:!0,children:u.jsx(OG,{id:l.contentId,role:"tooltip",children:i||n})})]})})});k6.displayName=rf;var R6="TooltipArrow",nY=b.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=wA(r);return tY(R6,r).isInside?null:u.jsx(G1,{...i,...n,ref:e})});nY.displayName=R6;function iY(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function aY(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function oY(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function sY(t,e){const{x:r,y:n}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const s=e[a],l=e[o],c=s.x,d=s.y,f=l.x,h=l.y;d>n!=h>n&&r<(f-c)*(n-d)/(h-d)+c&&(i=!i)}return i}function lY(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),cY(e)}function cY(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var uY=T6,D6=k6;const dY=uY,fY=b.forwardRef(({className:t,sideOffset:e=4,...r},n)=>u.jsx(D6,{ref:n,sideOffset:e,className:he("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));fY.displayName=D6.displayName;var Yf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Jc=typeof window>"u"||"Deno"in globalThis;function Un(){}function hY(t,e){return typeof t=="function"?t(e):t}function S2(t){return typeof t=="number"&&t>=0&&t!==1/0}function M6(t,e){return Math.max(t+(e||0)-Date.now(),0)}function El(t,e){return typeof t=="function"?t(e):t}function Qi(t,e){return typeof t=="function"?t(e):t}function ST(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:o,stale:s}=t;if(o){if(n){if(e.queryHash!==bA(o,e.options))return!1}else if(!Xp(e.queryKey,o))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof s=="boolean"&&e.isStale()!==s||i&&i!==e.state.fetchStatus||a&&!a(e))}function CT(t,e){const{exact:r,status:n,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(eu(e.options.mutationKey)!==eu(a))return!1}else if(!Xp(e.options.mutationKey,a))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function bA(t,e){return((e==null?void 0:e.queryKeyHashFn)||eu)(t)}function eu(t){return JSON.stringify(t,(e,r)=>C2(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Xp(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>Xp(t[r],e[r])):!1}function $6(t,e){if(t===e)return t;const r=ET(t)&&ET(e);if(r||C2(t)&&C2(e)){const n=r?t:Object.keys(t),i=n.length,a=r?e:Object.keys(e),o=a.length,s=r?[]:{},l=new Set(n);let c=0;for(let d=0;d<o;d++){const f=r?d:a[d];(!r&&l.has(f)||r)&&t[f]===void 0&&e[f]===void 0?(s[f]=void 0,c++):(s[f]=$6(t[f],e[f]),s[f]===t[f]&&t[f]!==void 0&&c++)}return i===o&&c===i?t:s}return e}function Fg(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function ET(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function C2(t){if(!AT(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!AT(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function AT(t){return Object.prototype.toString.call(t)==="[object Object]"}function pY(t){return new Promise(e=>{setTimeout(e,t)})}function E2(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?$6(t,e):e}function mY(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function vY(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var _A=Symbol();function L6(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===_A?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function F6(t,e){return typeof t=="function"?t(...e):!!t}var Tc,rl,Dd,zR,gY=(zR=class extends Yf{constructor(){super();Fe(this,Tc);Fe(this,rl);Fe(this,Dd);Ae(this,Dd,e=>{if(!Jc&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){U(this,rl)||this.setEventListener(U(this,Dd))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,rl))==null||e.call(this),Ae(this,rl,void 0))}setEventListener(e){var r;Ae(this,Dd,e),(r=U(this,rl))==null||r.call(this),Ae(this,rl,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){U(this,Tc)!==e&&(Ae(this,Tc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof U(this,Tc)=="boolean"?U(this,Tc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Tc=new WeakMap,rl=new WeakMap,Dd=new WeakMap,zR),SA=new gY,Md,nl,$d,HR,yY=(HR=class extends Yf{constructor(){super();Fe(this,Md,!0);Fe(this,nl);Fe(this,$d);Ae(this,$d,e=>{if(!Jc&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){U(this,nl)||this.setEventListener(U(this,$d))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,nl))==null||e.call(this),Ae(this,nl,void 0))}setEventListener(e){var r;Ae(this,$d,e),(r=U(this,nl))==null||r.call(this),Ae(this,nl,e(this.setOnline.bind(this)))}setOnline(e){U(this,Md)!==e&&(Ae(this,Md,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return U(this,Md)}},Md=new WeakMap,nl=new WeakMap,$d=new WeakMap,HR),Bg=new yY;function A2(){let t,e;const r=new Promise((i,a)=>{t=i,e=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}function xY(t){return Math.min(1e3*2**t,3e4)}function B6(t){return(t??"online")==="online"?Bg.isOnline():!0}var U6=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function nb(t){return t instanceof U6}function V6(t){let e=!1,r=0,n=!1,i;const a=A2(),o=m=>{var g;n||(h(new U6(m)),(g=t.abort)==null||g.call(t))},s=()=>{e=!0},l=()=>{e=!1},c=()=>SA.isFocused()&&(t.networkMode==="always"||Bg.isOnline())&&t.canRun(),d=()=>B6(t.networkMode)&&t.canRun(),f=m=>{var g;n||(n=!0,(g=t.onSuccess)==null||g.call(t,m),i==null||i(),a.resolve(m))},h=m=>{var g;n||(n=!0,(g=t.onError)==null||g.call(t,m),i==null||i(),a.reject(m))},p=()=>new Promise(m=>{var g;i=y=>{(n||c())&&m(y)},(g=t.onPause)==null||g.call(t)}).then(()=>{var m;i=void 0,n||(m=t.onContinue)==null||m.call(t)}),v=()=>{if(n)return;let m;const g=r===0?t.initialPromise:void 0;try{m=g??t.fn()}catch(y){m=Promise.reject(y)}Promise.resolve(m).then(f).catch(y=>{var C;if(n)return;const x=t.retry??(Jc?0:3),w=t.retryDelay??xY,S=typeof w=="function"?w(r,y):w,_=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,y);if(e||!_){h(y);return}r++,(C=t.onFail)==null||C.call(t,r,y),pY(S).then(()=>c()?void 0:p()).then(()=>{e?h(y):v()})})};return{promise:a,cancel:o,continue:()=>(i==null||i(),a),cancelRetry:s,continueRetry:l,canStart:d,start:()=>(d()?v():p().then(v),a)}}var wY=t=>setTimeout(t,0);function bY(){let t=[],e=0,r=s=>{s()},n=s=>{s()},i=wY;const a=s=>{e?t.push(s):i(()=>{r(s)})},o=()=>{const s=t;t=[],s.length&&i(()=>{n(()=>{s.forEach(l=>{r(l)})})})};return{batch:s=>{let l;e++;try{l=s()}finally{e--,e||o()}return l},batchCalls:s=>(...l)=>{a(()=>{s(...l)})},schedule:a,setNotifyFunction:s=>{r=s},setBatchNotifyFunction:s=>{n=s},setScheduler:s=>{i=s}}}var Zr=bY(),Pc,GR,W6=(GR=class{constructor(){Fe(this,Pc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),S2(this.gcTime)&&Ae(this,Pc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Jc?1/0:5*60*1e3))}clearGcTimeout(){U(this,Pc)&&(clearTimeout(U(this,Pc)),Ae(this,Pc,void 0))}},Pc=new WeakMap,GR),Ld,kc,Zi,Ic,Tn,Gm,Rc,Ta,Wo,qR,_Y=(qR=class extends W6{constructor(e){super();Fe(this,Ta);Fe(this,Ld);Fe(this,kc);Fe(this,Zi);Fe(this,Ic);Fe(this,Tn);Fe(this,Gm);Fe(this,Rc);Ae(this,Rc,!1),Ae(this,Gm,e.defaultOptions),this.setOptions(e.options),this.observers=[],Ae(this,Ic,e.client),Ae(this,Zi,U(this,Ic).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ae(this,Ld,SY(this.options)),this.state=e.state??U(this,Ld),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=U(this,Tn))==null?void 0:e.promise}setOptions(e){this.options={...U(this,Gm),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,Zi).remove(this)}setData(e,r){const n=E2(this.state.data,e,this.options);return rt(this,Ta,Wo).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){rt(this,Ta,Wo).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=U(this,Tn))==null?void 0:n.promise;return(i=U(this,Tn))==null||i.cancel(e),r?r.then(Un).catch(Un):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,Ld))}isActive(){return this.observers.some(e=>Qi(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===_A||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>El(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!M6(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=U(this,Tn))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=U(this,Tn))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),U(this,Zi).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(U(this,Tn)&&(U(this,Rc)?U(this,Tn).cancel({revert:!0}):U(this,Tn).cancelRetry()),this.scheduleGc()),U(this,Zi).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||rt(this,Ta,Wo).call(this,{type:"invalidate"})}fetch(e,r){var c,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(U(this,Tn))return U(this,Tn).continueRetry(),U(this,Tn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Ae(this,Rc,!0),n.signal)})},a=()=>{const h=L6(this.options,r),v=(()=>{const m={client:U(this,Ic),queryKey:this.queryKey,meta:this.meta};return i(m),m})();return Ae(this,Rc,!1),this.options.persister?this.options.persister(h,v,this):h(v)},s=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:U(this,Ic),state:this.state,fetchFn:a};return i(h),h})();(c=this.options.behavior)==null||c.onFetch(s,this),Ae(this,kc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=s.fetchOptions)==null?void 0:d.meta))&&rt(this,Ta,Wo).call(this,{type:"fetch",meta:(f=s.fetchOptions)==null?void 0:f.meta});const l=h=>{var p,v,m,g;nb(h)&&h.silent||rt(this,Ta,Wo).call(this,{type:"error",error:h}),nb(h)||((v=(p=U(this,Zi).config).onError)==null||v.call(p,h,this),(g=(m=U(this,Zi).config).onSettled)==null||g.call(m,this.state.data,h,this)),this.scheduleGc()};return Ae(this,Tn,V6({initialPromise:r==null?void 0:r.initialPromise,fn:s.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var p,v,m,g;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(y){l(y);return}(v=(p=U(this,Zi).config).onSuccess)==null||v.call(p,h,this),(g=(m=U(this,Zi).config).onSettled)==null||g.call(m,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,p)=>{rt(this,Ta,Wo).call(this,{type:"failed",failureCount:h,error:p})},onPause:()=>{rt(this,Ta,Wo).call(this,{type:"pause"})},onContinue:()=>{rt(this,Ta,Wo).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),U(this,Tn).start()}},Ld=new WeakMap,kc=new WeakMap,Zi=new WeakMap,Ic=new WeakMap,Tn=new WeakMap,Gm=new WeakMap,Rc=new WeakMap,Ta=new WeakSet,Wo=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...z6(n.data,this.options),fetchMeta:e.meta??null};case"success":return Ae(this,kc,void 0),{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return nb(i)&&i.revert&&U(this,kc)?{...U(this,kc),fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Zr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),U(this,Zi).notify({query:this,type:"updated",action:e})})},qR);function z6(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:B6(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function SY(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var so,KR,CY=(KR=class extends Yf{constructor(e={}){super();Fe(this,so);this.config=e,Ae(this,so,new Map)}build(e,r,n){const i=r.queryKey,a=r.queryHash??bA(i,r);let o=this.get(a);return o||(o=new _Y({client:e,queryKey:i,queryHash:a,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){U(this,so).has(e.queryHash)||(U(this,so).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=U(this,so).get(e.queryHash);r&&(e.destroy(),r===e&&U(this,so).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Zr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return U(this,so).get(e)}getAll(){return[...U(this,so).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>ST(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>ST(e,n)):r}notify(e){Zr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Zr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Zr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},so=new WeakMap,KR),lo,Ln,Dc,co,Hs,XR,EY=(XR=class extends W6{constructor(e){super();Fe(this,co);Fe(this,lo);Fe(this,Ln);Fe(this,Dc);this.mutationId=e.mutationId,Ae(this,Ln,e.mutationCache),Ae(this,lo,[]),this.state=e.state||H6(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){U(this,lo).includes(e)||(U(this,lo).push(e),this.clearGcTimeout(),U(this,Ln).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ae(this,lo,U(this,lo).filter(r=>r!==e)),this.scheduleGc(),U(this,Ln).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){U(this,lo).length||(this.state.status==="pending"?this.scheduleGc():U(this,Ln).remove(this))}continue(){var e;return((e=U(this,Dc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,o,s,l,c,d,f,h,p,v,m,g,y,x,w,S,_,C,E,A;const r=()=>{rt(this,co,Hs).call(this,{type:"continue"})};Ae(this,Dc,V6({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(O,T)=>{rt(this,co,Hs).call(this,{type:"failed",failureCount:O,error:T})},onPause:()=>{rt(this,co,Hs).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Ln).canRun(this)}));const n=this.state.status==="pending",i=!U(this,Dc).canStart();try{if(n)r();else{rt(this,co,Hs).call(this,{type:"pending",variables:e,isPaused:i}),await((o=(a=U(this,Ln).config).onMutate)==null?void 0:o.call(a,e,this));const T=await((l=(s=this.options).onMutate)==null?void 0:l.call(s,e));T!==this.state.context&&rt(this,co,Hs).call(this,{type:"pending",context:T,variables:e,isPaused:i})}const O=await U(this,Dc).start();return await((d=(c=U(this,Ln).config).onSuccess)==null?void 0:d.call(c,O,e,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,O,e,this.state.context)),await((v=(p=U(this,Ln).config).onSettled)==null?void 0:v.call(p,O,null,this.state.variables,this.state.context,this)),await((g=(m=this.options).onSettled)==null?void 0:g.call(m,O,null,e,this.state.context)),rt(this,co,Hs).call(this,{type:"success",data:O}),O}catch(O){try{throw await((x=(y=U(this,Ln).config).onError)==null?void 0:x.call(y,O,e,this.state.context,this)),await((S=(w=this.options).onError)==null?void 0:S.call(w,O,e,this.state.context)),await((C=(_=U(this,Ln).config).onSettled)==null?void 0:C.call(_,void 0,O,this.state.variables,this.state.context,this)),await((A=(E=this.options).onSettled)==null?void 0:A.call(E,void 0,O,e,this.state.context)),O}finally{rt(this,co,Hs).call(this,{type:"error",error:O})}}finally{U(this,Ln).runNext(this)}}},lo=new WeakMap,Ln=new WeakMap,Dc=new WeakMap,co=new WeakSet,Hs=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Zr.batch(()=>{U(this,lo).forEach(n=>{n.onMutationUpdate(e)}),U(this,Ln).notify({mutation:this,type:"updated",action:e})})},XR);function H6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Zo,Pa,qm,YR,AY=(YR=class extends Yf{constructor(e={}){super();Fe(this,Zo);Fe(this,Pa);Fe(this,qm);this.config=e,Ae(this,Zo,new Set),Ae(this,Pa,new Map),Ae(this,qm,0)}build(e,r,n){const i=new EY({mutationCache:this,mutationId:++Vv(this,qm)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){U(this,Zo).add(e);const r=d0(e);if(typeof r=="string"){const n=U(this,Pa).get(r);n?n.push(e):U(this,Pa).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(U(this,Zo).delete(e)){const r=d0(e);if(typeof r=="string"){const n=U(this,Pa).get(r);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&U(this,Pa).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=d0(e);if(typeof r=="string"){const n=U(this,Pa).get(r),i=n==null?void 0:n.find(a=>a.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const r=d0(e);if(typeof r=="string"){const i=(n=U(this,Pa).get(r))==null?void 0:n.find(a=>a!==e&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Zr.batch(()=>{U(this,Zo).forEach(e=>{this.notify({type:"removed",mutation:e})}),U(this,Zo).clear(),U(this,Pa).clear()})}getAll(){return Array.from(U(this,Zo))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>CT(r,n))}findAll(e={}){return this.getAll().filter(r=>CT(e,r))}notify(e){Zr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Zr.batch(()=>Promise.all(e.map(r=>r.continue().catch(Un))))}},Zo=new WeakMap,Pa=new WeakMap,qm=new WeakMap,YR);function d0(t){var e;return(e=t.options.scope)==null?void 0:e.id}function OT(t){return{onFetch:(e,r)=>{var d,f,h,p,v;const n=e.options,i=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,a=((p=e.state.data)==null?void 0:p.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let s={pages:[],pageParams:[]},l=0;const c=async()=>{let m=!1;const g=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},y=L6(e.options,e.fetchOptions),x=async(w,S,_)=>{if(m)return Promise.reject();if(S==null&&w.pages.length)return Promise.resolve(w);const E=(()=>{const N={client:e.client,queryKey:e.queryKey,pageParam:S,direction:_?"backward":"forward",meta:e.options.meta};return g(N),N})(),A=await y(E),{maxPages:O}=e.options,T=_?vY:mY;return{pages:T(w.pages,A,O),pageParams:T(w.pageParams,S,O)}};if(i&&a.length){const w=i==="backward",S=w?OY:NT,_={pages:a,pageParams:o},C=S(n,_);s=await x(_,C,w)}else{const w=t??a.length;do{const S=l===0?o[0]??n.initialPageParam:NT(n,s);if(l>0&&S==null)break;s=await x(s,S),l++}while(l<w)}return s};e.options.persister?e.fetchFn=()=>{var m,g;return(g=(m=e.options).persister)==null?void 0:g.call(m,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=c}}}function NT(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function OY(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Er,il,al,Fd,Bd,ol,Ud,Vd,ZR,NY=(ZR=class{constructor(t={}){Fe(this,Er);Fe(this,il);Fe(this,al);Fe(this,Fd);Fe(this,Bd);Fe(this,ol);Fe(this,Ud);Fe(this,Vd);Ae(this,Er,t.queryCache||new CY),Ae(this,il,t.mutationCache||new AY),Ae(this,al,t.defaultOptions||{}),Ae(this,Fd,new Map),Ae(this,Bd,new Map),Ae(this,ol,0)}mount(){Vv(this,ol)._++,U(this,ol)===1&&(Ae(this,Ud,SA.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,Er).onFocus())})),Ae(this,Vd,Bg.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,Er).onOnline())})))}unmount(){var t,e;Vv(this,ol)._--,U(this,ol)===0&&((t=U(this,Ud))==null||t.call(this),Ae(this,Ud,void 0),(e=U(this,Vd))==null||e.call(this),Ae(this,Vd,void 0))}isFetching(t){return U(this,Er).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return U(this,il).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=U(this,Er).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=U(this,Er).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(El(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return U(this,Er).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=U(this,Er).get(n.queryHash),a=i==null?void 0:i.state.data,o=hY(e,a);if(o!==void 0)return U(this,Er).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return Zr.batch(()=>U(this,Er).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=U(this,Er).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=U(this,Er);Zr.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=U(this,Er);return Zr.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=Zr.batch(()=>U(this,Er).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Un).catch(Un)}invalidateQueries(t,e={}){return Zr.batch(()=>(U(this,Er).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=Zr.batch(()=>U(this,Er).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(Un)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Un)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=U(this,Er).build(this,e);return r.isStaleByTime(El(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Un).catch(Un)}fetchInfiniteQuery(t){return t.behavior=OT(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Un).catch(Un)}ensureInfiniteQueryData(t){return t.behavior=OT(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Bg.isOnline()?U(this,il).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,Er)}getMutationCache(){return U(this,il)}getDefaultOptions(){return U(this,al)}setDefaultOptions(t){Ae(this,al,t)}setQueryDefaults(t,e){U(this,Fd).set(eu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...U(this,Fd).values()],r={};return e.forEach(n=>{Xp(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){U(this,Bd).set(eu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...U(this,Bd).values()],r={};return e.forEach(n=>{Xp(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...U(this,al).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=bA(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===_A&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...U(this,al).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){U(this,Er).clear(),U(this,il).clear()}},Er=new WeakMap,il=new WeakMap,al=new WeakMap,Fd=new WeakMap,Bd=new WeakMap,ol=new WeakMap,Ud=new WeakMap,Vd=new WeakMap,ZR),Jn,ut,Km,Fn,Mc,Wd,sl,ll,Xm,zd,Hd,$c,Lc,cl,Gd,Nt,Zh,O2,N2,j2,T2,P2,k2,I2,G6,QR,jY=(QR=class extends Yf{constructor(e,r){super();Fe(this,Nt);Fe(this,Jn);Fe(this,ut);Fe(this,Km);Fe(this,Fn);Fe(this,Mc);Fe(this,Wd);Fe(this,sl);Fe(this,ll);Fe(this,Xm);Fe(this,zd);Fe(this,Hd);Fe(this,$c);Fe(this,Lc);Fe(this,cl);Fe(this,Gd,new Set);this.options=r,Ae(this,Jn,e),Ae(this,ll,null),Ae(this,sl,A2()),this.options.experimental_prefetchInRender||U(this,sl).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(U(this,ut).addObserver(this),jT(U(this,ut),this.options)?rt(this,Nt,Zh).call(this):this.updateResult(),rt(this,Nt,T2).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return R2(U(this,ut),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return R2(U(this,ut),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,rt(this,Nt,P2).call(this),rt(this,Nt,k2).call(this),U(this,ut).removeObserver(this)}setOptions(e){const r=this.options,n=U(this,ut);if(this.options=U(this,Jn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Qi(this.options.enabled,U(this,ut))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");rt(this,Nt,I2).call(this),U(this,ut).setOptions(this.options),r._defaulted&&!Fg(this.options,r)&&U(this,Jn).getQueryCache().notify({type:"observerOptionsUpdated",query:U(this,ut),observer:this});const i=this.hasListeners();i&&TT(U(this,ut),n,this.options,r)&&rt(this,Nt,Zh).call(this),this.updateResult(),i&&(U(this,ut)!==n||Qi(this.options.enabled,U(this,ut))!==Qi(r.enabled,U(this,ut))||El(this.options.staleTime,U(this,ut))!==El(r.staleTime,U(this,ut)))&&rt(this,Nt,O2).call(this);const a=rt(this,Nt,N2).call(this);i&&(U(this,ut)!==n||Qi(this.options.enabled,U(this,ut))!==Qi(r.enabled,U(this,ut))||a!==U(this,cl))&&rt(this,Nt,j2).call(this,a)}getOptimisticResult(e){const r=U(this,Jn).getQueryCache().build(U(this,Jn),e),n=this.createResult(r,e);return PY(this,n)&&(Ae(this,Fn,n),Ae(this,Wd,this.options),Ae(this,Mc,U(this,ut).state)),n}getCurrentResult(){return U(this,Fn)}trackResult(e,r){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),r==null||r(i),Reflect.get(n,i))})}trackProp(e){U(this,Gd).add(e)}getCurrentQuery(){return U(this,ut)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=U(this,Jn).defaultQueryOptions(e),n=U(this,Jn).getQueryCache().build(U(this,Jn),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return rt(this,Nt,Zh).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),U(this,Fn)))}createResult(e,r){var O;const n=U(this,ut),i=this.options,a=U(this,Fn),o=U(this,Mc),s=U(this,Wd),c=e!==n?e.state:U(this,Km),{state:d}=e;let f={...d},h=!1,p;if(r._optimisticResults){const T=this.hasListeners(),N=!T&&jT(e,r),P=T&&TT(e,n,r,i);(N||P)&&(f={...f,...z6(d.data,e.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:m,status:g}=f;p=f.data;let y=!1;if(r.placeholderData!==void 0&&p===void 0&&g==="pending"){let T;a!=null&&a.isPlaceholderData&&r.placeholderData===(s==null?void 0:s.placeholderData)?(T=a.data,y=!0):T=typeof r.placeholderData=="function"?r.placeholderData((O=U(this,Hd))==null?void 0:O.state.data,U(this,Hd)):r.placeholderData,T!==void 0&&(g="success",p=E2(a==null?void 0:a.data,T,r),h=!0)}if(r.select&&p!==void 0&&!y)if(a&&p===(o==null?void 0:o.data)&&r.select===U(this,Xm))p=U(this,zd);else try{Ae(this,Xm,r.select),p=r.select(p),p=E2(a==null?void 0:a.data,p,r),Ae(this,zd,p),Ae(this,ll,null)}catch(T){Ae(this,ll,T)}U(this,ll)&&(v=U(this,ll),p=U(this,zd),m=Date.now(),g="error");const x=f.fetchStatus==="fetching",w=g==="pending",S=g==="error",_=w&&x,C=p!==void 0,A={status:g,fetchStatus:f.fetchStatus,isPending:w,isSuccess:g==="success",isError:S,isInitialLoading:_,isLoading:_,data:p,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:m,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:x,isRefetching:x&&!w,isLoadingError:S&&!C,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:S&&C,isStale:CA(e,r),refetch:this.refetch,promise:U(this,sl),isEnabled:Qi(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const T=$=>{A.status==="error"?$.reject(A.error):A.data!==void 0&&$.resolve(A.data)},N=()=>{const $=Ae(this,sl,A.promise=A2());T($)},P=U(this,sl);switch(P.status){case"pending":e.queryHash===n.queryHash&&T(P);break;case"fulfilled":(A.status==="error"||A.data!==P.value)&&N();break;case"rejected":(A.status!=="error"||A.error!==P.reason)&&N();break}}return A}updateResult(){const e=U(this,Fn),r=this.createResult(U(this,ut),this.options);if(Ae(this,Mc,U(this,ut).state),Ae(this,Wd,this.options),U(this,Mc).data!==void 0&&Ae(this,Hd,U(this,ut)),Fg(r,e))return;Ae(this,Fn,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!U(this,Gd).size)return!0;const o=new Set(a??U(this,Gd));return this.options.throwOnError&&o.add("error"),Object.keys(U(this,Fn)).some(s=>{const l=s;return U(this,Fn)[l]!==e[l]&&o.has(l)})};rt(this,Nt,G6).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&rt(this,Nt,T2).call(this)}},Jn=new WeakMap,ut=new WeakMap,Km=new WeakMap,Fn=new WeakMap,Mc=new WeakMap,Wd=new WeakMap,sl=new WeakMap,ll=new WeakMap,Xm=new WeakMap,zd=new WeakMap,Hd=new WeakMap,$c=new WeakMap,Lc=new WeakMap,cl=new WeakMap,Gd=new WeakMap,Nt=new WeakSet,Zh=function(e){rt(this,Nt,I2).call(this);let r=U(this,ut).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Un)),r},O2=function(){rt(this,Nt,P2).call(this);const e=El(this.options.staleTime,U(this,ut));if(Jc||U(this,Fn).isStale||!S2(e))return;const n=M6(U(this,Fn).dataUpdatedAt,e)+1;Ae(this,$c,setTimeout(()=>{U(this,Fn).isStale||this.updateResult()},n))},N2=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(U(this,ut)):this.options.refetchInterval)??!1},j2=function(e){rt(this,Nt,k2).call(this),Ae(this,cl,e),!(Jc||Qi(this.options.enabled,U(this,ut))===!1||!S2(U(this,cl))||U(this,cl)===0)&&Ae(this,Lc,setInterval(()=>{(this.options.refetchIntervalInBackground||SA.isFocused())&&rt(this,Nt,Zh).call(this)},U(this,cl)))},T2=function(){rt(this,Nt,O2).call(this),rt(this,Nt,j2).call(this,rt(this,Nt,N2).call(this))},P2=function(){U(this,$c)&&(clearTimeout(U(this,$c)),Ae(this,$c,void 0))},k2=function(){U(this,Lc)&&(clearInterval(U(this,Lc)),Ae(this,Lc,void 0))},I2=function(){const e=U(this,Jn).getQueryCache().build(U(this,Jn),this.options);if(e===U(this,ut))return;const r=U(this,ut);Ae(this,ut,e),Ae(this,Km,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},G6=function(e){Zr.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(U(this,Fn))}),U(this,Jn).getQueryCache().notify({query:U(this,ut),type:"observerResultsUpdated"})})},QR);function TY(t,e){return Qi(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function jT(t,e){return TY(t,e)||t.state.data!==void 0&&R2(t,e,e.refetchOnMount)}function R2(t,e,r){if(Qi(e.enabled,t)!==!1&&El(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&CA(t,e)}return!1}function TT(t,e,r,n){return(t!==e||Qi(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&CA(t,r)}function CA(t,e){return Qi(e.enabled,t)!==!1&&t.isStaleByTime(El(e.staleTime,t))}function PY(t,e){return!Fg(t.getCurrentResult(),e)}var ul,dl,ei,Qo,us,rg,D2,JR,kY=(JR=class extends Yf{constructor(r,n){super();Fe(this,us);Fe(this,ul);Fe(this,dl);Fe(this,ei);Fe(this,Qo);Ae(this,ul,r),this.setOptions(n),this.bindMethods(),rt(this,us,rg).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const n=this.options;this.options=U(this,ul).defaultMutationOptions(r),Fg(this.options,n)||U(this,ul).getMutationCache().notify({type:"observerOptionsUpdated",mutation:U(this,ei),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&eu(n.mutationKey)!==eu(this.options.mutationKey)?this.reset():((i=U(this,ei))==null?void 0:i.state.status)==="pending"&&U(this,ei).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=U(this,ei))==null||r.removeObserver(this)}onMutationUpdate(r){rt(this,us,rg).call(this),rt(this,us,D2).call(this,r)}getCurrentResult(){return U(this,dl)}reset(){var r;(r=U(this,ei))==null||r.removeObserver(this),Ae(this,ei,void 0),rt(this,us,rg).call(this),rt(this,us,D2).call(this)}mutate(r,n){var i;return Ae(this,Qo,n),(i=U(this,ei))==null||i.removeObserver(this),Ae(this,ei,U(this,ul).getMutationCache().build(U(this,ul),this.options)),U(this,ei).addObserver(this),U(this,ei).execute(r)}},ul=new WeakMap,dl=new WeakMap,ei=new WeakMap,Qo=new WeakMap,us=new WeakSet,rg=function(){var n;const r=((n=U(this,ei))==null?void 0:n.state)??H6();Ae(this,dl,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},D2=function(r){Zr.batch(()=>{var n,i,a,o,s,l,c,d;if(U(this,Qo)&&this.hasListeners()){const f=U(this,dl).variables,h=U(this,dl).context;(r==null?void 0:r.type)==="success"?((i=(n=U(this,Qo)).onSuccess)==null||i.call(n,r.data,f,h),(o=(a=U(this,Qo)).onSettled)==null||o.call(a,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((l=(s=U(this,Qo)).onError)==null||l.call(s,r.error,f,h),(d=(c=U(this,Qo)).onSettled)==null||d.call(c,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(U(this,dl))})})},JR),q6=b.createContext(void 0),pi=t=>{const e=b.useContext(q6);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},IY=({client:t,children:e})=>(b.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(q6.Provider,{value:t,children:e})),K6=b.createContext(!1),RY=()=>b.useContext(K6);K6.Provider;function DY(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var MY=b.createContext(DY()),$Y=()=>b.useContext(MY),LY=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},FY=t=>{b.useEffect(()=>{t.clearReset()},[t])},BY=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||F6(r,[t.error,n])),UY=t=>{if(t.suspense){const e=n=>n==="static"?n:Math.max(n??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...n)=>e(r(...n)):e(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},VY=(t,e)=>t.isLoading&&t.isFetching&&!e,WY=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,PT=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function zY(t,e,r){var f,h,p,v,m;const n=RY(),i=$Y(),a=pi(),o=a.defaultQueryOptions(t);(h=(f=a.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,o),o._optimisticResults=n?"isRestoring":"optimistic",UY(o),LY(o,i),FY(i);const s=!a.getQueryCache().get(o.queryHash),[l]=b.useState(()=>new e(a,o)),c=l.getOptimisticResult(o),d=!n&&t.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(g=>{const y=d?l.subscribe(Zr.batchCalls(g)):Un;return l.updateResult(),y},[l,d]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),b.useEffect(()=>{l.setOptions(o)},[o,l]),WY(o,c))throw PT(o,l,i);if(BY({result:c,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;if((v=(p=a.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||v.call(p,o,c),o.experimental_prefetchInRender&&!Jc&&VY(c,n)){const g=s?PT(o,l,i):(m=a.getQueryCache().get(o.queryHash))==null?void 0:m.promise;g==null||g.catch(Un).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?c:l.trackResult(c)}function Wi(t,e){return zY(t,jY)}function dt(t,e){const r=pi(),[n]=b.useState(()=>new kY(r,t));b.useEffect(()=>{n.setOptions(t)},[n,t]);const i=b.useSyncExternalStore(b.useCallback(o=>n.subscribe(Zr.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=b.useCallback((o,s)=>{n.mutate(o,s).catch(Un)},[n]);if(i.error&&F6(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yp(){return Yp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yp.apply(this,arguments)}var pl;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(pl||(pl={}));const kT="popstate";function HY(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:o,hash:s}=n.location;return M2("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Ug(i)}return qY(e,r,null,t)}function Br(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function X6(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GY(){return Math.random().toString(36).substr(2,8)}function IT(t,e){return{usr:t.state,key:t.key,idx:e}}function M2(t,e,r,n){return r===void 0&&(r=null),Yp({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Zf(e):e,{state:r,key:e&&e.key||n||GY()})}function Ug(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Zf(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function qY(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,s=pl.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Yp({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){s=pl.Pop;let g=d(),y=g==null?null:g-c;c=g,l&&l({action:s,location:m.location,delta:y})}function h(g,y){s=pl.Push;let x=M2(m.location,g,y);c=d()+1;let w=IT(x,c),S=m.createHref(x);try{o.pushState(w,"",S)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(S)}a&&l&&l({action:s,location:m.location,delta:1})}function p(g,y){s=pl.Replace;let x=M2(m.location,g,y);c=d();let w=IT(x,c),S=m.createHref(x);o.replaceState(w,"",S),a&&l&&l({action:s,location:m.location,delta:0})}function v(g){let y=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof g=="string"?g:Ug(g);return x=x.replace(/ $/,"%20"),Br(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let m={get action(){return s},get location(){return t(i,o)},listen(g){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(kT,f),l=g,()=>{i.removeEventListener(kT,f),l=null}},createHref(g){return e(i,g)},createURL:v,encodeLocation(g){let y=v(g);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(g){return o.go(g)}};return m}var RT;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(RT||(RT={}));function KY(t,e,r){return r===void 0&&(r="/"),XY(t,e,r,!1)}function XY(t,e,r,n){let i=typeof e=="string"?Zf(e):e,a=EA(i.pathname||"/",r);if(a==null)return null;let o=Y6(t);YY(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let c=sZ(a);s=aZ(o[l],c,n)}return s}function Y6(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(Br(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Al([n,l.relativePath]),d=r.concat(l);a.children&&a.children.length>0&&(Br(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Y6(a.children,e,d,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:nZ(c,a.index),routesMeta:d})};return t.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of Z6(a.path))i(a,o,l)}),e}function Z6(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=Z6(n.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function YY(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:iZ(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const ZY=/^:[\w-]+$/,QY=3,JY=2,eZ=1,tZ=10,rZ=-2,DT=t=>t==="*";function nZ(t,e){let r=t.split("/"),n=r.length;return r.some(DT)&&(n+=rZ),e&&(n+=JY),r.filter(i=>!DT(i)).reduce((i,a)=>i+(ZY.test(a)?QY:a===""?eZ:tZ),n)}function iZ(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function aZ(t,e,r){let{routesMeta:n}=t,i={},a="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],c=s===n.length-1,d=a==="/"?e:e.slice(a.length)||"/",f=MT({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),h=l.route;if(!f&&c&&r&&!n[n.length-1].route.index&&(f=MT({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Al([a,f.pathname]),pathnameBase:dZ(Al([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Al([a,f.pathnameBase]))}return o}function MT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=oZ(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:n.reduce((c,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let m=s[f]||"";o=a.slice(0,a.length-m.length).replace(/(.)\/+$/,"$1")}const v=s[f];return p&&!v?c[h]=void 0:c[h]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:o,pattern:t}}function oZ(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),X6(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(n.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function sZ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return X6(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function EA(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function lZ(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Zf(t):t;return{pathname:r?r.startsWith("/")?r:cZ(r,e):e,search:fZ(n),hash:hZ(i)}}function cZ(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function ib(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uZ(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Q6(t,e){let r=uZ(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function J6(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Zf(t):(i=Yp({},t),Br(!i.pathname||!i.pathname.includes("?"),ib("?","pathname","search",i)),Br(!i.pathname||!i.pathname.includes("#"),ib("#","pathname","hash",i)),Br(!i.search||!i.search.includes("#"),ib("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=r;else{let f=e.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}s=f>=0?e[f]:"/"}let l=lZ(i,s),c=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Al=t=>t.join("/").replace(/\/\/+/g,"/"),dZ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fZ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,hZ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function pZ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const e5=["post","put","patch","delete"];new Set(e5);const mZ=["get",...e5];new Set(mZ);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zp(){return Zp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zp.apply(this,arguments)}const AA=b.createContext(null),vZ=b.createContext(null),wu=b.createContext(null),X1=b.createContext(null),bu=b.createContext({outlet:null,matches:[],isDataRoute:!1}),t5=b.createContext(null);function gZ(t,e){let{relative:r}=e===void 0?{}:e;lv()||Br(!1);let{basename:n,navigator:i}=b.useContext(wu),{hash:a,pathname:o,search:s}=n5(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:Al([n,o])),i.createHref({pathname:l,search:s,hash:a})}function lv(){return b.useContext(X1)!=null}function Qf(){return lv()||Br(!1),b.useContext(X1).location}function r5(t){b.useContext(wu).static||b.useLayoutEffect(t)}function Y1(){let{isDataRoute:t}=b.useContext(bu);return t?TZ():yZ()}function yZ(){lv()||Br(!1);let t=b.useContext(AA),{basename:e,future:r,navigator:n}=b.useContext(wu),{matches:i}=b.useContext(bu),{pathname:a}=Qf(),o=JSON.stringify(Q6(i,r.v7_relativeSplatPath)),s=b.useRef(!1);return r5(()=>{s.current=!0}),b.useCallback(function(c,d){if(d===void 0&&(d={}),!s.current)return;if(typeof c=="number"){n.go(c);return}let f=J6(c,JSON.parse(o),a,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Al([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,o,a,t])}function n5(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=b.useContext(wu),{matches:i}=b.useContext(bu),{pathname:a}=Qf(),o=JSON.stringify(Q6(i,n.v7_relativeSplatPath));return b.useMemo(()=>J6(t,JSON.parse(o),a,r==="path"),[t,o,a,r])}function xZ(t,e){return wZ(t,e)}function wZ(t,e,r,n){lv()||Br(!1);let{navigator:i}=b.useContext(wu),{matches:a}=b.useContext(bu),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Qf(),d;if(e){var f;let g=typeof e=="string"?Zf(e):e;l==="/"||(f=g.pathname)!=null&&f.startsWith(l)||Br(!1),d=g}else d=c;let h=d.pathname||"/",p=h;if(l!=="/"){let g=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(g.length).join("/")}let v=KY(t,{pathname:p}),m=EZ(v&&v.map(g=>Object.assign({},g,{params:Object.assign({},s,g.params),pathname:Al([l,i.encodeLocation?i.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?l:Al([l,i.encodeLocation?i.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),a,r,n);return e&&m?b.createElement(X1.Provider,{value:{location:Zp({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:pl.Pop}},m):m}function bZ(){let t=jZ(),e=pZ(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),r?b.createElement("pre",{style:i},r):null,null)}const _Z=b.createElement(bZ,null);class SZ extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?b.createElement(bu.Provider,{value:this.props.routeContext},b.createElement(t5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function CZ(t){let{routeContext:e,match:r,children:n}=t,i=b.useContext(AA);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(bu.Provider,{value:e},n)}function EZ(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,s=(i=r)==null?void 0:i.errors;if(s!=null){let d=o.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);d>=0||Br(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:p}=r,v=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||v){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let p,v=!1,m=null,g=null;r&&(p=s&&f.route.id?s[f.route.id]:void 0,m=f.route.errorElement||_Z,l&&(c<0&&h===0?(v=!0,g=null):c===h&&(v=!0,g=f.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,h+1)),x=()=>{let w;return p?w=m:v?w=g:f.route.Component?w=b.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,b.createElement(CZ,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?b.createElement(SZ,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var i5=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(i5||{}),Vg=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Vg||{});function AZ(t){let e=b.useContext(AA);return e||Br(!1),e}function OZ(t){let e=b.useContext(vZ);return e||Br(!1),e}function NZ(t){let e=b.useContext(bu);return e||Br(!1),e}function a5(t){let e=NZ(),r=e.matches[e.matches.length-1];return r.route.id||Br(!1),r.route.id}function jZ(){var t;let e=b.useContext(t5),r=OZ(Vg.UseRouteError),n=a5(Vg.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function TZ(){let{router:t}=AZ(i5.UseNavigateStable),e=a5(Vg.UseNavigateStable),r=b.useRef(!1);return r5(()=>{r.current=!0}),b.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Zp({fromRouteId:e},a)))},[t,e])}function PZ(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ki(t){Br(!1)}function kZ(t){let{basename:e="/",children:r=null,location:n,navigationType:i=pl.Pop,navigator:a,static:o=!1,future:s}=t;lv()&&Br(!1);let l=e.replace(/^\/*/,"/"),c=b.useMemo(()=>({basename:l,navigator:a,static:o,future:Zp({v7_relativeSplatPath:!1},s)}),[l,s,a,o]);typeof n=="string"&&(n=Zf(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:v="default"}=n,m=b.useMemo(()=>{let g=EA(d,l);return g==null?null:{location:{pathname:g,search:f,hash:h,state:p,key:v},navigationType:i}},[l,d,f,h,p,v,i]);return m==null?null:b.createElement(wu.Provider,{value:c},b.createElement(X1.Provider,{children:r,value:m}))}function IZ(t){let{children:e,location:r}=t;return xZ($2(e),r)}new Promise(()=>{});function $2(t,e){e===void 0&&(e=[]);let r=[];return b.Children.forEach(t,(n,i)=>{if(!b.isValidElement(n))return;let a=[...e,i];if(n.type===b.Fragment){r.push.apply(r,$2(n.props.children,a));return}n.type!==Ki&&Br(!1),!n.props.index||!n.props.children||Br(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=$2(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function L2(){return L2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},L2.apply(this,arguments)}function RZ(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function DZ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function MZ(t,e){return t.button===0&&(!e||e==="_self")&&!DZ(t)}const $Z=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],LZ="6";try{window.__reactRouterVersion=LZ}catch{}const FZ="startTransition",$T=oE[FZ];function BZ(t){let{basename:e,children:r,future:n,window:i}=t,a=b.useRef();a.current==null&&(a.current=HY({window:i,v5Compat:!0}));let o=a.current,[s,l]=b.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},d=b.useCallback(f=>{c&&$T?$T(()=>l(f)):l(f)},[l,c]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.useEffect(()=>PZ(n),[n]),b.createElement(kZ,{basename:e,children:r,location:s.location,navigationType:s.action,navigator:o,future:n})}const UZ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",VZ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ab=b.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:s,target:l,to:c,preventScrollReset:d,viewTransition:f}=e,h=RZ(e,$Z),{basename:p}=b.useContext(wu),v,m=!1;if(typeof c=="string"&&VZ.test(c)&&(v=c,UZ))try{let w=new URL(window.location.href),S=c.startsWith("//")?new URL(w.protocol+c):new URL(c),_=EA(S.pathname,p);S.origin===w.origin&&_!=null?c=_+S.search+S.hash:m=!0}catch{}let g=gZ(c,{relative:i}),y=WZ(c,{replace:o,state:s,target:l,preventScrollReset:d,relative:i,viewTransition:f});function x(w){n&&n(w),w.defaultPrevented||y(w)}return b.createElement("a",L2({},h,{href:v||g,onClick:m||a?n:x,ref:r,target:l}))});var LT;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(LT||(LT={}));var FT;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(FT||(FT={}));function WZ(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:s}=e===void 0?{}:e,l=Y1(),c=Qf(),d=n5(t,{relative:o});return b.useCallback(f=>{if(MZ(f,r)){f.preventDefault();let h=n!==void 0?n:Ug(c)===Ug(d);l(t,{replace:h,state:i,preventScrollReset:a,relative:o,viewTransition:s})}},[c,l,d,n,i,r,t,a,o,s])}var fo=function(){return fo=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},fo.apply(this,arguments)};function Jf(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function zZ(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?a(d.value):i(d.value).then(s,l)}c((n=n.apply(t,e||[])).next())})}function HZ(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}const GZ=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class OA extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class qZ extends OA{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class BT extends OA{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class UT extends OA{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var F2;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(F2||(F2={}));class KZ{constructor(e,{headers:r={},customFetch:n,region:i=F2.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=GZ(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return zZ(this,arguments,void 0,function*(r,n={}){var i;let a,o;try{const{headers:s,method:l,body:c,signal:d,timeout:f}=n;let h={},{region:p}=n;p||(p=this.region);const v=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,v.searchParams.set("forceFunctionRegion",p));let m;c&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=c):typeof c=="string"?(h["Content-Type"]="text/plain",m=c):typeof FormData<"u"&&c instanceof FormData?m=c:(h["Content-Type"]="application/json",m=JSON.stringify(c)):m=c;let g=d;f&&(o=new AbortController,a=setTimeout(()=>o.abort(),f),d?(g=o.signal,d.addEventListener("abort",()=>o.abort())):g=o.signal);const y=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:m,signal:g}).catch(_=>{throw new qZ(_)}),x=y.headers.get("x-relay-error");if(x&&x==="true")throw new BT(y);if(!y.ok)throw new UT(y);let w=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return w==="application/json"?S=yield y.json():w==="application/octet-stream"||w==="application/pdf"?S=yield y.blob():w==="text/event-stream"?S=y:w==="multipart/form-data"?S=yield y.formData():S=yield y.text(),{data:S,error:null,response:y}}catch(s){return{data:null,error:s,response:s instanceof UT||s instanceof BT?s.context:void 0}}finally{a&&clearTimeout(a)}})}}var XZ=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},YZ=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let o=null,s=null,l=null,c=a.status,d=a.statusText;if(a.ok){var f,h;if(r.method!=="HEAD"){var p;const y=await a.text();y===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?s=y:s=JSON.parse(y))}const m=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),g=(h=a.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");m&&g&&g.length>1&&(l=parseInt(g[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(s)&&(s.length>1?(o={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,l=null,c=406,d="Not Acceptable"):s.length===1?s=s[0]:s=null)}else{var v;const m=await a.text();try{o=JSON.parse(m),Array.isArray(o)&&a.status===404&&(s=[],o=null,c=200,d="OK")}catch{a.status===404&&m===""?(c=204,d="No Content"):o={message:m}}if(o&&r.isMaybeSingle&&(!(o==null||(v=o.details)===null||v===void 0)&&v.includes("0 rows"))&&(o=null,c=200,d="OK"),o&&r.shouldThrowOnError)throw new XZ(o)}return{error:o,data:s,count:l,status:c,statusText:d}});return this.shouldThrowOnError||(i=i.catch(a=>{var o;let s="";const l=a==null?void 0:a.cause;if(l){var c,d,f,h;const v=(c=l==null?void 0:l.message)!==null&&c!==void 0?c:"",m=(d=l==null?void 0:l.code)!==null&&d!==void 0?d:"";s=`${(f=a==null?void 0:a.name)!==null&&f!==void 0?f:"FetchError"}: ${a==null?void 0:a.message}`,s+=`

Caused by: ${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"Error"}: ${v}`,m&&(s+=` (${m})`),l!=null&&l.stack&&(s+=`
${l.stack}`)}else{var p;s=(p=a==null?void 0:a.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:s,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},ZZ=class extends YZ{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:a="text"}={}){var o;const s=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${l}"; options=${s};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const VT=new RegExp("[,()]");var qu=class extends ZZ{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&VT.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&VT.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${a}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},QZ=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}select(t,e){const{head:r=!1,count:n}=e??{},i=r?"HEAD":"GET";let a=!1;const o=(t??"*").split("").map(s=>/\s/.test(s)&&!a?"":(s==='"'&&(a=!a),s)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new qu({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const i="POST";if(e&&this.headers.append("Prefer",`count=${e}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((o,s)=>o.concat(Object.keys(s)),[]);if(a.length>0){const o=[...new Set(a)].map(s=>`"${s}"`);this.url.searchParams.set("columns",o.join(","))}}return new qu({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var a;const o="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),n&&this.headers.append("Prefer",`count=${n}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const s=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(s.length>0){const l=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new qu({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(t,{count:e}={}){var r;const n="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new qu({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new qu({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},JZ=class o5{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new QZ(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new o5(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:a}={}){var o;let s;const l=new URL(`${this.url}/rpc/${e}`);let c;n||i?(s=n?"HEAD":"GET",Object.entries(r).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{l.searchParams.append(f,h)})):(s="POST",c=r);const d=new Headers(this.headers);return a&&d.set("Prefer",`count=${a}`),new qu({method:s,url:l,headers:d,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class eQ{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const tQ="2.89.0",rQ=`realtime-js/${tQ}`,s5="1.0.0",nQ="2.0.0",WT=s5,B2=1e4,iQ=1e3,aQ=100;var Xs;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Xs||(Xs={}));var Hr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Hr||(Hr={}));var Ra;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ra||(Ra={}));var U2;(function(t){t.websocket="websocket"})(U2||(U2={}));var gc;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(gc||(gc={}));class oQ{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,r,n){var i,a;const o=e.topic,s=(i=e.ref)!==null&&i!==void 0?i:"",l=(a=e.join_ref)!==null&&a!==void 0?a:"",c=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+o.length+c.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let v=new DataView(p),m=0;v.setUint8(m++,this.KINDS.userBroadcastPush),v.setUint8(m++,l.length),v.setUint8(m++,s.length),v.setUint8(m++,o.length),v.setUint8(m++,c.length),v.setUint8(m++,f.length),v.setUint8(m++,r),Array.from(l,y=>v.setUint8(m++,y.charCodeAt(0))),Array.from(s,y=>v.setUint8(m++,y.charCodeAt(0))),Array.from(o,y=>v.setUint8(m++,y.charCodeAt(0))),Array.from(c,y=>v.setUint8(m++,y.charCodeAt(0))),Array.from(f,y=>v.setUint8(m++,y.charCodeAt(0)));var g=new Uint8Array(p.byteLength+n.byteLength);return g.set(new Uint8Array(p),0),g.set(new Uint8Array(n),p.byteLength),g.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,a,o,s,l]=n;return r({join_ref:i,ref:a,topic:o,event:s,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),a=r.getUint8(2),o=r.getUint8(3),s=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(e.slice(l,l+i));l=l+i;const d=n.decode(e.slice(l,l+a));l=l+a;const f=n.decode(e.slice(l,l+o));l=l+o;const h=e.slice(l,e.byteLength),p=s===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,v={type:this.BROADCAST_EVENT,event:d,payload:p};return o>0&&(v.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class l5{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Gt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Gt||(Gt={}));const zT=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((a,o)=>(a[o]=sQ(o,t,e,i),a),{}):{}},sQ=(t,e,r,n)=>{const i=e.find(s=>s.name===t),a=i==null?void 0:i.type,o=r[t];return a&&!n.includes(a)?c5(a,o):V2(o)},c5=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return dQ(e,r)}switch(t){case Gt.bool:return lQ(e);case Gt.float4:case Gt.float8:case Gt.int2:case Gt.int4:case Gt.int8:case Gt.numeric:case Gt.oid:return cQ(e);case Gt.json:case Gt.jsonb:return uQ(e);case Gt.timestamp:return fQ(e);case Gt.abstime:case Gt.date:case Gt.daterange:case Gt.int4range:case Gt.int8range:case Gt.money:case Gt.reltime:case Gt.text:case Gt.time:case Gt.timestamptz:case Gt.timetz:case Gt.tsrange:case Gt.tstzrange:return V2(e);default:return V2(e)}},V2=t=>t,lQ=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},cQ=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},uQ=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},dQ=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let a;const o=t.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(s=>c5(e,s))}return t},fQ=t=>typeof t=="string"?t.replace(" ","T"):t,u5=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class ob{constructor(e,r,n={},i=B2){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var HT;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(HT||(HT={}));class vp{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=vp.syncState(this.state,i,a,o),this.pendingDiffs.forEach(l=>{this.state=vp.syncDiff(this.state,l,a,o)}),this.pendingDiffs=[],s()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=vp.syncDiff(this.state,i,a,o),s())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const a=this.cloneDeep(e),o=this.transformState(r),s={},l={};return this.map(a,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const f=a[c];if(f){const h=d.map(g=>g.presence_ref),p=f.map(g=>g.presence_ref),v=d.filter(g=>p.indexOf(g.presence_ref)<0),m=f.filter(g=>h.indexOf(g.presence_ref)<0);v.length>0&&(s[c]=v),m.length>0&&(l[c]=m)}else s[c]=d}),this.syncDiff(a,{joins:s,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(s,l)=>{var c;const d=(c=e[s])!==null&&c!==void 0?c:[];if(e[s]=this.cloneDeep(l),d.length>0){const f=e[s].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);e[s].unshift(...h)}n(s,d,l)}),this.map(o,(s,l)=>{let c=e[s];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),e[s]=c,i(s,c,l),c.length===0&&delete e[s]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var GT;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(GT||(GT={}));var gp;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(gp||(gp={}));var Ko;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ko||(Ko={}));class ud{constructor(e,r={config:{}},n){var i,a;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Hr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ob(this,Ra.join,this.params,this.timeout),this.rejoinTimer=new l5(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Hr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Hr.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Hr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Hr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Hr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ra.reply,{},(o,s)=>{this._trigger(this._replyEventName(s),o)}),this.presence=new vp(this),this.broadcastEndpointURL=u5(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Hr.closed){const{config:{broadcast:o,presence:s,private:l}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[gp.PRESENCE]&&this.bindings[gp.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(Ko.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(Ko.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){e==null||e(Ko.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,g=(v=m==null?void 0:m.length)!==null&&v!==void 0?v:0,y=[];for(let x=0;x<g;x++){const w=m[x],{filter:{event:S,schema:_,table:C,filter:E}}=w,A=p&&p[x];if(A&&A.event===S&&ud.isFilterValueEqual(A.schema,_)&&ud.isFilterValueEqual(A.table,C)&&ud.isFilterValueEqual(A.filter,E))y.push(Object.assign(Object.assign({},w),{id:A.id}));else{this.unsubscribe(),this.state=Hr.errored,e==null||e(Ko.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(Ko.SUBSCRIBED);return}}).receive("error",p=>{this.state=Hr.errored,e==null||e(Ko.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ko.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Hr.joined&&e===gp.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const c=await s.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=e,s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,s,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),c.receive("ok",()=>a("ok")),c.receive("error",()=>a("error")),c.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Hr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ra.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new ob(this,Ra.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Hr.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ob(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>aQ){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,a;const o=e.toLocaleLowerCase(),{close:s,error:l,leave:c,join:d}=Ra;if(n&&[s,l,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var v,m,g;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((g=(m=p.filter)===null||m===void 0?void 0:m.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(a=this.bindings[o])===null||a===void 0||a.filter(p=>{var v,m,g,y,x,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const S=p.id,_=(v=p.filter)===null||v===void 0?void 0:v.event;return S&&((m=r.ids)===null||m===void 0?void 0:m.includes(S))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const S=(x=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return S==="*"||S===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:m,table:g,commit_timestamp:y,type:x,errors:w}=v;h=Object.assign(Object.assign({},{schema:m,table:g,commit_timestamp:y,eventType:x,new:{},old:{},errors:w}),this._getPayloadRecords(v))}p.callback(h,n)})}_isClosed(){return this.state===Hr.closed}_isJoined(){return this.state===Hr.joined}_isJoining(){return this.state===Hr.joining}_isLeaving(){return this.state===Hr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&ud.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ra.close,{},e)}_onError(e){this._on(Ra.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Hr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=zT(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=zT(e.columns,e.old_record)),r}}const sb=()=>{},f0={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},hQ=[1e3,2e3,5e3,1e4],pQ=1e4,mQ=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class vQ{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=B2,this.transport=null,this.heartbeatIntervalMs=f0.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=sb,this.ref=0,this.reconnectTimer=null,this.vsn=WT,this.logger=sb,this.conn=null,this.sendBuffer=[],this.serializer=new oQ,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${U2.websocket}`,this.httpEndpoint=u5(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=eQ.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Xs.connecting:return gc.Connecting;case Xs.open:return gc.Open;case Xs.closing:return gc.Closing;default:return gc.Closed}}isConnected(){return this.connectionState()===gc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new ud(`realtime:${e}`,r,this);return this.channels.push(a),a}}push(e){const{topic:r,event:n,payload:i,ref:a}=e,o=()=>{this.encode(e,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(iQ,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},f0.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:o}=r,s=o?`(${o})`:"",l=a.status||"";this.log("receive",`${l} ${n} ${i} ${s}`.trim(),a),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Xs.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Xs.open||this.conn.readyState===Xs.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ra.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([mQ],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const a={access_token:r,version:rQ};r&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(Ra.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new l5(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},f0.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,a,o,s,l,c,d,f,h,p;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:B2,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:f0.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=e==null?void 0:e.heartbeatCallback)!==null&&s!==void 0?s:sb,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:WT,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:v=>hQ[v-1]||pQ,this.vsn){case s5:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(v,m)=>m(JSON.stringify(v)),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:(v,m)=>m(JSON.parse(v));break;case nQ:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Qp=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function gQ(t,e,r){const n=new URL(e,t);if(r)for(const[i,a]of Object.entries(r))a!==void 0&&n.searchParams.set(i,a);return n.toString()}async function yQ(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function xQ(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:a,headers:o}){const s=gQ(t.baseUrl,n,i),l=await yQ(t.auth),c=await e(s,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...l,...o},body:a?JSON.stringify(a):void 0}),d=await c.text(),f=(c.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!c.ok){const p=f?h:void 0,v=p==null?void 0:p.error;throw new Qp((v==null?void 0:v.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:p})}return{status:c.status,headers:c.headers,data:h}}}}function h0(t){return t.join("")}var wQ=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:h0(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${h0(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${h0(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${h0(t.namespace)}`}),!0}catch(e){if(e instanceof Qp&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof Qp&&r.status===409)return;throw r}}};function ku(t){return t.join("")}var bQ=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ku(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ku(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ku(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ku(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ku(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ku(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof Qp&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof Qp&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},_Q=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=xQ({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new wQ(this.client,e),this.tableOps=new bQ(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Z1=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function wr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var SQ=class extends Z1{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},W2=class extends Z1{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const NA=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),CQ=()=>Response,z2=t=>{if(Array.isArray(t))return t.map(r=>z2(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=z2(n)}),e},EQ=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},AQ=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Jp(t){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jp(t)}function OQ(t,e){if(Jp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Jp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NQ(t){var e=OQ(t,"string");return Jp(e)=="symbol"?e:e+""}function jQ(t,e,r){return(e=NQ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ge(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qT(Object(r),!0).forEach(function(n){jQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const lb=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},TQ=async(t,e,r)=>{t instanceof await CQ()&&!(r!=null&&r.noResolveJson)?t.json().then(n=>{const i=t.status||500,a=(n==null?void 0:n.statusCode)||i+"";e(new SQ(lb(n),i,a))}).catch(n=>{e(new W2(lb(n),n))}):e(new W2(lb(t),t))},PQ=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(EQ(n)?(i.headers=Ge({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Ge(Ge({},i),r))};async function cv(t,e,r,n,i,a){return new Promise((o,s)=>{t(r,PQ(e,n,i,a)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>TQ(l,s,n))})}async function em(t,e,r,n){return cv(t,"GET",e,r,n)}async function ja(t,e,r,n,i){return cv(t,"POST",e,n,i,r)}async function H2(t,e,r,n,i){return cv(t,"PUT",e,n,i,r)}async function kQ(t,e,r,n){return cv(t,"HEAD",e,Ge(Ge({},r),{},{noResolveJson:!0}),n)}async function jA(t,e,r,n,i){return cv(t,"DELETE",e,n,i,r)}var IQ=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(wr(e))return{data:null,error:e};throw e}}};let d5;d5=Symbol.toStringTag;var RQ=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[d5]="BlobDownloadBuilder",this.promise=null}asStream(){return new IQ(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(wr(e))return{data:null,error:e};throw e}}};const DQ={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},KT={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var MQ=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=NA(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,r,n){var i=this;try{let a;const o=Ge(Ge({},KT),n);let s=Ge(Ge({},i.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",i.encodeMetadata(l)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),l&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(l))):(a=r,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,l&&(s["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(s=Ge(Ge({},s),n.headers));const c=i._removeEmptyFolders(e),d=i._getFinalPath(c),f=await(t=="PUT"?H2:ja)(i.fetch,`${i.url}/object/${d}`,a,Ge({headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(wr(a))return{data:null,error:a};throw a}}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var i=this;const a=i._removeEmptyFolders(t),o=i._getFinalPath(a),s=new URL(i.url+`/object/upload/sign/${o}`);s.searchParams.set("token",e);try{let l;const c=Ge({upsert:KT.upsert},n),d=Ge(Ge({},i.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType),{data:{path:a,fullPath:(await H2(i.fetch,s.toString(),l,{headers:d})).Key},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(wr(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(t,e){var r=this;try{let n=r._getFinalPath(t);const i=Ge({},r.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const a=await ja(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(r.url+a.url),s=o.searchParams.get("token");if(!s)throw new Z1("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:s},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(wr(n))return{data:null,error:n};throw n}}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;try{return{data:await ja(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(wr(i))return{data:null,error:i};throw i}}async copy(t,e,r){var n=this;try{return{data:{path:(await ja(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(wr(i))return{data:null,error:i};throw i}}async createSignedUrl(t,e,r){var n=this;try{let i=n._getFinalPath(t),a=await ja(n.fetch,`${n.url}/object/sign/${i}`,Ge({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${n.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(wr(i))return{data:null,error:i};throw i}}async createSignedUrls(t,e,r){var n=this;try{const i=await ja(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Ge(Ge({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(wr(i))return{data:null,error:i};throw i}}download(t,e){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=n?`?${n}`:"",a=this._getFinalPath(t),o=()=>em(this.fetch,`${this.url}/${r}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new RQ(o,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);try{return{data:z2(await em(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(wr(n))return{data:null,error:n};throw n}}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await kQ(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(wr(n)&&n instanceof W2){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&n.push(i);const a=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});o!==""&&n.push(o);let s=n.join("&");return s!==""&&(s=`?${s}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${s}`)}}}async remove(t){var e=this;try{return{data:await jA(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(wr(r))return{data:null,error:r};throw r}}async list(t,e,r){var n=this;try{const i=Ge(Ge(Ge({},DQ),e),{},{prefix:t||""});return{data:await ja(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(wr(i))return{data:null,error:i};throw i}}async listV2(t,e){var r=this;try{const n=Ge({},t);return{data:await ja(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(wr(n))return{data:null,error:n};throw n}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const f5="2.89.0",h5={"X-Client-Info":`storage-js/${f5}`};var $Q=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1;const i=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Ge(Ge({},h5),e),this.fetch=NA(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const r=e.listBucketOptionsToQueryString(t);return{data:await em(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(wr(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await em(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(wr(r))return{data:null,error:r};throw r}}async createBucket(t,e={public:!1}){var r=this;try{return{data:await ja(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(wr(n))return{data:null,error:n};throw n}}async updateBucket(t,e){var r=this;try{return{data:await H2(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(wr(n))return{data:null,error:n};throw n}}async emptyBucket(t){var e=this;try{return{data:await ja(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(wr(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await jA(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(wr(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},LQ=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ge(Ge({},h5),e),this.fetch=NA(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await ja(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(wr(r))return{data:null,error:r};throw r}}async listBuckets(t){var e=this;try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),i=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return{data:await em(e.fetch,i,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(wr(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await jA(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(wr(r))return{data:null,error:r};throw r}}from(t){var e=this;if(!AQ(t))throw new Z1("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new _Q({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,a){const o=i[a];return typeof o!="function"?o:async(...s)=>{try{return{data:await o.apply(i,s),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}};const TA={"X-Client-Info":`storage-js/${f5}`,"Content-Type":"application/json"};var p5=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Ei(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var cb=class extends p5{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},FQ=class extends p5{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const PA=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),BQ=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},XT=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),UQ=async(t,e,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const n=t.status||500,i=t;if(typeof i.json=="function")i.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||n+"";e(new cb(XT(a),n,o))}).catch(()=>{const a=n+"";e(new cb(i.statusText||`HTTP ${n} error`,n,a))});else{const a=n+"";e(new cb(i.statusText||`HTTP ${n} error`,n,a))}}else e(new FQ(XT(t),t))},VQ=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(BQ(n)?(i.headers=Ge({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,Ge(Ge({},i),r)):i};async function WQ(t,e,r,n,i,a){return new Promise((o,s)=>{t(r,VQ(e,n,i,a)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>UQ(l,s,n))})}async function Ai(t,e,r,n,i){return WQ(t,"POST",e,n,i,r)}var zQ=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ge(Ge({},TA),e),this.fetch=PA(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Ai(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ei(r))return{data:null,error:r};throw r}}async getIndex(t,e){var r=this;try{return{data:await Ai(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ei(n))return{data:null,error:n};throw n}}async listIndexes(t){var e=this;try{return{data:await Ai(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ei(r))return{data:null,error:r};throw r}}async deleteIndex(t,e){var r=this;try{return{data:await Ai(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ei(n))return{data:null,error:n};throw n}}},HQ=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ge(Ge({},TA),e),this.fetch=PA(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Ai(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ei(r))return{data:null,error:r};throw r}}async getVectors(t){var e=this;try{return{data:await Ai(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ei(r))return{data:null,error:r};throw r}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Ai(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ei(r))return{data:null,error:r};throw r}}async queryVectors(t){var e=this;try{return{data:await Ai(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ei(r))return{data:null,error:r};throw r}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Ai(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ei(r))return{data:null,error:r};throw r}}},GQ=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ge(Ge({},TA),e),this.fetch=PA(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Ai(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ei(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await Ai(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ei(r))return{data:null,error:r};throw r}}async listBuckets(t={}){var e=this;try{return{data:await Ai(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ei(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Ai(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ei(r))return{data:null,error:r};throw r}}},qQ=class extends GQ{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new KQ(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},KQ=class extends zQ{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,Ge(Ge({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,Ge(Ge({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new XQ(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},XQ=class extends HQ{constructor(t,e,r,n,i){super(t,e,i),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,Ge(Ge({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,Ge(Ge({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,Ge(Ge({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,Ge(Ge({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,Ge(Ge({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},YQ=class extends $Q{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new MQ(this.url,this.headers,t,this.fetch)}get vectors(){return new qQ(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new LQ(this.url+"/iceberg",this.headers,this.fetch)}};const m5="2.89.0",Ku=30*1e3,G2=3,ub=G2*Ku,ZQ="http://localhost:9999",QQ="supabase.auth.token",JQ={"X-Client-Info":`gotrue-js/${m5}`},q2="X-Supabase-Api-Version",v5={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},eJ=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,tJ=10*60*1e3;class tm extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function $e(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class rJ extends tm{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function nJ(t){return $e(t)&&t.name==="AuthApiError"}class yc extends tm{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Ts extends tm{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class gi extends Ts{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function iJ(t){return $e(t)&&t.name==="AuthSessionMissingError"}class Iu extends Ts{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class p0 extends Ts{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class m0 extends Ts{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function aJ(t){return $e(t)&&t.name==="AuthImplicitGrantRedirectError"}class YT extends Ts{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class oJ extends Ts{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class K2 extends Ts{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function db(t){return $e(t)&&t.name==="AuthRetryableFetchError"}class ZT extends Ts{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class X2 extends Ts{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Wg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),QT=` 	
\r=`.split(""),sJ=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<QT.length;e+=1)t[QT[e].charCodeAt(0)]=-2;for(let e=0;e<Wg.length;e+=1)t[Wg[e].charCodeAt(0)]=e;return t})();function JT(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Wg[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Wg[n]),e.queuedBits-=6}}function g5(t,e,r){const n=sJ[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function eP(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{uJ(o,n,r)};for(let o=0;o<t.length;o+=1)g5(t.charCodeAt(o),i,a);return e.join("")}function lJ(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function cJ(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}lJ(n,e)}}function uJ(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Nd(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)g5(t.charCodeAt(i),r,n);return new Uint8Array(e)}function dJ(t){const e=[];return cJ(t,r=>e.push(r)),new Uint8Array(e)}function Sc(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>JT(i,r,n)),JT(null,r,n),e.join("")}function fJ(t){return Math.round(Date.now()/1e3)+t}function hJ(){return Symbol("auth-callback")}const xn=()=>typeof window<"u"&&typeof document<"u",rc={tested:!1,writable:!1},y5=()=>{if(!xn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(rc.tested)return rc.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),rc.tested=!0,rc.writable=!0}catch{rc.tested=!0,rc.writable=!1}return rc.writable};function pJ(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const x5=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),mJ=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Xu=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},nc=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},yn=async(t,e)=>{await t.removeItem(e)};class Q1{constructor(){this.promise=new Q1.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Q1.promiseConstructor=Promise;function fb(t){const e=t.split(".");if(e.length!==3)throw new X2("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!eJ.test(e[n]))throw new X2("JWT not in base64url format");return{header:JSON.parse(eP(e[0])),payload:JSON.parse(eP(e[1])),signature:Nd(e[2]),raw:{header:e[0],payload:e[1]}}}async function vJ(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function gJ(t,e){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await t(a);if(!e(a,null,o)){n(o);return}}catch(o){if(!e(a,o)){i(o);return}}})()})}function yJ(t){return("0"+t.toString(16)).substr(-2)}function xJ(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,yJ).join("")}async function wJ(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function bJ(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await wJ(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ru(t,e,r=!1){const n=xJ();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Xu(t,`${e}-code-verifier`,i);const a=await bJ(n);return[a,n===a?"plain":"s256"]}const _J=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function SJ(t){const e=t.headers.get(q2);if(!e||!e.match(_J))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function CJ(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function EJ(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const AJ=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Du(t){if(!AJ.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function hb(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function OJ(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function tP(t){return JSON.parse(JSON.stringify(t))}const dc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),NJ=[502,503,504];async function rP(t){var e;if(!mJ(t))throw new K2(dc(t),0);if(NJ.includes(t.status))throw new K2(dc(t),t.status);let r;try{r=await t.json()}catch(a){throw new yc(dc(a),a)}let n;const i=SJ(t);if(i&&i.getTime()>=v5["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new ZT(dc(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new gi}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new ZT(dc(r),t.status,r.weak_password.reasons);throw new rJ(dc(r),t.status||500,n)}const jJ=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function He(t,e,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[q2]||(a[q2]=v5["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await TJ(t,e,r+s,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function TJ(t,e,r,n,i,a){const o=jJ(e,n,i,a);let s;try{s=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new K2(dc(l),0)}if(s.ok||await rP(s),n!=null&&n.noResolveJson)return s;try{return await s.json()}catch(l){await rP(l)}}function Ea(t){var e;let r=null;IJ(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=fJ(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function nP(t){const e=Ea(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function tl(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function PJ(t){return{data:t,error:null}}function kJ(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=t,o=Jf(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},l=Object.assign({},o);return{data:{properties:s,user:l},error:null}}function iP(t){return t}function IJ(t){return t.access_token&&t.refresh_token&&t.expires_in}const pb=["global","local","others"];class RJ{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=x5(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=pb[0]){if(pb.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${pb.join(", ")}`);try{return await He(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if($e(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await He(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:tl})}catch(n){if($e(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Jf(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await He(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:kJ,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if($e(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await He(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:tl})}catch(r){if($e(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,a,o,s,l;try{const c={nextPage:null,lastPage:0,total:0},d=await He(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:iP});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(v.split(";")[1].split("=")[1]);c[`${g}Page`]=m}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if($e(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Du(e);try{return await He(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:tl})}catch(r){if($e(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Du(e);try{return await He(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:tl})}catch(n){if($e(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Du(e);try{return await He(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:tl})}catch(n){if($e(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Du(e.userId);try{const{data:r,error:n}=await He(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if($e(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Du(e.userId),Du(e.id);try{return{data:await He(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,a,o,s,l;try{const c={nextPage:null,lastPage:0,total:0},d=await He(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:iP});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(v.split(";")[1].split("=")[1]);c[`${g}Page`]=m}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if($e(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await He(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if($e(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await He(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if($e(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await He(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if($e(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await He(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await He(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if($e(r))return{data:null,error:r};throw r}}}function aP(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Mu={debug:!!(globalThis&&y5()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class w5 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class DJ extends w5{}async function MJ(t,e,r){Mu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Mu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Mu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{Mu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Mu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new DJ(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Mu.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function $J(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function b5(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function LJ(t){return parseInt(t,16)}function FJ(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function BJ(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:s,requestId:l,resources:c,scheme:d,uri:f,version:h}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=b5(t.address),v=d?`${d}://${n}`:n,m=t.statement?`${t.statement}
`:"",g=`${v} wants you to sign in with your Ethereum account:
${p}

${m}`;let y=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),s&&(y+=`
Not Before: ${s.toISOString()}`),l&&(y+=`
Request ID: ${l}`),c){let x=`
Resources:`;for(const w of c){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);x+=`
- ${w}`}y+=x}return`${g}
${y}`}class $r extends Error{constructor({message:e,code:r,cause:n,name:i}){var a;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class zg extends $r{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function UJ({error:t,options:e}){var r,n,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new $r({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new $r({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new $r({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new $r({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new $r({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new $r({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new $r({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new $r({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(_5(o)){if(a.rp.id!==o)return new $r({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new $r({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new $r({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new $r({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new $r({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function VJ({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new $r({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new $r({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(_5(n)){if(r.rpId!==n)return new $r({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new $r({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new $r({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new $r({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class WJ{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const zJ=new WJ;function HJ(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=Jf(t,["challenge","user","excludeCredentials"]),a=Nd(e).buffer,o=Object.assign(Object.assign({},r),{id:Nd(r.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:a,user:o});if(n&&n.length>0){s.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];s.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Nd(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return s}function GJ(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Jf(t,["challenge","allowCredentials"]),i=Nd(e).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const s=r[o];a.allowCredentials[o]=Object.assign(Object.assign({},s),{id:Nd(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return a}function qJ(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Sc(new Uint8Array(t.response.attestationObject)),clientDataJSON:Sc(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function KJ(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Sc(new Uint8Array(i.authenticatorData)),clientDataJSON:Sc(new Uint8Array(i.clientDataJSON)),signature:Sc(new Uint8Array(i.signature)),userHandle:i.userHandle?Sc(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function _5(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function oP(){var t,e;return!!(xn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function XJ(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new zg("Browser returned unexpected credential type",e)}:{data:null,error:new zg("Empty credential response",e)}}catch(e){return{data:null,error:UJ({error:e,options:t})}}}async function YJ(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new zg("Browser returned unexpected credential type",e)}:{data:null,error:new zg("Empty credential response",e)}}catch(e){return{data:null,error:VJ({error:e,options:t})}}}const ZJ={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},QJ={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Hg(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))n[a]=o;else if(r(o))n[a]=o;else if(e(o)){const s=n[a];e(s)?n[a]=Hg(s,o):n[a]=Hg(o)}else n[a]=o}return n}function JJ(t,e){return Hg(ZJ,t,e||{})}function eee(t,e){return Hg(QJ,t,e||{})}class tee{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},a){try{const{data:o,error:s}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:s};const l=i??zJ.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=JJ(o.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:d,error:f}=await XJ({publicKey:c,signal:l});return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const c=eee(o.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:d,error:f}=await YJ(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return $e(o)?{data:null,error:o}:{data:null,error:new yc("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new tm("rpId is required for WebAuthn authentication")};try{if(!oP())return{data:null,error:new yc("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!o)return{data:null,error:s};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return $e(o)?{data:null,error:o}:{data:null,error:new yc("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new tm("rpId is required for WebAuthn registration")};try{if(!oP())return{data:null,error:new yc("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:s};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return $e(o)?{data:null,error:o}:{data:null,error:new yc("Unexpected error in register",o)}}}}$J();const ree={url:ZQ,storageKey:QQ,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:JQ,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function sP(t,e,r){return await r()}const $u={};class rm{get jwks(){var e,r;return(r=(e=$u[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){$u[this.storageKey]=Object.assign(Object.assign({},$u[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=$u[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){$u[this.storageKey]=Object.assign(Object.assign({},$u[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},ree),e);if(this.storageKey=a.storageKey,this.instanceID=(r=rm.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,rm.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&xn()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new RJ({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=x5(a.fetch),this.lock=a.lock||sP,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:this.persistSession&&xn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=MJ:this.lock=sP,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new tee(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:y5()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=aP(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=aP(this.memoryStorage)),xn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${m5}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(xn()&&(r=pJ(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),xn()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),aJ(a)){const l=(e=a.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return $e(r)?this._returnResult({error:r}):this._returnResult({error:new yc("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const a=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ea}),{data:o,error:s}=a;if(s||!o)return this._returnResult({data:{user:null,session:null},error:s});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(a){if($e(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var r,n,i;try{let a;if("email"in e){const{email:d,password:f,options:h}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await Ru(this.storage,this.storageKey)),a=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:v},xform:Ea})}else if("phone"in e){const{phone:d,password:f,options:h}=e;a=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ea})}else throw new p0("You must provide either an email or phone number and a password");const{data:o,error:s}=a;if(s||!o)return await yn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(a){if(await yn(this.storage,`${this.storageKey}-code-verifier`),$e(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:o,options:s}=e;r=await He(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:nP})}else if("phone"in e){const{phone:a,password:o,options:s}=e;r=await He(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:nP})}else throw new p0("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new Iu;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if($e(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,a,o,s,l,c,d,f,h;let p,v;if("message"in e)p=e.message,v=e.signature;else{const{chain:m,wallet:g,statement:y,options:x}=e;let w;if(xn())if(typeof g=="object")w=g;else{const O=window;if("ethereum"in O&&typeof O.ethereum=="object"&&"request"in O.ethereum&&typeof O.ethereum.request=="function")w=O.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=g}const S=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href),_=await w.request({method:"eth_requestAccounts"}).then(O=>O).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=b5(_[0]);let E=(n=x==null?void 0:x.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const O=await w.request({method:"eth_chainId"});E=LJ(O)}const A={domain:S.host,address:C,statement:y,uri:S.href,version:"1",chainId:E,nonce:(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=x==null?void 0:x.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=x==null?void 0:x.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=x==null?void 0:x.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=BJ(A),v=await w.request({method:"personal_sign",params:[FJ(p),C]})}try{const{data:m,error:g}=await He(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:v},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Ea});if(g)throw g;if(!m||!m.session||!m.user){const y=new Iu;return this._returnResult({data:{user:null,session:null},error:y})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:g})}catch(m){if($e(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(e){var r,n,i,a,o,s,l,c,d,f,h,p;let v,m;if("message"in e)v=e.message,m=e.signature;else{const{chain:g,wallet:y,statement:x,options:w}=e;let S;if(xn())if(typeof y=="object")S=y;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))S=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=y}const _=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const C=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),x?{statement:x}:null));let E;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")E=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)E=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)v=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),m=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${_.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(i=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const C=await S.signMessage(new TextEncoder().encode(v),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=C}}try{const{data:g,error:y}=await He(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Sc(m)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Ea});if(y)throw y;if(!g||!g.session||!g.user){const x=new Iu;return this._returnResult({data:{user:null,session:null},error:x})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:y})}catch(g){if($e(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async _exchangeCodeForSession(e){const r=await nc(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new oJ;const{data:a,error:o}=await He(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Ea});if(await yn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const s=new Iu;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(await yn(this.storage,`${this.storageKey}-code-verifier`),$e(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:a,nonce:o}=e,s=await He(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ea}),{data:l,error:c}=s;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const d=new Iu;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if($e(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,a,o;try{if("email"in e){const{email:s,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Ru(this.storage,this.storageKey));const{error:f}=await He(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){const{phone:s,options:l}=e,{data:c,error:d}=await He(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new p0("You must provide either an email or phone number.")}catch(s){if(await yn(this.storage,`${this.storageKey}-code-verifier`),$e(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(e){var r,n;try{let i,a;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:s}=await He(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Ea});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if($e(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i,a,o;try{let s=null,l=null;this.flowType==="pkce"&&([s,l]=await Ru(this.storage,this.storageKey));const c=await He(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:PJ});return!((a=c.data)===null||a===void 0)&&a.url&&xn()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(s){if(await yn(this.storage,`${this.storageKey}-code-verifier`),$e(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new gi;const{error:i}=await He(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if($e(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:a}=e,{error:o}=await He(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:i,options:a}=e,{data:o,error:s}=await He(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s})}throw new p0("You must provide either an email or phone number and a type")}catch(r){if($e(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await nc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<ub:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await nc(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=hb()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=OJ(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await He(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:tl}):await this._useSession(async r=>{var n,i,a;const{data:o,error:s}=r;if(s)throw s;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new gi}:await He(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:tl})})}catch(r){if($e(r))return iJ(r)&&(await this._removeSession(),await yn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new gi;const o=i.session;let s=null,l=null;this.flowType==="pkce"&&e.email!=null&&([s,l]=await Ru(this.storage,this.storageKey));const{data:c,error:d}=await He(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:l}),jwt:o.access_token,xform:tl});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await yn(this.storage,`${this.storageKey}-code-verifier`),$e(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new gi;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:o}=fb(e.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{data:s,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};a=s}else{const{data:s,error:l}=await this._getUser(e.access_token);if(l)throw l;a={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if($e(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:s}=r;if(s)throw s;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new gi;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if($e(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!xn())throw new m0("No browser detected.");if(e.error||e.error_description||e.error_code)throw new m0(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new YT("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new m0("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new YT("No code detected.");const{data:x,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:s,expires_at:l,token_type:c}=e;if(!a||!s||!o||!c)throw new m0("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(s);let h=d+f;l&&(h=parseInt(l));const p=h-d;p*1e3<=Ku&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const v=h-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,d);const{data:m,error:g}=await this._getUser(a);if(g)throw g;const y={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:h,refresh_token:o,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:e.type},error:null})}catch(n){if($e(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await nc(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({error:a});const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:s}=await this.admin.signOut(o,e);if(s&&!(nJ(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return e!=="others"&&(await this._removeSession(),await yn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=hJ(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Ru(this.storage,this.storageKey,!0));try{return await He(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await yn(this.storage,`${this.storageKey}-code-verifier`),$e(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if($e(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var o,s,l,c,d;const{data:f,error:h}=a;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await He(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return xn()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if($e(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:o,provider:s,token:l,access_token:c,nonce:d}=e,f=await He(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:s,id_token:l,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ea}),{data:h,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Iu}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(i){if(await yn(this.storage,`${this.storageKey}-code-verifier`),$e(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)throw o;return await He(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if($e(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await gJ(async i=>(i>0&&await vJ(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await He(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ea})),(i,a)=>{const o=200*Math.pow(2,i);return a&&db(a)&&Date.now()+o-n<Ku})}catch(n){if(this._debug(r,"error",n),$e(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),xn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await nc(this.storage,this.storageKey);if(i&&this.userStorage){let o=await nc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Xu(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:hb()}else if(i&&!i.user&&!i.user){const o=await nc(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await yn(this.storage,this.storageKey+"-user"),await Xu(this.storage,this.storageKey,i)):i.user=hb()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ub;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${ub}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),db(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(i.access_token);!s&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new gi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Q1;const{data:a,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new gi;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const s={data:a.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(a){if(this._debug(i,"error",a),$e(a)){const o={data:null,error:a};return db(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,r)}catch(l){a.push(l)}});if(await Promise.all(o),a.length>0){for(let s=0;s<a.length;s+=1)console.error(a[s]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await yn(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Xu(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=tP(i);await Xu(this.storage,this.storageKey,a)}else{const i=tP(r);await Xu(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await yn(this.storage,this.storageKey),await yn(this.storage,this.storageKey+"-code-verifier"),await yn(this.storage,this.storageKey+"-user"),this.userStorage&&await yn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&xn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ku);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Ku);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ku}ms, refresh threshold is ${G2} ticks`),i<=G2&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof w5)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await Ru(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(s.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await He(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if($e(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await He(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if($e(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?qJ(e.webauthn.credential_response):KJ(e.webauthn.credential_response)})}:{code:e.code}),{data:s,error:l}=await He(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(r){if($e(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=await He(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:s}=o;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:HJ(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:GJ(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if($e(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=fb(n.access_token);let o=null;a.aal&&(o=a.aal);let s=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(s="aal2");const c=a.amr||[];return{data:{currentLevel:o,nextLevel:s,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await He(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new gi})})}catch(r){if($e(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new gi});const o=await He(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&xn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if($e(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new gi});const o=await He(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&xn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if($e(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await He(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new gi})})}catch(e){if($e(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await He(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new gi})})}catch(r){if($e(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(s=>s.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(s=>s.kid===e),n&&this.jwks_cached_at+tJ>i)return n;const{data:a,error:o}=await He(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(s=>s.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:p,error:v}=await this.getSession();if(v||!p.session)return this._returnResult({data:null,error:v});n=p.session.access_token}const{header:i,payload:a,signature:o,raw:{header:s,payload:l}}=fb(n);r!=null&&r.allowExpired||CJ(a.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:a,header:i,signature:o},error:null}}const d=EJ(i.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,dJ(`${s}.${l}`)))throw new X2("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(n){if($e(n))return this._returnResult({data:null,error:n});throw n}}}rm.nextInstanceID={};const nee=rm,iee="2.89.0";let Qh="";typeof Deno<"u"?Qh="deno":typeof document<"u"?Qh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Qh="react-native":Qh="node";const aee={"X-Client-Info":`supabase-js-${Qh}/${iee}`},oee={headers:aee},see={schema:"public"},lee={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},cee={};function nm(t){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nm(t)}function uee(t,e){if(nm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dee(t){var e=uee(t,"string");return nm(e)=="symbol"?e:e+""}function fee(t,e,r){return(e=dee(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ar(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lP(Object(r),!0).forEach(function(n){fee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const hee=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),pee=()=>Headers,mee=(t,e,r)=>{const n=hee(r),i=pee();return async(a,o)=>{var s;const l=(s=await e())!==null&&s!==void 0?s:t;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(a,Ar(Ar({},o),{},{headers:c}))}};function vee(t){return t.endsWith("/")?t:t+"/"}function gee(t,e){var r,n;const{db:i,auth:a,realtime:o,global:s}=t,{db:l,auth:c,realtime:d,global:f}=e,h={db:Ar(Ar({},l),i),auth:Ar(Ar({},c),a),realtime:Ar(Ar({},d),o),storage:{},global:Ar(Ar(Ar({},f),s),{},{headers:Ar(Ar({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=s==null?void 0:s.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function yee(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(vee(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var xee=class extends nee{constructor(t){super(t)}},wee=class{constructor(t,e,r){var n,i;this.supabaseUrl=t,this.supabaseKey=e;const a=yee(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const o=`sb-${a.hostname.split(".")[0]}-auth-token`,s={db:see,realtime:cee,auth:Ar(Ar({},lee),{},{storageKey:o}),global:oee},l=gee(r??{},s);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=mee(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Ar({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new JZ(new URL("rest/v1",a).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new YQ(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new KZ(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:a,flowType:o,lock:s,debug:l,throwOnError:c},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new xee({url:this.authUrl.href,headers:Ar(Ar({},h),d),storageKey:a,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,flowType:o,lock:s,debug:l,throwOnError:c,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new vQ(this.realtimeUrl.href,Ar(Ar({},t),{},{params:Ar(Ar({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const bee=(t,e,r)=>new wee(t,e,r);function _ee(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}_ee()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const See="https://szburzfibchvdyxksokr.supabase.co",Cee="sb_publishable_zti2zxT2mp4cVaEFhHzMeA_focEGt6N",Ne=bee(See,Cee,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}});function S5(){const[t,e]=b.useState(null),[r,n]=b.useState(null),[i,a]=b.useState(!0);return b.useEffect(()=>{const{data:{subscription:s}}=Ne.auth.onAuthStateChange((l,c)=>{n(c),e((c==null?void 0:c.user)??null),a(!1)});return Ne.auth.getSession().then(({data:{session:l}})=>{n(l),e((l==null?void 0:l.user)??null),a(!1)}),()=>s.unsubscribe()},[]),{user:t,session:r,loading:i,signOut:async()=>{await Ne.auth.signOut()}}}function Lo({children:t}){const{user:e,loading:r}=S5(),n=Y1();return b.useEffect(()=>{!r&&!e&&n("/auth",{replace:!0})},[e,r,n]),r?u.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsx(fi,{className:"h-8 w-8 animate-spin text-primary"}),u.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):e?u.jsx(u.Fragment,{children:t}):null}const im=nv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),te=b.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},a)=>{const o=n?pM:"button";return u.jsx(o,{className:he(im({variant:e,size:r,className:t})),ref:a,...i})});te.displayName="Button";const Ee=b.forwardRef(({className:t,type:e,...r},n)=>u.jsx("input",{type:e,className:he("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));Ee.displayName="Input";var Eee="Label",C5=b.forwardRef((t,e)=>u.jsx(Pe.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));C5.displayName=Eee;var E5=C5;const Aee=nv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ur=b.forwardRef(({className:t,...e},r)=>u.jsx(E5,{ref:r,className:he(Aee(),t),...e}));ur.displayName=E5.displayName;const Oee=()=>{const[t,e]=b.useState(!0),[r,n]=b.useState(""),[i,a]=b.useState(""),[o,s]=b.useState(""),[l,c]=b.useState(!1),[d,f]=b.useState(!0),h=Y1(),{toast:p}=Vr();b.useEffect(()=>{const{data:{subscription:m}}=Ne.auth.onAuthStateChange((g,y)=>{y!=null&&y.user&&h("/",{replace:!0}),f(!1)});return Ne.auth.getSession().then(({data:{session:g}})=>{g!=null&&g.user&&h("/",{replace:!0}),f(!1)}),()=>m.unsubscribe()},[h]);const v=async m=>{m.preventDefault(),c(!0);try{if(t){const{error:g}=await Ne.auth.signInWithPassword({email:r,password:i});if(g)throw g;p({title:"Welcome back!",description:"You have successfully logged in."})}else{const{error:g}=await Ne.auth.signUp({email:r,password:i,options:{emailRedirectTo:`${window.location.origin}/`,data:{full_name:o}}});if(g)throw g;p({title:"Account created!",description:"You can now log in with your credentials."}),e(!0)}}catch(g){let y=g.message;g.message.includes("User already registered")&&(y="This email is already registered. Please log in instead."),p({title:"Error",description:y,variant:"destructive"})}finally{c(!1)}};return d?u.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:u.jsx(fi,{className:"h-8 w-8 animate-spin text-primary"})}):u.jsxs("div",{className:"flex min-h-screen",children:[u.jsxs("div",{className:"hidden w-1/2 flex-col justify-between luxury-gradient p-12 lg:flex",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"font-display text-4xl font-bold text-primary-foreground",children:"Quppayam"}),u.jsx("p",{className:"mt-2 text-lg text-primary-foreground/80",children:"Boutique Management System"})]}),u.jsx("div",{className:"space-y-6",children:u.jsxs("blockquote",{className:"border-l-2 border-gold/50 pl-6 text-primary-foreground/90",children:[u.jsx("p",{className:"text-xl italic",children:'"Elegance is the only beauty that never fades."'}),u.jsx("footer",{className:"mt-2 text-sm text-primary-foreground/70",children:" Audrey Hepburn"})]})}),u.jsx("p",{className:"text-sm text-primary-foreground/60",children:" 2024 Quppayam. All rights reserved."})]}),u.jsx("div",{className:"flex w-full flex-col justify-center px-8 lg:w-1/2 lg:px-16",children:u.jsxs("div",{className:"mx-auto w-full max-w-md",children:[u.jsxs("div",{className:"mb-8 lg:hidden",children:[u.jsx("h1",{className:"font-display text-3xl font-bold text-primary",children:"Quppayam"}),u.jsx("p",{className:"text-muted-foreground",children:"Boutique Management System"})]}),u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"font-display text-2xl font-semibold text-foreground",children:t?"Welcome back":"Create an account"}),u.jsx("p",{className:"mt-2 text-muted-foreground",children:t?"Enter your credentials to access your account":"Enter your details to get started"})]}),u.jsxs("form",{onSubmit:v,className:"space-y-4",children:[!t&&u.jsxs("div",{className:"space-y-2",children:[u.jsx(ur,{htmlFor:"fullName",children:"Full Name"}),u.jsx(Ee,{id:"fullName",type:"text",placeholder:"Enter your full name",value:o,onChange:m=>s(m.target.value),required:!t})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ur,{htmlFor:"email",children:"Email"}),u.jsx(Ee,{id:"email",type:"email",placeholder:"Enter your email",value:r,onChange:m=>n(m.target.value),required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ur,{htmlFor:"password",children:"Password"}),u.jsx(Ee,{id:"password",type:"password",placeholder:"Enter your password",value:i,onChange:m=>a(m.target.value),required:!0,minLength:6})]}),u.jsxs(te,{type:"submit",className:"w-full",disabled:l,children:[l&&u.jsx(fi,{className:"mr-2 h-4 w-4 animate-spin"}),t?"Sign In":"Create Account"]})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsx("button",{type:"button",onClick:()=>e(!t),className:"text-sm text-muted-foreground hover:text-primary",children:t?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})})]})};var mb="focusScope.autoFocusOnMount",vb="focusScope.autoFocusOnUnmount",cP={bubbles:!1,cancelable:!0},Nee="FocusScope",uv=b.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=t,[s,l]=b.useState(null),c=Ir(i),d=Ir(a),f=b.useRef(null),h=Ke(e,m=>l(m)),p=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(n){let m=function(w){if(p.paused||!s)return;const S=w.target;s.contains(S)?f.current=S:Gs(f.current,{select:!0})},g=function(w){if(p.paused||!s)return;const S=w.relatedTarget;S!==null&&(s.contains(S)||Gs(f.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const _ of w)_.removedNodes.length>0&&Gs(s)};document.addEventListener("focusin",m),document.addEventListener("focusout",g);const x=new MutationObserver(y);return s&&x.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",g),x.disconnect()}}},[n,s,p.paused]),b.useEffect(()=>{if(s){dP.add(p);const m=document.activeElement;if(!s.contains(m)){const y=new CustomEvent(mb,cP);s.addEventListener(mb,c),s.dispatchEvent(y),y.defaultPrevented||(jee(Ree(A5(s)),{select:!0}),document.activeElement===m&&Gs(s))}return()=>{s.removeEventListener(mb,c),setTimeout(()=>{const y=new CustomEvent(vb,cP);s.addEventListener(vb,d),s.dispatchEvent(y),y.defaultPrevented||Gs(m??document.body,{select:!0}),s.removeEventListener(vb,d),dP.remove(p)},0)}}},[s,c,d,p]);const v=b.useCallback(m=>{if(!r&&!n||p.paused)return;const g=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,y=document.activeElement;if(g&&y){const x=m.currentTarget,[w,S]=Tee(x);w&&S?!m.shiftKey&&y===S?(m.preventDefault(),r&&Gs(w,{select:!0})):m.shiftKey&&y===w&&(m.preventDefault(),r&&Gs(S,{select:!0})):y===x&&m.preventDefault()}},[r,n,p.paused]);return u.jsx(Pe.div,{tabIndex:-1,...o,ref:h,onKeyDown:v})});uv.displayName=Nee;function jee(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Gs(n,{select:e}),document.activeElement!==r)return}function Tee(t){const e=A5(t),r=uP(e,t),n=uP(e.reverse(),t);return[r,n]}function A5(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function uP(t,e){for(const r of t)if(!Pee(r,{upTo:e}))return r}function Pee(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function kee(t){return t instanceof HTMLInputElement&&"select"in t}function Gs(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&kee(t)&&e&&t.select()}}var dP=Iee();function Iee(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=fP(t,e),t.unshift(e)},remove(e){var r;t=fP(t,e),(r=t[0])==null||r.resume()}}}function fP(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function Ree(t){return t.filter(e=>e.tagName!=="A")}var gb=0;function J1(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??hP()),document.body.insertAdjacentElement("beforeend",t[1]??hP()),gb++,()=>{gb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),gb--}},[])}function hP(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ng="right-scroll-bar-position",ig="width-before-scroll-bar",Dee="with-scroll-bars-hidden",Mee="--removed-body-scroll-bar-size";function yb(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function $ee(t,e){var r=b.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var Lee=typeof window<"u"?b.useLayoutEffect:b.useEffect,pP=new WeakMap;function Fee(t,e){var r=$ee(null,function(n){return t.forEach(function(i){return yb(i,n)})});return Lee(function(){var n=pP.get(r);if(n){var i=new Set(n),a=new Set(t),o=r.current;i.forEach(function(s){a.has(s)||yb(s,null)}),a.forEach(function(s){i.has(s)||yb(s,o)})}pP.set(r,t)},[t]),r}function Bee(t){return t}function Uee(t,e){e===void 0&&(e=Bee);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(a){var o=e(a,n);return r.push(o),function(){r=r.filter(function(s){return s!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(s){return a(s)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var s=r;r=[],s.forEach(a),o=r}var l=function(){var d=o;o=[],d.forEach(a)},c=function(){return Promise.resolve().then(l)};c(),r={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),r}}}};return i}function Vee(t){t===void 0&&(t={});var e=Uee(null);return e.options=fo({async:!0,ssr:!1},t),e}var O5=function(t){var e=t.sideCar,r=Jf(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return b.createElement(n,fo({},r))};O5.isSideCarExport=!0;function Wee(t,e){return t.useMedium(e),O5}var N5=Vee(),xb=function(){},ex=b.forwardRef(function(t,e){var r=b.useRef(null),n=b.useState({onScrollCapture:xb,onWheelCapture:xb,onTouchMoveCapture:xb}),i=n[0],a=n[1],o=t.forwardProps,s=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,p=t.noRelative,v=t.noIsolation,m=t.inert,g=t.allowPinchZoom,y=t.as,x=y===void 0?"div":y,w=t.gapMode,S=Jf(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,C=Fee([r,e]),E=fo(fo({},S),i);return b.createElement(b.Fragment,null,d&&b.createElement(_,{sideCar:N5,removeScrollBar:c,shards:f,noRelative:p,noIsolation:v,inert:m,setCallbacks:a,allowPinchZoom:!!g,lockRef:r,gapMode:w}),o?b.cloneElement(b.Children.only(s),fo(fo({},E),{ref:C})):b.createElement(x,fo({},E,{className:l,ref:C}),s))});ex.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ex.classNames={fullWidth:ig,zeroRight:ng};var zee=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Hee(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=zee();return e&&t.setAttribute("nonce",e),t}function Gee(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function qee(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Kee=function(){var t=0,e=null;return{add:function(r){t==0&&(e=Hee())&&(Gee(e,r),qee(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Xee=function(){var t=Kee();return function(e,r){b.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},j5=function(){var t=Xee(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},Yee={left:0,top:0,right:0,gap:0},wb=function(t){return parseInt(t||"",10)||0},Zee=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[wb(r),wb(n),wb(i)]},Qee=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Yee;var e=Zee(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},Jee=j5(),jd="data-scroll-locked",ete=function(t,e,r,n){var i=t.left,a=t.top,o=t.right,s=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(Dee,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(s,"px ").concat(n,`;
  }
  body[`).concat(jd,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ng,` {
    right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(ig,` {
    margin-right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(ng," .").concat(ng,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(ig," .").concat(ig,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(jd,`] {
    `).concat(Mee,": ").concat(s,`px;
  }
`)},mP=function(){var t=parseInt(document.body.getAttribute(jd)||"0",10);return isFinite(t)?t:0},tte=function(){b.useEffect(function(){return document.body.setAttribute(jd,(mP()+1).toString()),function(){var t=mP()-1;t<=0?document.body.removeAttribute(jd):document.body.setAttribute(jd,t.toString())}},[])},rte=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;tte();var a=b.useMemo(function(){return Qee(i)},[i]);return b.createElement(Jee,{styles:ete(a,!e,i,r?"":"!important")})},Y2=!1;if(typeof window<"u")try{var v0=Object.defineProperty({},"passive",{get:function(){return Y2=!0,!0}});window.addEventListener("test",v0,v0),window.removeEventListener("test",v0,v0)}catch{Y2=!1}var Lu=Y2?{passive:!1}:!1,nte=function(t){return t.tagName==="TEXTAREA"},T5=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!nte(t)&&r[e]==="visible")},ite=function(t){return T5(t,"overflowY")},ate=function(t){return T5(t,"overflowX")},vP=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=P5(t,n);if(i){var a=k5(t,n),o=a[1],s=a[2];if(o>s)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},ote=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},ste=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},P5=function(t,e){return t==="v"?ite(e):ate(e)},k5=function(t,e){return t==="v"?ote(e):ste(e)},lte=function(t,e){return t==="h"&&e==="rtl"?-1:1},cte=function(t,e,r,n,i){var a=lte(t,window.getComputedStyle(e).direction),o=a*n,s=r.target,l=e.contains(s),c=!1,d=o>0,f=0,h=0;do{if(!s)break;var p=k5(t,s),v=p[0],m=p[1],g=p[2],y=m-g-a*v;(v||y)&&P5(t,s)&&(f+=y,h+=v);var x=s.parentNode;s=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!l&&s!==document.body||l&&(e.contains(s)||e===s));return(d&&(Math.abs(f)<1||!i)||!d&&(Math.abs(h)<1||!i))&&(c=!0),c},g0=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},gP=function(t){return[t.deltaX,t.deltaY]},yP=function(t){return t&&"current"in t?t.current:t},ute=function(t,e){return t[0]===e[0]&&t[1]===e[1]},dte=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},fte=0,Fu=[];function hte(t){var e=b.useRef([]),r=b.useRef([0,0]),n=b.useRef(),i=b.useState(fte++)[0],a=b.useState(j5)[0],o=b.useRef(t);b.useEffect(function(){o.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var m=HZ([t.lockRef.current],(t.shards||[]).map(yP),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var s=b.useCallback(function(m,g){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var y=g0(m),x=r.current,w="deltaX"in m?m.deltaX:x[0]-y[0],S="deltaY"in m?m.deltaY:x[1]-y[1],_,C=m.target,E=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in m&&E==="h"&&C.type==="range")return!1;var A=vP(E,C);if(!A)return!0;if(A?_=E:(_=E==="v"?"h":"v",A=vP(E,C)),!A)return!1;if(!n.current&&"changedTouches"in m&&(w||S)&&(n.current=_),!_)return!0;var O=n.current||_;return cte(O,g,m,O==="h"?w:S,!0)},[]),l=b.useCallback(function(m){var g=m;if(!(!Fu.length||Fu[Fu.length-1]!==a)){var y="deltaY"in g?gP(g):g0(g),x=e.current.filter(function(_){return _.name===g.type&&(_.target===g.target||g.target===_.shadowParent)&&ute(_.delta,y)})[0];if(x&&x.should){g.cancelable&&g.preventDefault();return}if(!x){var w=(o.current.shards||[]).map(yP).filter(Boolean).filter(function(_){return _.contains(g.target)}),S=w.length>0?s(g,w[0]):!o.current.noIsolation;S&&g.cancelable&&g.preventDefault()}}},[]),c=b.useCallback(function(m,g,y,x){var w={name:m,delta:g,target:y,should:x,shadowParent:pte(y)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(S){return S!==w})},1)},[]),d=b.useCallback(function(m){r.current=g0(m),n.current=void 0},[]),f=b.useCallback(function(m){c(m.type,gP(m),m.target,s(m,t.lockRef.current))},[]),h=b.useCallback(function(m){c(m.type,g0(m),m.target,s(m,t.lockRef.current))},[]);b.useEffect(function(){return Fu.push(a),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Lu),document.addEventListener("touchmove",l,Lu),document.addEventListener("touchstart",d,Lu),function(){Fu=Fu.filter(function(m){return m!==a}),document.removeEventListener("wheel",l,Lu),document.removeEventListener("touchmove",l,Lu),document.removeEventListener("touchstart",d,Lu)}},[]);var p=t.removeScrollBar,v=t.inert;return b.createElement(b.Fragment,null,v?b.createElement(a,{styles:dte(i)}):null,p?b.createElement(rte,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function pte(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const mte=Wee(N5,hte);var dv=b.forwardRef(function(t,e){return b.createElement(ex,fo({},t,{ref:e,sideCar:mte}))});dv.classNames=ex.classNames;var vte=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Bu=new WeakMap,y0=new WeakMap,x0={},bb=0,I5=function(t){return t&&(t.host||I5(t.parentNode))},gte=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=I5(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},yte=function(t,e,r,n){var i=gte(e,Array.isArray(t)?t:[t]);x0[r]||(x0[r]=new WeakMap);var a=x0[r],o=[],s=new Set,l=new Set(i),c=function(f){!f||s.has(f)||(s.add(f),c(f.parentNode))};i.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(s.has(h))d(h);else try{var p=h.getAttribute(n),v=p!==null&&p!=="false",m=(Bu.get(h)||0)+1,g=(a.get(h)||0)+1;Bu.set(h,m),a.set(h,g),o.push(h),m===1&&v&&y0.set(h,!0),g===1&&h.setAttribute(r,"true"),v||h.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(e),s.clear(),bb++,function(){o.forEach(function(f){var h=Bu.get(f)-1,p=a.get(f)-1;Bu.set(f,h),a.set(f,p),h||(y0.has(f)||f.removeAttribute(n),y0.delete(f)),p||f.removeAttribute(r)}),bb--,bb||(Bu=new WeakMap,Bu=new WeakMap,y0=new WeakMap,x0={})}},tx=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=vte(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),yte(n,i,r,"aria-hidden")):function(){return null}},rx="Dialog",[R5,D5]=vn(rx),[xte,Qa]=R5(rx),M5=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!0}=t,s=b.useRef(null),l=b.useRef(null),[c,d]=Di({prop:n,defaultProp:i??!1,onChange:a,caller:rx});return u.jsx(xte,{scope:e,triggerRef:s,contentRef:l,contentId:Ti(),titleId:Ti(),descriptionId:Ti(),open:c,onOpenChange:d,onOpenToggle:b.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};M5.displayName=rx;var $5="DialogTrigger",L5=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Qa($5,r),a=Ke(e,i.triggerRef);return u.jsx(Pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":RA(i.open),...n,ref:a,onClick:ae(t.onClick,i.onOpenToggle)})});L5.displayName=$5;var kA="DialogPortal",[wte,F5]=R5(kA,{forceMount:void 0}),B5=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,a=Qa(kA,e);return u.jsx(wte,{scope:e,forceMount:r,children:b.Children.map(n,o=>u.jsx(sn,{present:r||a.open,children:u.jsx(zf,{asChild:!0,container:i,children:o})}))})};B5.displayName=kA;var Gg="DialogOverlay",U5=b.forwardRef((t,e)=>{const r=F5(Gg,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=Qa(Gg,t.__scopeDialog);return a.modal?u.jsx(sn,{present:n||a.open,children:u.jsx(_te,{...i,ref:e})}):null});U5.displayName=Gg;var bte=Rl("DialogOverlay.RemoveScroll"),_te=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Qa(Gg,r);return u.jsx(dv,{as:bte,allowPinchZoom:!0,shards:[i.contentRef],children:u.jsx(Pe.div,{"data-state":RA(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),tu="DialogContent",V5=b.forwardRef((t,e)=>{const r=F5(tu,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=Qa(tu,t.__scopeDialog);return u.jsx(sn,{present:n||a.open,children:a.modal?u.jsx(Ste,{...i,ref:e}):u.jsx(Cte,{...i,ref:e})})});V5.displayName=tu;var Ste=b.forwardRef((t,e)=>{const r=Qa(tu,t.__scopeDialog),n=b.useRef(null),i=Ke(e,r.contentRef,n);return b.useEffect(()=>{const a=n.current;if(a)return tx(a)},[]),u.jsx(W5,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ae(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ae(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,s=o.button===0&&o.ctrlKey===!0;(o.button===2||s)&&a.preventDefault()}),onFocusOutside:ae(t.onFocusOutside,a=>a.preventDefault())})}),Cte=b.forwardRef((t,e)=>{const r=Qa(tu,t.__scopeDialog),n=b.useRef(!1),i=b.useRef(!1);return u.jsx(W5,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,s;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(n.current||(s=r.triggerRef.current)==null||s.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((c=r.triggerRef.current)==null?void 0:c.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),W5=b.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=t,s=Qa(tu,r),l=b.useRef(null),c=Ke(e,l);return J1(),u.jsxs(u.Fragment,{children:[u.jsx(uv,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:u.jsx(mu,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":RA(s.open),...o,ref:c,onDismiss:()=>s.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(Ate,{titleId:s.titleId}),u.jsx(Nte,{contentRef:l,descriptionId:s.descriptionId})]})]})}),IA="DialogTitle",z5=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Qa(IA,r);return u.jsx(Pe.h2,{id:i.titleId,...n,ref:e})});z5.displayName=IA;var H5="DialogDescription",G5=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Qa(H5,r);return u.jsx(Pe.p,{id:i.descriptionId,...n,ref:e})});G5.displayName=H5;var q5="DialogClose",K5=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Qa(q5,r);return u.jsx(Pe.button,{type:"button",...n,ref:e,onClick:ae(t.onClick,()=>i.onOpenChange(!1))})});K5.displayName=q5;function RA(t){return t?"open":"closed"}var X5="DialogTitleWarning",[Ete,Y5]=nG(X5,{contentName:tu,titleName:IA,docsSlug:"dialog"}),Ate=({titleId:t})=>{const e=Y5(X5),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},Ote="DialogDescriptionWarning",Nte=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Y5(Ote).contentName}}.`;return b.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},DA=M5,MA=L5,$A=B5,fv=U5,hv=V5,pv=z5,mv=G5,nx=K5;const jte=DA,Tte=MA,Pte=$A,Z5=b.forwardRef(({className:t,...e},r)=>u.jsx(fv,{className:he("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));Z5.displayName=fv.displayName;const kte=nv("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Q5=b.forwardRef(({side:t="right",className:e,children:r,...n},i)=>u.jsxs(Pte,{children:[u.jsx(Z5,{}),u.jsxs(hv,{ref:i,className:he(kte({side:t}),e),...n,children:[r,u.jsxs(nx,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[u.jsx(U1,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Q5.displayName=hv.displayName;const Ite=b.forwardRef(({className:t,...e},r)=>u.jsx(pv,{ref:r,className:he("text-lg font-semibold text-foreground",t),...e}));Ite.displayName=pv.displayName;const Rte=b.forwardRef(({className:t,...e},r)=>u.jsx(mv,{ref:r,className:he("text-sm text-muted-foreground",t),...e}));Rte.displayName=mv.displayName;const Dte=[{name:"Dashboard",href:"/",icon:rq},{name:"Customers",href:"/customers",icon:ef},{name:"Orders",href:"/orders",icon:xu},{name:"Measurements",href:"/measurements",icon:Zc},{name:"Inventory",href:"/inventory",icon:Dl},{name:"Employees",href:"/employees",icon:fq},{name:"Stores",href:"/stores",icon:WM},{name:"Reports",href:"/reports",icon:YG}],Mte=[{name:"Settings",href:"/settings",icon:cq}];function J5({collapsed:t,onCollapse:e,onNavigate:r}){const n=Qf();return u.jsxs("div",{className:"flex h-full flex-col",children:[u.jsxs("div",{className:"flex h-20 items-center justify-between border-b border-sidebar-border px-4",children:[u.jsxs(ab,{to:"/",className:"flex items-center gap-3",onClick:r,children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-sidebar-accent",children:u.jsx("span",{className:"font-display text-xl font-bold text-gold",children:"Q"})}),!t&&u.jsx("span",{className:"font-display text-xl font-semibold tracking-wide text-sidebar-foreground",children:"Quppayam"})]}),e&&u.jsx("button",{onClick:e,className:"flex h-8 w-8 items-center justify-center rounded-lg text-sidebar-foreground/70 transition-colors hover:bg-sidebar-accent hover:text-sidebar-foreground",children:t?u.jsx(F1,{size:18}):u.jsx(tA,{size:18})})]}),u.jsx("nav",{className:"flex-1 space-y-1 px-3 py-4",children:Dte.map(i=>{const a=n.pathname===i.href;return u.jsxs(ab,{to:i.href,onClick:r,className:he("group flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium transition-all duration-200",a?"bg-sidebar-accent text-sidebar-foreground":"text-sidebar-foreground/70 hover:bg-sidebar-accent/50 hover:text-sidebar-foreground"),children:[u.jsx(i.icon,{size:20,className:he("flex-shrink-0 transition-colors",a?"text-gold":"text-sidebar-foreground/60 group-hover:text-sidebar-foreground")}),!t&&u.jsx("span",{children:i.name})]},i.name)})}),u.jsx("div",{className:"border-t border-sidebar-border px-3 py-4",children:Mte.map(i=>{const a=n.pathname===i.href;return u.jsxs(ab,{to:i.href,onClick:r,className:he("group flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium transition-all duration-200",a?"bg-sidebar-accent text-sidebar-foreground":"text-sidebar-foreground/70 hover:bg-sidebar-accent/50 hover:text-sidebar-foreground"),children:[u.jsx(i.icon,{size:20,className:he("flex-shrink-0",a?"text-gold":"text-sidebar-foreground/60")}),!t&&u.jsx("span",{children:i.name})]},i.name)})})]})}function $te({collapsed:t,onCollapse:e}){return u.jsx("aside",{className:he("fixed left-0 top-0 z-40 hidden h-screen bg-sidebar transition-all duration-300 ease-in-out lg:block",t?"w-20":"w-64"),children:u.jsx(J5,{collapsed:t,onCollapse:e})})}function Lte(){const[t,e]=b.useState(!1);return u.jsxs(jte,{open:t,onOpenChange:e,children:[u.jsx(Tte,{asChild:!0,children:u.jsxs(te,{variant:"ghost",size:"icon",className:"lg:hidden",children:[u.jsx(aq,{className:"h-6 w-6"}),u.jsx("span",{className:"sr-only",children:"Toggle menu"})]})}),u.jsx(Q5,{side:"left",className:"w-64 bg-sidebar p-0",children:u.jsx(J5,{collapsed:!1,onNavigate:()=>e(!1)})})]})}var Fte=b.createContext(void 0);function _u(t){const e=b.useContext(Fte);return t||e||"ltr"}var _b="rovingFocusGroup.onEntryFocus",Bte={bubbles:!1,cancelable:!0},vv="RovingFocusGroup",[Z2,e$,Ute]=tv(vv),[Vte,eh]=vn(vv,[Ute]),[Wte,zte]=Vte(vv),t$=b.forwardRef((t,e)=>u.jsx(Z2.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(Z2.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(Hte,{...t,ref:e})})}));t$.displayName=vv;var Hte=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=t,h=b.useRef(null),p=Ke(e,h),v=_u(a),[m,g]=Di({prop:o,defaultProp:s??null,onChange:l,caller:vv}),[y,x]=b.useState(!1),w=Ir(c),S=e$(r),_=b.useRef(!1),[C,E]=b.useState(0);return b.useEffect(()=>{const A=h.current;if(A)return A.addEventListener(_b,w),()=>A.removeEventListener(_b,w)},[w]),u.jsx(Wte,{scope:r,orientation:n,dir:v,loop:i,currentTabStopId:m,onItemFocus:b.useCallback(A=>g(A),[g]),onItemShiftTab:b.useCallback(()=>x(!0),[]),onFocusableItemAdd:b.useCallback(()=>E(A=>A+1),[]),onFocusableItemRemove:b.useCallback(()=>E(A=>A-1),[]),children:u.jsx(Pe.div,{tabIndex:y||C===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...t.style},onMouseDown:ae(t.onMouseDown,()=>{_.current=!0}),onFocus:ae(t.onFocus,A=>{const O=!_.current;if(A.target===A.currentTarget&&O&&!y){const T=new CustomEvent(_b,Bte);if(A.currentTarget.dispatchEvent(T),!T.defaultPrevented){const N=S().filter(L=>L.focusable),P=N.find(L=>L.active),$=N.find(L=>L.id===m),F=[P,$,...N].filter(Boolean).map(L=>L.ref.current);i$(F,d)}}_.current=!1}),onBlur:ae(t.onBlur,()=>x(!1))})})}),r$="RovingFocusGroupItem",n$=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,children:o,...s}=t,l=Ti(),c=a||l,d=zte(r$,r),f=d.currentTabStopId===c,h=e$(r),{onFocusableItemAdd:p,onFocusableItemRemove:v,currentTabStopId:m}=d;return b.useEffect(()=>{if(n)return p(),()=>v()},[n,p,v]),u.jsx(Z2.ItemSlot,{scope:r,id:c,focusable:n,active:i,children:u.jsx(Pe.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...s,ref:e,onMouseDown:ae(t.onMouseDown,g=>{n?d.onItemFocus(c):g.preventDefault()}),onFocus:ae(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:ae(t.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){d.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const y=Kte(g,d.orientation,d.dir);if(y!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let w=h().filter(S=>S.focusable).map(S=>S.ref.current);if(y==="last")w.reverse();else if(y==="prev"||y==="next"){y==="prev"&&w.reverse();const S=w.indexOf(g.currentTarget);w=d.loop?Xte(w,S+1):w.slice(S+1)}setTimeout(()=>i$(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:m!=null}):o})})});n$.displayName=r$;var Gte={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function qte(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Kte(t,e,r){const n=qte(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Gte[n]}function i$(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function Xte(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var LA=t$,FA=n$,Q2=["Enter"," "],Yte=["ArrowDown","PageUp","Home"],a$=["ArrowUp","PageDown","End"],Zte=[...Yte,...a$],Qte={ltr:[...Q2,"ArrowRight"],rtl:[...Q2,"ArrowLeft"]},Jte={ltr:["ArrowLeft"],rtl:["ArrowRight"]},gv="Menu",[am,ere,tre]=tv(gv),[Su,o$]=vn(gv,[tre,Hl,eh]),ix=Hl(),s$=eh(),[rre,Cu]=Su(gv),[nre,yv]=Su(gv),l$=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:i,onOpenChange:a,modal:o=!0}=t,s=ix(e),[l,c]=b.useState(null),d=b.useRef(!1),f=Ir(a),h=_u(i);return b.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),u.jsx(xA,{...s,children:u.jsx(rre,{scope:e,open:r,onOpenChange:f,content:l,onContentChange:c,children:u.jsx(nre,{scope:e,onClose:b.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};l$.displayName=gv;var ire="MenuAnchor",BA=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=ix(r);return u.jsx(sv,{...i,...n,ref:e})});BA.displayName=ire;var UA="MenuPortal",[are,c$]=Su(UA,{forceMount:void 0}),u$=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:i}=t,a=Cu(UA,e);return u.jsx(are,{scope:e,forceMount:r,children:u.jsx(sn,{present:r||a.open,children:u.jsx(zf,{asChild:!0,container:i,children:n})})})};u$.displayName=UA;var la="MenuContent",[ore,VA]=Su(la),d$=b.forwardRef((t,e)=>{const r=c$(la,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,a=Cu(la,t.__scopeMenu),o=yv(la,t.__scopeMenu);return u.jsx(am.Provider,{scope:t.__scopeMenu,children:u.jsx(sn,{present:n||a.open,children:u.jsx(am.Slot,{scope:t.__scopeMenu,children:o.modal?u.jsx(sre,{...i,ref:e}):u.jsx(lre,{...i,ref:e})})})})}),sre=b.forwardRef((t,e)=>{const r=Cu(la,t.__scopeMenu),n=b.useRef(null),i=Ke(e,n);return b.useEffect(()=>{const a=n.current;if(a)return tx(a)},[]),u.jsx(WA,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:ae(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),lre=b.forwardRef((t,e)=>{const r=Cu(la,t.__scopeMenu);return u.jsx(WA,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),cre=Rl("MenuContent.ScrollLock"),WA=b.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:s,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:v,...m}=t,g=Cu(la,r),y=yv(la,r),x=ix(r),w=s$(r),S=ere(r),[_,C]=b.useState(null),E=b.useRef(null),A=Ke(e,E,g.onContentChange),O=b.useRef(0),T=b.useRef(""),N=b.useRef(0),P=b.useRef(null),$=b.useRef("right"),D=b.useRef(0),F=v?dv:b.Fragment,L=v?{as:cre,allowPinchZoom:!0}:void 0,M=R=>{var J,me;const V=T.current+R,W=S().filter(ee=>!ee.disabled),z=document.activeElement,K=(J=W.find(ee=>ee.ref.current===z))==null?void 0:J.textValue,re=W.map(ee=>ee.textValue),ue=bre(re,V,K),le=(me=W.find(ee=>ee.textValue===ue))==null?void 0:me.ref.current;(function ee(ne){T.current=ne,window.clearTimeout(O.current),ne!==""&&(O.current=window.setTimeout(()=>ee(""),1e3))})(V),le&&setTimeout(()=>le.focus())};b.useEffect(()=>()=>window.clearTimeout(O.current),[]),J1();const j=b.useCallback(R=>{var W,z;return $.current===((W=P.current)==null?void 0:W.side)&&Sre(R,(z=P.current)==null?void 0:z.area)},[]);return u.jsx(ore,{scope:r,searchRef:T,onItemEnter:b.useCallback(R=>{j(R)&&R.preventDefault()},[j]),onItemLeave:b.useCallback(R=>{var V;j(R)||((V=E.current)==null||V.focus(),C(null))},[j]),onTriggerLeave:b.useCallback(R=>{j(R)&&R.preventDefault()},[j]),pointerGraceTimerRef:N,onPointerGraceIntentChange:b.useCallback(R=>{P.current=R},[]),children:u.jsx(F,{...L,children:u.jsx(uv,{asChild:!0,trapped:i,onMountAutoFocus:ae(a,R=>{var V;R.preventDefault(),(V=E.current)==null||V.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:u.jsx(mu,{asChild:!0,disableOutsidePointerEvents:s,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:u.jsx(LA,{asChild:!0,...w,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:_,onCurrentTabStopIdChange:C,onEntryFocus:ae(l,R=>{y.isUsingKeyboardRef.current||R.preventDefault()}),preventScrollOnEntryFocus:!0,children:u.jsx(H1,{role:"menu","aria-orientation":"vertical","data-state":O$(g.open),"data-radix-menu-content":"",dir:y.dir,...x,...m,ref:A,style:{outline:"none",...m.style},onKeyDown:ae(m.onKeyDown,R=>{const W=R.target.closest("[data-radix-menu-content]")===R.currentTarget,z=R.ctrlKey||R.altKey||R.metaKey,K=R.key.length===1;W&&(R.key==="Tab"&&R.preventDefault(),!z&&K&&M(R.key));const re=E.current;if(R.target!==re||!Zte.includes(R.key))return;R.preventDefault();const le=S().filter(J=>!J.disabled).map(J=>J.ref.current);a$.includes(R.key)&&le.reverse(),xre(le)}),onBlur:ae(t.onBlur,R=>{R.currentTarget.contains(R.target)||(window.clearTimeout(O.current),T.current="")}),onPointerMove:ae(t.onPointerMove,om(R=>{const V=R.target,W=D.current!==R.clientX;if(R.currentTarget.contains(V)&&W){const z=R.clientX>D.current?"right":"left";$.current=z,D.current=R.clientX}}))})})})})})})});d$.displayName=la;var ure="MenuGroup",zA=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return u.jsx(Pe.div,{role:"group",...n,ref:e})});zA.displayName=ure;var dre="MenuLabel",f$=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return u.jsx(Pe.div,{...n,ref:e})});f$.displayName=dre;var qg="MenuItem",xP="menu.itemSelect",ax=b.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...i}=t,a=b.useRef(null),o=yv(qg,t.__scopeMenu),s=VA(qg,t.__scopeMenu),l=Ke(e,a),c=b.useRef(!1),d=()=>{const f=a.current;if(!r&&f){const h=new CustomEvent(xP,{bubbles:!0,cancelable:!0});f.addEventListener(xP,p=>n==null?void 0:n(p),{once:!0}),ZE(f,h),h.defaultPrevented?c.current=!1:o.onClose()}};return u.jsx(h$,{...i,ref:l,disabled:r,onClick:ae(t.onClick,d),onPointerDown:f=>{var h;(h=t.onPointerDown)==null||h.call(t,f),c.current=!0},onPointerUp:ae(t.onPointerUp,f=>{var h;c.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:ae(t.onKeyDown,f=>{const h=s.searchRef.current!=="";r||h&&f.key===" "||Q2.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});ax.displayName=qg;var h$=b.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...a}=t,o=VA(qg,r),s=s$(r),l=b.useRef(null),c=Ke(e,l),[d,f]=b.useState(!1),[h,p]=b.useState("");return b.useEffect(()=>{const v=l.current;v&&p((v.textContent??"").trim())},[a.children]),u.jsx(am.ItemSlot,{scope:r,disabled:n,textValue:i??h,children:u.jsx(FA,{asChild:!0,...s,focusable:!n,children:u.jsx(Pe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:c,onPointerMove:ae(t.onPointerMove,om(v=>{n?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ae(t.onPointerLeave,om(v=>o.onItemLeave(v))),onFocus:ae(t.onFocus,()=>f(!0)),onBlur:ae(t.onBlur,()=>f(!1))})})})}),fre="MenuCheckboxItem",p$=b.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...i}=t;return u.jsx(x$,{scope:t.__scopeMenu,checked:r,children:u.jsx(ax,{role:"menuitemcheckbox","aria-checked":Kg(r)?"mixed":r,...i,ref:e,"data-state":GA(r),onSelect:ae(i.onSelect,()=>n==null?void 0:n(Kg(r)?!0:!r),{checkForDefaultPrevented:!1})})})});p$.displayName=fre;var m$="MenuRadioGroup",[hre,pre]=Su(m$,{value:void 0,onValueChange:()=>{}}),v$=b.forwardRef((t,e)=>{const{value:r,onValueChange:n,...i}=t,a=Ir(n);return u.jsx(hre,{scope:t.__scopeMenu,value:r,onValueChange:a,children:u.jsx(zA,{...i,ref:e})})});v$.displayName=m$;var g$="MenuRadioItem",y$=b.forwardRef((t,e)=>{const{value:r,...n}=t,i=pre(g$,t.__scopeMenu),a=r===i.value;return u.jsx(x$,{scope:t.__scopeMenu,checked:a,children:u.jsx(ax,{role:"menuitemradio","aria-checked":a,...n,ref:e,"data-state":GA(a),onSelect:ae(n.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,r)},{checkForDefaultPrevented:!1})})})});y$.displayName=g$;var HA="MenuItemIndicator",[x$,mre]=Su(HA,{checked:!1}),w$=b.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...i}=t,a=mre(HA,r);return u.jsx(sn,{present:n||Kg(a.checked)||a.checked===!0,children:u.jsx(Pe.span,{...i,ref:e,"data-state":GA(a.checked)})})});w$.displayName=HA;var vre="MenuSeparator",b$=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return u.jsx(Pe.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});b$.displayName=vre;var gre="MenuArrow",_$=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=ix(r);return u.jsx(G1,{...i,...n,ref:e})});_$.displayName=gre;var yre="MenuSub",[cMe,S$]=Su(yre),Jh="MenuSubTrigger",C$=b.forwardRef((t,e)=>{const r=Cu(Jh,t.__scopeMenu),n=yv(Jh,t.__scopeMenu),i=S$(Jh,t.__scopeMenu),a=VA(Jh,t.__scopeMenu),o=b.useRef(null),{pointerGraceTimerRef:s,onPointerGraceIntentChange:l}=a,c={__scopeMenu:t.__scopeMenu},d=b.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return b.useEffect(()=>d,[d]),b.useEffect(()=>{const f=s.current;return()=>{window.clearTimeout(f),l(null)}},[s,l]),u.jsx(BA,{asChild:!0,...c,children:u.jsx(h$,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":O$(r.open),...t,ref:D1(e,i.onTriggerChange),onClick:f=>{var h;(h=t.onClick)==null||h.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:ae(t.onPointerMove,om(f=>{a.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!r.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:ae(t.onPointerLeave,om(f=>{var p,v;d();const h=(p=r.content)==null?void 0:p.getBoundingClientRect();if(h){const m=(v=r.content)==null?void 0:v.dataset.side,g=m==="right",y=g?-5:5,x=h[g?"left":"right"],w=h[g?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x,y:h.bottom}],side:m}),window.clearTimeout(s.current),s.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:ae(t.onKeyDown,f=>{var p;const h=a.searchRef.current!=="";t.disabled||h&&f.key===" "||Qte[n.dir].includes(f.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),f.preventDefault())})})})});C$.displayName=Jh;var E$="MenuSubContent",A$=b.forwardRef((t,e)=>{const r=c$(la,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,a=Cu(la,t.__scopeMenu),o=yv(la,t.__scopeMenu),s=S$(E$,t.__scopeMenu),l=b.useRef(null),c=Ke(e,l);return u.jsx(am.Provider,{scope:t.__scopeMenu,children:u.jsx(sn,{present:n||a.open,children:u.jsx(am.Slot,{scope:t.__scopeMenu,children:u.jsx(WA,{id:s.contentId,"aria-labelledby":s.triggerId,...i,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ae(t.onFocusOutside,d=>{d.target!==s.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:ae(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:ae(t.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=Jte[o.dir].includes(d.key);f&&h&&(a.onOpenChange(!1),(p=s.trigger)==null||p.focus(),d.preventDefault())})})})})})});A$.displayName=E$;function O$(t){return t?"open":"closed"}function Kg(t){return t==="indeterminate"}function GA(t){return Kg(t)?"indeterminate":t?"checked":"unchecked"}function xre(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function wre(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function bre(t,e,r){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let o=wre(t,Math.max(a,0));i.length===1&&(o=o.filter(c=>c!==r));const l=o.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==r?l:void 0}function _re(t,e){const{x:r,y:n}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const s=e[a],l=e[o],c=s.x,d=s.y,f=l.x,h=l.y;d>n!=h>n&&r<(f-c)*(n-d)/(h-d)+c&&(i=!i)}return i}function Sre(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return _re(r,e)}function om(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Cre=l$,Ere=BA,Are=u$,Ore=d$,Nre=zA,jre=f$,Tre=ax,Pre=p$,kre=v$,Ire=y$,Rre=w$,Dre=b$,Mre=_$,$re=C$,Lre=A$,ox="DropdownMenu",[Fre,uMe]=vn(ox,[o$]),Yn=o$(),[Bre,N$]=Fre(ox),j$=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:i,defaultOpen:a,onOpenChange:o,modal:s=!0}=t,l=Yn(e),c=b.useRef(null),[d,f]=Di({prop:i,defaultProp:a??!1,onChange:o,caller:ox});return u.jsx(Bre,{scope:e,triggerId:Ti(),triggerRef:c,contentId:Ti(),open:d,onOpenChange:f,onOpenToggle:b.useCallback(()=>f(h=>!h),[f]),modal:s,children:u.jsx(Cre,{...l,open:d,onOpenChange:f,dir:n,modal:s,children:r})})};j$.displayName=ox;var T$="DropdownMenuTrigger",P$=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=t,a=N$(T$,r),o=Yn(r);return u.jsx(Ere,{asChild:!0,...o,children:u.jsx(Pe.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:D1(e,a.triggerRef),onPointerDown:ae(t.onPointerDown,s=>{!n&&s.button===0&&s.ctrlKey===!1&&(a.onOpenToggle(),a.open||s.preventDefault())}),onKeyDown:ae(t.onKeyDown,s=>{n||(["Enter"," "].includes(s.key)&&a.onOpenToggle(),s.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(s.key)&&s.preventDefault())})})})});P$.displayName=T$;var Ure="DropdownMenuPortal",k$=t=>{const{__scopeDropdownMenu:e,...r}=t,n=Yn(e);return u.jsx(Are,{...n,...r})};k$.displayName=Ure;var I$="DropdownMenuContent",R$=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=N$(I$,r),a=Yn(r),o=b.useRef(!1);return u.jsx(Ore,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...n,ref:e,onCloseAutoFocus:ae(t.onCloseAutoFocus,s=>{var l;o.current||(l=i.triggerRef.current)==null||l.focus(),o.current=!1,s.preventDefault()}),onInteractOutside:ae(t.onInteractOutside,s=>{const l=s.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!i.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});R$.displayName=I$;var Vre="DropdownMenuGroup",Wre=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Yn(r);return u.jsx(Nre,{...i,...n,ref:e})});Wre.displayName=Vre;var zre="DropdownMenuLabel",D$=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Yn(r);return u.jsx(jre,{...i,...n,ref:e})});D$.displayName=zre;var Hre="DropdownMenuItem",M$=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Yn(r);return u.jsx(Tre,{...i,...n,ref:e})});M$.displayName=Hre;var Gre="DropdownMenuCheckboxItem",$$=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Yn(r);return u.jsx(Pre,{...i,...n,ref:e})});$$.displayName=Gre;var qre="DropdownMenuRadioGroup",Kre=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Yn(r);return u.jsx(kre,{...i,...n,ref:e})});Kre.displayName=qre;var Xre="DropdownMenuRadioItem",L$=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Yn(r);return u.jsx(Ire,{...i,...n,ref:e})});L$.displayName=Xre;var Yre="DropdownMenuItemIndicator",F$=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Yn(r);return u.jsx(Rre,{...i,...n,ref:e})});F$.displayName=Yre;var Zre="DropdownMenuSeparator",B$=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Yn(r);return u.jsx(Dre,{...i,...n,ref:e})});B$.displayName=Zre;var Qre="DropdownMenuArrow",Jre=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Yn(r);return u.jsx(Mre,{...i,...n,ref:e})});Jre.displayName=Qre;var ene="DropdownMenuSubTrigger",U$=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Yn(r);return u.jsx($re,{...i,...n,ref:e})});U$.displayName=ene;var tne="DropdownMenuSubContent",V$=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Yn(r);return u.jsx(Lre,{...i,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});V$.displayName=tne;var rne=j$,nne=P$,ine=k$,W$=R$,z$=D$,H$=M$,G$=$$,q$=L$,K$=F$,X$=B$,Y$=U$,Z$=V$;const Po=rne,ko=nne,ane=b.forwardRef(({className:t,inset:e,children:r,...n},i)=>u.jsxs(Y$,{ref:i,className:he("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",e&&"pl-8",t),...n,children:[r,u.jsx(F1,{className:"ml-auto h-4 w-4"})]}));ane.displayName=Y$.displayName;const one=b.forwardRef(({className:t,...e},r)=>u.jsx(Z$,{ref:r,className:he("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));one.displayName=Z$.displayName;const Ja=b.forwardRef(({className:t,sideOffset:e=4,...r},n)=>u.jsx(ine,{children:u.jsx(W$,{ref:n,sideOffset:e,className:he("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));Ja.displayName=W$.displayName;const mt=b.forwardRef(({className:t,inset:e,...r},n)=>u.jsx(H$,{ref:n,className:he("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e&&"pl-8",t),...r}));mt.displayName=H$.displayName;const sne=b.forwardRef(({className:t,children:e,checked:r,...n},i)=>u.jsxs(G$,{ref:i,className:he("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:r,...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(K$,{children:u.jsx(L1,{className:"h-4 w-4"})})}),e]}));sne.displayName=G$.displayName;const lne=b.forwardRef(({className:t,children:e,...r},n)=>u.jsxs(q$,{ref:n,className:he("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(K$,{children:u.jsx(nA,{className:"h-2 w-2 fill-current"})})}),e]}));lne.displayName=q$.displayName;const Q$=b.forwardRef(({className:t,inset:e,...r},n)=>u.jsx(z$,{ref:n,className:he("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));Q$.displayName=z$.displayName;const ru=b.forwardRef(({className:t,...e},r)=>u.jsx(X$,{ref:r,className:he("-mx-1 my-1 h-px bg-muted",t),...e}));ru.displayName=X$.displayName;const hr=DA,Eu=MA,cne=$A,J$=b.forwardRef(({className:t,...e},r)=>u.jsx(fv,{ref:r,className:he("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));J$.displayName=fv.displayName;const Jt=b.forwardRef(({className:t,children:e,...r},n)=>u.jsxs(cne,{children:[u.jsx(J$,{}),u.jsxs(hv,{ref:n,className:he("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,u.jsxs(nx,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[u.jsx(U1,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Jt.displayName=hv.displayName;const er=({className:t,...e})=>u.jsx("div",{className:he("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});er.displayName="DialogHeader";const Rt=({className:t,...e})=>u.jsx("div",{className:he("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Rt.displayName="DialogFooter";const tr=b.forwardRef(({className:t,...e},r)=>u.jsx(pv,{ref:r,className:he("text-lg font-semibold leading-none tracking-tight",t),...e}));tr.displayName=pv.displayName;const Cr=b.forwardRef(({className:t,...e},r)=>u.jsx(mv,{ref:r,className:he("text-sm text-muted-foreground",t),...e}));Cr.displayName=mv.displayName;function une({title:t,subtitle:e,mobileMenu:r}){var l,c,d,f;const{user:n,signOut:i}=S5(),a=Y1(),[o,s]=b.useState(!1);return u.jsxs("header",{className:"sticky top-0 z-30 flex h-16 items-center justify-between border-b border-border bg-background/95 px-4 backdrop-blur supports-[backdrop-filter]:bg-background/60 md:h-20 md:px-6 lg:px-8",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[r,u.jsxs("div",{children:[u.jsx("h1",{className:"font-display text-lg font-semibold text-foreground md:text-2xl",children:t}),e&&u.jsx("p",{className:"hidden text-sm text-muted-foreground md:block",children:e})]})]}),u.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[u.jsxs(te,{variant:"ghost",size:"icon",className:"relative",children:[u.jsx(VM,{className:"h-5 w-5 text-muted-foreground"}),u.jsx("span",{className:"absolute right-2 top-2 h-2 w-2 rounded-full bg-gold"})]}),u.jsxs(Po,{children:[u.jsx(ko,{asChild:!0,children:u.jsxs(te,{variant:"ghost",className:"flex items-center gap-2 px-2 md:gap-3 md:px-3",children:[u.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary md:h-9 md:w-9",children:u.jsx(sA,{className:"h-4 w-4 text-primary-foreground md:h-5 md:w-5"})}),u.jsxs("div",{className:"hidden text-left lg:block",children:[u.jsx("p",{className:"text-sm font-medium",children:((l=n==null?void 0:n.user_metadata)==null?void 0:l.full_name)||(n==null?void 0:n.email)||"User"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:((c=n==null?void 0:n.user_metadata)==null?void 0:c.role)||"Store Manager"})]})]})}),u.jsxs(Ja,{align:"end",className:"w-56",children:[u.jsx(Q$,{children:"My Account"}),u.jsx(ru,{}),u.jsx(mt,{onClick:()=>s(!0),children:"View Profile"}),u.jsx(mt,{onClick:()=>a("/settings"),children:"Settings"}),u.jsx(ru,{}),u.jsx(mt,{className:"text-destructive",onClick:async()=>{await i(),a("/auth")},children:"Sign out"})]})]})]}),u.jsx(hr,{open:o,onOpenChange:s,children:u.jsxs(Jt,{className:"sm:max-w-md",children:[u.jsxs(er,{children:[u.jsx(tr,{children:"Profile"}),u.jsx(Cr,{children:"Account information"})]}),u.jsxs("div",{className:"space-y-4 py-2",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Name"}),u.jsx("p",{className:"font-medium",children:((d=n==null?void 0:n.user_metadata)==null?void 0:d.full_name)||"-"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),u.jsx("p",{className:"font-medium",children:(n==null?void 0:n.email)||"-"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Role"}),u.jsx("p",{className:"font-medium",children:((f=n==null?void 0:n.user_metadata)==null?void 0:f.role)||"-"})]})]}),u.jsx(Rt,{children:u.jsx(te,{variant:"outline",onClick:()=>s(!1),children:"Close"})})]})})]})}function an({children:t,title:e,subtitle:r}){const[n,i]=b.useState(!1);return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx($te,{collapsed:n,onCollapse:()=>i(!n)}),u.jsxs("main",{className:he("transition-all duration-300",n?"lg:ml-20":"lg:ml-64"),children:[u.jsx(une,{title:e,subtitle:r,mobileMenu:u.jsx(Lte,{})}),u.jsx("div",{className:"p-4 md:p-6 lg:p-8",children:t})]})]})}function Jo({title:t,value:e,change:r,changeType:n="neutral",icon:i,className:a}){return u.jsx("div",{className:he("card-luxury p-6",a),children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t}),u.jsx("p",{className:"mt-2 font-display text-3xl font-semibold text-foreground",children:e}),r&&u.jsx("p",{className:he("mt-2 text-sm font-medium",n==="positive"&&"text-emerald-600",n==="negative"&&"text-destructive",n==="neutral"&&"text-muted-foreground"),children:r})]}),u.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-primary/10",children:i})]})})}function gt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Mi(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Vn(t,e){const r=gt(t);return isNaN(e)?Mi(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function Ya(t,e){const r=gt(t);if(isNaN(e))return Mi(t,NaN);if(!e)return r;const n=r.getDate(),i=Mi(t,r.getTime());i.setMonth(r.getMonth()+e+1,0);const a=i.getDate();return n>=a?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}const qA=6048e5,dne=864e5;let fne={};function xv(){return fne}function Ao(t,e){var s,l,c,d;const r=xv(),n=(e==null?void 0:e.weekStartsOn)??((l=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=gt(t),a=i.getDay(),o=(a<n?7:0)+a-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function nu(t){return Ao(t,{weekStartsOn:1})}function eL(t){const e=gt(t),r=e.getFullYear(),n=Mi(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=nu(n),a=Mi(t,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=nu(a);return e.getTime()>=i.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function nf(t){const e=gt(t);return e.setHours(0,0,0,0),e}function Xg(t){const e=gt(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function po(t,e){const r=nf(t),n=nf(e),i=+r-Xg(r),a=+n-Xg(n);return Math.round((i-a)/dne)}function hne(t){const e=eL(t),r=Mi(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),nu(r)}function J2(t,e){const r=e*7;return Vn(t,r)}function pne(t,e){return Ya(t,e*12)}function mne(t){let e;return t.forEach(function(r){const n=gt(r);(e===void 0||e<n||isNaN(Number(n)))&&(e=n)}),e||new Date(NaN)}function vne(t){let e;return t.forEach(r=>{const n=gt(r);(!e||e>n||isNaN(+n))&&(e=n)}),e||new Date(NaN)}function oi(t,e){const r=nf(t),n=nf(e);return+r==+n}function KA(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function gne(t){if(!KA(t)&&typeof t!="number")return!1;const e=gt(t);return!isNaN(Number(e))}function sm(t,e){const r=gt(t),n=gt(e),i=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return i*12+a}function yne(t,e,r){const n=Ao(t,r),i=Ao(e,r),a=+n-Xg(n),o=+i-Xg(i);return Math.round((a-o)/qA)}function XA(t){const e=gt(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function di(t){const e=gt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function tL(t){const e=gt(t),r=Mi(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}function YA(t,e){var s,l,c,d;const r=xv(),n=(e==null?void 0:e.weekStartsOn)??((l=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=gt(t),a=i.getDay(),o=(a<n?-7:0)+6-(a-n);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function rL(t){return YA(t,{weekStartsOn:1})}const xne={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},wne=(t,e,r)=>{let n;const i=xne[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Sb(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const bne={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},_ne={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Sne={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Cne={date:Sb({formats:bne,defaultWidth:"full"}),time:Sb({formats:_ne,defaultWidth:"full"}),dateTime:Sb({formats:Sne,defaultWidth:"full"})},Ene={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ane=(t,e,r,n)=>Ene[t];function Th(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,s=r!=null&&r.width?String(r.width):o;i=t.formattingValues[s]||t.formattingValues[o]}else{const o=t.defaultWidth,s=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[s]||t.values[o]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const One={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Nne={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},jne={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Tne={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Pne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},kne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ine=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Rne={ordinalNumber:Ine,era:Th({values:One,defaultWidth:"wide"}),quarter:Th({values:Nne,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Th({values:jne,defaultWidth:"wide"}),day:Th({values:Tne,defaultWidth:"wide"}),dayPeriod:Th({values:Pne,defaultWidth:"wide",formattingValues:kne,defaultFormattingWidth:"wide"})};function Ph(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const o=a[0],s=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(s)?Mne(s,f=>f.test(o)):Dne(s,f=>f.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;const d=e.slice(o.length);return{value:c,rest:d}}}function Dne(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Mne(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function $ne(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],a=e.match(t.parsePattern);if(!a)return null;let o=t.valueCallback?t.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const s=e.slice(i.length);return{value:o,rest:s}}}const Lne=/^(\d+)(th|st|nd|rd)?/i,Fne=/\d+/i,Bne={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Une={any:[/^b/i,/^(a|c)/i]},Vne={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Wne={any:[/1/i,/2/i,/3/i,/4/i]},zne={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Hne={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Gne={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},qne={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Kne={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Xne={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Yne={ordinalNumber:$ne({matchPattern:Lne,parsePattern:Fne,valueCallback:t=>parseInt(t,10)}),era:Ph({matchPatterns:Bne,defaultMatchWidth:"wide",parsePatterns:Une,defaultParseWidth:"any"}),quarter:Ph({matchPatterns:Vne,defaultMatchWidth:"wide",parsePatterns:Wne,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ph({matchPatterns:zne,defaultMatchWidth:"wide",parsePatterns:Hne,defaultParseWidth:"any"}),day:Ph({matchPatterns:Gne,defaultMatchWidth:"wide",parsePatterns:qne,defaultParseWidth:"any"}),dayPeriod:Ph({matchPatterns:Kne,defaultMatchWidth:"any",parsePatterns:Xne,defaultParseWidth:"any"})},nL={code:"en-US",formatDistance:wne,formatLong:Cne,formatRelative:Ane,localize:Rne,match:Yne,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Zne(t){const e=gt(t);return po(e,tL(e))+1}function iL(t){const e=gt(t),r=+nu(e)-+hne(e);return Math.round(r/qA)+1}function aL(t,e){var d,f,h,p;const r=gt(t),n=r.getFullYear(),i=xv(),a=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(h=i.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=Mi(t,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const s=Ao(o,e),l=Mi(t,0);l.setFullYear(n,0,a),l.setHours(0,0,0,0);const c=Ao(l,e);return r.getTime()>=s.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function Qne(t,e){var s,l,c,d;const r=xv(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,i=aL(t,e),a=Mi(t,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),Ao(a,e)}function oL(t,e){const r=gt(t),n=+Ao(r,e)-+Qne(r,e);return Math.round(n/qA)+1}function kt(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Vs={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return kt(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):kt(r+1,2)},d(t,e){return kt(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return kt(t.getHours()%12||12,e.length)},H(t,e){return kt(t.getHours(),e.length)},m(t,e){return kt(t.getMinutes(),e.length)},s(t,e){return kt(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return kt(i,e.length)}},Uu={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wP={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Vs.y(t,e)},Y:function(t,e,r,n){const i=aL(t,n),a=i>0?i:1-i;if(e==="YY"){const o=a%100;return kt(o,2)}return e==="Yo"?r.ordinalNumber(a,{unit:"year"}):kt(a,e.length)},R:function(t,e){const r=eL(t);return kt(r,e.length)},u:function(t,e){const r=t.getFullYear();return kt(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return kt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return kt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Vs.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return kt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=oL(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):kt(i,e.length)},I:function(t,e,r){const n=iL(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):kt(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Vs.d(t,e)},D:function(t,e,r){const n=Zne(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):kt(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return kt(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return kt(a,e.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return kt(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=Uu.noon:n===0?i=Uu.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=Uu.evening:n>=12?i=Uu.afternoon:n>=4?i=Uu.morning:i=Uu.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Vs.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Vs.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):kt(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):kt(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Vs.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Vs.s(t,e)},S:function(t,e){return Vs.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return _P(n);case"XXXX":case"XX":return fc(n);case"XXXXX":case"XXX":default:return fc(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return _P(n);case"xxxx":case"xx":return fc(n);case"xxxxx":case"xxx":default:return fc(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+bP(n,":");case"OOOO":default:return"GMT"+fc(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+bP(n,":");case"zzzz":default:return"GMT"+fc(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return kt(n,e.length)},T:function(t,e,r){const n=t.getTime();return kt(n,e.length)}};function bP(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+e+kt(a,2)}function _P(t,e){return t%60===0?(t>0?"-":"+")+kt(Math.abs(t)/60,2):fc(t,e)}function fc(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=kt(Math.trunc(n/60),2),a=kt(n%60,2);return r+i+e+a}const SP=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},sL=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Jne=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return SP(t,e);let a;switch(n){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",SP(n,e)).replace("{{time}}",sL(i,e))},eie={p:sL,P:Jne},tie=/^D+$/,rie=/^Y+$/,nie=["D","DD","YY","YYYY"];function iie(t){return tie.test(t)}function aie(t){return rie.test(t)}function oie(t,e,r){const n=sie(t,e,r);if(console.warn(n),nie.includes(t))throw new RangeError(n)}function sie(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const lie=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,cie=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,uie=/^'([^]*?)'?$/,die=/''/g,fie=/[a-zA-Z]/;function ct(t,e,r){var d,f,h,p,v,m,g,y;const n=xv(),i=(r==null?void 0:r.locale)??n.locale??nL,a=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((m=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((y=(g=n.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??0,s=gt(t);if(!gne(s))throw new RangeError("Invalid time value");let l=e.match(cie).map(x=>{const w=x[0];if(w==="p"||w==="P"){const S=eie[w];return S(x,i.formatLong)}return x}).join("").match(lie).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const w=x[0];if(w==="'")return{isToken:!1,value:hie(x)};if(wP[w])return{isToken:!0,value:x};if(w.match(fie))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:x}});i.localize.preprocessor&&(l=i.localize.preprocessor(s,l));const c={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return l.map(x=>{if(!x.isToken)return x.value;const w=x.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&aie(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&iie(w))&&oie(w,e,String(t));const S=wP[w[0]];return S(s,w,i.localize,c)}).join("")}function hie(t){const e=t.match(uie);return e?e[1].replace(die,"'"):t}function pie(t){const e=gt(t),r=e.getFullYear(),n=e.getMonth(),i=Mi(t,0);return i.setFullYear(r,n+1,0),i.setHours(0,0,0,0),i.getDate()}function mie(t){return Math.trunc(+gt(t)/1e3)}function vie(t){const e=gt(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(0,0,0,0),e}function gie(t,e){return yne(vie(t),di(t),e)+1}function eS(t,e){const r=gt(t),n=gt(e);return r.getTime()>n.getTime()}function lL(t,e){const r=gt(t),n=gt(e);return+r<+n}function ZA(t,e){const r=gt(t),n=gt(e);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function yie(t,e){const r=gt(t),n=gt(e);return r.getFullYear()===n.getFullYear()}function Cb(t,e){return Vn(t,-e)}function Eb(t,e){const r=gt(t),n=r.getFullYear(),i=r.getDate(),a=Mi(t,0);a.setFullYear(n,e,15),a.setHours(0,0,0,0);const o=pie(a);return r.setMonth(e,Math.min(i,o)),r}function CP(t,e){const r=gt(t);return isNaN(+r)?Mi(t,NaN):(r.setFullYear(e),r)}const xie={draft:{label:"Draft",className:"bg-slate-100 text-slate-800 border-slate-200 dark:bg-slate-900/30 dark:text-slate-400 dark:border-slate-800"},pending:{label:"Pending",className:"bg-amber-100 text-amber-800 border-amber-200 dark:bg-amber-900/30 dark:text-amber-400 dark:border-amber-800"},deposit_paid:{label:"Deposit Paid",className:"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-400 dark:border-blue-800"},materials_ordered:{label:"Materials Ordered",className:"bg-indigo-100 text-indigo-800 border-indigo-200 dark:bg-indigo-900/30 dark:text-indigo-400 dark:border-indigo-800"},in_production:{label:"In Production",className:"bg-purple-100 text-purple-800 border-purple-200 dark:bg-purple-900/30 dark:text-purple-400 dark:border-purple-800"},ready_for_fitting:{label:"Ready for Fitting",className:"bg-cyan-100 text-cyan-800 border-cyan-200 dark:bg-cyan-900/30 dark:text-cyan-400 dark:border-cyan-800"},ready_for_pickup:{label:"Ready for Pickup",className:"bg-emerald-100 text-emerald-800 border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-400 dark:border-emerald-800"},completed:{label:"Completed",className:"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-800"},cancelled:{label:"Cancelled",className:"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-400 dark:border-red-800"}};function wv({status:t,className:e}){const r=xie[t];return u.jsx("span",{className:he("status-badge border",r.className,e),children:r.label})}function wie({orders:t}){return u.jsxs("div",{className:"card-luxury overflow-hidden",children:[u.jsx("div",{className:"border-b border-border px-6 py-4",children:u.jsx("h3",{className:"font-display text-lg font-semibold text-foreground",children:"Recent Orders"})}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-border bg-muted/30",children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Order"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Customer"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Status"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Total"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Balance"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Due Date"})]})}),u.jsx("tbody",{className:"divide-y divide-border",children:t.map(e=>u.jsxs("tr",{className:"transition-colors hover:bg-muted/20",children:[u.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:u.jsxs("span",{className:"font-medium text-foreground",children:["#",e.orderNumber]})}),u.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-foreground",children:e.customerName}),e.isVip&&u.jsx(Ga,{className:"h-4 w-4 text-gold"})]})}),u.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:u.jsx(wv,{status:e.status})}),u.jsxs("td",{className:"whitespace-nowrap px-6 py-4 font-medium text-foreground",children:["",e.total.toLocaleString()]}),u.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:u.jsxs("span",{className:e.total-e.paidAmount>0?"font-medium text-amber-600":"text-muted-foreground",children:["",(e.total-e.paidAmount).toLocaleString()]})}),u.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-muted-foreground",children:ct(e.dueDate,"MMM d, yyyy")})]},e.id))})]})})]})}function bie({customers:t}){return u.jsxs("div",{className:"card-luxury overflow-hidden",children:[u.jsx("div",{className:"border-b border-border px-6 py-4",children:u.jsx("h3",{className:"font-display text-lg font-semibold text-foreground",children:"VIP Customers"})}),u.jsx("div",{className:"divide-y divide-border",children:t.map(e=>u.jsxs("div",{className:"flex items-center justify-between px-6 py-4 transition-colors hover:bg-muted/20",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10 font-display text-lg font-semibold text-primary",children:e.name.charAt(0)}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"font-medium text-foreground",children:e.name}),e.isVip&&u.jsx(Ga,{className:"h-4 w-4 text-gold"})]}),u.jsxs("div",{className:"mt-1 flex items-center gap-2 text-sm text-muted-foreground",children:[u.jsx(yu,{className:"h-3.5 w-3.5"}),u.jsx("span",{children:e.phone})]})]})]}),u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"font-medium text-foreground",children:["",e.totalSpent.toLocaleString()]}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.totalOrders," orders"]})]}),u.jsxs(Po,{children:[u.jsx(ko,{asChild:!0,children:u.jsx(te,{variant:"ghost",size:"icon",children:u.jsx(gu,{className:"h-4 w-4 text-muted-foreground"})})}),u.jsxs(Ja,{align:"end",children:[u.jsx(mt,{children:"View Profile"}),u.jsx(mt,{children:"New Order"}),u.jsx(mt,{children:"Send WhatsApp"})]})]})]})]},e.id))})]})}function _ie({tasks:t}){return u.jsxs("div",{className:"card-luxury overflow-hidden",children:[u.jsx("div",{className:"border-b border-border px-6 py-4",children:u.jsx("h3",{className:"font-display text-lg font-semibold text-foreground",children:"Today's Tasks"})}),u.jsx("div",{className:"divide-y divide-border",children:t.map(e=>u.jsxs("div",{className:he("flex items-center gap-4 px-6 py-4 transition-colors hover:bg-muted/20",e.completed&&"opacity-60"),children:[u.jsx("button",{className:he("flex h-6 w-6 flex-shrink-0 items-center justify-center rounded-full border-2 transition-colors",e.completed?"border-emerald-500 bg-emerald-500":"border-border hover:border-primary"),children:e.completed?u.jsx(L1,{className:"h-3.5 w-3.5 text-white"}):u.jsx(nA,{className:"h-3.5 w-3.5 text-transparent"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:he("font-medium",e.completed?"text-muted-foreground line-through":"text-foreground"),children:e.title}),u.jsxs("p",{className:"mt-0.5 text-sm text-muted-foreground",children:["Order #",e.orderNumber,"  ",e.assignee]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:he("status-badge",e.priority==="high"&&"bg-red-100 text-red-800",e.priority==="medium"&&"bg-amber-100 text-amber-800",e.priority==="low"&&"bg-blue-100 text-blue-800"),children:e.priority}),u.jsx("span",{className:"text-sm text-muted-foreground",children:e.dueTime})]})]},e.id))})]})}var bv=t=>t.type==="checkbox",Cc=t=>t instanceof Date,Wn=t=>t==null;const cL=t=>typeof t=="object";var Rr=t=>!Wn(t)&&!Array.isArray(t)&&cL(t)&&!Cc(t),uL=t=>Rr(t)&&t.target?bv(t.target)?t.target.checked:t.target.value:t,Sie=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,dL=(t,e)=>t.has(Sie(e)),Cie=t=>{const e=t.constructor&&t.constructor.prototype;return Rr(e)&&e.hasOwnProperty("isPrototypeOf")},QA=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Gr(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(QA&&(t instanceof Blob||n))&&(r||Rr(t)))if(e=r?[]:{},!r&&!Cie(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Gr(t[i]));else return t;return e}var sx=t=>/^\w*$/.test(t),Pr=t=>t===void 0,JA=t=>Array.isArray(t)?t.filter(Boolean):[],eO=t=>JA(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ye=(t,e,r)=>{if(!e||!Rr(t))return r;const n=(sx(e)?[e]:eO(e)).reduce((i,a)=>Wn(i)?i:i[a],t);return Pr(n)||n===t?Pr(t[e])?r:t[e]:n},_i=t=>typeof t=="boolean",Tt=(t,e,r)=>{let n=-1;const i=sx(e)?[e]:eO(e),a=i.length,o=a-1;for(;++n<a;){const s=i[n];let l=r;if(n!==o){const c=t[s];l=Rr(c)||Array.isArray(c)?c:isNaN(+i[n+1])?{}:[]}if(s==="__proto__"||s==="constructor"||s==="prototype")return;t[s]=l,t=t[s]}};const Yg={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},La={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Fo={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},tO=k.createContext(null);tO.displayName="HookFormContext";const lx=()=>k.useContext(tO),Eie=t=>{const{children:e,...r}=t;return k.createElement(tO.Provider,{value:r},e)};var fL=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const o=a;return e._proxyFormState[o]!==La.all&&(e._proxyFormState[o]=!n||La.all),r&&(r[o]=!0),t[o]}});return i};const rO=typeof window<"u"?k.useLayoutEffect:k.useEffect;function Aie(t){const e=lx(),{control:r=e.control,disabled:n,name:i,exact:a}=t||{},[o,s]=k.useState(r._formState),l=k.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return rO(()=>r._subscribe({name:i,formState:l.current,exact:a,callback:c=>{!n&&s({...r._formState,...c})}}),[i,n,a]),k.useEffect(()=>{l.current.isValid&&r._setValid(!0)},[r]),k.useMemo(()=>fL(o,r,l.current,!1),[o,r])}var mo=t=>typeof t=="string",hL=(t,e,r,n,i)=>mo(t)?(n&&e.watch.add(t),ye(r,t,i)):Array.isArray(t)?t.map(a=>(n&&e.watch.add(a),ye(r,a))):(n&&(e.watchAll=!0),r),tS=t=>Wn(t)||!cL(t);function es(t,e,r=new WeakSet){if(tS(t)||tS(e))return t===e;if(Cc(t)&&Cc(e))return t.getTime()===e.getTime();const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const a of n){const o=t[a];if(!i.includes(a))return!1;if(a!=="ref"){const s=e[a];if(Cc(o)&&Cc(s)||Rr(o)&&Rr(s)||Array.isArray(o)&&Array.isArray(s)?!es(o,s,r):o!==s)return!1}}return!0}function Oie(t){const e=lx(),{control:r=e.control,name:n,defaultValue:i,disabled:a,exact:o,compute:s}=t||{},l=k.useRef(i),c=k.useRef(s),d=k.useRef(void 0);c.current=s;const f=k.useMemo(()=>r._getWatch(n,l.current),[r,n]),[h,p]=k.useState(c.current?c.current(f):f);return rO(()=>r._subscribe({name:n,formState:{values:!0},exact:o,callback:v=>{if(!a){const m=hL(n,r._names,v.values||r._formValues,!1,l.current);if(c.current){const g=c.current(m);es(g,d.current)||(p(g),d.current=g)}else p(m)}}}),[r,a,n,o]),k.useEffect(()=>r._removeUnmounted()),h}function Nie(t){const e=lx(),{name:r,disabled:n,control:i=e.control,shouldUnregister:a,defaultValue:o}=t,s=dL(i._names.array,r),l=k.useMemo(()=>ye(i._formValues,r,ye(i._defaultValues,r,o)),[i,r,o]),c=Oie({control:i,name:r,defaultValue:l,exact:!0}),d=Aie({control:i,name:r,exact:!0}),f=k.useRef(t),h=k.useRef(i.register(r,{...t.rules,value:c,..._i(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const p=k.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ye(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!ye(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!ye(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!ye(d.validatingFields,r)},error:{enumerable:!0,get:()=>ye(d.errors,r)}}),[d,r]),v=k.useCallback(x=>h.current.onChange({target:{value:uL(x),name:r},type:Yg.CHANGE}),[r]),m=k.useCallback(()=>h.current.onBlur({target:{value:ye(i._formValues,r),name:r},type:Yg.BLUR}),[r,i._formValues]),g=k.useCallback(x=>{const w=ye(i._fields,r);w&&x&&(w._f.ref={focus:()=>x.focus&&x.focus(),select:()=>x.select&&x.select(),setCustomValidity:S=>x.setCustomValidity(S),reportValidity:()=>x.reportValidity()})},[i._fields,r]),y=k.useMemo(()=>({name:r,value:c,..._i(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:v,onBlur:m,ref:g}),[r,n,d.disabled,v,m,g,c]);return k.useEffect(()=>{const x=i._options.shouldUnregister||a;i.register(r,{...f.current.rules,..._i(f.current.disabled)?{disabled:f.current.disabled}:{}});const w=(S,_)=>{const C=ye(i._fields,S);C&&C._f&&(C._f.mount=_)};if(w(r,!0),x){const S=Gr(ye(i._options.defaultValues,r));Tt(i._defaultValues,r,S),Pr(ye(i._formValues,r))&&Tt(i._formValues,r,S)}return!s&&i.register(r),()=>{(s?x&&!i._state.action:x)?i.unregister(r):w(r,!1)}},[r,i,s,a]),k.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),k.useMemo(()=>({field:y,formState:d,fieldState:p}),[y,d,p])}const jie=t=>t.render(Nie(t));var pL=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},yp=t=>Array.isArray(t)?t:[t],EP=()=>{let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next&&a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}},ti=t=>Rr(t)&&!Object.keys(t).length,nO=t=>t.type==="file",Fa=t=>typeof t=="function",Zg=t=>{if(!QA)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},mL=t=>t.type==="select-multiple",iO=t=>t.type==="radio",Tie=t=>iO(t)||bv(t),Ab=t=>Zg(t)&&t.isConnected;function Pie(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Pr(t)?n++:t[e[n++]];return t}function kie(t){for(const e in t)if(t.hasOwnProperty(e)&&!Pr(t[e]))return!1;return!0}function Dr(t,e){const r=Array.isArray(e)?e:sx(e)?[e]:eO(e),n=r.length===1?t:Pie(t,r),i=r.length-1,a=r[i];return n&&delete n[a],i!==0&&(Rr(n)&&ti(n)||Array.isArray(n)&&kie(n))&&Dr(t,r.slice(0,-1)),t}var vL=t=>{for(const e in t)if(Fa(t[e]))return!0;return!1};function Qg(t,e={}){const r=Array.isArray(t);if(Rr(t)||r)for(const n in t)Array.isArray(t[n])||Rr(t[n])&&!vL(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Qg(t[n],e[n])):Wn(t[n])||(e[n]=!0);return e}function gL(t,e,r){const n=Array.isArray(t);if(Rr(t)||n)for(const i in t)Array.isArray(t[i])||Rr(t[i])&&!vL(t[i])?Pr(e)||tS(r[i])?r[i]=Array.isArray(t[i])?Qg(t[i],[]):{...Qg(t[i])}:gL(t[i],Wn(e)?{}:e[i],r[i]):r[i]=!es(t[i],e[i]);return r}var kh=(t,e)=>gL(t,e,Qg(e));const AP={value:!1,isValid:!1},OP={value:!0,isValid:!0};var yL=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Pr(t[0].attributes.value)?Pr(t[0].value)||t[0].value===""?OP:{value:t[0].value,isValid:!0}:OP:AP}return AP},xL=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Pr(t)?t:e?t===""?NaN:t&&+t:r&&mo(t)?new Date(t):n?n(t):t;const NP={isValid:!1,value:null};var wL=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,NP):NP;function jP(t){const e=t.ref;return nO(e)?e.files:iO(e)?wL(t.refs).value:mL(e)?[...e.selectedOptions].map(({value:r})=>r):bv(e)?yL(t.refs).value:xL(Pr(e.value)?t.ref.value:e.value,t)}var Iie=(t,e,r,n)=>{const i={};for(const a of t){const o=ye(e,a);o&&Tt(i,a,o._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},Jg=t=>t instanceof RegExp,Ih=t=>Pr(t)?t:Jg(t)?t.source:Rr(t)?Jg(t.value)?t.value.source:t.value:t,TP=t=>({isOnSubmit:!t||t===La.onSubmit,isOnBlur:t===La.onBlur,isOnChange:t===La.onChange,isOnAll:t===La.all,isOnTouch:t===La.onTouched});const PP="AsyncFunction";var Rie=t=>!!t&&!!t.validate&&!!(Fa(t.validate)&&t.validate.constructor.name===PP||Rr(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===PP)),Die=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),kP=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const xp=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const a=ye(t,i);if(a){const{_f:o,...s}=a;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(xp(s,e))break}else if(Rr(s)&&xp(s,e))break}}};function IP(t,e,r){const n=ye(t,r);if(n||sx(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const a=i.join("."),o=ye(e,a),s=ye(t,a);if(o&&!Array.isArray(o)&&r!==a)return{name:r};if(s&&s.type)return{name:a,error:s};if(s&&s.root&&s.root.type)return{name:`${a}.root`,error:s.root};i.pop()}return{name:r}}var Mie=(t,e,r,n)=>{r(t);const{name:i,...a}=t;return ti(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(o=>e[o]===(!n||La.all))},$ie=(t,e,r)=>!t||!e||t===e||yp(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),Lie=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,Fie=(t,e)=>!JA(ye(t,e)).length&&Dr(t,e),Bie=(t,e,r)=>{const n=yp(ye(t,r));return Tt(n,"root",e[r]),Tt(t,r,n),t},ag=t=>mo(t);function RP(t,e,r="validate"){if(ag(t)||Array.isArray(t)&&t.every(ag)||_i(t)&&!t)return{type:r,message:ag(t)?t:"",ref:e}}var Vu=t=>Rr(t)&&!Jg(t)?t:{value:t,message:""},DP=async(t,e,r,n,i,a)=>{const{ref:o,refs:s,required:l,maxLength:c,minLength:d,min:f,max:h,pattern:p,validate:v,name:m,valueAsNumber:g,mount:y}=t._f,x=ye(r,m);if(!y||e.has(m))return{};const w=s?s[0]:o,S=P=>{i&&w.reportValidity&&(w.setCustomValidity(_i(P)?"":P||""),w.reportValidity())},_={},C=iO(o),E=bv(o),A=C||E,O=(g||nO(o))&&Pr(o.value)&&Pr(x)||Zg(o)&&o.value===""||x===""||Array.isArray(x)&&!x.length,T=pL.bind(null,m,n,_),N=(P,$,D,F=Fo.maxLength,L=Fo.minLength)=>{const M=P?$:D;_[m]={type:P?F:L,message:M,ref:o,...T(P?F:L,M)}};if(a?!Array.isArray(x)||!x.length:l&&(!A&&(O||Wn(x))||_i(x)&&!x||E&&!yL(s).isValid||C&&!wL(s).isValid)){const{value:P,message:$}=ag(l)?{value:!!l,message:l}:Vu(l);if(P&&(_[m]={type:Fo.required,message:$,ref:w,...T(Fo.required,$)},!n))return S($),_}if(!O&&(!Wn(f)||!Wn(h))){let P,$;const D=Vu(h),F=Vu(f);if(!Wn(x)&&!isNaN(x)){const L=o.valueAsNumber||x&&+x;Wn(D.value)||(P=L>D.value),Wn(F.value)||($=L<F.value)}else{const L=o.valueAsDate||new Date(x),M=V=>new Date(new Date().toDateString()+" "+V),j=o.type=="time",R=o.type=="week";mo(D.value)&&x&&(P=j?M(x)>M(D.value):R?x>D.value:L>new Date(D.value)),mo(F.value)&&x&&($=j?M(x)<M(F.value):R?x<F.value:L<new Date(F.value))}if((P||$)&&(N(!!P,D.message,F.message,Fo.max,Fo.min),!n))return S(_[m].message),_}if((c||d)&&!O&&(mo(x)||a&&Array.isArray(x))){const P=Vu(c),$=Vu(d),D=!Wn(P.value)&&x.length>+P.value,F=!Wn($.value)&&x.length<+$.value;if((D||F)&&(N(D,P.message,$.message),!n))return S(_[m].message),_}if(p&&!O&&mo(x)){const{value:P,message:$}=Vu(p);if(Jg(P)&&!x.match(P)&&(_[m]={type:Fo.pattern,message:$,ref:o,...T(Fo.pattern,$)},!n))return S($),_}if(v){if(Fa(v)){const P=await v(x,r),$=RP(P,w);if($&&(_[m]={...$,...T(Fo.validate,$.message)},!n))return S($.message),_}else if(Rr(v)){let P={};for(const $ in v){if(!ti(P)&&!n)break;const D=RP(await v[$](x,r),w,$);D&&(P={...D,...T($,D.message)},S(D.message),n&&(_[m]=P))}if(!ti(P)&&(_[m]={ref:w,...P},!n))return _}}return S(!0),_};const Uie={mode:La.onSubmit,reValidateMode:La.onChange,shouldFocusError:!0};function Vie(t={}){let e={...Uie,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Fa(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=Rr(e.defaultValues)||Rr(e.values)?Gr(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:Gr(i),o={action:!1,mount:!1,watch:!1},s={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:EP(),state:EP()},p=e.criteriaMode===La.all,v=B=>H=>{clearTimeout(c),c=setTimeout(B,H)},m=async B=>{if(!e.disabled&&(d.isValid||f.isValid||B)){const H=e.resolver?ti((await E()).errors):await O(n,!0);H!==r.isValid&&h.state.next({isValid:H})}},g=(B,H)=>{!e.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((B||Array.from(s.mount)).forEach(Y=>{Y&&(H?Tt(r.validatingFields,Y,H):Dr(r.validatingFields,Y))}),h.state.next({validatingFields:r.validatingFields,isValidating:!ti(r.validatingFields)}))},y=(B,H=[],Y,de,fe=!0,se=!0)=>{if(de&&Y&&!e.disabled){if(o.action=!0,se&&Array.isArray(ye(n,B))){const Ce=Y(ye(n,B),de.argA,de.argB);fe&&Tt(n,B,Ce)}if(se&&Array.isArray(ye(r.errors,B))){const Ce=Y(ye(r.errors,B),de.argA,de.argB);fe&&Tt(r.errors,B,Ce),Fie(r.errors,B)}if((d.touchedFields||f.touchedFields)&&se&&Array.isArray(ye(r.touchedFields,B))){const Ce=Y(ye(r.touchedFields,B),de.argA,de.argB);fe&&Tt(r.touchedFields,B,Ce)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=kh(i,a)),h.state.next({name:B,isDirty:N(B,H),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Tt(a,B,H)},x=(B,H)=>{Tt(r.errors,B,H),h.state.next({errors:r.errors})},w=B=>{r.errors=B,h.state.next({errors:r.errors,isValid:!1})},S=(B,H,Y,de)=>{const fe=ye(n,B);if(fe){const se=ye(a,B,Pr(Y)?ye(i,B):Y);Pr(se)||de&&de.defaultChecked||H?Tt(a,B,H?se:jP(fe._f)):D(B,se),o.mount&&m()}},_=(B,H,Y,de,fe)=>{let se=!1,Ce=!1;const lt={name:B};if(!e.disabled){if(!Y||de){(d.isDirty||f.isDirty)&&(Ce=r.isDirty,r.isDirty=lt.isDirty=N(),se=Ce!==lt.isDirty);const $t=es(ye(i,B),H);Ce=!!ye(r.dirtyFields,B),$t?Dr(r.dirtyFields,B):Tt(r.dirtyFields,B,!0),lt.dirtyFields=r.dirtyFields,se=se||(d.dirtyFields||f.dirtyFields)&&Ce!==!$t}if(Y){const $t=ye(r.touchedFields,B);$t||(Tt(r.touchedFields,B,Y),lt.touchedFields=r.touchedFields,se=se||(d.touchedFields||f.touchedFields)&&$t!==Y)}se&&fe&&h.state.next(lt)}return se?lt:{}},C=(B,H,Y,de)=>{const fe=ye(r.errors,B),se=(d.isValid||f.isValid)&&_i(H)&&r.isValid!==H;if(e.delayError&&Y?(l=v(()=>x(B,Y)),l(e.delayError)):(clearTimeout(c),l=null,Y?Tt(r.errors,B,Y):Dr(r.errors,B)),(Y?!es(fe,Y):fe)||!ti(de)||se){const Ce={...de,...se&&_i(H)?{isValid:H}:{},errors:r.errors,name:B};r={...r,...Ce},h.state.next(Ce)}},E=async B=>{g(B,!0);const H=await e.resolver(a,e.context,Iie(B||s.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return g(B),H},A=async B=>{const{errors:H}=await E(B);if(B)for(const Y of B){const de=ye(H,Y);de?Tt(r.errors,Y,de):Dr(r.errors,Y)}else r.errors=H;return H},O=async(B,H,Y={valid:!0})=>{for(const de in B){const fe=B[de];if(fe){const{_f:se,...Ce}=fe;if(se){const lt=s.array.has(se.name),$t=fe._f&&Rie(fe._f);$t&&d.validatingFields&&g([de],!0);const Zn=await DP(fe,s.disabled,a,p,e.shouldUseNativeValidation&&!H,lt);if($t&&d.validatingFields&&g([de]),Zn[se.name]&&(Y.valid=!1,H))break;!H&&(ye(Zn,se.name)?lt?Bie(r.errors,Zn,se.name):Tt(r.errors,se.name,Zn[se.name]):Dr(r.errors,se.name))}!ti(Ce)&&await O(Ce,H,Y)}}return Y.valid},T=()=>{for(const B of s.unMount){const H=ye(n,B);H&&(H._f.refs?H._f.refs.every(Y=>!Ab(Y)):!Ab(H._f.ref))&&J(B)}s.unMount=new Set},N=(B,H)=>!e.disabled&&(B&&H&&Tt(a,B,H),!es(V(),i)),P=(B,H,Y)=>hL(B,s,{...o.mount?a:Pr(H)?i:mo(B)?{[B]:H}:H},Y,H),$=B=>JA(ye(o.mount?a:i,B,e.shouldUnregister?ye(i,B,[]):[])),D=(B,H,Y={})=>{const de=ye(n,B);let fe=H;if(de){const se=de._f;se&&(!se.disabled&&Tt(a,B,xL(H,se)),fe=Zg(se.ref)&&Wn(H)?"":H,mL(se.ref)?[...se.ref.options].forEach(Ce=>Ce.selected=fe.includes(Ce.value)):se.refs?bv(se.ref)?se.refs.forEach(Ce=>{(!Ce.defaultChecked||!Ce.disabled)&&(Array.isArray(fe)?Ce.checked=!!fe.find(lt=>lt===Ce.value):Ce.checked=fe===Ce.value||!!fe)}):se.refs.forEach(Ce=>Ce.checked=Ce.value===fe):nO(se.ref)?se.ref.value="":(se.ref.value=fe,se.ref.type||h.state.next({name:B,values:Gr(a)})))}(Y.shouldDirty||Y.shouldTouch)&&_(B,fe,Y.shouldTouch,Y.shouldDirty,!0),Y.shouldValidate&&R(B)},F=(B,H,Y)=>{for(const de in H){if(!H.hasOwnProperty(de))return;const fe=H[de],se=B+"."+de,Ce=ye(n,se);(s.array.has(B)||Rr(fe)||Ce&&!Ce._f)&&!Cc(fe)?F(se,fe,Y):D(se,fe,Y)}},L=(B,H,Y={})=>{const de=ye(n,B),fe=s.array.has(B),se=Gr(H);Tt(a,B,se),fe?(h.array.next({name:B,values:Gr(a)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&Y.shouldDirty&&h.state.next({name:B,dirtyFields:kh(i,a),isDirty:N(B,se)})):de&&!de._f&&!Wn(se)?F(B,se,Y):D(B,se,Y),kP(B,s)&&h.state.next({...r,name:B}),h.state.next({name:o.mount?B:void 0,values:Gr(a)})},M=async B=>{o.mount=!0;const H=B.target;let Y=H.name,de=!0;const fe=ye(n,Y),se=$t=>{de=Number.isNaN($t)||Cc($t)&&isNaN($t.getTime())||es($t,ye(a,Y,$t))},Ce=TP(e.mode),lt=TP(e.reValidateMode);if(fe){let $t,Zn;const Do=H.type?jP(fe._f):uL(B),no=B.type===Yg.BLUR||B.type===Yg.FOCUS_OUT,Fv=!Die(fe._f)&&!e.resolver&&!ye(r.errors,Y)&&!fe._f.deps||Lie(no,ye(r.touchedFields,Y),r.isSubmitted,lt,Ce),ec=kP(Y,s,no);Tt(a,Y,Do),no?(fe._f.onBlur&&fe._f.onBlur(B),l&&l(0)):fe._f.onChange&&fe._f.onChange(B);const io=_(Y,Do,no),Bv=!ti(io)||ec;if(!no&&h.state.next({name:Y,type:B.type,values:Gr(a)}),Fv)return(d.isValid||f.isValid)&&(e.mode==="onBlur"?no&&m():no||m()),Bv&&h.state.next({name:Y,...ec?{}:io});if(!no&&ec&&h.state.next({...r}),e.resolver){const{errors:Mo}=await E([Y]);if(se(Do),de){const _w=IP(r.errors,n,Y),Uv=IP(Mo,n,_w.name||Y);$t=Uv.error,Y=Uv.name,Zn=ti(Mo)}}else g([Y],!0),$t=(await DP(fe,s.disabled,a,p,e.shouldUseNativeValidation))[Y],g([Y]),se(Do),de&&($t?Zn=!1:(d.isValid||f.isValid)&&(Zn=await O(n,!0)));de&&(fe._f.deps&&R(fe._f.deps),C(Y,Zn,$t,io))}},j=(B,H)=>{if(ye(r.errors,H)&&B.focus)return B.focus(),1},R=async(B,H={})=>{let Y,de;const fe=yp(B);if(e.resolver){const se=await A(Pr(B)?B:fe);Y=ti(se),de=B?!fe.some(Ce=>ye(se,Ce)):Y}else B?(de=(await Promise.all(fe.map(async se=>{const Ce=ye(n,se);return await O(Ce&&Ce._f?{[se]:Ce}:Ce)}))).every(Boolean),!(!de&&!r.isValid)&&m()):de=Y=await O(n);return h.state.next({...!mo(B)||(d.isValid||f.isValid)&&Y!==r.isValid?{}:{name:B},...e.resolver||!B?{isValid:Y}:{},errors:r.errors}),H.shouldFocus&&!de&&xp(n,j,B?fe:s.mount),de},V=B=>{const H={...o.mount?a:i};return Pr(B)?H:mo(B)?ye(H,B):B.map(Y=>ye(H,Y))},W=(B,H)=>({invalid:!!ye((H||r).errors,B),isDirty:!!ye((H||r).dirtyFields,B),error:ye((H||r).errors,B),isValidating:!!ye(r.validatingFields,B),isTouched:!!ye((H||r).touchedFields,B)}),z=B=>{B&&yp(B).forEach(H=>Dr(r.errors,H)),h.state.next({errors:B?r.errors:{}})},K=(B,H,Y)=>{const de=(ye(n,B,{_f:{}})._f||{}).ref,fe=ye(r.errors,B)||{},{ref:se,message:Ce,type:lt,...$t}=fe;Tt(r.errors,B,{...$t,...H,ref:de}),h.state.next({name:B,errors:r.errors,isValid:!1}),Y&&Y.shouldFocus&&de&&de.focus&&de.focus()},re=(B,H)=>Fa(B)?h.state.subscribe({next:Y=>"values"in Y&&B(P(void 0,H),Y)}):P(B,H,!0),ue=B=>h.state.subscribe({next:H=>{$ie(B.name,H.name,B.exact)&&Mie(H,B.formState||d,St,B.reRenderRoot)&&B.callback({values:{...a},...r,...H,defaultValues:i})}}).unsubscribe,le=B=>(o.mount=!0,f={...f,...B.formState},ue({...B,formState:f})),J=(B,H={})=>{for(const Y of B?yp(B):s.mount)s.mount.delete(Y),s.array.delete(Y),H.keepValue||(Dr(n,Y),Dr(a,Y)),!H.keepError&&Dr(r.errors,Y),!H.keepDirty&&Dr(r.dirtyFields,Y),!H.keepTouched&&Dr(r.touchedFields,Y),!H.keepIsValidating&&Dr(r.validatingFields,Y),!e.shouldUnregister&&!H.keepDefaultValue&&Dr(i,Y);h.state.next({values:Gr(a)}),h.state.next({...r,...H.keepDirty?{isDirty:N()}:{}}),!H.keepIsValid&&m()},me=({disabled:B,name:H})=>{(_i(B)&&o.mount||B||s.disabled.has(H))&&(B?s.disabled.add(H):s.disabled.delete(H))},ee=(B,H={})=>{let Y=ye(n,B);const de=_i(H.disabled)||_i(e.disabled);return Tt(n,B,{...Y||{},_f:{...Y&&Y._f?Y._f:{ref:{name:B}},name:B,mount:!0,...H}}),s.mount.add(B),Y?me({disabled:_i(H.disabled)?H.disabled:e.disabled,name:B}):S(B,!0,H.value),{...de?{disabled:H.disabled||e.disabled}:{},...e.progressive?{required:!!H.required,min:Ih(H.min),max:Ih(H.max),minLength:Ih(H.minLength),maxLength:Ih(H.maxLength),pattern:Ih(H.pattern)}:{},name:B,onChange:M,onBlur:M,ref:fe=>{if(fe){ee(B,H),Y=ye(n,B);const se=Pr(fe.value)&&fe.querySelectorAll&&fe.querySelectorAll("input,select,textarea")[0]||fe,Ce=Tie(se),lt=Y._f.refs||[];if(Ce?lt.find($t=>$t===se):se===Y._f.ref)return;Tt(n,B,{_f:{...Y._f,...Ce?{refs:[...lt.filter(Ab),se,...Array.isArray(ye(i,B))?[{}]:[]],ref:{type:se.type,name:B}}:{ref:se}}}),S(B,!1,void 0,se)}else Y=ye(n,B,{}),Y._f&&(Y._f.mount=!1),(e.shouldUnregister||H.shouldUnregister)&&!(dL(s.array,B)&&o.action)&&s.unMount.add(B)}}},ne=()=>e.shouldFocusError&&xp(n,j,s.mount),ve=B=>{_i(B)&&(h.state.next({disabled:B}),xp(n,(H,Y)=>{const de=ye(n,Y);de&&(H.disabled=de._f.disabled||B,Array.isArray(de._f.refs)&&de._f.refs.forEach(fe=>{fe.disabled=de._f.disabled||B}))},0,!1))},X=(B,H)=>async Y=>{let de;Y&&(Y.preventDefault&&Y.preventDefault(),Y.persist&&Y.persist());let fe=Gr(a);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:se,values:Ce}=await E();r.errors=se,fe=Gr(Ce)}else await O(n);if(s.disabled.size)for(const se of s.disabled)Dr(fe,se);if(Dr(r.errors,"root"),ti(r.errors)){h.state.next({errors:{}});try{await B(fe,Y)}catch(se){de=se}}else H&&await H({...r.errors},Y),ne(),setTimeout(ne);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ti(r.errors)&&!de,submitCount:r.submitCount+1,errors:r.errors}),de)throw de},q=(B,H={})=>{ye(n,B)&&(Pr(H.defaultValue)?L(B,Gr(ye(i,B))):(L(B,H.defaultValue),Tt(i,B,Gr(H.defaultValue))),H.keepTouched||Dr(r.touchedFields,B),H.keepDirty||(Dr(r.dirtyFields,B),r.isDirty=H.defaultValue?N(B,Gr(ye(i,B))):N()),H.keepError||(Dr(r.errors,B),d.isValid&&m()),h.state.next({...r}))},ie=(B,H={})=>{const Y=B?Gr(B):i,de=Gr(Y),fe=ti(B),se=fe?i:de;if(H.keepDefaultValues||(i=Y),!H.keepValues){if(H.keepDirtyValues){const Ce=new Set([...s.mount,...Object.keys(kh(i,a))]);for(const lt of Array.from(Ce))ye(r.dirtyFields,lt)?Tt(se,lt,ye(a,lt)):L(lt,ye(se,lt))}else{if(QA&&Pr(B))for(const Ce of s.mount){const lt=ye(n,Ce);if(lt&&lt._f){const $t=Array.isArray(lt._f.refs)?lt._f.refs[0]:lt._f.ref;if(Zg($t)){const Zn=$t.closest("form");if(Zn){Zn.reset();break}}}}if(H.keepFieldsRef)for(const Ce of s.mount)L(Ce,ye(se,Ce));else n={}}a=e.shouldUnregister?H.keepDefaultValues?Gr(i):{}:Gr(se),h.array.next({values:{...se}}),h.state.next({values:{...se}})}s={mount:H.keepDirtyValues?s.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!H.keepIsValid||!!H.keepDirtyValues,o.watch=!!e.shouldUnregister,h.state.next({submitCount:H.keepSubmitCount?r.submitCount:0,isDirty:fe?!1:H.keepDirty?r.isDirty:!!(H.keepDefaultValues&&!es(B,i)),isSubmitted:H.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:fe?{}:H.keepDirtyValues?H.keepDefaultValues&&a?kh(i,a):r.dirtyFields:H.keepDefaultValues&&B?kh(i,B):H.keepDirty?r.dirtyFields:{},touchedFields:H.keepTouched?r.touchedFields:{},errors:H.keepErrors?r.errors:{},isSubmitSuccessful:H.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ve=(B,H)=>ie(Fa(B)?B(a):B,H),it=(B,H={})=>{const Y=ye(n,B),de=Y&&Y._f;if(de){const fe=de.refs?de.refs[0]:de.ref;fe.focus&&(fe.focus(),H.shouldSelect&&Fa(fe.select)&&fe.select())}},St=B=>{r={...r,...B}},gr={control:{register:ee,unregister:J,getFieldState:W,handleSubmit:X,setError:K,_subscribe:ue,_runSchema:E,_focusError:ne,_getWatch:P,_getDirty:N,_setValid:m,_setFieldArray:y,_setDisabledField:me,_setErrors:w,_getFieldArray:$,_reset:ie,_resetDefaultValues:()=>Fa(e.defaultValues)&&e.defaultValues().then(B=>{Ve(B,e.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:T,_disableForm:ve,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return a},get _state(){return o},set _state(B){o=B},get _defaultValues(){return i},get _names(){return s},set _names(B){s=B},get _formState(){return r},get _options(){return e},set _options(B){e={...e,...B}}},subscribe:le,trigger:R,register:ee,handleSubmit:X,watch:re,setValue:L,getValues:V,reset:Ve,resetField:q,clearErrors:z,unregister:J,setError:K,setFocus:it,getFieldState:W};return{...gr,formControl:gr}}function $i(t={}){const e=k.useRef(void 0),r=k.useRef(void 0),[n,i]=k.useState({isDirty:!1,isValidating:!1,isLoading:Fa(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Fa(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!Fa(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...s}=Vie(t);e.current={...s,formState:n}}const a=e.current.control;return a._options=t,rO(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(s=>({...s,isReady:!0})),a._formState.isReady=!0,o},[a]),k.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),k.useEffect(()=>{t.mode&&(a._options.mode=t.mode),t.reValidateMode&&(a._options.reValidateMode=t.reValidateMode)},[a,t.mode,t.reValidateMode]),k.useEffect(()=>{t.errors&&(a._setErrors(t.errors),a._focusError())},[a,t.errors]),k.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,t.shouldUnregister]),k.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==n.isDirty&&a._subjects.state.next({isDirty:o})}},[a,n.isDirty]),k.useEffect(()=>{t.values&&!es(t.values,r.current)?(a._reset(t.values,{keepFieldsRef:!0,...a._options.resetOptions}),r.current=t.values,i(o=>({...o}))):a._resetDefaultValues()},[a,t.values]),k.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),e.current.formState=fL(n,a),e.current}const MP=(t,e,r)=>{if(t&&"reportValidity"in t){const n=ye(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},bL=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?MP(n.ref,r,t):n.refs&&n.refs.forEach(i=>MP(i,r,t))}},Wie=(t,e)=>{e.shouldUseNativeValidation&&bL(t,e);const r={};for(const n in t){const i=ye(e.fields,n),a=Object.assign(t[n]||{},{ref:i&&i.ref});if(zie(e.names||Object.keys(t),n)){const o=Object.assign({},ye(r,n));Tt(o,"root",a),Tt(r,n,o)}else Tt(r,n,a)}return r},zie=(t,e)=>t.some(r=>r.startsWith(e+"."));var Hie=function(t,e){for(var r={};t.length;){var n=t[0],i=n.code,a=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var s=n.unionErrors[0].errors[0];r[o]={message:s.message,type:s.code}}else r[o]={message:a,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return t.push(f)})}),e){var l=r[o].types,c=l&&l[n.code];r[o]=pL(o,e,r,i,c?[].concat(c,n.message):n.message)}t.shift()}return r},Li=function(t,e,r){return r===void 0&&(r={}),function(n,i,a){try{return Promise.resolve(function(o,s){try{var l=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(c){return a.shouldUseNativeValidation&&bL({},a),{errors:{},values:r.raw?n:c}})}catch(c){return s(c)}return l&&l.then?l.then(void 0,s):l}(0,function(o){if(function(s){return Array.isArray(s==null?void 0:s.errors)}(o))return{values:{},errors:Wie(Hie(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}},wt;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const a={};for(const o of i)a[o]=o;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(s=>typeof i[i[s]]!="number"),o={};for(const s of a)o[s]=i[s];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},t.find=(i,a)=>{for(const o of i)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(wt||(wt={}));var $P;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})($P||($P={}));const ke=wt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ys=t=>{switch(typeof t){case"undefined":return ke.undefined;case"string":return ke.string;case"number":return Number.isNaN(t)?ke.nan:ke.number;case"boolean":return ke.boolean;case"function":return ke.function;case"bigint":return ke.bigint;case"symbol":return ke.symbol;case"object":return Array.isArray(t)?ke.array:t===null?ke.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ke.promise:typeof Map<"u"&&t instanceof Map?ke.map:typeof Set<"u"&&t instanceof Set?ke.set:typeof Date<"u"&&t instanceof Date?ke.date:ke.object;default:return ke.unknown}},ce=wt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ys extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(a){return a.message},n={_errors:[]},i=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let s=n,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(s[c]=s[c]||{_errors:[]},s[c]._errors.push(r(o))):s[c]=s[c]||{_errors:[]},s=s[c],l++}}};return i(this),n}static assert(e){if(!(e instanceof ys))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,wt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];r[a]=r[a]||[],r[a].push(e(i))}else n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}ys.create=t=>new ys(t);const rS=(t,e)=>{let r;switch(t.code){case ce.invalid_type:t.received===ke.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case ce.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,wt.jsonStringifyReplacer)}`;break;case ce.unrecognized_keys:r=`Unrecognized key(s) in object: ${wt.joinValues(t.keys,", ")}`;break;case ce.invalid_union:r="Invalid input";break;case ce.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${wt.joinValues(t.options)}`;break;case ce.invalid_enum_value:r=`Invalid enum value. Expected ${wt.joinValues(t.options)}, received '${t.received}'`;break;case ce.invalid_arguments:r="Invalid function arguments";break;case ce.invalid_return_type:r="Invalid function return type";break;case ce.invalid_date:r="Invalid date";break;case ce.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:wt.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case ce.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case ce.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case ce.custom:r="Invalid input";break;case ce.invalid_intersection_types:r="Intersection results could not be merged";break;case ce.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case ce.not_finite:r="Number must be finite";break;default:r=e.defaultError,wt.assertNever(t)}return{message:r}};let Gie=rS;function qie(){return Gie}const Kie=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,a=[...r,...i.path||[]],o={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let s="";const l=n.filter(c=>!!c).slice().reverse();for(const c of l)s=c(o,{data:e,defaultError:s}).message;return{...i,path:a,message:s}};function Oe(t,e){const r=qie(),n=Kie({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===rS?void 0:rS].filter(i=>!!i)});t.common.issues.push(n)}class Fi{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return Ye;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r){const a=await i.key,o=await i.value;n.push({key:a,value:o})}return Fi.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return Ye;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[a.value]=o.value)}return{status:e.value,value:n}}}const Ye=Object.freeze({status:"aborted"}),ep=t=>({status:"dirty",value:t}),pa=t=>({status:"valid",value:t}),LP=t=>t.status==="aborted",FP=t=>t.status==="dirty",af=t=>t.status==="valid",ey=t=>typeof Promise<"u"&&t instanceof Promise;var De;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(De||(De={}));class Ll{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const BP=(t,e)=>{if(af(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new ys(t.common.issues);return this._error=r,this._error}}};function ot(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,s)=>{const{message:l}=t;return o.code==="invalid_enum_value"?{message:l??s.defaultError}:typeof s.data>"u"?{message:l??n??s.defaultError}:o.code!=="invalid_type"?{message:s.defaultError}:{message:l??r??s.defaultError}},description:i}}class yt{get description(){return this._def.description}_getType(e){return Ys(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Ys(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Fi,ctx:{common:e.parent.common,data:e.data,parsedType:Ys(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(ey(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ys(e)},i=this._parseSync({data:e,path:n.path,parent:n});return BP(n,i)}"~validate"(e){var n,i;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ys(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:r});return af(a)?{value:a.value}:{issues:r.common.issues}}catch(a){(i=(n=a==null?void 0:a.message)==null?void 0:n.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(a=>af(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ys(e)},i=this._parse({data:e,path:n.path,parent:n}),a=await(ey(i)?i:Promise.resolve(i));return BP(n,a)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,a)=>{const o=e(i),s=()=>a.addIssue({code:ce.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(s(),!1)):o?!0:(s(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new lf({schema:this,typeName:Ze.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Ol.create(this,this._def)}nullable(){return cf.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return bo.create(this)}promise(){return ny.create(this,this._def)}or(e){return ty.create([this,e],this._def)}and(e){return ry.create(this,e,this._def)}transform(e){return new lf({...ot(this._def),schema:this,typeName:Ze.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new aS({...ot(this._def),innerType:this,defaultValue:r,typeName:Ze.ZodDefault})}brand(){return new gae({typeName:Ze.ZodBranded,type:this,...ot(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new oS({...ot(this._def),innerType:this,catchValue:r,typeName:Ze.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return aO.create(this,e)}readonly(){return sS.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Xie=/^c[^\s-]{8,}$/i,Yie=/^[0-9a-z]+$/,Zie=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Qie=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Jie=/^[a-z0-9_-]{21}$/i,eae=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,tae=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,rae=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,nae="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ob;const iae=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,aae=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,oae=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,sae=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,lae=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,cae=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,_L="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",uae=new RegExp(`^${_L}$`);function SL(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function dae(t){return new RegExp(`^${SL(t)}$`)}function fae(t){let e=`${_L}T${SL(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function hae(t,e){return!!((e==="v4"||!e)&&iae.test(t)||(e==="v6"||!e)&&oae.test(t))}function pae(t,e){if(!eae.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function mae(t,e){return!!((e==="v4"||!e)&&aae.test(t)||(e==="v6"||!e)&&sae.test(t))}class ml extends yt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ke.string){const a=this._getOrReturnCtx(e);return Oe(a,{code:ce.invalid_type,expected:ke.string,received:a.parsedType}),Ye}const n=new Fi;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),Oe(i,{code:ce.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),Oe(i,{code:ce.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,s=e.data.length<a.value;(o||s)&&(i=this._getOrReturnCtx(e,i),o?Oe(i,{code:ce.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):s&&Oe(i,{code:ce.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")rae.test(e.data)||(i=this._getOrReturnCtx(e,i),Oe(i,{validation:"email",code:ce.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")Ob||(Ob=new RegExp(nae,"u")),Ob.test(e.data)||(i=this._getOrReturnCtx(e,i),Oe(i,{validation:"emoji",code:ce.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")Qie.test(e.data)||(i=this._getOrReturnCtx(e,i),Oe(i,{validation:"uuid",code:ce.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")Jie.test(e.data)||(i=this._getOrReturnCtx(e,i),Oe(i,{validation:"nanoid",code:ce.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")Xie.test(e.data)||(i=this._getOrReturnCtx(e,i),Oe(i,{validation:"cuid",code:ce.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")Yie.test(e.data)||(i=this._getOrReturnCtx(e,i),Oe(i,{validation:"cuid2",code:ce.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")Zie.test(e.data)||(i=this._getOrReturnCtx(e,i),Oe(i,{validation:"ulid",code:ce.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Oe(i,{validation:"url",code:ce.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Oe(i,{validation:"regex",code:ce.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),Oe(i,{code:ce.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),Oe(i,{code:ce.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),Oe(i,{code:ce.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?fae(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Oe(i,{code:ce.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?uae.test(e.data)||(i=this._getOrReturnCtx(e,i),Oe(i,{code:ce.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?dae(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Oe(i,{code:ce.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?tae.test(e.data)||(i=this._getOrReturnCtx(e,i),Oe(i,{validation:"duration",code:ce.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?hae(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Oe(i,{validation:"ip",code:ce.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?pae(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),Oe(i,{validation:"jwt",code:ce.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?mae(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Oe(i,{validation:"cidr",code:ce.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?lae.test(e.data)||(i=this._getOrReturnCtx(e,i),Oe(i,{validation:"base64",code:ce.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?cae.test(e.data)||(i=this._getOrReturnCtx(e,i),Oe(i,{validation:"base64url",code:ce.invalid_string,message:a.message}),n.dirty()):wt.assertNever(a);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:ce.invalid_string,...De.errToObj(n)})}_addCheck(e){return new ml({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...De.errToObj(e)})}url(e){return this._addCheck({kind:"url",...De.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...De.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...De.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...De.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...De.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...De.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...De.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...De.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...De.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...De.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...De.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...De.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...De.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...De.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...De.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...De.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...De.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...De.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...De.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...De.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...De.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...De.errToObj(r)})}nonempty(e){return this.min(1,De.errToObj(e))}trim(){return new ml({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ml({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ml({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}ml.create=t=>new ml({checks:[],typeName:Ze.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...ot(t)});function vae(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,a=Number.parseInt(t.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return a%o/10**i}class of extends yt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ke.number){const a=this._getOrReturnCtx(e);return Oe(a,{code:ce.invalid_type,expected:ke.number,received:a.parsedType}),Ye}let n;const i=new Fi;for(const a of this._def.checks)a.kind==="int"?wt.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Oe(n,{code:ce.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),Oe(n,{code:ce.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),Oe(n,{code:ce.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?vae(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),Oe(n,{code:ce.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Oe(n,{code:ce.not_finite,message:a.message}),i.dirty()):wt.assertNever(a);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,De.toString(r))}gt(e,r){return this.setLimit("min",e,!1,De.toString(r))}lte(e,r){return this.setLimit("max",e,!0,De.toString(r))}lt(e,r){return this.setLimit("max",e,!1,De.toString(r))}setLimit(e,r,n,i){return new of({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:De.toString(i)}]})}_addCheck(e){return new of({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:De.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:De.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:De.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:De.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:De.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:De.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:De.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:De.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:De.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&wt.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}of.create=t=>new of({checks:[],typeName:Ze.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ot(t)});class lm extends yt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ke.bigint)return this._getInvalidInput(e);let n;const i=new Fi;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),Oe(n,{code:ce.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),Oe(n,{code:ce.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Oe(n,{code:ce.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):wt.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return Oe(r,{code:ce.invalid_type,expected:ke.bigint,received:r.parsedType}),Ye}gte(e,r){return this.setLimit("min",e,!0,De.toString(r))}gt(e,r){return this.setLimit("min",e,!1,De.toString(r))}lte(e,r){return this.setLimit("max",e,!0,De.toString(r))}lt(e,r){return this.setLimit("max",e,!1,De.toString(r))}setLimit(e,r,n,i){return new lm({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:De.toString(i)}]})}_addCheck(e){return new lm({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:De.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:De.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:De.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:De.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:De.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}lm.create=t=>new lm({checks:[],typeName:Ze.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...ot(t)});class UP extends yt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ke.boolean){const n=this._getOrReturnCtx(e);return Oe(n,{code:ce.invalid_type,expected:ke.boolean,received:n.parsedType}),Ye}return pa(e.data)}}UP.create=t=>new UP({typeName:Ze.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ot(t)});class cm extends yt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ke.date){const a=this._getOrReturnCtx(e);return Oe(a,{code:ce.invalid_type,expected:ke.date,received:a.parsedType}),Ye}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return Oe(a,{code:ce.invalid_date}),Ye}const n=new Fi;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),Oe(i,{code:ce.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),Oe(i,{code:ce.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):wt.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new cm({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:De.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:De.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}cm.create=t=>new cm({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ze.ZodDate,...ot(t)});class VP extends yt{_parse(e){if(this._getType(e)!==ke.symbol){const n=this._getOrReturnCtx(e);return Oe(n,{code:ce.invalid_type,expected:ke.symbol,received:n.parsedType}),Ye}return pa(e.data)}}VP.create=t=>new VP({typeName:Ze.ZodSymbol,...ot(t)});class WP extends yt{_parse(e){if(this._getType(e)!==ke.undefined){const n=this._getOrReturnCtx(e);return Oe(n,{code:ce.invalid_type,expected:ke.undefined,received:n.parsedType}),Ye}return pa(e.data)}}WP.create=t=>new WP({typeName:Ze.ZodUndefined,...ot(t)});class zP extends yt{_parse(e){if(this._getType(e)!==ke.null){const n=this._getOrReturnCtx(e);return Oe(n,{code:ce.invalid_type,expected:ke.null,received:n.parsedType}),Ye}return pa(e.data)}}zP.create=t=>new zP({typeName:Ze.ZodNull,...ot(t)});class HP extends yt{constructor(){super(...arguments),this._any=!0}_parse(e){return pa(e.data)}}HP.create=t=>new HP({typeName:Ze.ZodAny,...ot(t)});class GP extends yt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return pa(e.data)}}GP.create=t=>new GP({typeName:Ze.ZodUnknown,...ot(t)});class Fl extends yt{_parse(e){const r=this._getOrReturnCtx(e);return Oe(r,{code:ce.invalid_type,expected:ke.never,received:r.parsedType}),Ye}}Fl.create=t=>new Fl({typeName:Ze.ZodNever,...ot(t)});class qP extends yt{_parse(e){if(this._getType(e)!==ke.undefined){const n=this._getOrReturnCtx(e);return Oe(n,{code:ce.invalid_type,expected:ke.void,received:n.parsedType}),Ye}return pa(e.data)}}qP.create=t=>new qP({typeName:Ze.ZodVoid,...ot(t)});class bo extends yt{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==ke.array)return Oe(r,{code:ce.invalid_type,expected:ke.array,received:r.parsedType}),Ye;if(i.exactLength!==null){const o=r.data.length>i.exactLength.value,s=r.data.length<i.exactLength.value;(o||s)&&(Oe(r,{code:o?ce.too_big:ce.too_small,minimum:s?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(Oe(r,{code:ce.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(Oe(r,{code:ce.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,s)=>i.type._parseAsync(new Ll(r,o,r.path,s)))).then(o=>Fi.mergeArray(n,o));const a=[...r.data].map((o,s)=>i.type._parseSync(new Ll(r,o,r.path,s)));return Fi.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new bo({...this._def,minLength:{value:e,message:De.toString(r)}})}max(e,r){return new bo({...this._def,maxLength:{value:e,message:De.toString(r)}})}length(e,r){return new bo({...this._def,exactLength:{value:e,message:De.toString(r)}})}nonempty(e){return this.min(1,e)}}bo.create=(t,e)=>new bo({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ze.ZodArray,...ot(e)});function Yu(t){if(t instanceof Or){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Ol.create(Yu(n))}return new Or({...t._def,shape:()=>e})}else return t instanceof bo?new bo({...t._def,type:Yu(t.element)}):t instanceof Ol?Ol.create(Yu(t.unwrap())):t instanceof cf?cf.create(Yu(t.unwrap())):t instanceof iu?iu.create(t.items.map(e=>Yu(e))):t}class Or extends yt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=wt.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==ke.object){const c=this._getOrReturnCtx(e);return Oe(c,{code:ce.invalid_type,expected:ke.object,received:c.parsedType}),Ye}const{status:n,ctx:i}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),s=[];if(!(this._def.catchall instanceof Fl&&this._def.unknownKeys==="strip"))for(const c in i.data)o.includes(c)||s.push(c);const l=[];for(const c of o){const d=a[c],f=i.data[c];l.push({key:{status:"valid",value:c},value:d._parse(new Ll(i,f,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Fl){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of s)l.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(c==="strict")s.length>0&&(Oe(i,{code:ce.unrecognized_keys,keys:s}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of s){const f=i.data[d];l.push({key:{status:"valid",value:d},value:c._parse(new Ll(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of l){const f=await d.key,h=await d.value;c.push({key:f,value:h,alwaysSet:d.alwaysSet})}return c}).then(c=>Fi.mergeObjectSync(n,c)):Fi.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(e){return De.errToObj,new Or({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var a,o;const i=((o=(a=this._def).errorMap)==null?void 0:o.call(a,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:De.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new Or({...this._def,unknownKeys:"strip"})}passthrough(){return new Or({...this._def,unknownKeys:"passthrough"})}extend(e){return new Or({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Or({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ze.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Or({...this._def,catchall:e})}pick(e){const r={};for(const n of wt.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Or({...this._def,shape:()=>r})}omit(e){const r={};for(const n of wt.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new Or({...this._def,shape:()=>r})}deepPartial(){return Yu(this)}partial(e){const r={};for(const n of wt.objectKeys(this.shape)){const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}return new Or({...this._def,shape:()=>r})}required(e){const r={};for(const n of wt.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof Ol;)a=a._def.innerType;r[n]=a}return new Or({...this._def,shape:()=>r})}keyof(){return CL(wt.objectKeys(this.shape))}}Or.create=(t,e)=>new Or({shape:()=>t,unknownKeys:"strip",catchall:Fl.create(),typeName:Ze.ZodObject,...ot(e)});Or.strictCreate=(t,e)=>new Or({shape:()=>t,unknownKeys:"strict",catchall:Fl.create(),typeName:Ze.ZodObject,...ot(e)});Or.lazycreate=(t,e)=>new Or({shape:t,unknownKeys:"strip",catchall:Fl.create(),typeName:Ze.ZodObject,...ot(e)});class ty extends yt{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(a){for(const s of a)if(s.result.status==="valid")return s.result;for(const s of a)if(s.result.status==="dirty")return r.common.issues.push(...s.ctx.common.issues),s.result;const o=a.map(s=>new ys(s.ctx.common.issues));return Oe(r,{code:ce.invalid_union,unionErrors:o}),Ye}if(r.common.async)return Promise.all(n.map(async a=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let a;const o=[];for(const l of n){const c={...r,common:{...r.common,issues:[]},parent:null},d=l._parseSync({data:r.data,path:r.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const s=o.map(l=>new ys(l));return Oe(r,{code:ce.invalid_union,unionErrors:s}),Ye}}get options(){return this._def.options}}ty.create=(t,e)=>new ty({options:t,typeName:Ze.ZodUnion,...ot(e)});function nS(t,e){const r=Ys(t),n=Ys(e);if(t===e)return{valid:!0,data:t};if(r===ke.object&&n===ke.object){const i=wt.objectKeys(e),a=wt.objectKeys(t).filter(s=>i.indexOf(s)!==-1),o={...t,...e};for(const s of a){const l=nS(t[s],e[s]);if(!l.valid)return{valid:!1};o[s]=l.data}return{valid:!0,data:o}}else if(r===ke.array&&n===ke.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const o=t[a],s=e[a],l=nS(o,s);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return r===ke.date&&n===ke.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class ry extends yt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(a,o)=>{if(LP(a)||LP(o))return Ye;const s=nS(a.value,o.value);return s.valid?((FP(a)||FP(o))&&r.dirty(),{status:r.value,value:s.data}):(Oe(n,{code:ce.invalid_intersection_types}),Ye)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}ry.create=(t,e,r)=>new ry({left:t,right:e,typeName:Ze.ZodIntersection,...ot(r)});class iu extends yt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ke.array)return Oe(n,{code:ce.invalid_type,expected:ke.array,received:n.parsedType}),Ye;if(n.data.length<this._def.items.length)return Oe(n,{code:ce.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ye;!this._def.rest&&n.data.length>this._def.items.length&&(Oe(n,{code:ce.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((o,s)=>{const l=this._def.items[s]||this._def.rest;return l?l._parse(new Ll(n,o,n.path,s)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>Fi.mergeArray(r,o)):Fi.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new iu({...this._def,rest:e})}}iu.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new iu({items:t,typeName:Ze.ZodTuple,rest:null,...ot(e)})};class KP extends yt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ke.map)return Oe(n,{code:ce.invalid_type,expected:ke.map,received:n.parsedType}),Ye;const i=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([s,l],c)=>({key:i._parse(new Ll(n,s,n.path,[c,"key"])),value:a._parse(new Ll(n,l,n.path,[c,"value"]))}));if(n.common.async){const s=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,d=await l.value;if(c.status==="aborted"||d.status==="aborted")return Ye;(c.status==="dirty"||d.status==="dirty")&&r.dirty(),s.set(c.value,d.value)}return{status:r.value,value:s}})}else{const s=new Map;for(const l of o){const c=l.key,d=l.value;if(c.status==="aborted"||d.status==="aborted")return Ye;(c.status==="dirty"||d.status==="dirty")&&r.dirty(),s.set(c.value,d.value)}return{status:r.value,value:s}}}}KP.create=(t,e,r)=>new KP({valueType:e,keyType:t,typeName:Ze.ZodMap,...ot(r)});class um extends yt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ke.set)return Oe(n,{code:ce.invalid_type,expected:ke.set,received:n.parsedType}),Ye;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(Oe(n,{code:ce.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(Oe(n,{code:ce.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const a=this._def.valueType;function o(l){const c=new Set;for(const d of l){if(d.status==="aborted")return Ye;d.status==="dirty"&&r.dirty(),c.add(d.value)}return{status:r.value,value:c}}const s=[...n.data.values()].map((l,c)=>a._parse(new Ll(n,l,n.path,c)));return n.common.async?Promise.all(s).then(l=>o(l)):o(s)}min(e,r){return new um({...this._def,minSize:{value:e,message:De.toString(r)}})}max(e,r){return new um({...this._def,maxSize:{value:e,message:De.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}um.create=(t,e)=>new um({valueType:t,minSize:null,maxSize:null,typeName:Ze.ZodSet,...ot(e)});class XP extends yt{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}XP.create=(t,e)=>new XP({getter:t,typeName:Ze.ZodLazy,...ot(e)});class iS extends yt{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return Oe(r,{received:r.data,code:ce.invalid_literal,expected:this._def.value}),Ye}return{status:"valid",value:e.data}}get value(){return this._def.value}}iS.create=(t,e)=>new iS({value:t,typeName:Ze.ZodLiteral,...ot(e)});function CL(t,e){return new sf({values:t,typeName:Ze.ZodEnum,...ot(e)})}class sf extends yt{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return Oe(r,{expected:wt.joinValues(n),received:r.parsedType,code:ce.invalid_type}),Ye}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return Oe(r,{received:r.data,code:ce.invalid_enum_value,options:n}),Ye}return pa(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return sf.create(e,{...this._def,...r})}exclude(e,r=this._def){return sf.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}sf.create=CL;class YP extends yt{_parse(e){const r=wt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==ke.string&&n.parsedType!==ke.number){const i=wt.objectValues(r);return Oe(n,{expected:wt.joinValues(i),received:n.parsedType,code:ce.invalid_type}),Ye}if(this._cache||(this._cache=new Set(wt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=wt.objectValues(r);return Oe(n,{received:n.data,code:ce.invalid_enum_value,options:i}),Ye}return pa(e.data)}get enum(){return this._def.values}}YP.create=(t,e)=>new YP({values:t,typeName:Ze.ZodNativeEnum,...ot(e)});class ny extends yt{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==ke.promise&&r.common.async===!1)return Oe(r,{code:ce.invalid_type,expected:ke.promise,received:r.parsedType}),Ye;const n=r.parsedType===ke.promise?r.data:Promise.resolve(r.data);return pa(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}ny.create=(t,e)=>new ny({type:t,typeName:Ze.ZodPromise,...ot(e)});class lf extends yt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ze.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:o=>{Oe(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const o=i.transform(n.data,a);if(n.common.async)return Promise.resolve(o).then(async s=>{if(r.value==="aborted")return Ye;const l=await this._def.schema._parseAsync({data:s,path:n.path,parent:n});return l.status==="aborted"?Ye:l.status==="dirty"||r.value==="dirty"?ep(l.value):l});{if(r.value==="aborted")return Ye;const s=this._def.schema._parseSync({data:o,path:n.path,parent:n});return s.status==="aborted"?Ye:s.status==="dirty"||r.value==="dirty"?ep(s.value):s}}if(i.type==="refinement"){const o=s=>{const l=i.refinement(s,a);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return s};if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Ye:(s.status==="dirty"&&r.dirty(),o(s.value),{status:r.value,value:s.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>s.status==="aborted"?Ye:(s.status==="dirty"&&r.dirty(),o(s.value).then(()=>({status:r.value,value:s.value}))))}if(i.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!af(o))return Ye;const s=i.transform(o.value,a);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:s}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>af(o)?Promise.resolve(i.transform(o.value,a)).then(s=>({status:r.value,value:s})):Ye);wt.assertNever(i)}}lf.create=(t,e,r)=>new lf({schema:t,typeName:Ze.ZodEffects,effect:e,...ot(r)});lf.createWithPreprocess=(t,e,r)=>new lf({schema:e,effect:{type:"preprocess",transform:t},typeName:Ze.ZodEffects,...ot(r)});class Ol extends yt{_parse(e){return this._getType(e)===ke.undefined?pa(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ol.create=(t,e)=>new Ol({innerType:t,typeName:Ze.ZodOptional,...ot(e)});class cf extends yt{_parse(e){return this._getType(e)===ke.null?pa(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}cf.create=(t,e)=>new cf({innerType:t,typeName:Ze.ZodNullable,...ot(e)});class aS extends yt{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===ke.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}aS.create=(t,e)=>new aS({innerType:t,typeName:Ze.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ot(e)});class oS extends yt{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return ey(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ys(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ys(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}oS.create=(t,e)=>new oS({innerType:t,typeName:Ze.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ot(e)});class ZP extends yt{_parse(e){if(this._getType(e)!==ke.nan){const n=this._getOrReturnCtx(e);return Oe(n,{code:ce.invalid_type,expected:ke.nan,received:n.parsedType}),Ye}return{status:"valid",value:e.data}}}ZP.create=t=>new ZP({typeName:Ze.ZodNaN,...ot(t)});class gae extends yt{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class aO extends yt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Ye:a.status==="dirty"?(r.dirty(),ep(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Ye:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new aO({in:e,out:r,typeName:Ze.ZodPipeline})}}class sS extends yt{_parse(e){const r=this._def.innerType._parse(e),n=i=>(af(i)&&(i.value=Object.freeze(i.value)),i);return ey(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}sS.create=(t,e)=>new sS({innerType:t,typeName:Ze.ZodReadonly,...ot(e)});Or.lazycreate;var Ze;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ze||(Ze={}));const Le=ml.create,ia=of.create,yae=cm.create;Fl.create;bo.create;const zi=Or.create;Or.strictCreate;ty.create;ry.create;iu.create;const Ba=iS.create,cx=sf.create;ny.create;Ol.create;cf.create;function wp(t){const e=(t||"").trim();if(!e)return null;try{if(e.startsWith("+")){const n=e.replace(/\D/g,"");return n?`+${n}`:null}const r=e.replace(/\D/g,"");if(!r)return null;if(r.length>=11)return`+${r}`;if(r.length===10){const n="";return null}return null}catch{return null}}async function Aa(t,e){var i,a;const r=Object.assign({},(e==null?void 0:e.headers)||{});try{const o=await Ne.auth.getSession(),s=(a=(i=o==null?void 0:o.data)==null?void 0:i.session)==null?void 0:a.access_token;s&&(r.Authorization=`Bearer ${s}`)}catch{}try{}catch{}try{const o="sb_publishable_zti2zxT2mp4cVaEFhHzMeA_focEGt6N";o&&(r.apikey||(r.apikey=o),r["x-api-key"]||(r["x-api-key"]=o))}catch{}r["Content-Type"]||(r["Content-Type"]="application/json");try{const o="https://szburzfibchvdyxksokr.supabase.co",s="/functions/v1/whatsapp-proxy";if(typeof t=="string"&&(t.includes(s)||o&&t.includes(o)&&t.includes(s))&&!(typeof t=="string"&&t.includes(`${s}/api/whatsapp`)))try{const c=e&&e.method||"POST",d=e&&e.body?e.body:void 0,f=await Ne.functions.invoke("whatsapp-proxy",{method:c,body:d});if(f instanceof Response)return f;if(f&&f.error){const p=JSON.stringify(f.error);return new Response(p,{status:f.error.status||500,headers:{"Content-Type":"application/json"}})}const h=f&&f.data?JSON.stringify(f.data):JSON.stringify(f);return new Response(h,{status:200,headers:{"Content-Type":"application/json"}})}catch(c){return new Response(JSON.stringify({error:String(c)}),{status:500,headers:{"Content-Type":"application/json"}})}}catch{}return await fetch(t,Object.assign({},e,{headers:r}))}function ar(t,e){try{e!==void 0?console.info("[WA]",t,e):console.info("[WA]",t)}catch{}}function Xi(t,e){try{e!==void 0?console.warn("[WA]",t,e):console.warn("[WA]",t)}catch{}}function bp(t,e){try{e!==void 0?console.error("[WA]",t,e):console.error("[WA]",t)}catch{}}function xae(t,e){var r=Object.setPrototypeOf;r?r(t,e):t.__proto__=e}function wae(t,e){e===void 0&&(e=t.constructor);var r=Error.captureStackTrace;r&&r(t,e)}var bae=function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},t(r,n)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_ae=function(t){bae(e,t);function e(r,n){var i=this.constructor,a=t.call(this,r,n)||this;return Object.defineProperty(a,"name",{value:i.name,enumerable:!1,configurable:!0}),xae(a,i.prototype),wae(a),a}return e}(Error),Sae=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),mi=function(t){Sae(e,t);function e(r){r===void 0&&(r=void 0);var n=t.call(this,r)||this;return n.message=r,n}return e.prototype.getKind=function(){var r=this.constructor;return r.kind},e.kind="Exception",e}(_ae),Cae=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Tr=function(t){Cae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e}(mi),Eae=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ue=function(t){Eae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(mi),EL=function(){function t(e){if(this.binarizer=e,e===null)throw new Ue("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,r){return this.binarizer.getBlackRow(e,r)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,r,n,i){var a=this.binarizer.getLuminanceSource().crop(e,r,n,i);return new t(this.binarizer.createBinarizer(a))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t}(),Aae=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Fr=function(t){Aae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(mi),Oae=function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t}(),Yt=function(){function t(){}return t.arraycopy=function(e,r,n,i,a){for(;a--;)n[i++]=e[r++]},t.currentTimeMillis=function(){return Date.now()},t}(),Nae=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),oO=function(t){Nae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(mi),jae=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),QP=function(t){jae(e,t);function e(r,n){r===void 0&&(r=void 0),n===void 0&&(n=void 0);var i=t.call(this,n)||this;return i.index=r,i.message=n,i}return e.kind="ArrayIndexOutOfBoundsException",e}(oO),Tae=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Jr=function(){function t(){}return t.fill=function(e,r){for(var n=0,i=e.length;n<i;n++)e[n]=r},t.fillWithin=function(e,r,n,i){t.rangeCheck(e.length,r,n);for(var a=r;a<n;a++)e[a]=i},t.rangeCheck=function(e,r,n){if(r>n)throw new Ue("fromIndex("+r+") > toIndex("+n+")");if(r<0)throw new QP(r);if(n>e)throw new QP(n)},t.asList=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e},t.create=function(e,r,n){var i=Array.from({length:e});return i.map(function(a){return Array.from({length:r}).fill(n)})},t.createInt32Array=function(e,r,n){var i=Array.from({length:e});return i.map(function(a){return Int32Array.from({length:r}).fill(n)})},t.equals=function(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==r[n])return!1;return!0},t.hashCode=function(e){var r,n;if(e===null)return 0;var i=1;try{for(var a=Tae(e),o=a.next();!o.done;o=a.next()){var s=o.value;i=31*i+s}}catch(l){r={error:l}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.fillUint8Array=function(e,r){for(var n=0;n!==e.length;n++)e[n]=r},t.copyOf=function(e,r){return e.slice(0,r)},t.copyOfUint8Array=function(e,r){if(e.length<=r){var n=new Uint8Array(r);return n.set(e),n}return e.slice(0,r)},t.copyOfRange=function(e,r,n){var i=n-r,a=new Int32Array(i);return Yt.arraycopy(e,r,a,0,i),a},t.binarySearch=function(e,r,n){n===void 0&&(n=t.numberComparator);for(var i=0,a=e.length-1;i<=a;){var o=a+i>>1,s=n(r,e[o]);if(s>0)i=o+1;else if(s<0)a=o-1;else return o}return-i-1},t.numberComparator=function(e,r){return e-r},t}(),at=function(){function t(){}return t.numberOfTrailingZeros=function(e){var r;if(e===0)return 32;var n=31;return r=e<<16,r!==0&&(n-=16,e=r),r=e<<8,r!==0&&(n-=8,e=r),r=e<<4,r!==0&&(n-=4,e=r),r=e<<2,r!==0&&(n-=2,e=r),n-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,r){return Math.trunc(e/r)},t.parseInt=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),pn=function(){function t(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=t.makeArray(e):this.bits=r)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var r=t.makeArray(e);Yt.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),a=n[i];a&=~((1<<(e&31))-1);for(var o=n.length;a===0;){if(++i===o)return r;a=n[i]}var s=i*32+at.numberOfTrailingZeros(a);return s>r?r:s},t.prototype.getNextUnset=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),a=~n[i];a&=~((1<<(e&31))-1);for(var o=n.length;a===0;){if(++i===o)return r;a=~n[i]}var s=i*32+at.numberOfTrailingZeros(a);return s>r?r:s},t.prototype.setBulk=function(e,r){this.bits[Math.floor(e/32)]=r},t.prototype.setRange=function(e,r){if(r<e||e<0||r>this.size)throw new Ue;if(r!==e){r--;for(var n=Math.floor(e/32),i=Math.floor(r/32),a=this.bits,o=n;o<=i;o++){var s=o>n?0:e&31,l=o<i?31:r&31,c=(2<<l)-(1<<s);a[o]|=c}}},t.prototype.clear=function(){for(var e=this.bits.length,r=this.bits,n=0;n<e;n++)r[n]=0},t.prototype.isRange=function(e,r,n){if(r<e||e<0||r>this.size)throw new Ue;if(r===e)return!0;r--;for(var i=Math.floor(e/32),a=Math.floor(r/32),o=this.bits,s=i;s<=a;s++){var l=s>i?0:e&31,c=s<a?31:r&31,d=(2<<c)-(1<<l)&4294967295;if((o[s]&d)!==(n?d:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,r){if(r<0||r>32)throw new Ue("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(var n=r;n>0;n--)this.appendBit((e>>n-1&1)===1)},t.prototype.appendBitArray=function(e){var r=e.size;this.ensureCapacity(this.size+r);for(var n=0;n<r;n++)this.appendBit(e.get(n))},t.prototype.xor=function(e){if(this.size!==e.size)throw new Ue("Sizes don't match");for(var r=this.bits,n=0,i=r.length;n<i;n++)r[n]^=e.bits[n]},t.prototype.toBytes=function(e,r,n,i){for(var a=0;a<i;a++){for(var o=0,s=0;s<8;s++)this.get(e)&&(o|=1<<7-s),e++;r[n+a]=o}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),n=r+1,i=this.bits,a=0;a<n;a++){var o=i[a];o=o>>1&1431655765|(o&1431655765)<<1,o=o>>2&858993459|(o&858993459)<<2,o=o>>4&252645135|(o&252645135)<<4,o=o>>8&16711935|(o&16711935)<<8,o=o>>16&65535|(o&65535)<<16,e[r-a]=o}if(this.size!==n*32){for(var s=n*32-this.size,l=e[0]>>>s,a=1;a<n;a++){var c=e[a];l|=c<<32-s,e[a-1]=l,l=c>>>s}e[n-1]=l}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.size===r.size&&Jr.equals(this.bits,r.bits)},t.prototype.hashCode=function(){return 31*this.size+Jr.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",r=0,n=this.size;r<n;r++)r&7||(e+=" "),e+=this.get(r)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var e=[],r=0,n=this.size;r<n;r++)e.push(this.get(r));return e},t}(),lS;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",t[t.ASSUME_GS1=8]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(lS||(lS={}));const Zt=lS;var Pae=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),pe=function(t){Pae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(mi),kae=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jt;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(jt||(jt={}));var Qr=function(){function t(e,r,n){for(var i,a,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this.valueIdentifier=e,this.name=n,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=o,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(n,this);for(var l=this.values,c=0,d=l.length;c!==d;c++){var f=l[c];t.VALUES_TO_ECI.set(f,this)}try{for(var h=kae(o),p=h.next();!p.done;p=h.next()){var v=p.value;t.NAME_TO_ECI.set(v,this)}}catch(m){i={error:m}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new pe("incorect value");var r=t.VALUES_TO_ECI.get(e);if(r===void 0)throw new pe("incorect value");return r},t.getCharacterSetECIByName=function(e){var r=t.NAME_TO_ECI.get(e);if(r===void 0)throw new pe("incorect value");return r},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.getName()===r.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(jt.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(jt.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(jt.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(jt.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(jt.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(jt.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(jt.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(jt.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(jt.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(jt.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(jt.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(jt.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(jt.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(jt.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(jt.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(jt.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(jt.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(jt.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(jt.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(jt.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(jt.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(jt.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(jt.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(jt.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(jt.Big5,28,"Big5"),t.GB18030=new t(jt.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(jt.EUC_KR,30,"EUC_KR","EUC-KR"),t}(),Iae=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),og=function(t){Iae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(mi),ca=function(){function t(){}return t.decode=function(e,r){var n=this.encodingName(r);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,r){var n=this.encodingName(r);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof Qr?e:Qr.getCharacterSetECIByName(e)},t.decodeFallback=function(e,r){var n=this.encodingCharacterSet(r);if(t.isDecodeFallbackSupported(n)){for(var i="",a=0,o=e.length;a<o;a++){var s=e[a].toString(16);s.length<2&&(s="0"+s),i+="%"+s}return decodeURIComponent(i)}if(n.equals(Qr.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new og("Encoding "+this.encodingName(r)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(Qr.UTF8)||e.equals(Qr.ISO8859_1)||e.equals(Qr.ASCII)},t.encodeFallback=function(e){for(var r=btoa(unescape(encodeURIComponent(e))),n=r.split(""),i=[],a=0;a<n.length;a++)i.push(n[a].charCodeAt(0));return new Uint8Array(i)},t}(),ht=function(){function t(){}return t.castAsNonUtf8Char=function(e,r){r===void 0&&(r=null);var n=r?r.getName():this.ISO88591;return ca.decode(new Uint8Array([e]),n)},t.guessEncoding=function(e,r){if(r!=null&&r.get(Zt.CHARACTER_SET)!==void 0)return r.get(Zt.CHARACTER_SET).toString();for(var n=e.length,i=!0,a=!0,o=!0,s=0,l=0,c=0,d=0,f=0,h=0,p=0,v=0,m=0,g=0,y=0,x=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,w=0;w<n&&(i||a||o);w++){var S=e[w]&255;o&&(s>0?S&128?s--:o=!1:S&128&&(S&64?(s++,S&32?(s++,S&16?(s++,S&8?o=!1:d++):c++):l++):o=!1)),i&&(S>127&&S<160?i=!1:S>159&&(S<192||S===215||S===247)&&y++),a&&(f>0?S<64||S===127||S>252?a=!1:f--:S===128||S===160||S>239?a=!1:S>160&&S<224?(h++,v=0,p++,p>m&&(m=p)):S>127?(f++,p=0,v++,v>g&&(g=v)):(p=0,v=0))}return o&&s>0&&(o=!1),a&&f>0&&(a=!1),o&&(x||l+c+d>0)?t.UTF8:a&&(t.ASSUME_SHIFT_JIS||m>=3||g>=3)?t.SHIFT_JIS:i&&a?m===2&&h===2||y*10>=n?t.SHIFT_JIS:t.ISO88591:i?t.ISO88591:a?t.SHIFT_JIS:o?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=-1;function a(s,l,c,d,f,h){if(s==="%%")return"%";if(r[++i]!==void 0){s=d?parseInt(d.substr(1)):void 0;var p=f?parseInt(f.substr(1)):void 0,v;switch(h){case"s":v=r[i];break;case"c":v=r[i][0];break;case"f":v=parseFloat(r[i]).toFixed(s);break;case"p":v=parseFloat(r[i]).toPrecision(s);break;case"e":v=parseFloat(r[i]).toExponential(s);break;case"x":v=parseInt(r[i]).toString(p||16);break;case"d":v=parseFloat(parseInt(r[i],p||10).toPrecision(s)).toFixed(0);break}v=typeof v=="object"?JSON.stringify(v):(+v).toString(p);for(var m=parseInt(c),g=c&&c[0]+""=="0"?"0":" ";v.length<m;)v=l!==void 0?v+g:g+v;return v}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,a)},t.getBytes=function(e,r){return ca.encode(e,r)},t.getCharCode=function(e,r){return r===void 0&&(r=0),e.charCodeAt(r)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=Qr.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=Qr.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=Qr.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t}(),nt=function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=ht.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,r,n){for(var i=r;r<r+n;i++)this.append(e[i]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)},t.prototype.substring=function(e,r){return this.value.substring(e,r)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,r){this.value=this.value.substring(0,e)+r+this.value.substring(e)},t}(),Oo=function(){function t(e,r,n,i){if(this.width=e,this.height=r,this.rowSize=n,this.bits=i,r==null&&(r=e),this.height=r,e<1||r<1)throw new Ue("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var r=e.length,n=e[0].length,i=new t(n,r),a=0;a<r;a++)for(var o=e[a],s=0;s<n;s++)o[s]&&i.set(s,a);return i},t.parseFromString=function(e,r,n){if(e===null)throw new Ue("stringRepresentation cannot be null");for(var i=new Array(e.length),a=0,o=0,s=-1,l=0,c=0;c<e.length;)if(e.charAt(c)===`
`||e.charAt(c)==="\r"){if(a>o){if(s===-1)s=a-o;else if(a-o!==s)throw new Ue("row lengths do not match");o=a,l++}c++}else if(e.substring(c,c+r.length)===r)c+=r.length,i[a]=!0,a++;else if(e.substring(c,c+n.length)===n)c+=n.length,i[a]=!1,a++;else throw new Ue("illegal character encountered: "+e.substring(c));if(a>o){if(s===-1)s=a-o;else if(a-o!==s)throw new Ue("row lengths do not match");l++}for(var d=new t(s,l),f=0;f<a;f++)i[f]&&d.set(Math.floor(f%s),Math.floor(f/s));return d},t.prototype.get=function(e,r){var n=r*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},t.prototype.set=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new Ue("input matrix dimensions do not match");for(var r=new pn(Math.floor(this.width/32)+1),n=this.rowSize,i=this.bits,a=0,o=this.height;a<o;a++)for(var s=a*n,l=e.getRow(a,r).getBitArray(),c=0;c<n;c++)i[s+c]^=l[c]},t.prototype.clear=function(){for(var e=this.bits,r=e.length,n=0;n<r;n++)e[n]=0},t.prototype.setRegion=function(e,r,n,i){if(r<0||e<0)throw new Ue("Left and top must be nonnegative");if(i<1||n<1)throw new Ue("Height and width must be at least 1");var a=e+n,o=r+i;if(o>this.height||a>this.width)throw new Ue("The region must fit inside the matrix");for(var s=this.rowSize,l=this.bits,c=r;c<o;c++)for(var d=c*s,f=e;f<a;f++)l[d+Math.floor(f/32)]|=1<<(f&31)&4294967295},t.prototype.getRow=function(e,r){r==null||r.getSize()<this.width?r=new pn(this.width):r.clear();for(var n=this.rowSize,i=this.bits,a=e*n,o=0;o<n;o++)r.setBulk(o*32,i[a+o]);return r},t.prototype.setRow=function(e,r){Yt.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),r=this.getHeight(),n=new pn(e),i=new pn(e),a=0,o=Math.floor((r+1)/2);a<o;a++)n=this.getRow(a,n),i=this.getRow(r-1-a,i),n.reverse(),i.reverse(),this.setRow(a,i),this.setRow(r-1-a,n)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,r=this.height,n=this.rowSize,i=this.bits,a=e,o=r,s=-1,l=-1,c=0;c<r;c++)for(var d=0;d<n;d++){var f=i[c*n+d];if(f!==0){if(c<o&&(o=c),c>l&&(l=c),d*32<a){for(var h=0;!(f<<31-h&4294967295);)h++;d*32+h<a&&(a=d*32+h)}if(d*32+31>s){for(var h=31;!(f>>>h);)h--;d*32+h>s&&(s=d*32+h)}}}return s<a||l<o?null:Int32Array.from([a,o,s-a+1,l-o+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,r=this.bits,n=0;n<r.length&&r[n]===0;)n++;if(n===r.length)return null;for(var i=n/e,a=n%e*32,o=r[n],s=0;!(o<<31-s&4294967295);)s++;return a+=s,Int32Array.from([a,i])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,r=this.bits,n=r.length-1;n>=0&&r[n]===0;)n--;if(n<0)return null;for(var i=Math.floor(n/e),a=Math.floor(n%e)*32,o=r[n],s=31;!(o>>>s);)s--;return a+=s,Int32Array.from([a,i])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&Jr.equals(this.bits,r.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+Jr.hashCode(this.bits),e},t.prototype.toString=function(e,r,n){return e===void 0&&(e="X "),r===void 0&&(r="  "),n===void 0&&(n=`
`),this.buildToString(e,r,n)},t.prototype.buildToString=function(e,r,n){for(var i=new nt,a=0,o=this.height;a<o;a++){for(var s=0,l=this.width;s<l;s++)i.append(this.get(s,a)?e:r);i.append(n)}return i.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t}(),Rae=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Z=function(t){Rae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(mi),Dae=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Mae=function(t){Dae(e,t);function e(r){var n=t.call(this,r)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(r,n){var i=this.getLuminanceSource(),a=i.getWidth();n==null||n.getSize()<a?n=new pn(a):n.clear(),this.initArrays(a);for(var o=i.getRow(r,this.luminances),s=this.buckets,l=0;l<a;l++)s[(o[l]&255)>>e.LUMINANCE_SHIFT]++;var c=e.estimateBlackPoint(s);if(a<3)for(var l=0;l<a;l++)(o[l]&255)<c&&n.set(l);else for(var d=o[0]&255,f=o[1]&255,l=1;l<a-1;l++){var h=o[l+1]&255;(f*4-d-h)/2<c&&n.set(l),d=f,f=h}return n},e.prototype.getBlackMatrix=function(){var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight(),a=new Oo(n,i);this.initArrays(n);for(var o=this.buckets,s=1;s<5;s++)for(var l=Math.floor(i*s/5),c=r.getRow(l,this.luminances),d=Math.floor(n*4/5),f=Math.floor(n/5);f<d;f++){var h=c[f]&255;o[h>>e.LUMINANCE_SHIFT]++}for(var p=e.estimateBlackPoint(o),v=r.getMatrix(),s=0;s<i;s++)for(var m=s*n,f=0;f<n;f++){var h=v[m+f]&255;h<p&&a.set(f,s)}return a},e.prototype.createBinarizer=function(r){return new e(r)},e.prototype.initArrays=function(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));for(var n=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)n[i]=0},e.estimateBlackPoint=function(r){for(var n=r.length,i=0,a=0,o=0,s=0;s<n;s++)r[s]>o&&(a=s,o=r[s]),r[s]>i&&(i=r[s]);for(var l=0,c=0,s=0;s<n;s++){var d=s-a,f=r[s]*d*d;f>c&&(l=s,c=f)}if(a>l){var h=a;a=l,l=h}if(l-a<=n/16)throw new Z;for(var p=l-1,v=-1,s=l-1;s>a;s--){var m=s-a,f=m*m*(l-s)*(i-r[s]);f>v&&(p=s,v=f)}return p<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(Oae),$ae=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),AL=function(t){$ae(e,t);function e(r){var n=t.call(this,r)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight();if(n>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var a=r.getMatrix(),o=n>>e.BLOCK_SIZE_POWER;n&e.BLOCK_SIZE_MASK&&o++;var s=i>>e.BLOCK_SIZE_POWER;i&e.BLOCK_SIZE_MASK&&s++;var l=e.calculateBlackPoints(a,o,s,n,i),c=new Oo(n,i);e.calculateThresholdForBlock(a,o,s,n,i,l,c),this.matrix=c}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(r){return new e(r)},e.calculateThresholdForBlock=function(r,n,i,a,o,s,l){for(var c=o-e.BLOCK_SIZE,d=a-e.BLOCK_SIZE,f=0;f<i;f++){var h=f<<e.BLOCK_SIZE_POWER;h>c&&(h=c);for(var p=e.cap(f,2,i-3),v=0;v<n;v++){var m=v<<e.BLOCK_SIZE_POWER;m>d&&(m=d);for(var g=e.cap(v,2,n-3),y=0,x=-2;x<=2;x++){var w=s[p+x];y+=w[g-2]+w[g-1]+w[g]+w[g+1]+w[g+2]}var S=y/25;e.thresholdBlock(r,m,h,S,a,l)}}},e.cap=function(r,n,i){return r<n?n:r>i?i:r},e.thresholdBlock=function(r,n,i,a,o,s){for(var l=0,c=i*o+n;l<e.BLOCK_SIZE;l++,c+=o)for(var d=0;d<e.BLOCK_SIZE;d++)(r[c+d]&255)<=a&&s.set(n+d,i+l)},e.calculateBlackPoints=function(r,n,i,a,o){for(var s=o-e.BLOCK_SIZE,l=a-e.BLOCK_SIZE,c=new Array(i),d=0;d<i;d++){c[d]=new Int32Array(n);var f=d<<e.BLOCK_SIZE_POWER;f>s&&(f=s);for(var h=0;h<n;h++){var p=h<<e.BLOCK_SIZE_POWER;p>l&&(p=l);for(var v=0,m=255,g=0,y=0,x=f*a+p;y<e.BLOCK_SIZE;y++,x+=a){for(var w=0;w<e.BLOCK_SIZE;w++){var S=r[x+w]&255;v+=S,S<m&&(m=S),S>g&&(g=S)}if(g-m>e.MIN_DYNAMIC_RANGE)for(y++,x+=a;y<e.BLOCK_SIZE;y++,x+=a)for(var w=0;w<e.BLOCK_SIZE;w++)v+=r[x+w]&255}var _=v>>e.BLOCK_SIZE_POWER*2;if(g-m<=e.MIN_DYNAMIC_RANGE&&(_=m/2,d>0&&h>0)){var C=(c[d-1][h]+2*c[d][h-1]+c[d-1][h-1])/4;m<C&&(_=C)}c[d][h]=_}}return c},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(Mae),_v=function(){function t(e,r){this.width=e,this.height=r}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,r,n,i){throw new og("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new og("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new og("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),r=new nt,n=0;n<this.height;n++){for(var i=this.getRow(n,e),a=0;a<this.width;a++){var o=i[a]&255,s=void 0;o<64?s="#":o<128?s="+":o<192?s=".":s=" ",r.append(s)}r.append(`
`)}return r.toString()},t}(),Lae=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ux=function(t){Lae(e,t);function e(r){var n=t.call(this,r.getWidth(),r.getHeight())||this;return n.delegate=r,n}return e.prototype.getRow=function(r,n){for(var i=this.delegate.getRow(r,n),a=this.getWidth(),o=0;o<a;o++)i[o]=255-(i[o]&255);return i},e.prototype.getMatrix=function(){for(var r=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n),a=0;a<n;a++)i[a]=255-(r[a]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(r,n,i,a){return new e(this.delegate.crop(r,n,i,a))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(_v),Fae=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Bae=function(t){Fae(e,t);function e(r,n){n===void 0&&(n=!1);var i=t.call(this,r.width,r.height)||this;return i.canvas=r,i.tempCanvasElement=null,i.buffer=e.makeBufferFromCanvasImageData(r,n),i}return e.makeBufferFromCanvasImageData=function(r,n){n===void 0&&(n=!1);var i=r.getContext("2d").getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(i.data,r.width,r.height,n)},e.toGrayscaleBuffer=function(r,n,i,a){a===void 0&&(a=!1);var o=new Uint8ClampedArray(n*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!a)for(var s=0,l=0,c=r.length;s<c;s+=4,l++){var d=void 0,f=r[s+3];if(f===0)d=255;else{var h=r[s],p=r[s+1],v=r[s+2];d=306*h+601*p+117*v+512>>10}o[l]=d}else for(var s=0,l=0,m=r.length;s<m;s+=4,l++){var d=void 0,f=r[s+3];if(f===0)d=255;else{var h=r[s],p=r[s+1],v=r[s+2];d=306*h+601*p+117*v+512>>10}o[l]=255-d}return o},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Ue("Requested row is outside the image: "+r);var i=this.getWidth(),a=r*i;return n===null?n=this.buffer.slice(a,a+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(a,a+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return t.prototype.crop.call(this,r,n,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement(),i=n.getContext("2d"),a=r*e.DEGREE_TO_RADIANS,o=this.canvas.width,s=this.canvas.height,l=Math.ceil(Math.abs(Math.cos(a))*o+Math.abs(Math.sin(a))*s),c=Math.ceil(Math.abs(Math.sin(a))*o+Math.abs(Math.cos(a))*s);return n.width=l,n.height=c,i.translate(l/2,c/2),i.rotate(a),i.drawImage(this.canvas,o/-2,s/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new ux(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(_v),Uae=function(){function t(e,r,n){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=n||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t}(),Dn=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?a(d.value):i(d.value).then(s,l)}c((n=n.apply(t,e||[])).next())})},Mn=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(d){return l([c,d])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(c[0]===6&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(d){c=[6,d],i=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Vae=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},th=function(){function t(e,r,n){r===void 0&&(r=500),this.reader=e,this.timeBetweenScansMillis=r,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return Dn(this,void 0,void 0,function(){var e,r,n,i,a,o,s,l,c,d,f,h;return Mn(this,function(p){switch(p.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=p.sent(),r=[];try{for(n=Vae(e),i=n.next();!i.done;i=n.next())a=i.value,o=a.kind==="video"?"videoinput":a.kind,o==="videoinput"&&(s=a.deviceId||a.id,l=a.label||"Video device "+(r.length+1),c=a.groupId,d={deviceId:s,label:l,kind:o,groupId:c},r.push(d))}catch(v){f={error:v}}finally{try{i&&!i.done&&(h=n.return)&&h.call(n)}finally{if(f)throw f.error}}return[2,r]}})})},t.prototype.getVideoInputDevices=function(){return Dn(this,void 0,void 0,function(){var e;return Mn(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=r.sent(),[2,e.map(function(n){return new Uae(n.deviceId,n.label)})]}})})},t.prototype.findDeviceById=function(e){return Dn(this,void 0,void 0,function(){var r;return Mn(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(i){return i.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,r){return Dn(this,void 0,void 0,function(){return Mn(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return Dn(this,void 0,void 0,function(){var n,i;return Mn(this,function(a){switch(a.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,r)];case 1:return[2,a.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return Dn(this,void 0,void 0,function(){var n;return Mn(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return Dn(this,void 0,void 0,function(){var n,i;return Mn(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return n=a.sent(),[4,this.decodeOnce(n)];case 2:return i=a.sent(),[2,i]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,r,n){return Dn(this,void 0,void 0,function(){return Mn(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,r,n)];case 1:return[2,i.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return Dn(this,void 0,void 0,function(){var i,a;return Mn(this,function(o){switch(o.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,r,n)];case 1:return[2,o.sent()]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return Dn(this,void 0,void 0,function(){var i;return Mn(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=a.sent(),[4,this.decodeFromStream(i,r,n)];case 2:return[2,a.sent()]}})})},t.prototype.decodeFromStream=function(e,r,n){return Dn(this,void 0,void 0,function(){var i;return Mn(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return i=a.sent(),[4,this.decodeContinuously(i,n)];case 2:return[2,a.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,r){return Dn(this,void 0,void 0,function(){var n;return Mn(this,function(i){switch(i.label){case 0:return n=this.prepareVideoElement(r),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return i.sent(),[2,n]}})})},t.prototype.playVideoOnLoadAsync=function(e){var r=this;return new Promise(function(n,i){return r.playVideoOnLoad(e,function(){return n()})})},t.prototype.playVideoOnLoad=function(e,r){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return Dn(this,void 0,void 0,function(){return Mn(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[3,4];case 3:return r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new Tr("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new Tr("element with id '"+e+"' must be an "+r+" element");return n},t.prototype.decodeFromImage=function(e,r){if(!e&&!r)throw new Tr("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,r){if(!e&&!r)throw new Tr("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,r,n){if(e===void 0&&r===void 0)throw new Tr("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,n):this.decodeFromVideoElementContinuously(e,n)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new Tr("An image element must be provided.");this.reset();var r=this.prepareImageElement(e);this.imageElement=r;var n;return this.isImageLoaded(r)?n=this.decodeOnce(r,!1,!0):n=this._decodeOnLoadImage(r),n},t.prototype.decodeFromVideoElement=function(e){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)},t.prototype.decodeFromVideoElementContinuously=function(e,r){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,r)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new Tr("A video element must be provided.");this.reset();var r=this.prepareVideoElement(e);return this.videoElement=r,r},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new Tr("An URL must be provided.");this.reset();var r=this.prepareImageElement();this.imageElement=r;var n=this._decodeOnLoadImage(r);return r.src=e,n},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new Tr("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),n=this.decodeFromVideoElement(r);return r.src=e,n},t.prototype.decodeFromVideoUrlContinuously=function(e,r){if(!e)throw new Tr("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(n,r);return n.src=e,i},t.prototype._decodeOnLoadImage=function(e){var r=this;return new Promise(function(n,i){r.imageLoadedListener=function(){return r.decodeOnce(e,!1,!0).then(n,i)},e.addEventListener("load",r.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return Dn(this,void 0,void 0,function(){return Mn(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),[4,this.decodeOnce(e)];case 2:return[2,r.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,r){return Dn(this,void 0,void 0,function(){return Mn(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,r),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r},t.prototype.prepareVideoElement=function(e){var r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.prototype.decodeOnce=function(e,r,n){var i=this;r===void 0&&(r=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var a=function(o,s){if(i._stopAsyncDecode){s(new Z("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var l=i.decode(e);o(l)}catch(h){var c=r&&h instanceof Z,d=h instanceof Fr||h instanceof pe,f=d&&n;if(c||f)return setTimeout(a,i._timeBetweenDecodingAttempts,o,s);s(h)}};return new Promise(function(o,s){return a(o,s)})},t.prototype.decodeContinuously=function(e,r){var n=this;this._stopContinuousDecode=!1;var i=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var a=n.decode(e);r(a,null),setTimeout(i,n.timeBetweenScansMillis)}catch(l){r(null,l);var o=l instanceof Fr||l instanceof pe,s=l instanceof Z;(o||s)&&setTimeout(i,n._timeBetweenDecodingAttempts)}};i()},t.prototype.decode=function(e){var r=this.createBinaryBitmap(e);return this.decodeBitmap(r)},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var r=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),r=!0):this.drawImageOnCanvas(e);var n=this.getCaptureCanvas(e),i=new Bae(n,r),a=new AL(i);return new EL(a)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var r=this.getCaptureCanvas(e),n=void 0;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.drawImageOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var r=document.createElement("canvas"),n,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),r.style.width=n+"px",r.style.height=i+"px",r.width=n,r.height=i,r},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t}(),Rn=function(){function t(e,r,n,i,a,o){n===void 0&&(n=r==null?0:8*r.length),o===void 0&&(o=Yt.currentTimeMillis()),this.text=e,this.rawBytes=r,this.numBits=n,this.resultPoints=i,this.format=a,this.timestamp=o,this.text=e,this.rawBytes=r,n==null?this.numBits=r==null?0:8*r.length:this.numBits=n,this.resultPoints=i,this.format=a,this.resultMetadata=null,o==null?this.timestamp=Yt.currentTimeMillis():this.timestamp=o}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(r.length+e.length);Yt.arraycopy(r,0,n,0,r.length),Yt.arraycopy(e,0,n,r.length,e.length),this.resultPoints=n}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t}(),cS;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(cS||(cS={}));const Be=cS;var uS;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(uS||(uS={}));const Cn=uS;var dx=function(){function t(e,r,n,i,a,o){a===void 0&&(a=-1),o===void 0&&(o=-1),this.rawBytes=e,this.text=r,this.byteSegments=n,this.ecLevel=i,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=o,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t}(),tp=function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new Ue;return this.logTable[e]},t.addOrSubtract=function(e,r){return e^r},t}(),Nl=function(){function t(e,r){if(r.length===0)throw new Ue;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-i),Yt.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var r=this.coefficients,n;if(e===1){n=0;for(var i=0,a=r.length;i!==a;i++){var o=r[i];n=tp.addOrSubtract(n,o)}return n}n=r[0];for(var s=r.length,l=this.field,i=1;i<s;i++)n=tp.addOrSubtract(l.multiply(e,n),r[i]);return n},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new Ue("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var a=new Int32Array(n.length),o=n.length-r.length;Yt.arraycopy(n,0,a,0,o);for(var s=o;s<n.length;s++)a[s]=tp.addOrSubtract(r[s-o],n[s]);return new t(this.field,a)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new Ue("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var r=this.coefficients,n=r.length,i=e.coefficients,a=i.length,o=new Int32Array(n+a-1),s=this.field,l=0;l<n;l++)for(var c=r[l],d=0;d<a;d++)o[l+d]=tp.addOrSubtract(o[l+d],s.multiply(c,i[d]));return new t(s,o)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var r=this.coefficients.length,n=this.field,i=new Int32Array(r),a=this.coefficients,o=0;o<r;o++)i[o]=n.multiply(a[o],e);return new t(n,i)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new Ue;if(r===0)return this.field.getZero();for(var n=this.coefficients,i=n.length,a=new Int32Array(i+e),o=this.field,s=0;s<i;s++)a[s]=o.multiply(n[s],r);return new t(o,a)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new Ue("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new Ue("Divide by 0");for(var r=this.field,n=r.getZero(),i=this,a=e.getCoefficient(e.getDegree()),o=r.inverse(a);i.getDegree()>=e.getDegree()&&!i.isZero();){var s=i.getDegree()-e.getDegree(),l=r.multiply(i.getCoefficient(i.getDegree()),o),c=e.multiplyByMonomial(s,l),d=r.buildMonomial(s,l);n=n.addOrSubtract(d),i=i.addOrSubtract(c)}return[n,i]},t.prototype.toString=function(){for(var e="",r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),r===0||n!==1){var i=this.field.log(n);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e},t}(),Wae=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),OL=function(t){Wae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(mi),zae=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ii=function(t){zae(e,t);function e(r,n,i){var a=t.call(this)||this;a.primitive=r,a.size=n,a.generatorBase=i;for(var o=new Int32Array(n),s=1,l=0;l<n;l++)o[l]=s,s*=2,s>=n&&(s^=r,s&=n-1);a.expTable=o;for(var c=new Int32Array(n),l=0;l<n-1;l++)c[o[l]]=l;return a.logTable=c,a.zero=new Nl(a,Int32Array.from([0])),a.one=new Nl(a,Int32Array.from([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new Ue;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new Nl(this,i)},e.prototype.inverse=function(r){if(r===0)throw new OL;return this.expTable[this.size-this.logTable[r]-1]},e.prototype.multiply=function(r,n){return r===0||n===0?0:this.expTable[(this.logTable[r]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+at.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(r){return r===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(tp),Hae=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),w0=function(t){Hae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(mi),Gae=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Sv=function(t){Gae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(mi),fx=function(){function t(e){this.field=e}return t.prototype.decode=function(e,r){for(var n=this.field,i=new Nl(n,e),a=new Int32Array(r),o=!0,s=0;s<r;s++){var l=i.evaluateAt(n.exp(s+n.getGeneratorBase()));a[a.length-1-s]=l,l!==0&&(o=!1)}if(!o)for(var c=new Nl(n,a),d=this.runEuclideanAlgorithm(n.buildMonomial(r,1),c,r),f=d[0],h=d[1],p=this.findErrorLocations(f),v=this.findErrorMagnitudes(h,p),s=0;s<p.length;s++){var m=e.length-1-n.log(p[s]);if(m<0)throw new w0("Bad error location");e[m]=ii.addOrSubtract(e[m],v[s])}},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var a=this.field,o=e,s=r,l=a.getZero(),c=a.getOne();s.getDegree()>=(n/2|0);){var d=o,f=l;if(o=s,l=c,o.isZero())throw new w0("r_{i-1} was zero");s=d;for(var h=a.getZero(),p=o.getCoefficient(o.getDegree()),v=a.inverse(p);s.getDegree()>=o.getDegree()&&!s.isZero();){var m=s.getDegree()-o.getDegree(),g=a.multiply(s.getCoefficient(s.getDegree()),v);h=h.addOrSubtract(a.buildMonomial(m,g)),s=s.addOrSubtract(o.multiplyByMonomial(m,g))}if(c=h.multiply(l).addOrSubtract(f),s.getDegree()>=o.getDegree())throw new Sv("Division algorithm failed to reduce polynomial?")}var y=c.getCoefficient(0);if(y===0)throw new w0("sigmaTilde(0) was zero");var x=a.inverse(y),w=c.multiplyScalar(x),S=s.multiplyScalar(x);return[w,S]},t.prototype.findErrorLocations=function(e){var r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(r),i=0,a=this.field,o=1;o<a.getSize()&&i<r;o++)e.evaluateAt(o)===0&&(n[i]=a.inverse(o),i++);if(i!==r)throw new w0("Error locator degree does not match number of roots");return n},t.prototype.findErrorMagnitudes=function(e,r){for(var n=r.length,i=new Int32Array(n),a=this.field,o=0;o<n;o++){for(var s=a.inverse(r[o]),l=1,c=0;c<n;c++)if(o!==c){var d=a.multiply(r[c],s),f=d&1?d&-2:d|1;l=a.multiply(l,f)}i[o]=a.multiply(e.evaluateAt(s),a.inverse(l)),a.getGeneratorBase()!==0&&(i[o]=a.multiply(i[o],s))}return i},t}(),wn;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})(wn||(wn={}));var JP=function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var r=e.getBits(),n=this.extractBits(r),i=this.correctBits(n),a=t.convertBoolArrayToByteArray(i),o=t.getEncodedData(i),s=new dx(a,o,null,null);return s.setNumBits(i.length),s},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var r=e.length,n=wn.UPPER,i=wn.UPPER,a="",o=0;o<r;)if(i===wn.BINARY){if(r-o<5)break;var s=t.readCode(e,o,5);if(o+=5,s===0){if(r-o<11)break;s=t.readCode(e,o,11)+31,o+=11}for(var l=0;l<s;l++){if(r-o<8){o=r;break}var c=t.readCode(e,o,8);a+=ht.castAsNonUtf8Char(c),o+=8}i=n}else{var d=i===wn.DIGIT?4:5;if(r-o<d)break;var c=t.readCode(e,o,d);o+=d;var f=t.getCharacter(i,c);f.startsWith("CTRL_")?(n=i,i=t.getTable(f.charAt(5)),f.charAt(6)==="L"&&(n=i)):(a+=f,i=n)}return a},t.getTable=function(e){switch(e){case"L":return wn.LOWER;case"P":return wn.PUNCT;case"M":return wn.MIXED;case"D":return wn.DIGIT;case"B":return wn.BINARY;case"U":default:return wn.UPPER}},t.getCharacter=function(e,r){switch(e){case wn.UPPER:return t.UPPER_TABLE[r];case wn.LOWER:return t.LOWER_TABLE[r];case wn.MIXED:return t.MIXED_TABLE[r];case wn.PUNCT:return t.PUNCT_TABLE[r];case wn.DIGIT:return t.DIGIT_TABLE[r];default:throw new Sv("Bad table")}},t.prototype.correctBits=function(e){var r,n;this.ddata.getNbLayers()<=2?(n=6,r=ii.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,r=ii.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,r=ii.AZTEC_DATA_10):(n=12,r=ii.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),a=e.length/n;if(a<i)throw new pe;for(var o=e.length%n,s=new Int32Array(a),l=0;l<a;l++,o+=n)s[l]=t.readCode(e,o,n);try{var c=new fx(r);c.decode(s,a-i)}catch(g){throw new pe(g)}for(var d=(1<<n)-1,f=0,l=0;l<i;l++){var h=s[l];if(h===0||h===d)throw new pe;(h===1||h===d-1)&&f++}for(var p=new Array(i*n-f),v=0,l=0;l<i;l++){var h=s[l];if(h===1||h===d-1)p.fill(h>1,v,v+n-1),v+=n-1;else for(var m=n-1;m>=0;--m)p[v++]=(h&1<<m)!==0}return p},t.prototype.extractBits=function(e){var r=this.ddata.isCompact(),n=this.ddata.getNbLayers(),i=(r?11:14)+n*4,a=new Int32Array(i),o=new Array(this.totalBitsInLayer(n,r));if(r)for(var s=0;s<a.length;s++)a[s]=s;else for(var l=i+1+2*at.truncDivision(at.truncDivision(i,2)-1,15),c=i/2,d=at.truncDivision(l,2),s=0;s<c;s++){var f=s+at.truncDivision(s,15);a[c-s-1]=d-f-1,a[c+s]=d+f+1}for(var s=0,h=0;s<n;s++){for(var p=(n-s)*4+(r?9:12),v=s*2,m=i-1-v,g=0;g<p;g++)for(var y=g*2,x=0;x<2;x++)o[h+y+x]=e.get(a[v+x],a[v+g]),o[h+2*p+y+x]=e.get(a[v+g],a[m-x]),o[h+4*p+y+x]=e.get(a[m-x],a[m-g]),o[h+6*p+y+x]=e.get(a[m-g],a[v+x]);h+=p*8}return o},t.readCode=function(e,r,n){for(var i=0,a=r;a<r+n;a++)i<<=1,e[a]&&(i|=1);return i},t.readByte=function(e,r){var n=e.length-r;return n>=8?t.readCode(e,r,8):t.readCode(e,r,n)<<8-n},t.convertBoolArrayToByteArray=function(e){for(var r=new Uint8Array((e.length+7)/8),n=0;n<r.length;n++)r[n]=t.readByte(e,8*n);return r},t.prototype.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t}(),xt=function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,r,n,i){var a=e-n,o=r-i;return Math.sqrt(a*a+o*o)},t.sum=function(e){for(var r=0,n=0,i=e.length;n!==i;n++){var a=e[n];r+=a}return r},t}(),dS=function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),Ie=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var r=e;return this.x===r.x&&this.y===r.y}return!1},t.prototype.hashCode=function(){return 31*dS.floatToIntBits(this.x)+dS.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var r=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),a,o,s;if(n>=r&&n>=i?(o=e[0],a=e[1],s=e[2]):i>=n&&i>=r?(o=e[1],a=e[0],s=e[2]):(o=e[2],a=e[0],s=e[1]),this.crossProductZ(a,o,s)<0){var l=a;a=s,s=l}e[0]=a,e[1]=o,e[2]=s},t.distance=function(e,r){return xt.distance(e.x,e.y,r.x,r.y)},t.crossProductZ=function(e,r,n){var i=r.x,a=r.y;return(n.x-i)*(e.y-a)-(n.y-a)*(e.x-i)},t}(),sO=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),qae=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Kae=function(t){qae(e,t);function e(r,n,i,a,o){var s=t.call(this,r,n)||this;return s.compact=i,s.nbDatablocks=a,s.nbLayers=o,s}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(sO),fS=function(){function t(e,r,n,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=t.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var a=r/2|0;if(this.leftInit=n-a,this.rightInit=n+a,this.upInit=i-a,this.downInit=i+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Z}return t.prototype.detect=function(){for(var e=this.leftInit,r=this.rightInit,n=this.upInit,i=this.downInit,a=!1,o=!0,s=!1,l=!1,c=!1,d=!1,f=!1,h=this.width,p=this.height;o;){o=!1;for(var v=!0;(v||!l)&&r<h;)v=this.containsBlackPoint(n,i,r,!1),v?(r++,o=!0,l=!0):l||r++;if(r>=h){a=!0;break}for(var m=!0;(m||!c)&&i<p;)m=this.containsBlackPoint(e,r,i,!0),m?(i++,o=!0,c=!0):c||i++;if(i>=p){a=!0;break}for(var g=!0;(g||!d)&&e>=0;)g=this.containsBlackPoint(n,i,e,!1),g?(e--,o=!0,d=!0):d||e--;if(e<0){a=!0;break}for(var y=!0;(y||!f)&&n>=0;)y=this.containsBlackPoint(e,r,n,!0),y?(n--,o=!0,f=!0):f||n--;if(n<0){a=!0;break}o&&(s=!0)}if(!a&&s){for(var x=r-e,w=null,S=1;w===null&&S<x;S++)w=this.getBlackPointOnSegment(e,i-S,e+S,i);if(w==null)throw new Z;for(var _=null,S=1;_===null&&S<x;S++)_=this.getBlackPointOnSegment(e,n+S,e+S,n);if(_==null)throw new Z;for(var C=null,S=1;C===null&&S<x;S++)C=this.getBlackPointOnSegment(r,n+S,r-S,n);if(C==null)throw new Z;for(var E=null,S=1;E===null&&S<x;S++)E=this.getBlackPointOnSegment(r,i-S,r-S,i);if(E==null)throw new Z;return this.centerEdges(E,w,C,_)}else throw new Z},t.prototype.getBlackPointOnSegment=function(e,r,n,i){for(var a=xt.round(xt.distance(e,r,n,i)),o=(n-e)/a,s=(i-r)/a,l=this.image,c=0;c<a;c++){var d=xt.round(e+c*o),f=xt.round(r+c*s);if(l.get(d,f))return new Ie(d,f)}return null},t.prototype.centerEdges=function(e,r,n,i){var a=e.getX(),o=e.getY(),s=r.getX(),l=r.getY(),c=n.getX(),d=n.getY(),f=i.getX(),h=i.getY(),p=t.CORR;return a<this.width/2?[new Ie(f-p,h+p),new Ie(s+p,l+p),new Ie(c-p,d-p),new Ie(a+p,o-p)]:[new Ie(f+p,h+p),new Ie(s+p,l-p),new Ie(c-p,d+p),new Ie(a-p,o-p)]},t.prototype.containsBlackPoint=function(e,r,n,i){var a=this.image;if(i){for(var o=e;o<=r;o++)if(a.get(o,n))return!0}else for(var s=e;s<=r;s++)if(a.get(n,s))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t}(),e3=function(){function t(){}return t.checkAndNudgePoints=function(e,r){for(var n=e.getWidth(),i=e.getHeight(),a=!0,o=0;o<r.length&&a;o+=2){var s=Math.floor(r[o]),l=Math.floor(r[o+1]);if(s<-1||s>n||l<-1||l>i)throw new Z;a=!1,s===-1?(r[o]=0,a=!0):s===n&&(r[o]=n-1,a=!0),l===-1?(r[o+1]=0,a=!0):l===i&&(r[o+1]=i-1,a=!0)}a=!0;for(var o=r.length-2;o>=0&&a;o-=2){var s=Math.floor(r[o]),l=Math.floor(r[o+1]);if(s<-1||s>n||l<-1||l>i)throw new Z;a=!1,s===-1?(r[o]=0,a=!0):s===n&&(r[o]=n-1,a=!0),l===-1?(r[o+1]=0,a=!0):l===i&&(r[o+1]=i-1,a=!0)}},t}(),NL=function(){function t(e,r,n,i,a,o,s,l,c){this.a11=e,this.a21=r,this.a31=n,this.a12=i,this.a22=a,this.a32=o,this.a13=s,this.a23=l,this.a33=c}return t.quadrilateralToQuadrilateral=function(e,r,n,i,a,o,s,l,c,d,f,h,p,v,m,g){var y=t.quadrilateralToSquare(e,r,n,i,a,o,s,l),x=t.squareToQuadrilateral(c,d,f,h,p,v,m,g);return x.times(y)},t.prototype.transformPoints=function(e){for(var r=e.length,n=this.a11,i=this.a12,a=this.a13,o=this.a21,s=this.a22,l=this.a23,c=this.a31,d=this.a32,f=this.a33,h=0;h<r;h+=2){var p=e[h],v=e[h+1],m=a*p+l*v+f;e[h]=(n*p+o*v+c)/m,e[h+1]=(i*p+s*v+d)/m}},t.prototype.transformPointsWithValues=function(e,r){for(var n=this.a11,i=this.a12,a=this.a13,o=this.a21,s=this.a22,l=this.a23,c=this.a31,d=this.a32,f=this.a33,h=e.length,p=0;p<h;p++){var v=e[p],m=r[p],g=a*v+l*m+f;e[p]=(n*v+o*m+c)/g,r[p]=(i*v+s*m+d)/g}},t.squareToQuadrilateral=function(e,r,n,i,a,o,s,l){var c=e-n+a-s,d=r-i+o-l;if(c===0&&d===0)return new t(n-e,a-n,e,i-r,o-i,r,0,0,1);var f=n-a,h=s-a,p=i-o,v=l-o,m=f*v-h*p,g=(c*v-h*d)/m,y=(f*d-c*p)/m;return new t(n-e+g*n,s-e+y*s,e,i-r+g*i,l-r+y*l,r,g,y,1)},t.quadrilateralToSquare=function(e,r,n,i,a,o,s,l){return t.squareToQuadrilateral(e,r,n,i,a,o,s,l).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t}(),Xae=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Yae=function(t){Xae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(r,n,i,a,o,s,l,c,d,f,h,p,v,m,g,y,x,w,S){var _=NL.quadrilateralToQuadrilateral(a,o,s,l,c,d,f,h,p,v,m,g,y,x,w,S);return this.sampleGridWithTransform(r,n,i,_)},e.prototype.sampleGridWithTransform=function(r,n,i,a){if(n<=0||i<=0)throw new Z;for(var o=new Oo(n,i),s=new Float32Array(2*n),l=0;l<i;l++){for(var c=s.length,d=l+.5,f=0;f<c;f+=2)s[f]=f/2+.5,s[f+1]=d;a.transformPoints(s),e3.checkAndNudgePoints(r,s);try{for(var f=0;f<c;f+=2)r.get(Math.floor(s[f]),Math.floor(s[f+1]))&&o.set(f/2,l)}catch{throw new Z}}return o},e}(e3),lO=function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new Yae,t}(),Qn=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.toResultPoint=function(){return new Ie(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t}(),Zae=function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var r=this.getMatrixCenter(),n=this.getBullsEyeCorners(r);if(e){var i=n[0];n[0]=n[2],n[2]=i}this.extractParameters(n);var a=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),o=this.getMatrixCornerPoints(n);return new Kae(a,o,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new Z;var r=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(n,r);for(var i=0,a=0;a<4;a++){var o=n[(this.shift+a)%4];this.compact?(i<<=7,i+=o>>1&127):(i<<=10,i+=(o>>2&992)+(o>>1&31))}var s=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)},t.prototype.getRotation=function(e,r){var n=0;e.forEach(function(a,o,s){var l=(a>>r-2<<1)+(a&1);n=(n<<3)+l}),n=((n&1)<<11)+(n>>1);for(var i=0;i<4;i++)if(at.bitCount(n^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new Z},t.prototype.getCorrectedParameterData=function(e,r){var n,i;r?(n=7,i=2):(n=10,i=4);for(var a=n-i,o=new Int32Array(n),s=n-1;s>=0;--s)o[s]=e&15,e>>=4;try{var l=new fx(ii.AZTEC_PARAM);l.decode(o,a)}catch{throw new Z}for(var c=0,s=0;s<i;s++)c=(c<<4)+o[s];return c},t.prototype.getBullsEyeCorners=function(e){var r=e,n=e,i=e,a=e,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var s=this.getFirstDifferent(r,o,1,-1),l=this.getFirstDifferent(n,o,1,1),c=this.getFirstDifferent(i,o,-1,1),d=this.getFirstDifferent(a,o,-1,-1);if(this.nbCenterLayers>2){var f=this.distancePoint(d,s)*this.nbCenterLayers/(this.distancePoint(a,r)*(this.nbCenterLayers+2));if(f<.75||f>1.25||!this.isWhiteOrBlackRectangle(s,l,c,d))break}r=s,n=l,i=c,a=d,o=!o}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Z;this.compact=this.nbCenterLayers===5;var h=new Ie(r.getX()+.5,r.getY()-.5),p=new Ie(n.getX()+.5,n.getY()+.5),v=new Ie(i.getX()-.5,i.getY()+.5),m=new Ie(a.getX()-.5,a.getY()-.5);return this.expandSquare([h,p,v,m],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,r,n,i;try{var a=new fS(this.image).detect();e=a[0],r=a[1],n=a[2],i=a[3]}catch{var o=this.image.getWidth()/2,s=this.image.getHeight()/2;e=this.getFirstDifferent(new Qn(o+7,s-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Qn(o+7,s+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Qn(o-7,s+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Qn(o-7,s-7),!1,-1,-1).toResultPoint()}var l=xt.round((e.getX()+i.getX()+r.getX()+n.getX())/4),c=xt.round((e.getY()+i.getY()+r.getY()+n.getY())/4);try{var a=new fS(this.image,15,l,c).detect();e=a[0],r=a[1],n=a[2],i=a[3]}catch{e=this.getFirstDifferent(new Qn(l+7,c-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Qn(l+7,c+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Qn(l-7,c+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Qn(l-7,c-7),!1,-1,-1).toResultPoint()}return l=xt.round((e.getX()+i.getX()+r.getX()+n.getX())/4),c=xt.round((e.getY()+i.getY()+r.getY()+n.getY())/4),new Qn(l,c)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,r,n,i,a){var o=lO.getInstance(),s=this.getDimension(),l=s/2-this.nbCenterLayers,c=s/2+this.nbCenterLayers;return o.sampleGrid(e,s,s,l,l,c,l,c,c,l,c,r.getX(),r.getY(),n.getX(),n.getY(),i.getX(),i.getY(),a.getX(),a.getY())},t.prototype.sampleLine=function(e,r,n){for(var i=0,a=this.distanceResultPoint(e,r),o=a/n,s=e.getX(),l=e.getY(),c=o*(r.getX()-e.getX())/a,d=o*(r.getY()-e.getY())/a,f=0;f<n;f++)this.image.get(xt.round(s+f*c),xt.round(l+f*d))&&(i|=1<<n-f-1);return i},t.prototype.isWhiteOrBlackRectangle=function(e,r,n,i){var a=3;e=new Qn(e.getX()-a,e.getY()+a),r=new Qn(r.getX()-a,r.getY()-a),n=new Qn(n.getX()+a,n.getY()-a),i=new Qn(i.getX()+a,i.getY()+a);var o=this.getColor(i,e);if(o===0)return!1;var s=this.getColor(e,r);return s!==o||(s=this.getColor(r,n),s!==o)?!1:(s=this.getColor(n,i),s===o)},t.prototype.getColor=function(e,r){for(var n=this.distancePoint(e,r),i=(r.getX()-e.getX())/n,a=(r.getY()-e.getY())/n,o=0,s=e.getX(),l=e.getY(),c=this.image.get(e.getX(),e.getY()),d=Math.ceil(n),f=0;f<d;f++)s+=i,l+=a,this.image.get(xt.round(s),xt.round(l))!==c&&o++;var h=o/n;return h>.1&&h<.9?0:h<=.1===c?1:-1},t.prototype.getFirstDifferent=function(e,r,n,i){for(var a=e.getX()+n,o=e.getY()+i;this.isValid(a,o)&&this.image.get(a,o)===r;)a+=n,o+=i;for(a-=n,o-=i;this.isValid(a,o)&&this.image.get(a,o)===r;)a+=n;for(a-=n;this.isValid(a,o)&&this.image.get(a,o)===r;)o+=i;return o-=i,new Qn(a,o)},t.prototype.expandSquare=function(e,r,n){var i=n/(2*r),a=e[0].getX()-e[2].getX(),o=e[0].getY()-e[2].getY(),s=(e[0].getX()+e[2].getX())/2,l=(e[0].getY()+e[2].getY())/2,c=new Ie(s+i*a,l+i*o),d=new Ie(s-i*a,l-i*o);a=e[1].getX()-e[3].getX(),o=e[1].getY()-e[3].getY(),s=(e[1].getX()+e[3].getX())/2,l=(e[1].getY()+e[3].getY())/2;var f=new Ie(s+i*a,l+i*o),h=new Ie(s-i*a,l-i*o),p=[c,f,d,h];return p},t.prototype.isValid=function(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()},t.prototype.isValidPoint=function(e){var r=xt.round(e.getX()),n=xt.round(e.getY());return this.isValid(r,n)},t.prototype.distancePoint=function(e,r){return xt.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.distanceResultPoint=function(e,r){return xt.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(at.truncDivision(this.nbLayers-4,8)+1)+15},t}(),iy=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=null,i=new Zae(e.getBlackMatrix()),a=null,o=null;try{var s=i.detectMirror(!1);a=s.getPoints(),this.reportFoundResultPoints(r,a),o=new JP().decode(s)}catch(f){n=f}if(o==null)try{var s=i.detectMirror(!0);a=s.getPoints(),this.reportFoundResultPoints(r,a),o=new JP().decode(s)}catch(f){throw n??f}var l=new Rn(o.getText(),o.getRawBytes(),o.getNumBits(),a,Be.AZTEC,Yt.currentTimeMillis()),c=o.getByteSegments();c!=null&&l.putMetadata(Cn.BYTE_SEGMENTS,c);var d=o.getECLevel();return d!=null&&l.putMetadata(Cn.ERROR_CORRECTION_LEVEL,d),l},t.prototype.reportFoundResultPoints=function(e,r){if(e!=null){var n=e.get(Zt.NEED_RESULT_POINT_CALLBACK);n!=null&&r.forEach(function(i,a,o){n.foundPossibleResultPoint(i)})}},t.prototype.reset=function(){},t}(),Qae=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){Qae(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new iy,r)||this}return e})(th);var rn=function(){function t(){}return t.prototype.decode=function(e,r){try{return this.doDecode(e,r)}catch{var n=r&&r.get(Zt.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),a=this.doDecode(i,r),o=a.getResultMetadata(),s=270;o!==null&&o.get(Cn.ORIENTATION)===!0&&(s=s+o.get(Cn.ORIENTATION)%360),a.putMetadata(Cn.ORIENTATION,s);var l=a.getResultPoints();if(l!==null)for(var c=i.getHeight(),d=0;d<l.length;d++)l[d]=new Ie(c-l[d].getY()-1,l[d].getX());return a}else throw new Z}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,r){var n=e.getWidth(),i=e.getHeight(),a=new pn(n),o=r&&r.get(Zt.TRY_HARDER)===!0,s=Math.max(1,i>>(o?8:5)),l;o?l=i:l=15;for(var c=Math.trunc(i/2),d=0;d<l;d++){var f=Math.trunc((d+1)/2),h=(d&1)===0,p=c+s*(h?f:-f);if(p<0||p>=i)break;try{a=e.getBlackRow(p,a)}catch{continue}for(var v=function(x){if(x===1&&(a.reverse(),r&&r.get(Zt.NEED_RESULT_POINT_CALLBACK)===!0)){var w=new Map;r.forEach(function(C,E){return w.set(E,C)}),w.delete(Zt.NEED_RESULT_POINT_CALLBACK),r=w}try{var S=m.decodeRow(p,a,r);if(x===1){S.putMetadata(Cn.ORIENTATION,180);var _=S.getResultPoints();_!==null&&(_[0]=new Ie(n-_[0].getX()-1,_[0].getY()),_[1]=new Ie(n-_[1].getX()-1,_[1].getY()))}return{value:S}}catch{}},m=this,g=0;g<2;g++){var y=v(g);if(typeof y=="object")return y.value}}throw new Z},t.recordPattern=function(e,r,n){for(var i=n.length,a=0;a<i;a++)n[a]=0;var o=e.getSize();if(r>=o)throw new Z;for(var s=!e.get(r),l=0,c=r;c<o;){if(e.get(c)!==s)n[l]++;else{if(++l===i)break;n[l]=1,s=!s}c++}if(!(l===i||l===i-1&&c===o))throw new Z},t.recordPatternInReverse=function(e,r,n){for(var i=n.length,a=e.get(r);r>0&&i>=0;)e.get(--r)!==a&&(i--,a=!a);if(i>=0)throw new Z;t.recordPattern(e,r+1,n)},t.patternMatchVariance=function(e,r,n){for(var i=e.length,a=0,o=0,s=0;s<i;s++)a+=e[s],o+=r[s];if(a<o)return Number.POSITIVE_INFINITY;var l=a/o;n*=l;for(var c=0,d=0;d<i;d++){var f=e[d],h=r[d]*l,p=f>h?f-h:h-f;if(p>n)return Number.POSITIVE_INFINITY;c+=p}return c/a},t}(),Jae=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),t3=function(t){Jae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(r){for(var n=r.getSize(),i=r.getNextSet(0),a=0,o=Int32Array.from([0,0,0,0,0,0]),s=i,l=!1,c=6,d=i;d<n;d++)if(r.get(d)!==l)o[a]++;else{if(a===c-1){for(var f=e.MAX_AVG_VARIANCE,h=-1,p=e.CODE_START_A;p<=e.CODE_START_C;p++){var v=rn.patternMatchVariance(o,e.CODE_PATTERNS[p],e.MAX_INDIVIDUAL_VARIANCE);v<f&&(f=v,h=p)}if(h>=0&&r.isRange(Math.max(0,s-(d-s)/2),s,!1))return Int32Array.from([s,d,h]);s+=o[0]+o[1],o=o.slice(2,o.length),o[a-1]=0,o[a]=0,a--}else a++;o[a]=1,l=!l}throw new Z},e.decodeCode=function(r,n,i){rn.recordPattern(r,i,n);for(var a=e.MAX_AVG_VARIANCE,o=-1,s=0;s<e.CODE_PATTERNS.length;s++){var l=e.CODE_PATTERNS[s],c=this.patternMatchVariance(n,l,e.MAX_INDIVIDUAL_VARIANCE);c<a&&(a=c,o=s)}if(o>=0)return o;throw new Z},e.prototype.decodeRow=function(r,n,i){var a=i&&i.get(Zt.ASSUME_GS1)===!0,o=e.findStartPattern(n),s=o[2],l=0,c=new Uint8Array(20);c[l++]=s;var d;switch(s){case e.CODE_START_A:d=e.CODE_CODE_A;break;case e.CODE_START_B:d=e.CODE_CODE_B;break;case e.CODE_START_C:d=e.CODE_CODE_C;break;default:throw new pe}for(var f=!1,h=!1,p="",v=o[0],m=o[1],g=Int32Array.from([0,0,0,0,0,0]),y=0,x=0,w=s,S=0,_=!0,C=!1,E=!1;!f;){var A=h;switch(h=!1,y=x,x=e.decodeCode(n,g,m),c[l++]=x,x!==e.CODE_STOP&&(_=!0),x!==e.CODE_STOP&&(S++,w+=S*x),v=m,m+=g.reduce(function(M,j){return M+j},0),x){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new pe}switch(d){case e.CODE_CODE_A:if(x<64)E===C?p+=String.fromCharCode(32+x):p+=String.fromCharCode(32+x+128),E=!1;else if(x<96)E===C?p+=String.fromCharCode(x-64):p+=String.fromCharCode(x+64),E=!1;else switch(x!==e.CODE_STOP&&(_=!1),x){case e.CODE_FNC_1:a&&(p.length===0?p+="]C1":p+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!C&&E?(C=!0,E=!1):C&&E?(C=!1,E=!1):E=!0;break;case e.CODE_SHIFT:h=!0,d=e.CODE_CODE_B;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0;break}break;case e.CODE_CODE_B:if(x<96)E===C?p+=String.fromCharCode(32+x):p+=String.fromCharCode(32+x+128),E=!1;else switch(x!==e.CODE_STOP&&(_=!1),x){case e.CODE_FNC_1:a&&(p.length===0?p+="]C1":p+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!C&&E?(C=!0,E=!1):C&&E?(C=!1,E=!1):E=!0;break;case e.CODE_SHIFT:h=!0,d=e.CODE_CODE_A;break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0;break}break;case e.CODE_CODE_C:if(x<100)x<10&&(p+="0"),p+=x;else switch(x!==e.CODE_STOP&&(_=!1),x){case e.CODE_FNC_1:a&&(p.length===0?p+="]C1":p+="");break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_STOP:f=!0;break}break}A&&(d=d===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var O=m-v;if(m=n.getNextUnset(m),!n.isRange(m,Math.min(n.getSize(),m+(m-v)/2),!1))throw new Z;if(w-=S*y,w%103!==y)throw new Fr;var T=p.length;if(T===0)throw new Z;T>0&&_&&(d===e.CODE_CODE_C?p=p.substring(0,T-2):p=p.substring(0,T-1));for(var N=(o[1]+o[0])/2,P=v+O/2,$=c.length,D=new Uint8Array($),F=0;F<$;F++)D[F]=c[F];var L=[new Ie(N,r),new Ie(P,r)];return new Rn(p,D,0,L,Be.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(rn),eoe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Nb=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},r3=function(t){eoe(e,t);function e(r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var i=t.call(this)||this;return i.usingCheckDigit=r,i.extendedMode=n,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(r,n,i){var a,o,s,l,c=this.counters;c.fill(0),this.decodeRowResult="";var d=e.findAsteriskPattern(n,c),f=n.getNextSet(d[1]),h=n.getSize(),p,v;do{e.recordPattern(n,f,c);var m=e.toNarrowWidePattern(c);if(m<0)throw new Z;p=e.patternToChar(m),this.decodeRowResult+=p,v=f;try{for(var g=(a=void 0,Nb(c)),y=g.next();!y.done;y=g.next()){var x=y.value;f+=x}}catch($){a={error:$}}finally{try{y&&!y.done&&(o=g.return)&&o.call(g)}finally{if(a)throw a.error}}f=n.getNextSet(f)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var w=0;try{for(var S=Nb(c),_=S.next();!_.done;_=S.next()){var x=_.value;w+=x}}catch($){s={error:$}}finally{try{_&&!_.done&&(l=S.return)&&l.call(S)}finally{if(s)throw s.error}}var C=f-v-w;if(f!==h&&C*2<w)throw new Z;if(this.usingCheckDigit){for(var E=this.decodeRowResult.length-1,A=0,O=0;O<E;O++)A+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(O));if(this.decodeRowResult.charAt(E)!==e.ALPHABET_STRING.charAt(A%43))throw new Fr;this.decodeRowResult=this.decodeRowResult.substring(0,E)}if(this.decodeRowResult.length===0)throw new Z;var T;this.extendedMode?T=e.decodeExtended(this.decodeRowResult):T=this.decodeRowResult;var N=(d[1]+d[0])/2,P=v+w/2;return new Rn(T,null,0,[new Ie(N,r),new Ie(P,r)],Be.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(r,n){for(var i=r.getSize(),a=r.getNextSet(0),o=0,s=a,l=!1,c=n.length,d=a;d<i;d++)if(r.get(d)!==l)n[o]++;else{if(o===c-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&r.isRange(Math.max(0,s-Math.floor((d-s)/2)),s,!1))return[s,d];s+=n[0]+n[1],n.copyWithin(0,2,2+o-1),n[o-1]=0,n[o]=0,o--}else o++;n[o]=1,l=!l}throw new Z},e.toNarrowWidePattern=function(r){var n,i,a=r.length,o=0,s;do{var l=2147483647;try{for(var c=(n=void 0,Nb(r)),d=c.next();!d.done;d=c.next()){var f=d.value;f<l&&f>o&&(l=f)}}catch(m){n={error:m}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}o=l,s=0;for(var h=0,p=0,v=0;v<a;v++){var f=r[v];f>o&&(p|=1<<a-1-v,s++,h+=f)}if(s===3){for(var v=0;v<a&&s>0;v++){var f=r[v];if(f>o&&(s--,f*2>=h))return-1}return p}}while(s>3);return-1},e.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);if(r===e.ASTERISK_ENCODING)return"*";throw new Z},e.decodeExtended=function(r){for(var n=r.length,i="",a=0;a<n;a++){var o=r.charAt(a);if(o==="+"||o==="$"||o==="%"||o==="/"){var s=r.charAt(a+1),l="\0";switch(o){case"+":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)+32);else throw new pe;break;case"$":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)-64);else throw new pe;break;case"%":if(s>="A"&&s<="E")l=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")l=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")l=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")l="\0";else if(s==="V")l="@";else if(s==="W")l="`";else if(s==="X"||s==="Y"||s==="Z")l="";else throw new pe;break;case"/":if(s>="A"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")l=":";else throw new pe;break}i+=l,a++}else i+=o}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(rn),toe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),jb=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},n3=function(t){toe(e,t);function e(){var r=t.call(this)||this;return r.decodeRowResult="",r.counters=new Int32Array(6),r}return e.prototype.decodeRow=function(r,n,i){var a,o,s,l,c=this.findAsteriskPattern(n),d=n.getNextSet(c[1]),f=n.getSize(),h=this.counters;h.fill(0),this.decodeRowResult="";var p,v;do{e.recordPattern(n,d,h);var m=this.toPattern(h);if(m<0)throw new Z;p=this.patternToChar(m),this.decodeRowResult+=p,v=d;try{for(var g=(a=void 0,jb(h)),y=g.next();!y.done;y=g.next()){var x=y.value;d+=x}}catch(O){a={error:O}}finally{try{y&&!y.done&&(o=g.return)&&o.call(g)}finally{if(a)throw a.error}}d=n.getNextSet(d)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var w=0;try{for(var S=jb(h),_=S.next();!_.done;_=S.next()){var x=_.value;w+=x}}catch(O){s={error:O}}finally{try{_&&!_.done&&(l=S.return)&&l.call(S)}finally{if(s)throw s.error}}if(d===f||!n.get(d))throw new Z;if(this.decodeRowResult.length<2)throw new Z;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var C=this.decodeExtended(this.decodeRowResult),E=(c[1]+c[0])/2,A=v+w/2;return new Rn(C,null,0,[new Ie(E,r),new Ie(A,r)],Be.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(r){var n=r.getSize(),i=r.getNextSet(0);this.counters.fill(0);for(var a=this.counters,o=i,s=!1,l=a.length,c=0,d=i;d<n;d++)if(r.get(d)!==s)a[c]++;else{if(c===l-1){if(this.toPattern(a)===e.ASTERISK_ENCODING)return new Int32Array([o,d]);o+=a[0]+a[1],a.copyWithin(0,2,2+c-1),a[c-1]=0,a[c]=0,c--}else c++;a[c]=1,s=!s}throw new Z},e.prototype.toPattern=function(r){var n,i,a=0;try{for(var o=jb(r),s=o.next();!s.done;s=o.next()){var l=s.value;a+=l}}catch(v){n={error:v}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}for(var c=0,d=r.length,f=0;f<d;f++){var h=Math.round(r[f]*9/a);if(h<1||h>4)return-1;if(f&1)c<<=h;else for(var p=0;p<h;p++)c=c<<1|1}return c},e.prototype.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);throw new Z},e.prototype.decodeExtended=function(r){for(var n=r.length,i="",a=0;a<n;a++){var o=r.charAt(a);if(o>="a"&&o<="d"){if(a>=n-1)throw new pe;var s=r.charAt(a+1),l="\0";switch(o){case"d":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)+32);else throw new pe;break;case"a":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)-64);else throw new pe;break;case"b":if(s>="A"&&s<="E")l=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")l=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")l=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")l="\0";else if(s==="V")l="@";else if(s==="W")l="`";else if(s>="X"&&s<="Z")l="";else throw new pe;break;case"c":if(s>="A"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")l=":";else throw new pe;break}i+=l,a++}else i+=o}return i},e.prototype.checkChecksums=function(r){var n=r.length;this.checkOneChecksum(r,n-2,20),this.checkOneChecksum(r,n-1,15)},e.prototype.checkOneChecksum=function(r,n,i){for(var a=1,o=0,s=n-1;s>=0;s--)o+=a*e.ALPHABET_STRING.indexOf(r.charAt(s)),++a>i&&(a=1);if(r.charAt(n)!==e.ALPHABET_STRING[o%47])throw new Fr},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e}(rn),roe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),noe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},i3=function(t){roe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.narrowLineWidth=-1,r}return e.prototype.decodeRow=function(r,n,i){var a,o,s=this.decodeStart(n),l=this.decodeEnd(n),c=new nt;e.decodeMiddle(n,s[1],l[0],c);var d=c.toString(),f=null;i!=null&&(f=i.get(Zt.ALLOWED_LENGTHS)),f==null&&(f=e.DEFAULT_ALLOWED_LENGTHS);var h=d.length,p=!1,v=0;try{for(var m=noe(f),g=m.next();!g.done;g=m.next()){var y=g.value;if(h===y){p=!0;break}y>v&&(v=y)}}catch(S){a={error:S}}finally{try{g&&!g.done&&(o=m.return)&&o.call(m)}finally{if(a)throw a.error}}if(!p&&h>v&&(p=!0),!p)throw new pe;var x=[new Ie(s[1],r),new Ie(l[0],r)],w=new Rn(d,null,0,x,Be.ITF,new Date().getTime());return w},e.decodeMiddle=function(r,n,i,a){var o=new Int32Array(10),s=new Int32Array(5),l=new Int32Array(5);for(o.fill(0),s.fill(0),l.fill(0);n<i;){rn.recordPattern(r,n,o);for(var c=0;c<5;c++){var d=2*c;s[c]=o[d],l[c]=o[d+1]}var f=e.decodeDigit(s);a.append(f.toString()),f=this.decodeDigit(l),a.append(f.toString()),o.forEach(function(h){n+=h})}},e.prototype.decodeStart=function(r){var n=e.skipWhiteSpace(r),i=e.findGuardPattern(r,n,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(r,i[0]),i},e.prototype.validateQuietZone=function(r,n){var i=this.narrowLineWidth*10;i=i<n?i:n;for(var a=n-1;i>0&&a>=0&&!r.get(a);a--)i--;if(i!==0)throw new Z},e.skipWhiteSpace=function(r){var n=r.getSize(),i=r.getNextSet(0);if(i===n)throw new Z;return i},e.prototype.decodeEnd=function(r){r.reverse();try{var n=e.skipWhiteSpace(r),i=void 0;try{i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[0])}catch(o){o instanceof Z&&(i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,i[0]);var a=i[0];return i[0]=r.getSize()-i[1],i[1]=r.getSize()-a,i}finally{r.reverse()}},e.findGuardPattern=function(r,n,i){var a=i.length,o=new Int32Array(a),s=r.getSize(),l=!1,c=0,d=n;o.fill(0);for(var f=n;f<s;f++)if(r.get(f)!==l)o[c]++;else{if(c===a-1){if(rn.patternMatchVariance(o,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[d,f];d+=o[0]+o[1],Yt.arraycopy(o,2,o,0,c-1),o[c-1]=0,o[c]=0,c--}else c++;o[c]=1,l=!l}throw new Z},e.decodeDigit=function(r){for(var n=e.MAX_AVG_VARIANCE,i=-1,a=e.PATTERNS.length,o=0;o<a;o++){var s=e.PATTERNS[o],l=rn.patternMatchVariance(r,s,e.MAX_INDIVIDUAL_VARIANCE);l<n?(n=l,i=o):l===n&&(i=-1)}if(i>=0)return i%10;throw new Z},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(rn),ioe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),uf=function(t){ioe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.decodeRowStringBuffer="",r}return e.findStartGuardPattern=function(r){for(var n=!1,i,a=0,o=Int32Array.from([0,0,0]);!n;){o=Int32Array.from([0,0,0]),i=e.findGuardPattern(r,a,!1,this.START_END_PATTERN,o);var s=i[0];a=i[1];var l=s-(a-s);l>=0&&(n=r.isRange(l,s,!1))}return i},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,a=n-1;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new pe;i+=o}i*=3;for(var a=n-2;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new pe;i+=o}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(r,n,i,a){return this.findGuardPattern(r,n,i,a,new Int32Array(a.length))},e.findGuardPattern=function(r,n,i,a,o){var s=r.getSize();n=i?r.getNextUnset(n):r.getNextSet(n);for(var l=0,c=n,d=a.length,f=i,h=n;h<s;h++)if(r.get(h)!==f)o[l]++;else{if(l===d-1){if(rn.patternMatchVariance(o,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([c,h]);c+=o[0]+o[1];for(var p=o.slice(2,o.length),v=0;v<l-1;v++)o[v]=p[v];o[l-1]=0,o[l]=0,l--}else l++;o[l]=1,f=!f}throw new Z},e.decodeDigit=function(r,n,i,a){this.recordPattern(r,i,n);for(var o=this.MAX_AVG_VARIANCE,s=-1,l=a.length,c=0;c<l;c++){var d=a[c],f=rn.patternMatchVariance(n,d,e.MAX_INDIVIDUAL_VARIANCE);f<o&&(o=f,s=c)}if(s>=0)return s;throw new Z},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(rn),aoe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ooe=function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(r,n,i),o=i.toString(),s=t.parseExtensionString(o),l=[new Ie((n[0]+n[1])/2,e),new Ie(a,e)],c=new Rn(o,null,0,l,Be.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&c.putAllMetadata(s),c},t.prototype.decodeMiddle=function(e,r,n){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var s=e.getSize(),l=r[1],c=0,d=0;d<5&&l<s;d++){var f=uf.decodeDigit(e,o,l,uf.L_AND_G_PATTERNS);n+=String.fromCharCode(48+f%10);try{for(var h=(i=void 0,aoe(o)),p=h.next();!p.done;p=h.next()){var v=p.value;l+=v}}catch(g){i={error:g}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}f>=10&&(c|=1<<4-d),d!==4&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(n.length!==5)throw new Z;var m=this.determineCheckDigit(c);if(t.extensionChecksum(n.toString())!==m)throw new Z;return l},t.extensionChecksum=function(e){for(var r=e.length,n=0,i=r-2;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;n*=3;for(var i=r-1;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;return n*=3,n%10},t.prototype.determineCheckDigit=function(e){for(var r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new Z},t.parseExtensionString=function(e){if(e.length!==5)return null;var r=t.parseExtension5String(e);return r==null?null:new Map([[Cn.SUGGESTED_PRICE,r]])},t.parseExtension5String=function(e){var r;switch(e.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}var n=parseInt(e.substring(1)),i=(n/100).toString(),a=n%100,o=a<10?"0"+a:a.toString();return r+i+"."+o},t}(),soe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},loe=function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(r,n,i),o=i.toString(),s=t.parseExtensionString(o),l=[new Ie((n[0]+n[1])/2,e),new Ie(a,e)],c=new Rn(o,null,0,l,Be.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&c.putAllMetadata(s),c},t.prototype.decodeMiddle=function(e,r,n){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var s=e.getSize(),l=r[1],c=0,d=0;d<2&&l<s;d++){var f=uf.decodeDigit(e,o,l,uf.L_AND_G_PATTERNS);n+=String.fromCharCode(48+f%10);try{for(var h=(i=void 0,soe(o)),p=h.next();!p.done;p=h.next()){var v=p.value;l+=v}}catch(m){i={error:m}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}f>=10&&(c|=1<<1-d),d!==1&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(n.length!==2)throw new Z;if(parseInt(n.toString())%4!==c)throw new Z;return l},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[Cn.ISSUE_NUMBER,parseInt(e)]])},t}(),coe=function(){function t(){}return t.decodeRow=function(e,r,n){var i=uf.findGuardPattern(r,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var a=new ooe;return a.decodeRow(e,r,i)}catch{var o=new loe;return o.decodeRow(e,r,i)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t}(),uoe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Yr=function(t){uoe(e,t);function e(){var r=t.call(this)||this;r.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(s){return Int32Array.from(s)});for(var n=10;n<20;n++){for(var i=e.L_PATTERNS[n-10],a=new Int32Array(i.length),o=0;o<i.length;o++)a[o]=i[i.length-o-1];e.L_AND_G_PATTERNS[n]=a}return r}return e.prototype.decodeRow=function(r,n,i){var a=e.findStartGuardPattern(n),o=i==null?null:i.get(Zt.NEED_RESULT_POINT_CALLBACK);if(o!=null){var s=new Ie((a[0]+a[1])/2,r);o.foundPossibleResultPoint(s)}var l=this.decodeMiddle(n,a,this.decodeRowStringBuffer),c=l.rowOffset,d=l.resultString;if(o!=null){var f=new Ie(c,r);o.foundPossibleResultPoint(f)}var h=e.decodeEnd(n,c);if(o!=null){var p=new Ie((h[0]+h[1])/2,r);o.foundPossibleResultPoint(p)}var v=h[1],m=v+(v-h[0]);if(m>=n.getSize()||!n.isRange(v,m,!1))throw new Z;var g=d.toString();if(g.length<8)throw new pe;if(!e.checkChecksum(g))throw new Fr;var y=(a[1]+a[0])/2,x=(h[1]+h[0])/2,w=this.getBarcodeFormat(),S=[new Ie(y,r),new Ie(x,r)],_=new Rn(g,null,0,S,w,new Date().getTime()),C=0;try{var E=coe.decodeRow(r,n,h[1]);_.putMetadata(Cn.UPC_EAN_EXTENSION,E.getText()),_.putAllMetadata(E.getResultMetadata()),_.addResultPoints(E.getResultPoints()),C=E.getText().length}catch{}var A=i==null?null:i.get(Zt.ALLOWED_EAN_EXTENSIONS);if(A!=null){var O=!1;for(var T in A)if(C.toString()===T){O=!0;break}if(!O)throw new Z}return w===Be.EAN_13||Be.UPC_A,_},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,a=n-1;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new pe;i+=o}i*=3;for(var a=n-2;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new pe;i+=o}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(uf),doe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),a3=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hS=function(t){doe(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,s,l,c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var d=r.getSize(),f=n[1],h=0,p=0;p<6&&f<d;p++){var v=Yr.decodeDigit(r,c,f,Yr.L_AND_G_PATTERNS);i+=String.fromCharCode(48+v%10);try{for(var m=(a=void 0,a3(c)),g=m.next();!g.done;g=m.next()){var y=g.value;f+=y}}catch(_){a={error:_}}finally{try{g&&!g.done&&(o=m.return)&&o.call(m)}finally{if(a)throw a.error}}v>=10&&(h|=1<<5-p)}i=e.determineFirstDigit(i,h);var x=Yr.findGuardPattern(r,f,!0,Yr.MIDDLE_PATTERN,new Int32Array(Yr.MIDDLE_PATTERN.length).fill(0));f=x[1];for(var p=0;p<6&&f<d;p++){var v=Yr.decodeDigit(r,c,f,Yr.L_PATTERNS);i+=String.fromCharCode(48+v);try{for(var w=(s=void 0,a3(c)),S=w.next();!S.done;S=w.next()){var y=S.value;f+=y}}catch(E){s={error:E}}finally{try{S&&!S.done&&(l=w.return)&&l.call(w)}finally{if(s)throw s.error}}}return{rowOffset:f,resultString:i}},e.prototype.getBarcodeFormat=function(){return Be.EAN_13},e.determineFirstDigit=function(r,n){for(var i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return r=String.fromCharCode(48+i)+r,r;throw new Z},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(Yr),foe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),o3=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},s3=function(t){foe(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,s,l,c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var d=r.getSize(),f=n[1],h=0;h<4&&f<d;h++){var p=Yr.decodeDigit(r,c,f,Yr.L_PATTERNS);i+=String.fromCharCode(48+p);try{for(var v=(a=void 0,o3(c)),m=v.next();!m.done;m=v.next()){var g=m.value;f+=g}}catch(S){a={error:S}}finally{try{m&&!m.done&&(o=v.return)&&o.call(v)}finally{if(a)throw a.error}}}var y=Yr.findGuardPattern(r,f,!0,Yr.MIDDLE_PATTERN,new Int32Array(Yr.MIDDLE_PATTERN.length).fill(0));f=y[1];for(var h=0;h<4&&f<d;h++){var p=Yr.decodeDigit(r,c,f,Yr.L_PATTERNS);i+=String.fromCharCode(48+p);try{for(var x=(s=void 0,o3(c)),w=x.next();!w.done;w=x.next()){var g=w.value;f+=g}}catch(C){s={error:C}}finally{try{w&&!w.done&&(l=x.return)&&l.call(x)}finally{if(s)throw s.error}}}return{rowOffset:f,resultString:i}},e.prototype.getBarcodeFormat=function(){return Be.EAN_8},e}(Yr),hoe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),l3=function(t){hoe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.ean13Reader=new hS,r}return e.prototype.getBarcodeFormat=function(){return Be.UPC_A},e.prototype.decode=function(r,n){return this.maybeReturnResult(this.ean13Reader.decode(r))},e.prototype.decodeRow=function(r,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,n,i))},e.prototype.decodeMiddle=function(r,n,i){return this.ean13Reader.decodeMiddle(r,n,i)},e.prototype.maybeReturnResult=function(r){var n=r.getText();if(n.charAt(0)==="0"){var i=new Rn(n.substring(1),null,null,r.getResultPoints(),Be.UPC_A);return r.getResultMetadata()!=null&&i.putAllMetadata(r.getResultMetadata()),i}else throw new Z},e.prototype.reset=function(){this.ean13Reader.reset()},e}(Yr),poe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),moe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},c3=function(t){poe(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=new Int32Array(4),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,s=this.decodeMiddleCounters.map(function(g){return g});s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var l=r.getSize(),c=n[1],d=0,f=0;f<6&&c<l;f++){var h=e.decodeDigit(r,s,c,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+h%10);try{for(var p=(a=void 0,moe(s)),v=p.next();!v.done;v=p.next()){var m=v.value;c+=m}}catch(g){a={error:g}}finally{try{v&&!v.done&&(o=p.return)&&o.call(p)}finally{if(a)throw a.error}}h>=10&&(d|=1<<5-f)}return e.determineNumSysAndCheckDigit(new nt(i),d),c},e.prototype.decodeEnd=function(r,n){return e.findGuardPatternWithoutCounters(r,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(r){return Yr.checkChecksum(e.convertUPCEtoUPCA(r))},e.determineNumSysAndCheckDigit=function(r,n){for(var i=0;i<=1;i++)for(var a=0;a<10;a++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][a]){r.insert(0,"0"+i),r.append("0"+a);return}throw Z.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return Be.UPC_E},e.convertUPCEtoUPCA=function(r){var n=r.slice(1,7).split("").map(function(o){return o.charCodeAt(0)}),i=new nt;i.append(r.charAt(0));var a=n[5];switch(a){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(a),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(a);break}return r.length>=8&&i.append(r.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(Yr),voe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),u3=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Tb=function(t){voe(e,t);function e(r){var n=t.call(this)||this,i=r==null?null:r.get(Zt.POSSIBLE_FORMATS),a=[];return i!=null&&(i.indexOf(Be.EAN_13)>-1&&a.push(new hS),i.indexOf(Be.UPC_A)>-1&&a.push(new l3),i.indexOf(Be.EAN_8)>-1&&a.push(new s3),i.indexOf(Be.UPC_E)>-1&&a.push(new c3)),a.length===0&&(a.push(new hS),a.push(new l3),a.push(new s3),a.push(new c3)),n.readers=a,n}return e.prototype.decodeRow=function(r,n,i){var a,o;try{for(var s=u3(this.readers),l=s.next();!l.done;l=s.next()){var c=l.value;try{var d=c.decodeRow(r,n,i),f=d.getBarcodeFormat()===Be.EAN_13&&d.getText().charAt(0)==="0",h=i==null?null:i.get(Zt.POSSIBLE_FORMATS),p=h==null||h.includes(Be.UPC_A);if(f&&p){var v=d.getRawBytes(),m=new Rn(d.getText().substring(1),v,v?v.length:null,d.getResultPoints(),Be.UPC_A);return m.putAllMetadata(d.getResultMetadata()),m}return d}catch{}}}catch(g){a={error:g}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(a)throw a.error}}throw new Z},e.prototype.reset=function(){var r,n;try{for(var i=u3(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;o.reset()}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e}(rn),goe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),yoe=function(t){goe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},r}return e.prototype.decodeRow=function(r,n,i){var a=this.getValidRowData(n);if(!a)throw new Z;var o=this.codaBarDecodeRow(a.row);if(!o)throw new Z;return new Rn(o,null,0,[new Ie(a.left,r),new Ie(a.right,r)],Be.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(r){var n=r.toArray(),i=n.indexOf(!0);if(i===-1)return null;var a=n.lastIndexOf(!0);if(a<=i)return null;n=n.slice(i,a+1);for(var o=[],s=n[0],l=1,c=1;c<n.length;c++)n[c]===s?l++:(s=n[c],o.push(l),l=1);return o.push(l),o.length<23&&(o.length+1)%8!==0?null:{row:o,left:i,right:a}},e.prototype.codaBarDecodeRow=function(r){for(var n=[],i=Math.ceil(r.reduce(function(l,c){return(l+c)/2},0));r.length>0;){var a=r.splice(0,8).splice(0,7),o=a.map(function(l){return l<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[o]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[o])}var s=n.join("");return this.validCodaBarString(s)?s:null},e.prototype.validCodaBarString=function(r){var n=/^[A-D].{1,}[A-D]$/;return n.test(r)},e}(rn),xoe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),woe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hc=function(t){xoe(e,t);function e(){var r=t.call(this)||this;return r.decodeFinderCounters=new Int32Array(4),r.dataCharacterCounters=new Int32Array(8),r.oddRoundingErrors=new Array(4),r.evenRoundingErrors=new Array(4),r.oddCounts=new Array(r.dataCharacterCounters.length/2),r.evenCounts=new Array(r.dataCharacterCounters.length/2),r}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(r,n){for(var i=0;i<n.length;i++)if(rn.patternMatchVariance(r,n[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new Z},e.count=function(r){return xt.sum(new Int32Array(r))},e.increment=function(r,n){for(var i=0,a=n[0],o=1;o<r.length;o++)n[o]>a&&(a=n[o],i=o);r[i]++},e.decrement=function(r,n){for(var i=0,a=n[0],o=1;o<r.length;o++)n[o]<a&&(a=n[o],i=o);r[i]--},e.isFinderPattern=function(r){var n,i,a=r[0]+r[1],o=a+r[2]+r[3],s=a/o;if(s>=e.MIN_FINDER_PATTERN_RATIO&&s<=e.MAX_FINDER_PATTERN_RATIO){var l=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;try{for(var d=woe(r),f=d.next();!f.done;f=d.next()){var h=f.value;h>c&&(c=h),h<l&&(l=h)}}catch(p){n={error:p}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}return c<10*l}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(rn),ay=function(){function t(e,r){this.value=e,this.checksumPortion=r}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t}(),jL=function(){function t(e,r,n,i,a){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new Ie(n,a)),this.resultPoints.push(new Ie(i,a))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.hashCode=function(){return this.value},t}(),boe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dd=function(){function t(){}return t.getRSSvalue=function(e,r,n){var i,a,o=0;try{for(var s=boe(e),l=s.next();!l.done;l=s.next()){var c=l.value;o+=c}}catch(x){i={error:x}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}for(var d=0,f=0,h=e.length,p=0;p<h-1;p++){var v=void 0;for(v=1,f|=1<<p;v<e[p];v++,f&=~(1<<p)){var m=t.combins(o-v-1,h-p-2);if(n&&f===0&&o-v-(h-p-1)>=h-p-1&&(m-=t.combins(o-v-(h-p),h-p-2)),h-p-1>1){for(var g=0,y=o-v-(h-p-2);y>r;y--)g+=t.combins(o-v-y-1,h-p-3);m-=g*(h-1-p)}else o-v>r&&m--;d+=m}o-=v}return d},t.combins=function(e,r){var n,i;e-r>r?(i=r,n=e-r):(i=e-r,n=r);for(var a=1,o=1,s=e;s>n;s--)a*=s,o<=i&&(a/=o,o++);for(;o<=i;)a/=o,o++;return a},t}(),_oe=function(){function t(){}return t.buildBitArray=function(e){var r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);for(var n=12*r,i=new pn(n),a=0,o=e[0],s=o.getRightChar().getValue(),l=11;l>=0;--l)s&1<<l&&i.set(a),a++;for(var l=1;l<e.length;++l){for(var c=e[l],d=c.getLeftChar().getValue(),f=11;f>=0;--f)d&1<<f&&i.set(a),a++;if(c.getRightChar()!==null)for(var h=c.getRightChar().getValue(),f=11;f>=0;--f)h&1<<f&&i.set(a),a++}return i},t}(),ic=function(){function t(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t}(),cO=function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t}(),Soe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Sa=function(t){Soe(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(cO),Coe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ac=function(t){Coe(e,t);function e(r,n,i){var a=t.call(this,r)||this;return i?(a.remaining=!0,a.remainingValue=a.remainingValue):(a.remaining=!1,a.remainingValue=0),a.newString=n,a}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(cO),Eoe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Wu=function(t){Eoe(e,t);function e(r,n,i){var a=t.call(this,r)||this;if(n<0||n>10||i<0||i>10)throw new pe;return a.firstDigit=n,a.secondDigit=i,a}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(cO),b0=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Aoe=function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var r,n,i,a,o,s,l,c;if(!e)return null;if(e.length<2)throw new Z;var d=e.substring(0,2);try{for(var f=b0(t.TWO_DIGIT_DATA_LENGTH),h=f.next();!h.done;h=f.next()){var p=h.value;if(p[0]===d)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,p[2],e):t.processFixedAI(2,p[1],e)}}catch(C){r={error:C}}finally{try{h&&!h.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}if(e.length<3)throw new Z;var v=e.substring(0,3);try{for(var m=b0(t.THREE_DIGIT_DATA_LENGTH),g=m.next();!g.done;g=m.next()){var p=g.value;if(p[0]===v)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,p[2],e):t.processFixedAI(3,p[1],e)}}catch(C){i={error:C}}finally{try{g&&!g.done&&(a=m.return)&&a.call(m)}finally{if(i)throw i.error}}try{for(var y=b0(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),x=y.next();!x.done;x=y.next()){var p=x.value;if(p[0]===v)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,p[2],e):t.processFixedAI(4,p[1],e)}}catch(C){o={error:C}}finally{try{x&&!x.done&&(s=y.return)&&s.call(y)}finally{if(o)throw o.error}}if(e.length<4)throw new Z;var w=e.substring(0,4);try{for(var S=b0(t.FOUR_DIGIT_DATA_LENGTH),_=S.next();!_.done;_=S.next()){var p=_.value;if(p[0]===w)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,p[2],e):t.processFixedAI(4,p[1],e)}}catch(C){l={error:C}}finally{try{_&&!_.done&&(c=S.return)&&c.call(S)}finally{if(l)throw l.error}}throw new Z},t.processFixedAI=function(e,r,n){if(n.length<e)throw new Z;var i=n.substring(0,e);if(n.length<e+r)throw new Z;var a=n.substring(e,e+r),o=n.substring(e+r),s="("+i+")"+a,l=t.parseFieldsInGeneralPurpose(o);return l==null?s:s+l},t.processVariableAI=function(e,r,n){var i=n.substring(0,e),a;n.length<e+r?a=n.length:a=e+r;var o=n.substring(e,a),s=n.substring(a),l="("+i+")"+o,c=t.parseFieldsInGeneralPurpose(s);return c==null?l:l+c},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t}(),sg=function(){function t(e){this.buffer=new nt,this.information=e}return t.prototype.decodeAllCodes=function(e,r){var n=r,i=null;do{var a=this.decodeGeneralPurposeField(n,i),o=Aoe.parseFieldsInGeneralPurpose(a.getNewString());if(o!=null&&e.append(o),a.isRemaining()?i=""+a.getRemainingValue():i=null,n===a.getNewPosition())break;n=a.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var r=this.extractNumericValueFromBitArray(e,4);return r===0?new Wu(this.information.getSize(),Wu.FNC1,Wu.FNC1):new Wu(this.information.getSize(),r-1,Wu.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,a=(n-8)%11;return new Wu(e+7,i,a)},t.prototype.extractNumericValueFromBitArray=function(e,r){return t.extractNumericValueFromBitArray(this.information,e,r)},t.extractNumericValueFromBitArray=function(e,r,n){for(var i=0,a=0;a<n;++a)e.get(r+a)&&(i|=1<<n-a-1);return i},t.prototype.decodeGeneralPurposeField=function(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new ac(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new ac(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,r;do{var n=this.current.getPosition();this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished());var i=n!==this.current.getPosition();if(!i&&!e)break}while(!e);return r.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var r=void 0;return e.isSecondDigitFNC1()?r=new ac(this.current.getPosition(),this.buffer.toString()):r=new ac(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new ic(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var r=new ac(this.current.getPosition(),this.buffer.toString());return new ic(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ic(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new ac(this.current.getPosition(),this.buffer.toString());return new ic(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ic(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new ac(this.current.getPosition(),this.buffer.toString());return new ic(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ic(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},t.prototype.decodeIsoIec646=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new Sa(e+5,Sa.FNC1);if(r>=5&&r<15)return new Sa(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new Sa(e+7,""+(n+1));if(n>=90&&n<116)return new Sa(e+7,""+(n+7));var i=this.extractNumericValueFromBitArray(e,8),a;switch(i){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new pe}return new Sa(e+8,a)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},t.prototype.decodeAlphanumeric=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new Sa(e+5,Sa.FNC1);if(r>=5&&r<15)return new Sa(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new Sa(e+6,""+(n+33));var i;switch(n){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new Sv("Decoding invalid alphanumeric value: "+n)}return new Sa(e+6,i)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0},t}(),TL=function(){function t(e){this.information=e,this.generalDecoder=new sg(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t}(),Ooe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ua=function(t){Ooe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedGtin=function(r,n){r.append("(01)");var i=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,n,i)},e.prototype.encodeCompressedGtinWithoutAI=function(r,n,i){for(var a=0;a<4;++a){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*a,10);o/100===0&&r.append("0"),o/10===0&&r.append("0"),r.append(o)}e.appendCheckDigit(r,i)},e.appendCheckDigit=function(r,n){for(var i=0,a=0;a<13;a++){var o=r.charAt(a+n).charCodeAt(0)-48;i+=a&1?o:3*o}i=10-i%10,i===10&&(i=0),r.append(i)},e.GTIN_SIZE=40,e}(TL),Noe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),joe=function(t){Noe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new nt;r.append("(01)");var n=r.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return r.append(i),this.encodeCompressedGtinWithoutAI(r,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}(Ua),Toe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Poe=function(t){Toe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new nt;return this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}(TL),koe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),lg=function(t){koe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedWeight=function(r,n,i){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(r,a);for(var o=this.checkWeight(a),s=1e5,l=0;l<5;++l)o/s===0&&r.append("0"),s/=10;r.append(o)},e}(Ua),Ioe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),PL=function(t){Ioe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+lg.GTIN_SIZE+e.WEIGHT_SIZE)throw new Z;var r=new nt;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+lg.GTIN_SIZE,e.WEIGHT_SIZE),r.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}(lg),Roe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Doe=function(t){Roe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){r.append("(3103)")},e.prototype.checkWeight=function(r){return r},e}(PL),Moe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$oe=function(t){Moe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){n<1e4?r.append("(3202)"):r.append("(3203)")},e.prototype.checkWeight=function(r){return r<1e4?r:r-1e4},e}(PL),Loe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Foe=function(t){Loe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Ua.GTIN_SIZE)throw new Z;var r=new nt;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Ua.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(392"),r.append(n),r.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Ua.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return r.append(i.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}(Ua),Boe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Uoe=function(t){Boe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Ua.GTIN_SIZE)throw new Z;var r=new nt;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Ua.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(393"),r.append(n),r.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Ua.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&r.append("0"),i/10===0&&r.append("0"),r.append(i);var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Ua.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return r.append(a.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(Ua),Voe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ws=function(t){Voe(e,t);function e(r,n,i){var a=t.call(this,r)||this;return a.dateCode=i,a.firstAIdigits=n,a}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new Z;var r=new nt;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(r,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),r.toString()},e.prototype.encodeCompressedDate=function(r,n){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(i!==38400){r.append("("),r.append(this.dateCode),r.append(")");var a=i%32;i/=32;var o=i%12+1;i/=12;var s=i;s/10===0&&r.append("0"),r.append(s),o/10===0&&r.append("0"),r.append(o),a/10===0&&r.append("0"),r.append(a)}},e.prototype.addWeightCode=function(r,n){r.append("("),r.append(this.firstAIdigits),r.append(n/1e5),r.append(")")},e.prototype.checkWeight=function(r){return r%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(lg);function Woe(t){try{if(t.get(1))return new joe(t);if(!t.get(2))return new Poe(t);var e=sg.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new Doe(t);case 5:return new $oe(t)}var r=sg.extractNumericValueFromBitArray(t,1,5);switch(r){case 12:return new Foe(t);case 13:return new Uoe(t)}var n=sg.extractNumericValueFromBitArray(t,1,7);switch(n){case 56:return new Ws(t,"310","11");case 57:return new Ws(t,"320","11");case 58:return new Ws(t,"310","13");case 59:return new Ws(t,"320","13");case 60:return new Ws(t,"310","15");case 61:return new Ws(t,"320","15");case 62:return new Ws(t,"310","17");case 63:return new Ws(t,"320","17")}}catch(i){throw console.log(i),new Sv("unknown decoder: "+t)}}var d3=function(){function t(e,r,n,i){this.leftchar=e,this.rightchar=r,this.finderpattern=n,this.maybeLast=i}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,r){return e instanceof t?t.equalsOrNull(e.leftchar,r.leftchar)&&t.equalsOrNull(e.rightchar,r.rightchar)&&t.equalsOrNull(e.finderpattern,r.finderpattern):!1},t.equalsOrNull=function(e,r){return e===null?r===null:t.equals(e,r)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t}(),zoe=function(){function t(e,r,n){this.pairs=e,this.rowNumber=r,this.wasReversed=n}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,r){return e instanceof t?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1},t.prototype.checkEqualitity=function(e,r){if(!(!e||!r)){var n;return e.forEach(function(i,a){r.forEach(function(o){i.getLeftChar().getValue()===o.getLeftChar().getValue()&&i.getRightChar().getValue()===o.getRightChar().getValue()&&i.getFinderPatter().getValue()===o.getFinderPatter().getValue()&&(n=!0)})}),n}},t}(),Hoe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),zs=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Goe=function(t){Hoe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.pairs=new Array(e.MAX_PAIRS),r.rows=new Array,r.startEnd=[2],r}return e.prototype.decodeRow=function(r,n,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(r,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(r,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(r,n){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,r))}catch(s){if(s instanceof Z){if(!this.pairs.length)throw new Z;i=!0}}if(this.checkChecksum())return this.pairs;var a;if(this.rows.length?a=!0:a=!1,this.storeRow(r,!1),a){var o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new Z},e.prototype.checkRowsBoolean=function(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(i){console.log(i)}return r&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(r,n){for(var i,a,o=n;o<this.rows.length;o++){var s=this.rows[o];this.pairs.length=0;try{for(var l=(i=void 0,zs(r)),c=l.next();!c.done;c=l.next()){var d=c.value;this.pairs.push(d.getPairs())}}catch(h){i={error:h}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}if(this.pairs.push(s.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var f=new Array(r);f.push(s);try{return this.checkRows(f,o+1)}catch(h){console.log(h)}}}throw new Z},e.isValidSequence=function(r){var n,i;try{for(var a=zs(e.FINDER_PATTERN_SEQUENCES),o=a.next();!o.done;o=a.next()){var s=o.value;if(!(r.length>s.length)){for(var l=!0,c=0;c<r.length;c++)if(r[c].getFinderPattern().getValue()!==s[c]){l=!1;break}if(l)return!0}}}catch(d){n={error:d}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(r,n){for(var i=0,a=!1,o=!1;i<this.rows.length;){var s=this.rows[i];if(s.getRowNumber()>r){o=s.isEquivalent(this.pairs);break}a=s.isEquivalent(this.pairs),i++}o||a||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new zoe(this.pairs,r,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(r,n){var i,a,o,s,l,c;try{for(var d=zs(n),f=d.next();!f.done;f=d.next()){var h=f.value;if(h.getPairs().length!==r.length){var p=!0;try{for(var v=(o=void 0,zs(h.getPairs())),m=v.next();!m.done;m=v.next()){var g=m.value,y=!1;try{for(var x=(l=void 0,zs(r)),w=x.next();!w.done;w=x.next()){var S=w.value;if(d3.equals(g,S)){y=!0;break}}}catch(_){l={error:_}}finally{try{w&&!w.done&&(c=x.return)&&c.call(x)}finally{if(l)throw l.error}}y||(p=!1)}}catch(_){o={error:_}}finally{try{m&&!m.done&&(s=v.return)&&s.call(v)}finally{if(o)throw o.error}}}}}catch(_){i={error:_}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}},e.isPartialRow=function(r,n){var i,a,o,s,l,c;try{for(var d=zs(n),f=d.next();!f.done;f=d.next()){var h=f.value,p=!0;try{for(var v=(o=void 0,zs(r)),m=v.next();!m.done;m=v.next()){var g=m.value,y=!1;try{for(var x=(l=void 0,zs(h.getPairs())),w=x.next();!w.done;w=x.next()){var S=w.value;if(g.equals(S)){y=!0;break}}}catch(_){l={error:_}}finally{try{w&&!w.done&&(c=x.return)&&c.call(x)}finally{if(l)throw l.error}}if(!y){p=!1;break}}}catch(_){o={error:_}}finally{try{m&&!m.done&&(s=v.return)&&s.call(v)}finally{if(o)throw o.error}}if(p)return!0}}catch(_){i={error:_}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(r){var n=_oe.buildBitArray(r),i=Woe(n),a=i.parseInformation(),o=r[0].getFinderPattern().getResultPoints(),s=r[r.length-1].getFinderPattern().getResultPoints(),l=[o[0],o[1],s[0],s[1]];return new Rn(a,null,null,l,Be.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var r=this.pairs.get(0),n=r.getLeftChar(),i=r.getRightChar();if(i===null)return!1;for(var a=i.getChecksumPortion(),o=2,s=1;s<this.pairs.size();++s){var l=this.pairs.get(s);a+=l.getLeftChar().getChecksumPortion(),o++;var c=l.getRightChar();c!=null&&(a+=c.getChecksumPortion(),o++)}a%=211;var d=211*(o-4)+a;return d===n.getValue()},e.getNextSecondBar=function(r,n){var i;return r.get(n)?(i=r.getNextUnset(n),i=r.getNextSet(i)):(i=r.getNextSet(n),i=r.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(r,n,i){var a=n.length%2===0;this.startFromEven&&(a=!a);var o,s=!0,l=-1;do this.findNextPair(r,n,l),o=this.parseFoundFinderPattern(r,i,a),o===null?l=e.getNextSecondBar(r,this.startEnd[0]):s=!1;while(s);var c=this.decodeDataCharacter(r,o,a,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new Z;var d;try{d=this.decodeDataCharacter(r,o,a,!1)}catch(f){d=null,console.log(f)}return new d3(c,d,o,!0)},e.prototype.isEmptyPair=function(r){return r.length===0},e.prototype.findNextPair=function(r,n,i){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;var o=r.getSize(),s;if(i>=0)s=i;else if(this.isEmptyPair(n))s=0;else{var l=n[n.length-1];s=l.getFinderPattern().getStartEnd()[1]}var c=n.length%2!==0;this.startFromEven&&(c=!c);for(var d=!1;s<o&&(d=!r.get(s),!!d);)s++;for(var f=0,h=s,p=s;p<o;p++)if(r.get(p)!==d)a[f]++;else{if(f===3){if(c&&e.reverseCounters(a),e.isFinderPattern(a)){this.startEnd[0]=h,this.startEnd[1]=p;return}c&&e.reverseCounters(a),h+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,f--}else f++;a[f]=1,d=!d}throw new Z},e.reverseCounters=function(r){for(var n=r.length,i=0;i<n/2;++i){var a=r[i];r[i]=r[n-i-1],r[n-i-1]=a}},e.prototype.parseFoundFinderPattern=function(r,n,i){var a,o,s;if(i){for(var l=this.startEnd[0]-1;l>=0&&!r.get(l);)l--;l++,a=this.startEnd[0]-l,o=l,s=this.startEnd[1]}else o=this.startEnd[0],s=r.getNextUnset(this.startEnd[1]+1),a=s-this.startEnd[1];var c=this.getDecodeFinderCounters();Yt.arraycopy(c,0,c,1,c.length-1),c[0]=a;var d;try{d=this.parseFinderValue(c,e.FINDER_PATTERNS)}catch{return null}return new jL(d,[o,s],o,s,n)},e.prototype.decodeDataCharacter=function(r,n,i,a){for(var o=this.getDataCharacterCounters(),s=0;s<o.length;s++)o[s]=0;if(a)e.recordPatternInReverse(r,n.getStartEnd()[0],o);else{e.recordPattern(r,n.getStartEnd()[1],o);for(var l=0,c=o.length-1;l<c;l++,c--){var d=o[l];o[l]=o[c],o[c]=d}}var f=17,h=xt.sum(new Int32Array(o))/f,p=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(h-p)/p>.3)throw new Z;for(var v=this.getOddCounts(),m=this.getEvenCounts(),g=this.getOddRoundingErrors(),y=this.getEvenRoundingErrors(),l=0;l<o.length;l++){var x=1*o[l]/h,w=x+.5;if(w<1){if(x<.3)throw new Z;w=1}else if(w>8){if(x>8.7)throw new Z;w=8}var S=l/2;l&1?(m[S]=w,y[S]=x-w):(v[S]=w,g[S]=x-w)}this.adjustOddEvenCounts(f);for(var _=4*n.getValue()+(i?0:2)+(a?0:1)-1,C=0,E=0,l=v.length-1;l>=0;l--){if(e.isNotA1left(n,i,a)){var A=e.WEIGHTS[_][2*l];E+=v[l]*A}C+=v[l]}for(var O=0,l=m.length-1;l>=0;l--)if(e.isNotA1left(n,i,a)){var A=e.WEIGHTS[_][2*l+1];O+=m[l]*A}var T=E+O;if(C&1||C>13||C<4)throw new Z;var N=(13-C)/2,P=e.SYMBOL_WIDEST[N],$=9-P,D=dd.getRSSvalue(v,P,!0),F=dd.getRSSvalue(m,$,!1),L=e.EVEN_TOTAL_SUBSET[N],M=e.GSUM[N],j=D*L+F+M;return new ay(j,T)},e.isNotA1left=function(r,n,i){return!(r.getValue()===0&&n&&i)},e.prototype.adjustOddEvenCounts=function(r){var n=xt.sum(new Int32Array(this.getOddCounts())),i=xt.sum(new Int32Array(this.getEvenCounts())),a=!1,o=!1;n>13?o=!0:n<4&&(a=!0);var s=!1,l=!1;i>13?l=!0:i<4&&(s=!0);var c=n+i-r,d=(n&1)===1,f=(i&1)===0;if(c===1)if(d){if(f)throw new Z;o=!0}else{if(!f)throw new Z;l=!0}else if(c===-1)if(d){if(f)throw new Z;a=!0}else{if(!f)throw new Z;s=!0}else if(c===0){if(d){if(!f)throw new Z;n<i?(a=!0,l=!0):(o=!0,s=!0)}else if(f)throw new Z}else throw new Z;if(a){if(o)throw new Z;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(l)throw new Z;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}l&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(hc),qoe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Koe=function(t){qoe(e,t);function e(r,n,i){var a=t.call(this,r,n)||this;return a.count=0,a.finderPattern=i,a}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(ay),Xoe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Pb=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},f3=function(t){Xoe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.possibleLeftPairs=[],r.possibleRightPairs=[],r}return e.prototype.decodeRow=function(r,n,i){var a,o,s,l,c=this.decodePair(n,!1,r,i);e.addOrTally(this.possibleLeftPairs,c),n.reverse();var d=this.decodePair(n,!0,r,i);e.addOrTally(this.possibleRightPairs,d),n.reverse();try{for(var f=Pb(this.possibleLeftPairs),h=f.next();!h.done;h=f.next()){var p=h.value;if(p.getCount()>1)try{for(var v=(s=void 0,Pb(this.possibleRightPairs)),m=v.next();!m.done;m=v.next()){var g=m.value;if(g.getCount()>1&&e.checkChecksum(p,g))return e.constructResult(p,g)}}catch(y){s={error:y}}finally{try{m&&!m.done&&(l=v.return)&&l.call(v)}finally{if(s)throw s.error}}}}catch(y){a={error:y}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(a)throw a.error}}throw new Z},e.addOrTally=function(r,n){var i,a;if(n!=null){var o=!1;try{for(var s=Pb(r),l=s.next();!l.done;l=s.next()){var c=l.value;if(c.getValue()===n.getValue()){c.incrementCount(),o=!0;break}}}catch(d){i={error:d}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}o||r.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(r,n){for(var i=4537077*r.getValue()+n.getValue(),a=new String(i).toString(),o=new nt,s=13-a.length;s>0;s--)o.append("0");o.append(a);for(var l=0,s=0;s<13;s++){var c=o.charAt(s).charCodeAt(0)-48;l+=s&1?c:3*c}l=10-l%10,l===10&&(l=0),o.append(l.toString());var d=r.getFinderPattern().getResultPoints(),f=n.getFinderPattern().getResultPoints();return new Rn(o.toString(),null,0,[d[0],d[1],f[0],f[1]],Be.RSS_14,new Date().getTime())},e.checkChecksum=function(r,n){var i=(r.getChecksumPortion()+16*n.getChecksumPortion())%79,a=9*r.getFinderPattern().getValue()+n.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,i===a},e.prototype.decodePair=function(r,n,i,a){try{var o=this.findFinderPattern(r,n),s=this.parseFoundFinderPattern(r,i,n,o),l=a==null?null:a.get(Zt.NEED_RESULT_POINT_CALLBACK);if(l!=null){var c=(o[0]+o[1])/2;n&&(c=r.getSize()-1-c),l.foundPossibleResultPoint(new Ie(c,i))}var d=this.decodeDataCharacter(r,s,!0),f=this.decodeDataCharacter(r,s,!1);return new Koe(1597*d.getValue()+f.getValue(),d.getChecksumPortion()+4*f.getChecksumPortion(),s)}catch{return null}},e.prototype.decodeDataCharacter=function(r,n,i){for(var a=this.getDataCharacterCounters(),o=0;o<a.length;o++)a[o]=0;if(i)rn.recordPatternInReverse(r,n.getStartEnd()[0],a);else{rn.recordPattern(r,n.getStartEnd()[1]+1,a);for(var s=0,l=a.length-1;s<l;s++,l--){var c=a[s];a[s]=a[l],a[l]=c}}for(var d=i?16:15,f=xt.sum(new Int32Array(a))/d,h=this.getOddCounts(),p=this.getEvenCounts(),v=this.getOddRoundingErrors(),m=this.getEvenRoundingErrors(),s=0;s<a.length;s++){var g=a[s]/f,y=Math.floor(g+.5);y<1?y=1:y>8&&(y=8);var x=Math.floor(s/2);s&1?(p[x]=y,m[x]=g-y):(h[x]=y,v[x]=g-y)}this.adjustOddEvenCounts(i,d);for(var w=0,S=0,s=h.length-1;s>=0;s--)S*=9,S+=h[s],w+=h[s];for(var _=0,C=0,s=p.length-1;s>=0;s--)_*=9,_+=p[s],C+=p[s];var E=S+3*_;if(i){if(w&1||w>12||w<4)throw new Z;var A=(12-w)/2,O=e.OUTSIDE_ODD_WIDEST[A],T=9-O,N=dd.getRSSvalue(h,O,!1),P=dd.getRSSvalue(p,T,!0),$=e.OUTSIDE_EVEN_TOTAL_SUBSET[A],D=e.OUTSIDE_GSUM[A];return new ay(N*$+P+D,E)}else{if(C&1||C>10||C<4)throw new Z;var A=(10-C)/2,O=e.INSIDE_ODD_WIDEST[A],T=9-O,N=dd.getRSSvalue(h,O,!0),P=dd.getRSSvalue(p,T,!1),F=e.INSIDE_ODD_TOTAL_SUBSET[A],D=e.INSIDE_GSUM[A];return new ay(P*F+N+D,E)}},e.prototype.findFinderPattern=function(r,n){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var a=r.getSize(),o=!1,s=0;s<a&&(o=!r.get(s),n!==o);)s++;for(var l=0,c=s,d=s;d<a;d++)if(r.get(d)!==o)i[l]++;else{if(l===3){if(hc.isFinderPattern(i))return[c,d];c+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,l--}else l++;i[l]=1,o=!o}throw new Z},e.prototype.parseFoundFinderPattern=function(r,n,i,a){for(var o=r.get(a[0]),s=a[0]-1;s>=0&&o!==r.get(s);)s--;s++;var l=a[0]-s,c=this.getDecodeFinderCounters(),d=new Int32Array(c.length);Yt.arraycopy(c,0,d,1,c.length-1),d[0]=l;var f=this.parseFinderValue(d,e.FINDER_PATTERNS),h=s,p=a[1];return i&&(h=r.getSize()-1-h,p=r.getSize()-1-p),new jL(f,[s,a[1]],h,p,n)},e.prototype.adjustOddEvenCounts=function(r,n){var i=xt.sum(new Int32Array(this.getOddCounts())),a=xt.sum(new Int32Array(this.getEvenCounts())),o=!1,s=!1,l=!1,c=!1;r?(i>12?s=!0:i<4&&(o=!0),a>12?c=!0:a<4&&(l=!0)):(i>11?s=!0:i<5&&(o=!0),a>10?c=!0:a<4&&(l=!0));var d=i+a-n,f=(i&1)===(r?1:0),h=(a&1)===1;if(d===1)if(f){if(h)throw new Z;s=!0}else{if(!h)throw new Z;c=!0}else if(d===-1)if(f){if(h)throw new Z;o=!0}else{if(!h)throw new Z;l=!0}else if(d===0){if(f){if(!h)throw new Z;i<a?(o=!0,c=!0):(s=!0,l=!0)}else if(h)throw new Z}else throw new Z;if(o){if(s)throw new Z;hc.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&hc.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(c)throw new Z;hc.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&hc.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(hc),Yoe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fd=function(t){Yoe(e,t);function e(r){var n=t.call(this)||this;n.readers=[];var i=r?r.get(Zt.POSSIBLE_FORMATS):null,a=r&&r.get(Zt.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,o=r&&r.get(Zt.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return i&&((i.includes(Be.EAN_13)||i.includes(Be.UPC_A)||i.includes(Be.EAN_8)||i.includes(Be.UPC_E))&&n.readers.push(new Tb(r)),i.includes(Be.CODE_39)&&n.readers.push(new r3(a,o)),i.includes(Be.CODE_93)&&n.readers.push(new n3),i.includes(Be.CODE_128)&&n.readers.push(new t3),i.includes(Be.ITF)&&n.readers.push(new i3),i.includes(Be.CODABAR)&&n.readers.push(new yoe),i.includes(Be.RSS_14)&&n.readers.push(new f3),i.includes(Be.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new Goe))),n.readers.length===0&&(n.readers.push(new Tb(r)),n.readers.push(new r3),n.readers.push(new n3),n.readers.push(new Tb(r)),n.readers.push(new t3),n.readers.push(new i3),n.readers.push(new f3)),n}return e.prototype.decodeRow=function(r,n,i){for(var a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(r,n,i)}catch{}throw new Z},e.prototype.reset=function(){this.readers.forEach(function(r){return r.reset()})},e}(rn),Zoe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){Zoe(e,t);function e(r,n){return r===void 0&&(r=500),t.call(this,new fd(n),r,n)||this}return e})(th);var h3=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},At=function(){function t(e,r,n){this.ecCodewords=e,this.ecBlocks=[r],n&&this.ecBlocks.push(n)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),Ct=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),Qoe=function(){function t(e,r,n,i,a,o){var s,l;this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=n,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=a,this.ecBlocks=o;var c=0,d=o.getECCodewords(),f=o.getECBlocks();try{for(var h=h3(f),p=h.next();!p.done;p=h.next()){var v=p.value;c+=v.getCount()*(v.getDataCodewords()+d)}}catch(m){s={error:m}}finally{try{p&&!p.done&&(l=h.return)&&l.call(h)}finally{if(s)throw s.error}}this.totalCodewords=c}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,r){var n,i;if(e&1||r&1)throw new pe;try{for(var a=h3(t.VERSIONS),o=a.next();!o.done;o=a.next()){var s=o.value;if(s.symbolSizeRows===e&&s.symbolSizeColumns===r)return s}}catch(l){n={error:l}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}throw new pe},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new At(5,new Ct(1,3))),new t(2,12,12,10,10,new At(7,new Ct(1,5))),new t(3,14,14,12,12,new At(10,new Ct(1,8))),new t(4,16,16,14,14,new At(12,new Ct(1,12))),new t(5,18,18,16,16,new At(14,new Ct(1,18))),new t(6,20,20,18,18,new At(18,new Ct(1,22))),new t(7,22,22,20,20,new At(20,new Ct(1,30))),new t(8,24,24,22,22,new At(24,new Ct(1,36))),new t(9,26,26,24,24,new At(28,new Ct(1,44))),new t(10,32,32,14,14,new At(36,new Ct(1,62))),new t(11,36,36,16,16,new At(42,new Ct(1,86))),new t(12,40,40,18,18,new At(48,new Ct(1,114))),new t(13,44,44,20,20,new At(56,new Ct(1,144))),new t(14,48,48,22,22,new At(68,new Ct(1,174))),new t(15,52,52,24,24,new At(42,new Ct(2,102))),new t(16,64,64,14,14,new At(56,new Ct(2,140))),new t(17,72,72,16,16,new At(36,new Ct(4,92))),new t(18,80,80,18,18,new At(48,new Ct(4,114))),new t(19,88,88,20,20,new At(56,new Ct(4,144))),new t(20,96,96,22,22,new At(68,new Ct(4,174))),new t(21,104,104,24,24,new At(56,new Ct(6,136))),new t(22,120,120,18,18,new At(68,new Ct(6,175))),new t(23,132,132,20,20,new At(62,new Ct(8,163))),new t(24,144,144,22,22,new At(62,new Ct(8,156),new Ct(2,155))),new t(25,8,18,6,16,new At(7,new Ct(1,5))),new t(26,8,32,6,14,new At(11,new Ct(1,10))),new t(27,12,26,10,24,new At(14,new Ct(1,16))),new t(28,12,36,10,16,new At(18,new Ct(1,22))),new t(29,16,36,14,16,new At(24,new Ct(1,32))),new t(30,16,48,14,22,new At(28,new Ct(1,49)))]},t.VERSIONS=t.buildVersions(),t}(),Joe=function(){function t(e){var r=e.getHeight();if(r<8||r>144||r&1)throw new pe;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new Oo(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var r=e.getHeight(),n=e.getWidth();return Qoe.getVersionForDimensions(r,n)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),r=0,n=4,i=0,a=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth(),s=!1,l=!1,c=!1,d=!1;do if(n===a&&i===0&&!s)e[r++]=this.readCorner1(a,o)&255,n-=2,i+=2,s=!0;else if(n===a-2&&i===0&&o&3&&!l)e[r++]=this.readCorner2(a,o)&255,n-=2,i+=2,l=!0;else if(n===a+4&&i===2&&!(o&7)&&!c)e[r++]=this.readCorner3(a,o)&255,n-=2,i+=2,c=!0;else if(n===a-2&&i===0&&(o&7)===4&&!d)e[r++]=this.readCorner4(a,o)&255,n-=2,i+=2,d=!0;else{do n<a&&i>=0&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,a,o)&255),n-=2,i+=2;while(n>=0&&i<o);n+=1,i+=3;do n>=0&&i<o&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,a,o)&255),n+=2,i-=2;while(n<a&&i>=0);n+=3,i+=1}while(n<a||i<o);if(r!==this.version.getTotalCodewords())throw new pe;return e},t.prototype.readModule=function(e,r,n,i){return e<0&&(e+=n,r+=4-(n+4&7)),r<0&&(r+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)},t.prototype.readUtah=function(e,r,n,i){var a=0;return this.readModule(e-2,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e-2,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r,n,i)&&(a|=1),a<<=1,this.readModule(e,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e,r,n,i)&&(a|=1),a},t.prototype.readCorner1=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,1,e,r)&&(n|=1),n<<=1,this.readModule(e-1,2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.readCorner2=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-4,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner3=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-3,e,r)&&(n|=1),n<<=1,this.readModule(1,r-2,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner4=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.extractDataRegion=function(e){var r=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new Ue("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),o=r/i|0,s=n/a|0,l=o*i,c=s*a,d=new Oo(c,l),f=0;f<o;++f)for(var h=f*i,p=0;p<s;++p)for(var v=p*a,m=0;m<i;++m)for(var g=f*(i+2)+1+m,y=h+m,x=0;x<a;++x){var w=p*(a+2)+1+x;if(e.get(w,g)){var S=v+x;d.set(S,y)}}return d},t}(),p3=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ese=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r){var n,i,a,o,s=r.getECBlocks(),l=0,c=s.getECBlocks();try{for(var d=p3(c),f=d.next();!f.done;f=d.next()){var h=f.value;l+=h.getCount()}}catch(D){n={error:D}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}var p=new Array(l),v=0;try{for(var m=p3(c),g=m.next();!g.done;g=m.next())for(var h=g.value,y=0;y<h.getCount();y++){var x=h.getDataCodewords(),w=s.getECCodewords()+x;p[v++]=new t(x,new Uint8Array(w))}}catch(D){a={error:D}}finally{try{g&&!g.done&&(o=m.return)&&o.call(m)}finally{if(a)throw a.error}}for(var S=p[0].codewords.length,_=S-s.getECCodewords(),C=_-1,E=0,y=0;y<C;y++)for(var A=0;A<v;A++)p[A].codewords[y]=e[E++];for(var O=r.getVersionNumber()===24,T=O?8:v,A=0;A<T;A++)p[A].codewords[_-1]=e[E++];for(var N=p[0].codewords.length,y=_;y<N;y++)for(var A=0;A<v;A++){var P=O?(A+8)%v:A,$=O&&P>7?y-1:y;p[P].codewords[$]=e[E++]}if(E!==e.length)throw new Ue;return p},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),kL=function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new Ue(""+e);var r=0,n=this.bitOffset,i=this.byteOffset,a=this.bytes;if(n>0){var o=8-n,s=e<o?e:o,l=o-s,c=255>>8-s<<l;r=(a[i]&c)>>l,e-=s,n+=s,n===8&&(n=0,i++)}if(e>0){for(;e>=8;)r=r<<8|a[i]&255,i++,e-=8;if(e>0){var l=8-e,c=255>>l<<l;r=r<<e|(a[i]&c)>>l,n+=e}}return this.bitOffset=n,this.byteOffset=i,r},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t}(),qr;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(qr||(qr={}));var tse=function(){function t(){}return t.decode=function(e){var r=new kL(e),n=new nt,i=new nt,a=new Array,o=qr.ASCII_ENCODE;do if(o===qr.ASCII_ENCODE)o=this.decodeAsciiSegment(r,n,i);else{switch(o){case qr.C40_ENCODE:this.decodeC40Segment(r,n);break;case qr.TEXT_ENCODE:this.decodeTextSegment(r,n);break;case qr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,n);break;case qr.EDIFACT_ENCODE:this.decodeEdifactSegment(r,n);break;case qr.BASE256_ENCODE:this.decodeBase256Segment(r,n,a);break;default:throw new pe}o=qr.ASCII_ENCODE}while(o!==qr.PAD_ENCODE&&r.available()>0);return i.length()>0&&n.append(i.toString()),new dx(e,n.toString(),a.length===0?null:a,null)},t.decodeAsciiSegment=function(e,r,n){var i=!1;do{var a=e.readBits(8);if(a===0)throw new pe;if(a<=128)return i&&(a+=128),r.append(String.fromCharCode(a-1)),qr.ASCII_ENCODE;if(a===129)return qr.PAD_ENCODE;if(a<=229){var o=a-130;o<10&&r.append("0"),r.append(""+o)}else switch(a){case 230:return qr.C40_ENCODE;case 231:return qr.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:r.append("[)>05"),n.insert(0,"");break;case 237:r.append("[)>06"),n.insert(0,"");break;case 238:return qr.ANSIX12_ENCODE;case 239:return qr.TEXT_ENCODE;case 240:return qr.EDIFACT_ENCODE;case 241:break;default:if(a!==254||e.available()!==0)throw new pe;break}}while(e.available()>0);return qr.ASCII_ENCODE},t.decodeC40Segment=function(e,r){var n=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var s=0;s<3;s++){var l=i[s];switch(a){case 0:if(l<3)a=l+1;else if(l<this.C40_BASIC_SET_CHARS.length){var c=this.C40_BASIC_SET_CHARS[l];n?(r.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):r.append(c)}else throw new pe;break;case 1:n?(r.append(String.fromCharCode(l+128)),n=!1):r.append(String.fromCharCode(l)),a=0;break;case 2:if(l<this.C40_SHIFT2_SET_CHARS.length){var c=this.C40_SHIFT2_SET_CHARS[l];n?(r.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):r.append(c)}else switch(l){case 27:r.append("");break;case 30:n=!0;break;default:throw new pe}a=0;break;case 3:n?(r.append(String.fromCharCode(l+224)),n=!1):r.append(String.fromCharCode(l+96)),a=0;break;default:throw new pe}}}while(e.available()>0)},t.decodeTextSegment=function(e,r){var n=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var s=0;s<3;s++){var l=i[s];switch(a){case 0:if(l<3)a=l+1;else if(l<this.TEXT_BASIC_SET_CHARS.length){var c=this.TEXT_BASIC_SET_CHARS[l];n?(r.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):r.append(c)}else throw new pe;break;case 1:n?(r.append(String.fromCharCode(l+128)),n=!1):r.append(String.fromCharCode(l)),a=0;break;case 2:if(l<this.TEXT_SHIFT2_SET_CHARS.length){var c=this.TEXT_SHIFT2_SET_CHARS[l];n?(r.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):r.append(c)}else switch(l){case 27:r.append("");break;case 30:n=!0;break;default:throw new pe}a=0;break;case 3:if(l<this.TEXT_SHIFT3_SET_CHARS.length){var c=this.TEXT_SHIFT3_SET_CHARS[l];n?(r.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):r.append(c),a=0}else throw new pe;break;default:throw new pe}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,r){var n=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),n);for(var a=0;a<3;a++){var o=n[a];switch(o){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(o<14)r.append(String.fromCharCode(o+44));else if(o<40)r.append(String.fromCharCode(o+51));else throw new pe;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,r,n){var i=(e<<8)+r-1,a=Math.floor(i/1600);n[0]=a,i-=a*1600,a=Math.floor(i/40),n[1]=a,n[2]=i-a*40},t.decodeEdifactSegment=function(e,r){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var i=e.readBits(6);if(i===31){var a=8-e.getBitOffset();a!==8&&e.readBits(a);return}i&32||(i|=64),r.append(String.fromCharCode(i))}}while(e.available()>0)},t.decodeBase256Segment=function(e,r,n){var i=1+e.getByteOffset(),a=this.unrandomize255State(e.readBits(8),i++),o;if(a===0?o=e.available()/8|0:a<250?o=a:o=250*(a-249)+this.unrandomize255State(e.readBits(8),i++),o<0)throw new pe;for(var s=new Uint8Array(o),l=0;l<o;l++){if(e.available()<8)throw new pe;s[l]=this.unrandomize255State(e.readBits(8),i++)}n.push(s);try{r.append(ca.decode(s,ht.ISO88591))}catch(c){throw new Sv("Platform does not support required encoding: "+c.message)}},t.unrandomize255State=function(e,r){var n=149*r%255+1,i=e-n;return i>=0?i:i+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],t}(),rse=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nse=function(){function t(){this.rsDecoder=new fx(ii.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var r,n,i=new Joe(e),a=i.getVersion(),o=i.readCodewords(),s=ese.getDataBlocks(o,a),l=0;try{for(var c=rse(s),d=c.next();!d.done;d=c.next()){var f=d.value;l+=f.getNumDataCodewords()}}catch(w){r={error:w}}finally{try{d&&!d.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}for(var h=new Uint8Array(l),p=s.length,v=0;v<p;v++){var m=s[v],g=m.getCodewords(),y=m.getNumDataCodewords();this.correctErrors(g,y);for(var x=0;x<y;x++)h[x*p+v]=g[x]}return tse.decode(h)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new Fr}for(var i=0;i<r;i++)e[i]=n[i]},t}(),ise=function(){function t(e){this.image=e,this.rectangleDetector=new fS(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new Z;r=this.shiftToModuleCenter(r);var n=r[0],i=r[1],a=r[2],o=r[3],s=this.transitionsBetween(n,o)+1,l=this.transitionsBetween(a,o)+1;(s&1)===1&&(s+=1),(l&1)===1&&(l+=1),4*s<7*l&&4*l<7*s&&(s=l=Math.max(s,l));var c=t.sampleGrid(this.image,n,i,a,o,s,l);return new sO(c,[n,i,a,o])},t.shiftPoint=function(e,r,n){var i=(r.getX()-e.getX())/(n+1),a=(r.getY()-e.getY())/(n+1);return new Ie(e.getX()+i,e.getY()+a)},t.moveAway=function(e,r,n){var i=e.getX(),a=e.getY();return i<r?i-=1:i+=1,a<n?a-=1:a+=1,new Ie(i,a)},t.prototype.detectSolid1=function(e){var r=e[0],n=e[1],i=e[3],a=e[2],o=this.transitionsBetween(r,n),s=this.transitionsBetween(n,i),l=this.transitionsBetween(i,a),c=this.transitionsBetween(a,r),d=o,f=[a,r,n,i];return d>s&&(d=s,f[0]=r,f[1]=n,f[2]=i,f[3]=a),d>l&&(d=l,f[0]=n,f[1]=i,f[2]=a,f[3]=r),d>c&&(f[0]=i,f[1]=a,f[2]=r,f[3]=n),f},t.prototype.detectSolid2=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a),s=t.shiftPoint(n,i,(o+1)*4),l=t.shiftPoint(i,n,(o+1)*4),c=this.transitionsBetween(s,r),d=this.transitionsBetween(l,a);return c<d?(e[0]=r,e[1]=n,e[2]=i,e[3]=a):(e[0]=n,e[1]=i,e[2]=a,e[3]=r),e},t.prototype.correctTopRight=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a),s=this.transitionsBetween(n,a),l=t.shiftPoint(r,n,(s+1)*4),c=t.shiftPoint(i,n,(o+1)*4);o=this.transitionsBetween(l,a),s=this.transitionsBetween(c,a);var d=new Ie(a.getX()+(i.getX()-n.getX())/(o+1),a.getY()+(i.getY()-n.getY())/(o+1)),f=new Ie(a.getX()+(r.getX()-n.getX())/(s+1),a.getY()+(r.getY()-n.getY())/(s+1));if(!this.isValid(d))return this.isValid(f)?f:null;if(!this.isValid(f))return d;var h=this.transitionsBetween(l,d)+this.transitionsBetween(c,d),p=this.transitionsBetween(l,f)+this.transitionsBetween(c,f);return h>p?d:f},t.prototype.shiftToModuleCenter=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a)+1,s=this.transitionsBetween(i,a)+1,l=t.shiftPoint(r,n,s*4),c=t.shiftPoint(i,n,o*4);o=this.transitionsBetween(l,a)+1,s=this.transitionsBetween(c,a)+1,(o&1)===1&&(o+=1),(s&1)===1&&(s+=1);var d=(r.getX()+n.getX()+i.getX()+a.getX())/4,f=(r.getY()+n.getY()+i.getY()+a.getY())/4;r=t.moveAway(r,d,f),n=t.moveAway(n,d,f),i=t.moveAway(i,d,f),a=t.moveAway(a,d,f);var h,p;return l=t.shiftPoint(r,n,s*4),l=t.shiftPoint(l,a,o*4),h=t.shiftPoint(n,r,s*4),h=t.shiftPoint(h,i,o*4),c=t.shiftPoint(i,a,s*4),c=t.shiftPoint(c,n,o*4),p=t.shiftPoint(a,i,s*4),p=t.shiftPoint(p,r,o*4),[l,h,c,p]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,r,n,i,a,o,s){var l=lO.getInstance();return l.sampleGrid(e,o,s,.5,.5,o-.5,.5,o-.5,s-.5,.5,s-.5,r.getX(),r.getY(),a.getX(),a.getY(),i.getX(),i.getY(),n.getX(),n.getY())},t.prototype.transitionsBetween=function(e,r){var n=Math.trunc(e.getX()),i=Math.trunc(e.getY()),a=Math.trunc(r.getX()),o=Math.trunc(r.getY()),s=Math.abs(o-i)>Math.abs(a-n);if(s){var l=n;n=i,i=l,l=a,a=o,o=l}for(var c=Math.abs(a-n),d=Math.abs(o-i),f=-c/2,h=i<o?1:-1,p=n<a?1:-1,v=0,m=this.image.get(s?i:n,s?n:i),g=n,y=i;g!==a;g+=p){var x=this.image.get(s?y:g,s?g:y);if(x!==m&&(v++,m=x),f+=d,f>0){if(y===o)break;y+=h,f-=c}}return v},t}(),oy=function(){function t(){this.decoder=new nse}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n,i;if(r!=null&&r.has(Zt.PURE_BARCODE)){var a=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(a),i=t.NO_POINTS}else{var o=new ise(e.getBlackMatrix()).detect();n=this.decoder.decode(o.getBits()),i=o.getPoints()}var s=n.getRawBytes(),l=new Rn(n.getText(),s,8*s.length,i,Be.DATA_MATRIX,Yt.currentTimeMillis()),c=n.getByteSegments();c!=null&&l.putMetadata(Cn.BYTE_SEGMENTS,c);var d=n.getECLevel();return d!=null&&l.putMetadata(Cn.ERROR_CORRECTION_LEVEL,d),l},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r==null||n==null)throw new Z;var i=this.moduleSize(r,e),a=r[1],o=n[1],s=r[0],l=n[0],c=(l-s+1)/i,d=(o-a+1)/i;if(c<=0||d<=0)throw new Z;var f=i/2;a+=f,s+=f;for(var h=new Oo(c,d),p=0;p<d;p++)for(var v=a+p*i,m=0;m<c;m++)e.get(s+m*i,v)&&h.set(m,p);return h},t.moduleSize=function(e,r){for(var n=r.getWidth(),i=e[0],a=e[1];i<n&&r.get(i,a);)i++;if(i===n)throw new Z;var o=i-e[0];if(o===0)throw new Z;return o},t.NO_POINTS=[],t}(),ase=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){ase(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new oy,r)||this}return e})(th);var hd;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})(hd||(hd={}));var ose=function(){function t(e,r,n){this.value=e,this.stringValue=r,this.bits=n,t.FOR_BITS.set(n,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new Tr(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new Ue;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(hd.L,"L",1),t.M=new t(hd.M,"M",0),t.Q=new t(hd.Q,"Q",3),t.H=new t(hd.H,"H",2),t}(),sse=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},IL=function(){function t(e){this.errorCorrectionLevel=ose.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,r){return at.bitCount(e^r)},t.decodeFormatInformation=function(e,r){var n=t.doDecodeFormatInformation(e,r);return n!==null?n:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,r^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,r){var n,i,a=Number.MAX_SAFE_INTEGER,o=0;try{for(var s=sse(t.FORMAT_INFO_DECODE_LOOKUP),l=s.next();!l.done;l=s.next()){var c=l.value,d=c[0];if(d===e||d===r)return new t(c[1]);var f=t.numBitsDiffering(e,d);f<a&&(o=c[1],a=f),e!==r&&(f=t.numBitsDiffering(r,d),f<a&&(o=c[1],a=f))}}catch(h){n={error:h}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return a<=3?new t(o):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t}(),lse=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},G=function(){function t(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=r}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,r,n=0,i=this.ecBlocks;try{for(var a=lse(i),o=a.next();!o.done;o=a.next()){var s=o.value;n+=s.getCount()}}catch(l){e={error:l}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return n},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),I=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),cse=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Uc=function(){function t(e,r){for(var n,i,a=[],o=2;o<arguments.length;o++)a[o-2]=arguments[o];this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=a;var s=0,l=a[0].getECCodewordsPerBlock(),c=a[0].getECBlocks();try{for(var d=cse(c),f=d.next();!f.done;f=d.next()){var h=f.value;s+=h.getCount()*(h.getDataCodewords()+l)}}catch(p){n={error:p}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}this.totalCodewords=s}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new pe;try{return this.getVersionForNumber((e-17)/4)}catch{throw new pe}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new Ue;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var r=Number.MAX_SAFE_INTEGER,n=0,i=0;i<t.VERSION_DECODE_INFO.length;i++){var a=t.VERSION_DECODE_INFO[i];if(a===e)return t.getVersionForNumber(i+7);var o=IL.numBitsDiffering(e,a);o<r&&(n=i+7,r=o)}return r<=3?t.getVersionForNumber(n):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),r=new Oo(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,i=0;i<n;i++)for(var a=this.alignmentPatternCenters[i]-2,o=0;o<n;o++)i===0&&(o===0||o===n-1)||i===n-1&&o===0||r.setRegion(this.alignmentPatternCenters[o]-2,a,5,5);return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new G(7,new I(1,19)),new G(10,new I(1,16)),new G(13,new I(1,13)),new G(17,new I(1,9))),new t(2,Int32Array.from([6,18]),new G(10,new I(1,34)),new G(16,new I(1,28)),new G(22,new I(1,22)),new G(28,new I(1,16))),new t(3,Int32Array.from([6,22]),new G(15,new I(1,55)),new G(26,new I(1,44)),new G(18,new I(2,17)),new G(22,new I(2,13))),new t(4,Int32Array.from([6,26]),new G(20,new I(1,80)),new G(18,new I(2,32)),new G(26,new I(2,24)),new G(16,new I(4,9))),new t(5,Int32Array.from([6,30]),new G(26,new I(1,108)),new G(24,new I(2,43)),new G(18,new I(2,15),new I(2,16)),new G(22,new I(2,11),new I(2,12))),new t(6,Int32Array.from([6,34]),new G(18,new I(2,68)),new G(16,new I(4,27)),new G(24,new I(4,19)),new G(28,new I(4,15))),new t(7,Int32Array.from([6,22,38]),new G(20,new I(2,78)),new G(18,new I(4,31)),new G(18,new I(2,14),new I(4,15)),new G(26,new I(4,13),new I(1,14))),new t(8,Int32Array.from([6,24,42]),new G(24,new I(2,97)),new G(22,new I(2,38),new I(2,39)),new G(22,new I(4,18),new I(2,19)),new G(26,new I(4,14),new I(2,15))),new t(9,Int32Array.from([6,26,46]),new G(30,new I(2,116)),new G(22,new I(3,36),new I(2,37)),new G(20,new I(4,16),new I(4,17)),new G(24,new I(4,12),new I(4,13))),new t(10,Int32Array.from([6,28,50]),new G(18,new I(2,68),new I(2,69)),new G(26,new I(4,43),new I(1,44)),new G(24,new I(6,19),new I(2,20)),new G(28,new I(6,15),new I(2,16))),new t(11,Int32Array.from([6,30,54]),new G(20,new I(4,81)),new G(30,new I(1,50),new I(4,51)),new G(28,new I(4,22),new I(4,23)),new G(24,new I(3,12),new I(8,13))),new t(12,Int32Array.from([6,32,58]),new G(24,new I(2,92),new I(2,93)),new G(22,new I(6,36),new I(2,37)),new G(26,new I(4,20),new I(6,21)),new G(28,new I(7,14),new I(4,15))),new t(13,Int32Array.from([6,34,62]),new G(26,new I(4,107)),new G(22,new I(8,37),new I(1,38)),new G(24,new I(8,20),new I(4,21)),new G(22,new I(12,11),new I(4,12))),new t(14,Int32Array.from([6,26,46,66]),new G(30,new I(3,115),new I(1,116)),new G(24,new I(4,40),new I(5,41)),new G(20,new I(11,16),new I(5,17)),new G(24,new I(11,12),new I(5,13))),new t(15,Int32Array.from([6,26,48,70]),new G(22,new I(5,87),new I(1,88)),new G(24,new I(5,41),new I(5,42)),new G(30,new I(5,24),new I(7,25)),new G(24,new I(11,12),new I(7,13))),new t(16,Int32Array.from([6,26,50,74]),new G(24,new I(5,98),new I(1,99)),new G(28,new I(7,45),new I(3,46)),new G(24,new I(15,19),new I(2,20)),new G(30,new I(3,15),new I(13,16))),new t(17,Int32Array.from([6,30,54,78]),new G(28,new I(1,107),new I(5,108)),new G(28,new I(10,46),new I(1,47)),new G(28,new I(1,22),new I(15,23)),new G(28,new I(2,14),new I(17,15))),new t(18,Int32Array.from([6,30,56,82]),new G(30,new I(5,120),new I(1,121)),new G(26,new I(9,43),new I(4,44)),new G(28,new I(17,22),new I(1,23)),new G(28,new I(2,14),new I(19,15))),new t(19,Int32Array.from([6,30,58,86]),new G(28,new I(3,113),new I(4,114)),new G(26,new I(3,44),new I(11,45)),new G(26,new I(17,21),new I(4,22)),new G(26,new I(9,13),new I(16,14))),new t(20,Int32Array.from([6,34,62,90]),new G(28,new I(3,107),new I(5,108)),new G(26,new I(3,41),new I(13,42)),new G(30,new I(15,24),new I(5,25)),new G(28,new I(15,15),new I(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new G(28,new I(4,116),new I(4,117)),new G(26,new I(17,42)),new G(28,new I(17,22),new I(6,23)),new G(30,new I(19,16),new I(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new G(28,new I(2,111),new I(7,112)),new G(28,new I(17,46)),new G(30,new I(7,24),new I(16,25)),new G(24,new I(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new G(30,new I(4,121),new I(5,122)),new G(28,new I(4,47),new I(14,48)),new G(30,new I(11,24),new I(14,25)),new G(30,new I(16,15),new I(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new G(30,new I(6,117),new I(4,118)),new G(28,new I(6,45),new I(14,46)),new G(30,new I(11,24),new I(16,25)),new G(30,new I(30,16),new I(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new G(26,new I(8,106),new I(4,107)),new G(28,new I(8,47),new I(13,48)),new G(30,new I(7,24),new I(22,25)),new G(30,new I(22,15),new I(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new G(28,new I(10,114),new I(2,115)),new G(28,new I(19,46),new I(4,47)),new G(28,new I(28,22),new I(6,23)),new G(30,new I(33,16),new I(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new G(30,new I(8,122),new I(4,123)),new G(28,new I(22,45),new I(3,46)),new G(30,new I(8,23),new I(26,24)),new G(30,new I(12,15),new I(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new G(30,new I(3,117),new I(10,118)),new G(28,new I(3,45),new I(23,46)),new G(30,new I(4,24),new I(31,25)),new G(30,new I(11,15),new I(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new G(30,new I(7,116),new I(7,117)),new G(28,new I(21,45),new I(7,46)),new G(30,new I(1,23),new I(37,24)),new G(30,new I(19,15),new I(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new G(30,new I(5,115),new I(10,116)),new G(28,new I(19,47),new I(10,48)),new G(30,new I(15,24),new I(25,25)),new G(30,new I(23,15),new I(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new G(30,new I(13,115),new I(3,116)),new G(28,new I(2,46),new I(29,47)),new G(30,new I(42,24),new I(1,25)),new G(30,new I(23,15),new I(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new G(30,new I(17,115)),new G(28,new I(10,46),new I(23,47)),new G(30,new I(10,24),new I(35,25)),new G(30,new I(19,15),new I(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new G(30,new I(17,115),new I(1,116)),new G(28,new I(14,46),new I(21,47)),new G(30,new I(29,24),new I(19,25)),new G(30,new I(11,15),new I(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new G(30,new I(13,115),new I(6,116)),new G(28,new I(14,46),new I(23,47)),new G(30,new I(44,24),new I(7,25)),new G(30,new I(59,16),new I(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new G(30,new I(12,121),new I(7,122)),new G(28,new I(12,47),new I(26,48)),new G(30,new I(39,24),new I(14,25)),new G(30,new I(22,15),new I(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new G(30,new I(6,121),new I(14,122)),new G(28,new I(6,47),new I(34,48)),new G(30,new I(46,24),new I(10,25)),new G(30,new I(2,15),new I(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new G(30,new I(17,122),new I(4,123)),new G(28,new I(29,46),new I(14,47)),new G(30,new I(49,24),new I(10,25)),new G(30,new I(24,15),new I(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new G(30,new I(4,122),new I(18,123)),new G(28,new I(13,46),new I(32,47)),new G(30,new I(48,24),new I(14,25)),new G(30,new I(42,15),new I(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new G(30,new I(20,117),new I(4,118)),new G(28,new I(40,47),new I(7,48)),new G(30,new I(43,24),new I(22,25)),new G(30,new I(10,15),new I(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new G(30,new I(19,118),new I(6,119)),new G(28,new I(18,47),new I(31,48)),new G(30,new I(34,24),new I(34,25)),new G(30,new I(20,15),new I(61,16)))],t}(),cn;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(cn||(cn={}));var m3=function(){function t(e,r){this.value=e,this.isMasked=r}return t.prototype.unmaskBitMatrix=function(e,r){for(var n=0;n<r;n++)for(var i=0;i<r;i++)this.isMasked(n,i)&&e.flip(i,n)},t.values=new Map([[cn.DATA_MASK_000,new t(cn.DATA_MASK_000,function(e,r){return(e+r&1)===0})],[cn.DATA_MASK_001,new t(cn.DATA_MASK_001,function(e,r){return(e&1)===0})],[cn.DATA_MASK_010,new t(cn.DATA_MASK_010,function(e,r){return r%3===0})],[cn.DATA_MASK_011,new t(cn.DATA_MASK_011,function(e,r){return(e+r)%3===0})],[cn.DATA_MASK_100,new t(cn.DATA_MASK_100,function(e,r){return(Math.floor(e/2)+Math.floor(r/3)&1)===0})],[cn.DATA_MASK_101,new t(cn.DATA_MASK_101,function(e,r){return e*r%6===0})],[cn.DATA_MASK_110,new t(cn.DATA_MASK_110,function(e,r){return e*r%6<3})],[cn.DATA_MASK_111,new t(cn.DATA_MASK_111,function(e,r){return(e+r+e*r%3&1)===0})]]),t}(),use=function(){function t(e){var r=e.getHeight();if(r<21||(r&3)!==1)throw new pe;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,r=0;r<6;r++)e=this.copyBit(r,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var i=this.bitMatrix.getHeight(),a=0,o=i-7,n=i-1;n>=o;n--)a=this.copyBit(8,n,a);for(var r=i-8;r<i;r++)a=this.copyBit(r,8,a);if(this.parsedFormatInfo=IL.decodeFormatInformation(e,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new pe},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return Uc.getVersionForNumber(r);for(var n=0,i=e-11,a=5;a>=0;a--)for(var o=e-9;o>=i;o--)n=this.copyBit(o,a,n);var s=Uc.decodeVersionInformation(n);if(s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;n=0;for(var o=5;o>=0;o--)for(var a=e-9;a>=i;a--)n=this.copyBit(o,a,n);if(s=Uc.decodeVersionInformation(n),s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;throw new pe},t.prototype.copyBit=function(e,r,n){var i=this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r);return i?n<<1|1:n<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),r=this.readVersion(),n=m3.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i);for(var a=r.buildFunctionPattern(),o=!0,s=new Uint8Array(r.getTotalCodewords()),l=0,c=0,d=0,f=i-1;f>0;f-=2){f===6&&f--;for(var h=0;h<i;h++)for(var p=o?i-1-h:h,v=0;v<2;v++)a.get(f-v,p)||(d++,c<<=1,this.bitMatrix.get(f-v,p)&&(c|=1),d===8&&(s[l++]=c,d=0,c=0));o=!o}if(l!==r.getTotalCodewords())throw new pe;return s},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=m3.values.get(this.parsedFormatInfo.getDataMask()),r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,r=0,n=e.getWidth();r<n;r++)for(var i=r+1,a=e.getHeight();i<a;i++)e.get(r,i)!==e.get(i,r)&&(e.flip(i,r),e.flip(r,i))},t}(),v3=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dse=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r,n){var i,a,o,s;if(e.length!==r.getTotalCodewords())throw new Ue;var l=r.getECBlocksForLevel(n),c=0,d=l.getECBlocks();try{for(var f=v3(d),h=f.next();!h.done;h=f.next()){var p=h.value;c+=p.getCount()}}catch($){i={error:$}}finally{try{h&&!h.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}var v=new Array(c),m=0;try{for(var g=v3(d),y=g.next();!y.done;y=g.next())for(var p=y.value,x=0;x<p.getCount();x++){var w=p.getDataCodewords(),S=l.getECCodewordsPerBlock()+w;v[m++]=new t(w,new Uint8Array(S))}}catch($){o={error:$}}finally{try{y&&!y.done&&(s=g.return)&&s.call(g)}finally{if(o)throw o.error}}for(var _=v[0].codewords.length,C=v.length-1;C>=0;){var E=v[C].codewords.length;if(E===_)break;C--}C++;for(var A=_-l.getECCodewordsPerBlock(),O=0,x=0;x<A;x++)for(var T=0;T<m;T++)v[T].codewords[x]=e[O++];for(var T=C;T<m;T++)v[T].codewords[A]=e[O++];for(var N=v[0].codewords.length,x=A;x<N;x++)for(var T=0;T<m;T++){var P=T<C?x:x+1;v[T].codewords[P]=e[O++]}return v},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),Yi;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})(Yi||(Yi={}));var lr=function(){function t(e,r,n,i){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=n,this.bits=i,t.FOR_BITS.set(i,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var r=t.FOR_BITS.get(e);if(r===void 0)throw new Ue;return r},t.prototype.getCharacterCountBits=function(e){var r=e.getVersionNumber(),n;return r<=9?n=0:r<=26?n=1:n=2,this.characterCountBitsForVersions[n]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(Yi.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(Yi.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(Yi.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(Yi.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(Yi.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(Yi.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(Yi.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(Yi.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(Yi.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(Yi.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t}(),fse=function(){function t(){}return t.decode=function(e,r,n,i){var a=new kL(e),o=new nt,s=new Array,l=-1,c=-1;try{var d=null,f=!1,h=void 0;do{if(a.available()<4)h=lr.TERMINATOR;else{var p=a.readBits(4);h=lr.forBits(p)}switch(h){case lr.TERMINATOR:break;case lr.FNC1_FIRST_POSITION:case lr.FNC1_SECOND_POSITION:f=!0;break;case lr.STRUCTURED_APPEND:if(a.available()<16)throw new pe;l=a.readBits(8),c=a.readBits(8);break;case lr.ECI:var v=t.parseECIValue(a);if(d=Qr.getCharacterSetECIByValue(v),d===null)throw new pe;break;case lr.HANZI:var m=a.readBits(4),g=a.readBits(h.getCharacterCountBits(r));m===t.GB2312_SUBSET&&t.decodeHanziSegment(a,o,g);break;default:var y=a.readBits(h.getCharacterCountBits(r));switch(h){case lr.NUMERIC:t.decodeNumericSegment(a,o,y);break;case lr.ALPHANUMERIC:t.decodeAlphanumericSegment(a,o,y,f);break;case lr.BYTE:t.decodeByteSegment(a,o,y,d,s,i);break;case lr.KANJI:t.decodeKanjiSegment(a,o,y);break;default:throw new pe}break}}while(h!==lr.TERMINATOR)}catch{throw new pe}return new dx(e,o.toString(),s.length===0?null:s,n===null?null:n.toString(),l,c)},t.decodeHanziSegment=function(e,r,n){if(n*13>e.available())throw new pe;for(var i=new Uint8Array(2*n),a=0;n>0;){var o=e.readBits(13),s=o/96<<8&4294967295|o%96;s<959?s+=41377:s+=42657,i[a]=s>>8&255,i[a+1]=s&255,a+=2,n--}try{r.append(ca.decode(i,ht.GB2312))}catch(l){throw new pe(l)}},t.decodeKanjiSegment=function(e,r,n){if(n*13>e.available())throw new pe;for(var i=new Uint8Array(2*n),a=0;n>0;){var o=e.readBits(13),s=o/192<<8&4294967295|o%192;s<7936?s+=33088:s+=49472,i[a]=s>>8,i[a+1]=s,a+=2,n--}try{r.append(ca.decode(i,ht.SHIFT_JIS))}catch(l){throw new pe(l)}},t.decodeByteSegment=function(e,r,n,i,a,o){if(8*n>e.available())throw new pe;for(var s=new Uint8Array(n),l=0;l<n;l++)s[l]=e.readBits(8);var c;i===null?c=ht.guessEncoding(s,o):c=i.getName();try{r.append(ca.decode(s,c))}catch(d){throw new pe(d)}a.push(s)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new pe;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,r,n,i){for(var a=r.length();n>1;){if(e.available()<11)throw new pe;var o=e.readBits(11);r.append(t.toAlphaNumericChar(Math.floor(o/45))),r.append(t.toAlphaNumericChar(o%45)),n-=2}if(n===1){if(e.available()<6)throw new pe;r.append(t.toAlphaNumericChar(e.readBits(6)))}if(i)for(var s=a;s<r.length();s++)r.charAt(s)==="%"&&(s<r.length()-1&&r.charAt(s+1)==="%"?r.deleteCharAt(s+1):r.setCharAt(s,""))},t.decodeNumericSegment=function(e,r,n){for(;n>=3;){if(e.available()<10)throw new pe;var i=e.readBits(10);if(i>=1e3)throw new pe;r.append(t.toAlphaNumericChar(Math.floor(i/100))),r.append(t.toAlphaNumericChar(Math.floor(i/10)%10)),r.append(t.toAlphaNumericChar(i%10)),n-=3}if(n===2){if(e.available()<7)throw new pe;var a=e.readBits(7);if(a>=100)throw new pe;r.append(t.toAlphaNumericChar(Math.floor(a/10))),r.append(t.toAlphaNumericChar(a%10))}else if(n===1){if(e.available()<4)throw new pe;var o=e.readBits(4);if(o>=10)throw new pe;r.append(t.toAlphaNumericChar(o))}},t.parseECIValue=function(e){var r=e.readBits(8);if(!(r&128))return r&127;if((r&192)===128){var n=e.readBits(8);return(r&63)<<8&4294967295|n}if((r&224)===192){var i=e.readBits(16);return(r&31)<<16&4294967295|i}throw new pe},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t}(),RL=function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var r=e[0];e[0]=e[2],e[2]=r}},t}(),g3=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hse=function(){function t(){this.rsDecoder=new fx(ii.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,r){return this.decodeBitMatrix(Oo.parseFromBooleanArray(e),r)},t.prototype.decodeBitMatrix=function(e,r){var n=new use(e),i=null;try{return this.decodeBitMatrixParser(n,r)}catch(o){i=o}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var a=this.decodeBitMatrixParser(n,r);return a.setOther(new RL(!0)),a}catch(o){throw i!==null?i:o}},t.prototype.decodeBitMatrixParser=function(e,r){var n,i,a,o,s=e.readVersion(),l=e.readFormatInformation().getErrorCorrectionLevel(),c=e.readCodewords(),d=dse.getDataBlocks(c,s,l),f=0;try{for(var h=g3(d),p=h.next();!p.done;p=h.next()){var v=p.value;f+=v.getNumDataCodewords()}}catch(C){n={error:C}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}var m=new Uint8Array(f),g=0;try{for(var y=g3(d),x=y.next();!x.done;x=y.next()){var v=x.value,w=v.getCodewords(),S=v.getNumDataCodewords();this.correctErrors(w,S);for(var _=0;_<S;_++)m[g++]=w[_]}}catch(C){a={error:C}}finally{try{x&&!x.done&&(o=y.return)&&o.call(y)}finally{if(a)throw a.error}}return fse.decode(m,s,l,r)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new Fr}for(var i=0;i<r;i++)e[i]=n[i]},t}(),pse=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),mse=function(t){pse(e,t);function e(r,n,i){var a=t.call(this,r,n)||this;return a.estimatedModuleSize=i,a}return e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var a=Math.abs(r-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var a=(this.getX()+n)/2,o=(this.getY()+r)/2,s=(this.estimatedModuleSize+i)/2;return new e(a,o,s)},e}(Ie),vse=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gse=function(){function t(e,r,n,i,a,o,s){this.image=e,this.startX=r,this.startY=n,this.width=i,this.height=a,this.moduleSize=o,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,r=this.height,n=this.width,i=e+n,a=this.startY+r/2,o=new Int32Array(3),s=this.image,l=0;l<r;l++){var c=a+(l&1?-Math.floor((l+1)/2):Math.floor((l+1)/2));o[0]=0,o[1]=0,o[2]=0;for(var d=e;d<i&&!s.get(d,c);)d++;for(var f=0;d<i;){if(s.get(d,c))if(f===1)o[1]++;else if(f===2){if(this.foundPatternCross(o)){var h=this.handlePossibleCenter(o,c,d);if(h!==null)return h}o[0]=o[2],o[1]=1,o[2]=0,f=1}else o[++f]++;else f===1&&f++,o[f]++;d++}if(this.foundPatternCross(o)){var h=this.handlePossibleCenter(o,c,i);if(h!==null)return h}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Z},t.centerFromEnd=function(e,r){return r-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var r=this.moduleSize,n=r/2,i=0;i<3;i++)if(Math.abs(r-e[i])>=n)return!1;return!0},t.prototype.crossCheckVertical=function(e,r,n,i){var a=this.image,o=a.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;for(var l=e;l>=0&&a.get(r,l)&&s[1]<=n;)s[1]++,l--;if(l<0||s[1]>n)return NaN;for(;l>=0&&!a.get(r,l)&&s[0]<=n;)s[0]++,l--;if(s[0]>n)return NaN;for(l=e+1;l<o&&a.get(r,l)&&s[1]<=n;)s[1]++,l++;if(l===o||s[1]>n)return NaN;for(;l<o&&!a.get(r,l)&&s[2]<=n;)s[2]++,l++;if(s[2]>n)return NaN;var c=s[0]+s[1]+s[2];return 5*Math.abs(c-i)>=2*i?NaN:this.foundPatternCross(s)?t.centerFromEnd(s,l):NaN},t.prototype.handlePossibleCenter=function(e,r,n){var i,a,o=e[0]+e[1]+e[2],s=t.centerFromEnd(e,n),l=this.crossCheckVertical(r,s,2*e[1],o);if(!isNaN(l)){var c=(e[0]+e[1]+e[2])/3;try{for(var d=vse(this.possibleCenters),f=d.next();!f.done;f=d.next()){var h=f.value;if(h.aboutEquals(c,l,s))return h.combineEstimate(l,s,c)}}catch(v){i={error:v}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}var p=new mse(s,l,c);this.possibleCenters.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return null},t}(),yse=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),xse=function(t){yse(e,t);function e(r,n,i,a){var o=t.call(this,r,n)||this;return o.estimatedModuleSize=i,o.count=a,a===void 0&&(o.count=1),o}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var a=Math.abs(r-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var a=this.count+1,o=(this.count*this.getX()+n)/a,s=(this.count*this.getY()+r)/a,l=(this.count*this.estimatedModuleSize+i)/a;return new e(o,s,l,a)},e}(Ie),wse=function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t}(),Rh=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bse=function(){function t(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var r=e!=null&&e.get(Zt.TRY_HARDER)!==void 0,n=e!=null&&e.get(Zt.PURE_BARCODE)!==void 0,i=this.image,a=i.getHeight(),o=i.getWidth(),s=Math.floor(3*a/(4*t.MAX_MODULES));(s<t.MIN_SKIP||r)&&(s=t.MIN_SKIP);for(var l=!1,c=new Int32Array(5),d=s-1;d<a&&!l;d+=s){c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0;for(var f=0,h=0;h<o;h++)if(i.get(h,d))(f&1)===1&&f++,c[f]++;else if(f&1)c[f]++;else if(f===4)if(t.foundPatternCross(c)){var p=this.handlePossibleCenter(c,d,h,n);if(p===!0)if(s=2,this.hasSkipped===!0)l=this.haveMultiplyConfirmedCenters();else{var v=this.findRowSkip();v>c[2]&&(d+=v-c[2]-s,h=o-1)}else{c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,f=3;continue}f=0,c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0}else c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,f=3;else c[++f]++;if(t.foundPatternCross(c)){var p=this.handlePossibleCenter(c,d,o,n);p===!0&&(s=c[0],this.hasSkipped&&(l=this.haveMultiplyConfirmedCenters()))}}var m=this.selectBestPatterns();return Ie.orderBestPatterns(m),new wse(m)},t.centerFromEnd=function(e,r){return r-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var r=0,n=0;n<5;n++){var i=e[n];if(i===0)return!1;r+=i}if(r<7)return!1;var a=r/7,o=a/2;return Math.abs(a-e[0])<o&&Math.abs(a-e[1])<o&&Math.abs(3*a-e[2])<3*o&&Math.abs(a-e[3])<o&&Math.abs(a-e[4])<o},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,r,n,i){for(var a=this.getCrossCheckStateCount(),o=0,s=this.image;e>=o&&r>=o&&s.get(r-o,e-o);)a[2]++,o++;if(e<o||r<o)return!1;for(;e>=o&&r>=o&&!s.get(r-o,e-o)&&a[1]<=n;)a[1]++,o++;if(e<o||r<o||a[1]>n)return!1;for(;e>=o&&r>=o&&s.get(r-o,e-o)&&a[0]<=n;)a[0]++,o++;if(a[0]>n)return!1;var l=s.getHeight(),c=s.getWidth();for(o=1;e+o<l&&r+o<c&&s.get(r+o,e+o);)a[2]++,o++;if(e+o>=l||r+o>=c)return!1;for(;e+o<l&&r+o<c&&!s.get(r+o,e+o)&&a[3]<n;)a[3]++,o++;if(e+o>=l||r+o>=c||a[3]>=n)return!1;for(;e+o<l&&r+o<c&&s.get(r+o,e+o)&&a[4]<n;)a[4]++,o++;if(a[4]>=n)return!1;var d=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(d-i)<2*i&&t.foundPatternCross(a)},t.prototype.crossCheckVertical=function(e,r,n,i){for(var a=this.image,o=a.getHeight(),s=this.getCrossCheckStateCount(),l=e;l>=0&&a.get(r,l);)s[2]++,l--;if(l<0)return NaN;for(;l>=0&&!a.get(r,l)&&s[1]<=n;)s[1]++,l--;if(l<0||s[1]>n)return NaN;for(;l>=0&&a.get(r,l)&&s[0]<=n;)s[0]++,l--;if(s[0]>n)return NaN;for(l=e+1;l<o&&a.get(r,l);)s[2]++,l++;if(l===o)return NaN;for(;l<o&&!a.get(r,l)&&s[3]<n;)s[3]++,l++;if(l===o||s[3]>=n)return NaN;for(;l<o&&a.get(r,l)&&s[4]<n;)s[4]++,l++;if(s[4]>=n)return NaN;var c=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(c-i)>=2*i?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,l):NaN},t.prototype.crossCheckHorizontal=function(e,r,n,i){for(var a=this.image,o=a.getWidth(),s=this.getCrossCheckStateCount(),l=e;l>=0&&a.get(l,r);)s[2]++,l--;if(l<0)return NaN;for(;l>=0&&!a.get(l,r)&&s[1]<=n;)s[1]++,l--;if(l<0||s[1]>n)return NaN;for(;l>=0&&a.get(l,r)&&s[0]<=n;)s[0]++,l--;if(s[0]>n)return NaN;for(l=e+1;l<o&&a.get(l,r);)s[2]++,l++;if(l===o)return NaN;for(;l<o&&!a.get(l,r)&&s[3]<n;)s[3]++,l++;if(l===o||s[3]>=n)return NaN;for(;l<o&&a.get(l,r)&&s[4]<n;)s[4]++,l++;if(s[4]>=n)return NaN;var c=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(c-i)>=i?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,l):NaN},t.prototype.handlePossibleCenter=function(e,r,n,i){var a=e[0]+e[1]+e[2]+e[3]+e[4],o=t.centerFromEnd(e,n),s=this.crossCheckVertical(r,Math.floor(o),e[2],a);if(!isNaN(s)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(s),e[2],a),!isNaN(o)&&(!i||this.crossCheckDiagonal(Math.floor(s),Math.floor(o),e[2],a)))){for(var l=a/7,c=!1,d=this.possibleCenters,f=0,h=d.length;f<h;f++){var p=d[f];if(p.aboutEquals(l,s,o)){d[f]=p.combineEstimate(s,o,l),c=!0;break}}if(!c){var v=new xse(o,s,l);d.push(v),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(v)}return!0}return!1},t.prototype.findRowSkip=function(){var e,r,n=this.possibleCenters.length;if(n<=1)return 0;var i=null;try{for(var a=Rh(this.possibleCenters),o=a.next();!o.done;o=a.next()){var s=o.value;if(s.getCount()>=t.CENTER_QUORUM)if(i==null)i=s;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-s.getX())-Math.abs(i.getY()-s.getY()))/2)}}catch(l){e={error:l}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,r,n,i,a=0,o=0,s=this.possibleCenters.length;try{for(var l=Rh(this.possibleCenters),c=l.next();!c.done;c=l.next()){var d=c.value;d.getCount()>=t.CENTER_QUORUM&&(a++,o+=d.getEstimatedModuleSize())}}catch(m){e={error:m}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}if(a<3)return!1;var f=o/s,h=0;try{for(var p=Rh(this.possibleCenters),v=p.next();!v.done;v=p.next()){var d=v.value;h+=Math.abs(d.getEstimatedModuleSize()-f)}}catch(m){n={error:m}}finally{try{v&&!v.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}return h<=.05*o},t.prototype.selectBestPatterns=function(){var e,r,n,i,a=this.possibleCenters.length;if(a<3)throw new Z;var o=this.possibleCenters,s;if(a>3){var l=0,c=0;try{for(var d=Rh(this.possibleCenters),f=d.next();!f.done;f=d.next()){var h=f.value,p=h.getEstimatedModuleSize();l+=p,c+=p*p}}catch(_){e={error:_}}finally{try{f&&!f.done&&(r=d.return)&&r.call(d)}finally{if(e)throw e.error}}s=l/a;var v=Math.sqrt(c/a-s*s);o.sort(function(_,C){var E=Math.abs(C.getEstimatedModuleSize()-s),A=Math.abs(_.getEstimatedModuleSize()-s);return E<A?-1:E>A?1:0});for(var m=Math.max(.2*s,v),g=0;g<o.length&&o.length>3;g++){var y=o[g];Math.abs(y.getEstimatedModuleSize()-s)>m&&(o.splice(g,1),g--)}}if(o.length>3){var l=0;try{for(var x=Rh(o),w=x.next();!w.done;w=x.next()){var S=w.value;l+=S.getEstimatedModuleSize()}}catch(C){n={error:C}}finally{try{w&&!w.done&&(i=x.return)&&i.call(x)}finally{if(n)throw n.error}}s=l/o.length,o.sort(function(C,E){if(E.getCount()===C.getCount()){var A=Math.abs(E.getEstimatedModuleSize()-s),O=Math.abs(C.getEstimatedModuleSize()-s);return A<O?1:A>O?-1:0}else return E.getCount()-C.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t}(),_se=function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(Zt.NEED_RESULT_POINT_CALLBACK);var r=new bse(this.image,this.resultPointCallback),n=r.find(e);return this.processFinderPatternInfo(n)},t.prototype.processFinderPatternInfo=function(e){var r=e.getTopLeft(),n=e.getTopRight(),i=e.getBottomLeft(),a=this.calculateModuleSize(r,n,i);if(a<1)throw new Z("No pattern found in proccess finder.");var o=t.computeDimension(r,n,i,a),s=Uc.getProvisionalVersionForDimension(o),l=s.getDimensionForVersion()-7,c=null;if(s.getAlignmentPatternCenters().length>0)for(var d=n.getX()-r.getX()+i.getX(),f=n.getY()-r.getY()+i.getY(),h=1-3/l,p=Math.floor(r.getX()+h*(d-r.getX())),v=Math.floor(r.getY()+h*(f-r.getY())),m=4;m<=16;m<<=1)try{c=this.findAlignmentInRegion(a,p,v,m);break}catch(w){if(!(w instanceof Z))throw w}var g=t.createTransform(r,n,i,c,o),y=t.sampleGrid(this.image,g,o),x;return c===null?x=[i,r,n]:x=[i,r,n,c],new sO(y,x)},t.createTransform=function(e,r,n,i,a){var o=a-3.5,s,l,c,d;return i!==null?(s=i.getX(),l=i.getY(),c=o-3,d=c):(s=r.getX()-e.getX()+n.getX(),l=r.getY()-e.getY()+n.getY(),c=o,d=o),NL.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,c,d,3.5,o,e.getX(),e.getY(),r.getX(),r.getY(),s,l,n.getX(),n.getY())},t.sampleGrid=function(e,r,n){var i=lO.getInstance();return i.sampleGridWithTransform(e,n,n,r)},t.computeDimension=function(e,r,n,i){var a=xt.round(Ie.distance(e,r)/i),o=xt.round(Ie.distance(e,n)/i),s=Math.floor((a+o)/2)+7;switch(s&3){case 0:s++;break;case 2:s--;break;case 3:throw new Z("Dimensions could be not found.")}return s},t.prototype.calculateModuleSize=function(e,r,n){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,n))/2},t.prototype.calculateModuleSizeOneWay=function(e,r){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,r,n,i){var a=this.sizeOfBlackWhiteBlackRun(e,r,n,i),o=1,s=e-(n-e);s<0?(o=e/(e-s),s=0):s>=this.image.getWidth()&&(o=(this.image.getWidth()-1-e)/(s-e),s=this.image.getWidth()-1);var l=Math.floor(r-(i-r)*o);return o=1,l<0?(o=r/(r-l),l=0):l>=this.image.getHeight()&&(o=(this.image.getHeight()-1-r)/(l-r),l=this.image.getHeight()-1),s=Math.floor(e+(s-e)*o),a+=this.sizeOfBlackWhiteBlackRun(e,r,s,l),a-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,r,n,i){var a=Math.abs(i-r)>Math.abs(n-e);if(a){var o=e;e=r,r=o,o=n,n=i,i=o}for(var s=Math.abs(n-e),l=Math.abs(i-r),c=-s/2,d=e<n?1:-1,f=r<i?1:-1,h=0,p=n+d,v=e,m=r;v!==p;v+=d){var g=a?m:v,y=a?v:m;if(h===1===this.image.get(g,y)){if(h===2)return xt.distance(v,m,e,r);h++}if(c+=l,c>0){if(m===i)break;m+=f,c-=s}}return h===2?xt.distance(n+d,i,e,r):NaN},t.prototype.findAlignmentInRegion=function(e,r,n,i){var a=Math.floor(i*e),o=Math.max(0,r-a),s=Math.min(this.image.getWidth()-1,r+a);if(s-o<e*3)throw new Z("Alignment top exceeds estimated module size.");var l=Math.max(0,n-a),c=Math.min(this.image.getHeight()-1,n+a);if(c-l<e*3)throw new Z("Alignment bottom exceeds estimated module size.");var d=new gse(this.image,o,l,s-o,c-l,e,this.resultPointCallback);return d.find()},t}(),sy=function(){function t(){this.decoder=new hse}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,r){var n,i;if(r!=null&&r.get(Zt.PURE_BARCODE)!==void 0){var a=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(a,r),i=t.NO_POINTS}else{var o=new _se(e.getBlackMatrix()).detect(r);n=this.decoder.decodeBitMatrix(o.getBits(),r),i=o.getPoints()}n.getOther()instanceof RL&&n.getOther().applyMirroredCorrection(i);var s=new Rn(n.getText(),n.getRawBytes(),void 0,i,Be.QR_CODE,void 0),l=n.getByteSegments();l!==null&&s.putMetadata(Cn.BYTE_SEGMENTS,l);var c=n.getECLevel();return c!==null&&s.putMetadata(Cn.ERROR_CORRECTION_LEVEL,c),n.hasStructuredAppend()&&(s.putMetadata(Cn.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),s.putMetadata(Cn.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),s},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r===null||n===null)throw new Z;var i=this.moduleSize(r,e),a=r[1],o=n[1],s=r[0],l=n[0];if(s>=l||a>=o)throw new Z;if(o-a!==l-s&&(l=s+(o-a),l>=e.getWidth()))throw new Z;var c=Math.round((l-s+1)/i),d=Math.round((o-a+1)/i);if(c<=0||d<=0)throw new Z;if(d!==c)throw new Z;var f=Math.floor(i/2);a+=f,s+=f;var h=s+Math.floor((c-1)*i)-l;if(h>0){if(h>f)throw new Z;s-=h}var p=a+Math.floor((d-1)*i)-o;if(p>0){if(p>f)throw new Z;a-=p}for(var v=new Oo(c,d),m=0;m<d;m++)for(var g=a+Math.floor(m*i),y=0;y<c;y++)e.get(s+Math.floor(y*i),g)&&v.set(y,m);return v},t.moduleSize=function(e,r){for(var n=r.getHeight(),i=r.getWidth(),a=e[0],o=e[1],s=!0,l=0;a<i&&o<n;){if(s!==r.get(a,o)){if(++l===5)break;s=!s}a++,o++}if(a===i||o===n)throw new Z;return(a-e[0])/7},t.NO_POINTS=new Array,t}(),Sse=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pt=function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return xt.sum(e)},t.toIntArray=function(e){var r,n;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),a=0;try{for(var o=Sse(e),s=o.next();!s.done;s=o.next()){var l=s.value;i[a++]=l}}catch(c){r={error:c}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},t.getCodeword=function(e){var r=Jr.binarySearch(t.SYMBOL_TABLE,e&262143);return r<0?-1:(t.CODEWORD_TABLE[r]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t}(),Cse=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),Ese=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ase=function(){function t(){}return t.detectMultiple=function(e,r,n){var i=e.getBlackMatrix(),a=t.detect(n,i);return a.length||(i=i.clone(),i.rotate180(),a=t.detect(n,i)),new Cse(i,a)},t.detect=function(e,r){for(var n,i,a=new Array,o=0,s=0,l=!1;o<r.getHeight();){var c=t.findVertices(r,o,s);if(c[0]==null&&c[3]==null){if(!l)break;l=!1,s=0;try{for(var d=(n=void 0,Ese(a)),f=d.next();!f.done;f=d.next()){var h=f.value;h[1]!=null&&(o=Math.trunc(Math.max(o,h[1].getY()))),h[3]!=null&&(o=Math.max(o,Math.trunc(h[3].getY())))}}catch(p){n={error:p}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}o+=t.ROW_STEP;continue}if(l=!0,a.push(c),!e)break;c[2]!=null?(s=Math.trunc(c[2].getX()),o=Math.trunc(c[2].getY())):(s=Math.trunc(c[4].getX()),o=Math.trunc(c[4].getY()))}return a},t.findVertices=function(e,r,n){var i=e.getHeight(),a=e.getWidth(),o=new Array(8);return t.copyToResult(o,t.findRowsWithPattern(e,i,a,r,n,t.START_PATTERN),t.INDEXES_START_PATTERN),o[4]!=null&&(n=Math.trunc(o[4].getX()),r=Math.trunc(o[4].getY())),t.copyToResult(o,t.findRowsWithPattern(e,i,a,r,n,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),o},t.copyToResult=function(e,r,n){for(var i=0;i<n.length;i++)e[n[i]]=r[i]},t.findRowsWithPattern=function(e,r,n,i,a,o){for(var s=new Array(4),l=!1,c=new Int32Array(o.length);i<r;i+=t.ROW_STEP){var d=t.findGuardPattern(e,a,i,n,!1,o,c);if(d!=null){for(;i>0;){var f=t.findGuardPattern(e,a,--i,n,!1,o,c);if(f!=null)d=f;else{i++;break}}s[0]=new Ie(d[0],i),s[1]=new Ie(d[1],i),l=!0;break}}var h=i+1;if(l){for(var p=0,f=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);h<r;h++){var d=t.findGuardPattern(e,f[0],h,n,!1,o,c);if(d!=null&&Math.abs(f[0]-d[0])<t.MAX_PATTERN_DRIFT&&Math.abs(f[1]-d[1])<t.MAX_PATTERN_DRIFT)f=d,p=0;else{if(p>t.SKIPPED_ROW_COUNT_MAX)break;p++}}h-=p+1,s[2]=new Ie(f[0],h),s[3]=new Ie(f[1],h)}return h-i<t.BARCODE_MIN_HEIGHT&&Jr.fill(s,null),s},t.findGuardPattern=function(e,r,n,i,a,o,s){Jr.fillWithin(s,0,s.length,0);for(var l=r,c=0;e.get(l,n)&&l>0&&c++<t.MAX_PIXEL_DRIFT;)l--;for(var d=l,f=0,h=o.length,p=a;d<i;d++){var v=e.get(d,n);if(v!==p)s[f]++;else{if(f===h-1){if(t.patternMatchVariance(s,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([l,d]);l+=s[0]+s[1],Yt.arraycopy(s,2,s,0,f-1),s[f-1]=0,s[f]=0,f--}else f++;s[f]=1,p=!p}}return f===h-1&&t.patternMatchVariance(s,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([l,d-1]):null},t.patternMatchVariance=function(e,r,n){for(var i=e.length,a=0,o=0,s=0;s<i;s++)a+=e[s],o+=r[s];if(a<o)return 1/0;var l=a/o;n*=l;for(var c=0,d=0;d<i;d++){var f=e[d],h=r[d]*l,p=f>h?f-h:h-f;if(p>n)return 1/0;c+=p}return c/a},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t}(),Ose=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ec=function(){function t(e,r){if(r.length===0)throw new Ue;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-i),Yt.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var r,n;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var a=Ose(this.coefficients),o=a.next();!o.done;o=a.next()){var s=o.value;i=this.field.add(i,s)}}catch(f){r={error:f}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i}for(var l=this.coefficients[0],c=this.coefficients.length,d=1;d<c;d++)l=this.field.add(this.field.multiply(e,l),this.coefficients[d]);return l},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new Ue("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var a=new Int32Array(n.length),o=n.length-r.length;Yt.arraycopy(n,0,a,0,o);for(var s=o;s<n.length;s++)a[s]=this.field.add(r[s-o],n[s]);return new t(this.field,a)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new Ue("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new Ue("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var r=this.coefficients,n=r.length,i=e.coefficients,a=i.length,o=new Int32Array(n+a-1),s=0;s<n;s++)for(var l=r[s],c=0;c<a;c++)o[s+c]=this.field.add(o[s+c],this.field.multiply(l,i[c]));return new t(this.field,o)},t.prototype.negative=function(){for(var e=this.coefficients.length,r=new Int32Array(e),n=0;n<e;n++)r[n]=this.field.subtract(0,this.coefficients[n]);return new t(this.field,r)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var r=this.coefficients.length,n=new Int32Array(r),i=0;i<r;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new t(this.field,n)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new Ue;if(r===0)return new t(this.field,new Int32Array([0]));for(var n=this.coefficients.length,i=new Int32Array(n+e),a=0;a<n;a++)i[a]=this.field.multiply(this.coefficients[a],r);return new t(this.field,i)},t.prototype.toString=function(){for(var e=new nt,r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(r===0||n!==1)&&e.append(n),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()},t}(),Nse=function(){function t(){}return t.prototype.add=function(e,r){return(e+r)%this.modulus},t.prototype.subtract=function(e,r){return(this.modulus+e-r)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new Ue;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new OL;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t}(),jse=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Tse=function(t){jse(e,t);function e(r,n){var i=t.call(this)||this;i.modulus=r,i.expTable=new Int32Array(r),i.logTable=new Int32Array(r);for(var a=1,o=0;o<r;o++)i.expTable[o]=a,a=a*n%r;for(var o=0;o<r-1;o++)i.logTable[i.expTable[o]]=o;return i.zero=new Ec(i,new Int32Array([0])),i.one=new Ec(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new Ue;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new Ec(this,i)},e.PDF417_GF=new e(pt.NUMBER_OF_CODEWORDS,3),e}(Nse),Pse=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},kse=function(){function t(){this.field=Tse.PDF417_GF}return t.prototype.decode=function(e,r,n){for(var i,a,o=new Ec(this.field,e),s=new Int32Array(r),l=!1,c=r;c>0;c--){var d=o.evaluateAt(this.field.exp(c));s[r-c]=d,d!==0&&(l=!0)}if(!l)return 0;var f=this.field.getOne();if(n!=null)try{for(var h=Pse(n),p=h.next();!p.done;p=h.next()){var v=p.value,m=this.field.exp(e.length-1-v),g=new Ec(this.field,new Int32Array([this.field.subtract(0,m),1]));f=f.multiply(g)}}catch(A){i={error:A}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}for(var y=new Ec(this.field,s),x=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),y,r),w=x[0],S=x[1],_=this.findErrorLocations(w),C=this.findErrorMagnitudes(S,w,_),c=0;c<_.length;c++){var E=e.length-1-this.field.log(_[c]);if(E<0)throw Fr.getChecksumInstance();e[E]=this.field.subtract(e[E],C[c])}return _.length},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var a=e,o=r,s=this.field.getZero(),l=this.field.getOne();o.getDegree()>=Math.round(n/2);){var c=a,d=s;if(a=o,s=l,a.isZero())throw Fr.getChecksumInstance();o=c;for(var f=this.field.getZero(),h=a.getCoefficient(a.getDegree()),p=this.field.inverse(h);o.getDegree()>=a.getDegree()&&!o.isZero();){var v=o.getDegree()-a.getDegree(),m=this.field.multiply(o.getCoefficient(o.getDegree()),p);f=f.add(this.field.buildMonomial(v,m)),o=o.subtract(a.multiplyByMonomial(v,m))}l=f.multiply(s).subtract(d).negative()}var g=l.getCoefficient(0);if(g===0)throw Fr.getChecksumInstance();var y=this.field.inverse(g),x=l.multiply(y),w=o.multiply(y);return[x,w]},t.prototype.findErrorLocations=function(e){for(var r=e.getDegree(),n=new Int32Array(r),i=0,a=1;a<this.field.getSize()&&i<r;a++)e.evaluateAt(a)===0&&(n[i]=this.field.inverse(a),i++);if(i!==r)throw Fr.getChecksumInstance();return n},t.prototype.findErrorMagnitudes=function(e,r,n){for(var i=r.getDegree(),a=new Int32Array(i),o=1;o<=i;o++)a[i-o]=this.field.multiply(o,r.getCoefficient(o));for(var s=new Ec(this.field,a),l=n.length,c=new Int32Array(l),o=0;o<l;o++){var d=this.field.inverse(n[o]),f=this.field.subtract(0,e.evaluateAt(d)),h=this.field.inverse(s.evaluateAt(d));c[o]=this.field.multiply(f,h)}return c},t}(),pS=function(){function t(e,r,n,i,a){e instanceof t?this.constructor_2(e):this.constructor_1(e,r,n,i,a)}return t.prototype.constructor_1=function(e,r,n,i,a){var o=r==null||n==null,s=i==null||a==null;if(o&&s)throw new Z;o?(r=new Ie(0,i.getY()),n=new Ie(0,a.getY())):s&&(i=new Ie(e.getWidth()-1,r.getY()),a=new Ie(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=r,this.bottomLeft=n,this.topRight=i,this.bottomRight=a,this.minX=Math.trunc(Math.min(r.getX(),n.getX())),this.maxX=Math.trunc(Math.max(i.getX(),a.getX())),this.minY=Math.trunc(Math.min(r.getY(),i.getY())),this.maxY=Math.trunc(Math.max(n.getY(),a.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,r){return e==null?r:r==null?e:new t(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)},t.prototype.addMissingRows=function(e,r,n){var i=this.topLeft,a=this.bottomLeft,o=this.topRight,s=this.bottomRight;if(e>0){var l=n?this.topLeft:this.topRight,c=Math.trunc(l.getY()-e);c<0&&(c=0);var d=new Ie(l.getX(),c);n?i=d:o=d}if(r>0){var f=n?this.bottomLeft:this.bottomRight,h=Math.trunc(f.getY()+r);h>=this.image.getHeight()&&(h=this.image.getHeight()-1);var p=new Ie(f.getX(),h);n?a=p:s=p}return new t(this.image,i,a,o,s)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t}(),Ise=function(){function t(e,r,n,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=r,this.rowCountLowerPart=n,this.rowCount=r+n}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t}(),uO=function(){function t(){this.buffer=""}return t.form=function(e,r){var n=-1;function i(o,s,l,c,d,f){if(o==="%%")return"%";if(r[++n]!==void 0){o=c?parseInt(c.substr(1)):void 0;var h=d?parseInt(d.substr(1)):void 0,p;switch(f){case"s":p=r[n];break;case"c":p=r[n][0];break;case"f":p=parseFloat(r[n]).toFixed(o);break;case"p":p=parseFloat(r[n]).toPrecision(o);break;case"e":p=parseFloat(r[n]).toExponential(o);break;case"x":p=parseInt(r[n]).toString(h||16);break;case"d":p=parseFloat(parseInt(r[n],h||10).toPrecision(o)).toFixed(0);break}p=typeof p=="object"?JSON.stringify(p):(+p).toString(h);for(var v=parseInt(l),m=l&&l[0]+""=="0"?"0":" ";p.length<v;)p=s!==void 0?p+m:m+p;return p}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,i)},t.prototype.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.buffer+=t.form(e,r)},t.prototype.toString=function(){return this.buffer},t}(),Rse=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},DL=function(){function t(e){this.boundingBox=new pS(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var r=this.getCodeword(e);if(r!=null)return r;for(var n=1;n<t.MAX_NEARBY_DISTANCE;n++){var i=this.imageRowToCodewordIndex(e)-n;if(i>=0&&(r=this.codewords[i],r!=null)||(i=this.imageRowToCodewordIndex(e)+n,i<this.codewords.length&&(r=this.codewords[i],r!=null)))return r}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,r,n=new uO,i=0;try{for(var a=Rse(this.codewords),o=a.next();!o.done;o=a.next()){var s=o.value;if(s==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,s.getRowNumber(),s.getValue())}}catch(l){e={error:l}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return n.toString()},t.MAX_NEARBY_DISTANCE=5,t}(),Dse=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Mse=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},rp=function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)},t.prototype.getValue=function(){var e,r,n=-1,i=new Array,a=function(f,h){var p={getKey:function(){return f},getValue:function(){return h}};p.getValue()>n?(n=p.getValue(),i=[],i.push(p.getKey())):p.getValue()===n&&i.push(p.getKey())};try{for(var o=Dse(this.values.entries()),s=o.next();!s.done;s=o.next()){var l=Mse(s.value,2),c=l[0],d=l[1];a(c,d)}}catch(f){e={error:f}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return pt.toIntArray(i)},t.prototype.getConfidence=function(e){return this.values.get(e)},t}(),$se=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),kb=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},y3=function(t){$se(e,t);function e(r,n){var i=t.call(this,r)||this;return i._isLeft=n,i}return e.prototype.setRowNumbers=function(){var r,n;try{for(var i=kb(this.getCodewords()),a=i.next();!a.done;a=i.next()){var o=a.value;o!=null&&o.setRowNumberAsRowIndicatorColumn()}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(r){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,r);for(var i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),o=this._isLeft?i.getBottomLeft():i.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),l=this.imageRowToCodewordIndex(Math.trunc(o.getY())),c=-1,d=1,f=0,h=s;h<l;h++)if(n[h]!=null){var p=n[h],v=p.getRowNumber()-c;if(v===0)f++;else if(v===1)d=Math.max(d,f),f=1,c=p.getRowNumber();else if(v<0||p.getRowNumber()>=r.getRowCount()||v>h)n[h]=null;else{var m=void 0;d>2?m=(d-2)*v:m=v;for(var g=m>=h,y=1;y<=m&&!g;y++)g=n[h-y]!=null;g?n[h]=null:(c=p.getRowNumber(),f=1)}}},e.prototype.getRowHeights=function(){var r,n,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var a=new Int32Array(i.getRowCount());try{for(var o=kb(this.getCodewords()),s=o.next();!s.done;s=o.next()){var l=s.value;if(l!=null){var c=l.getRowNumber();if(c>=a.length)continue;a[c]++}}}catch(d){r={error:d}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(r){for(var n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),a=this._isLeft?n.getBottomLeft():n.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),l=this.getCodewords(),c=-1,d=o;d<s;d++)if(l[d]!=null){var f=l[d];f.setRowNumberAsRowIndicatorColumn();var h=f.getRowNumber()-c;h===0||(h===1?c=f.getRowNumber():f.getRowNumber()>=r.getRowCount()?l[d]=null:c=f.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var r,n,i=this.getCodewords(),a=new rp,o=new rp,s=new rp,l=new rp;try{for(var c=kb(i),d=c.next();!d.done;d=c.next()){var f=d.value;if(f!=null){f.setRowNumberAsRowIndicatorColumn();var h=f.getValue()%30,p=f.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:o.setValue(h*3+1);break;case 1:l.setValue(h/3),s.setValue(h%3);break;case 2:a.setValue(h+1);break}}}}catch(m){r={error:m}}finally{try{d&&!d.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}if(a.getValue().length===0||o.getValue().length===0||s.getValue().length===0||l.getValue().length===0||a.getValue()[0]<1||o.getValue()[0]+s.getValue()[0]<pt.MIN_ROWS_IN_BARCODE||o.getValue()[0]+s.getValue()[0]>pt.MAX_ROWS_IN_BARCODE)return null;var v=new Ise(a.getValue()[0],o.getValue()[0],s.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(i,v),v},e.prototype.removeIncorrectCodewords=function(r,n){for(var i=0;i<r.length;i++){var a=r[i];if(r[i]!=null){var o=a.getValue()%30,s=a.getRowNumber();if(s>n.getRowCount()){r[i]=null;continue}switch(this._isLeft||(s+=2),s%3){case 0:o*3+1!==n.getRowCountUpperPart()&&(r[i]=null);break;case 1:(Math.trunc(o/3)!==n.getErrorCorrectionLevel()||o%3!==n.getRowCountLowerPart())&&(r[i]=null);break;case 2:o+1!==n.getColumnCount()&&(r[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e}(DL),Lse=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Fse=function(){function t(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=pt.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var r=1;r<this.barcodeColumnCount+1;r++)for(var n=this.detectionResultColumns[r].getCodewords(),i=0;i<n.length;i++)n[i]!=null&&(n[i].hasValidRowNumber()||this.adjustRowNumbers(r,i,n));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&r[n]!=null&&e[n].getRowNumber()===r[n].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var a=this.detectionResultColumns[i].getCodewords()[n];a!=null&&(a.setRowNumber(e[n].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[n]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),a=0,o=this.barcodeColumnCount+1;o>0&&a<this.ADJUST_ROW_NUMBER_SKIP;o--){var s=this.detectionResultColumns[o].getCodewords()[n];s!=null&&(a=t.adjustRowNumberIfValid(i,a,s),s.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,r=this.detectionResultColumns[0].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),a=0,o=1;o<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;o++){var s=this.detectionResultColumns[o].getCodewords()[n];s!=null&&(a=t.adjustRowNumberIfValid(i,a,s),s.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,r,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),r=0):++r),r},t.prototype.adjustRowNumbers=function(e,r,n){var i,a;if(this.detectionResultColumns[e-1]!=null){var o=n[r],s=this.detectionResultColumns[e-1].getCodewords(),l=s;this.detectionResultColumns[e+1]!=null&&(l=this.detectionResultColumns[e+1].getCodewords());var c=new Array(14);c[2]=s[r],c[3]=l[r],r>0&&(c[0]=n[r-1],c[4]=s[r-1],c[5]=l[r-1]),r>1&&(c[8]=n[r-2],c[10]=s[r-2],c[11]=l[r-2]),r<n.length-1&&(c[1]=n[r+1],c[6]=s[r+1],c[7]=l[r+1]),r<n.length-2&&(c[9]=n[r+2],c[12]=s[r+2],c[13]=l[r+2]);try{for(var d=Lse(c),f=d.next();!f.done;f=d.next()){var h=f.value;if(t.adjustRowNumber(o,h))return}}catch(p){i={error:p}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}}},t.adjustRowNumber=function(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,r){this.detectionResultColumns[e]=r},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var r=new uO,n=0;n<e.getCodewords().length;n++){r.format("CW %3d:",n);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){r.format("    |   ");continue}var a=this.detectionResultColumns[i].getCodewords()[n];if(a==null){r.format("    |   ");continue}r.format(" %3d|%3d",a.getRowNumber(),a.getValue())}r.format("%n")}return r.toString()},t}(),Bse=function(){function t(e,r,n,i){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(n),this.value=Math.trunc(i)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t}(),Use=function(){function t(){}return t.initialize=function(){for(var e=0;e<pt.SYMBOL_TABLE.length;e++)for(var r=pt.SYMBOL_TABLE[e],n=r&1,i=0;i<pt.BARS_IN_MODULE;i++){for(var a=0;(r&1)===n;)a+=1,r>>=1;n=r&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(pt.BARS_IN_MODULE)),t.RATIOS_TABLE[e][pt.BARS_IN_MODULE-i-1]=Math.fround(a/pt.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var r=t.getDecodedCodewordValue(t.sampleBitCounts(e));return r!==-1?r:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var r=xt.sum(e),n=new Int32Array(pt.BARS_IN_MODULE),i=0,a=0,o=0;o<pt.MODULES_IN_CODEWORD;o++){var s=r/(2*pt.MODULES_IN_CODEWORD)+o*r/pt.MODULES_IN_CODEWORD;a+e[i]<=s&&(a+=e[i],i++),n[i]++}return n},t.getDecodedCodewordValue=function(e){var r=t.getBitValue(e);return pt.getCodeword(r)===-1?-1:r},t.getBitValue=function(e){for(var r=0,n=0;n<e.length;n++)for(var i=0;i<e[n];i++)r=r<<1|(n%2===0?1:0);return Math.trunc(r)},t.getClosestDecodedValue=function(e){var r=xt.sum(e),n=new Array(pt.BARS_IN_MODULE);if(r>1)for(var i=0;i<n.length;i++)n[i]=Math.fround(e[i]/r);var a=dS.MAX_VALUE,o=-1;this.bSymbolTableReady||t.initialize();for(var s=0;s<t.RATIOS_TABLE.length;s++){for(var l=0,c=t.RATIOS_TABLE[s],d=0;d<pt.BARS_IN_MODULE;d++){var f=Math.fround(c[d]-n[d]);if(l+=Math.fround(f*f),l>=a)break}l<a&&(a=l,o=pt.SYMBOL_TABLE[s])}return o},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(pt.SYMBOL_TABLE.length).map(function(e){return new Array(pt.BARS_IN_MODULE)}),t}(),Vse=function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t}(),x3=function(){function t(){}return t.parseLong=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t}(),Wse=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),zse=function(t){Wse(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e}(mi),Hse=function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,r,n){if(e==null)throw new zse;if(r<0||r>e.length||n<0||r+n>e.length||r+n<0)throw new oO;if(n===0)return;for(var i=0;i<n;i++)this.write(e[r+i])},t.prototype.flush=function(){},t.prototype.close=function(){},t}(),Gse=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),qse=function(t){Gse(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(mi),Kse=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xse=function(t){Kse(e,t);function e(r){r===void 0&&(r=32);var n=t.call(this)||this;if(n.count=0,r<0)throw new Ue("Negative initial size: "+r);return n.buf=new Uint8Array(r),n}return e.prototype.ensureCapacity=function(r){r-this.buf.length>0&&this.grow(r)},e.prototype.grow=function(r){var n=this.buf.length,i=n<<1;if(i-r<0&&(i=r),i<0){if(r<0)throw new qse;i=at.MAX_VALUE}this.buf=Jr.copyOfUint8Array(this.buf,i)},e.prototype.write=function(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1},e.prototype.writeBytesOffset=function(r,n,i){if(n<0||n>r.length||i<0||n+i-r.length>0)throw new oO;this.ensureCapacity(this.count+i),Yt.arraycopy(r,n,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(r){r.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return Jr.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(r){return new String(this.buf).toString()},e.prototype.toString_number=function(r){return new String(this.buf).toString()},e.prototype.close=function(){},e}(Hse),Ft;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ft||(Ft={}));function ML(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var _0;function Zs(t){if(typeof _0>"u"&&(_0=ML()),_0===null)throw new Error("BigInt is not supported!");return _0(t)}function Yse(){var t=[];t[0]=Zs(1);var e=Zs(900);t[1]=e;for(var r=2;r<16;r++)t[r]=t[r-1]*e;return t}var Zse=function(){function t(){}return t.decode=function(e,r){var n=new nt(""),i=Qr.ISO8859_1;n.enableDecoding(i);for(var a=1,o=e[a++],s=new Vse;a<e[0];){switch(o){case t.TEXT_COMPACTION_MODE_LATCH:a=t.textCompaction(e,a,n);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:a=t.byteCompaction(o,e,i,a,n);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[a++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:a=t.numericCompaction(e,a,n);break;case t.ECI_CHARSET:Qr.getCharacterSetECIByValue(e[a++]);break;case t.ECI_GENERAL_PURPOSE:a+=2;break;case t.ECI_USER_DEFINED:a++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=t.decodeMacroBlock(e,a,s);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new pe;default:a--,a=t.textCompaction(e,a,n);break}if(a<e.length)o=e[a++];else throw pe.getFormatInstance()}if(n.length()===0)throw pe.getFormatInstance();var l=new dx(null,n.toString(),null,r);return l.setOther(s),l},t.decodeMacroBlock=function(e,r,n){if(r+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw pe.getFormatInstance();for(var i=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),a=0;a<t.NUMBER_OF_SEQUENCE_CODEWORDS;a++,r++)i[a]=e[r];n.setSegmentIndex(at.parseInt(t.decodeBase900toBase10(i,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var o=new nt;r=t.textCompaction(e,r,o),n.setFileId(o.toString());var s=-1;for(e[r]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(s=r+1);r<e[0];)switch(e[r]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var l=new nt;r=t.textCompaction(e,r+1,l),n.setFileName(l.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var c=new nt;r=t.textCompaction(e,r+1,c),n.setSender(c.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var d=new nt;r=t.textCompaction(e,r+1,d),n.setAddressee(d.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var f=new nt;r=t.numericCompaction(e,r+1,f),n.setSegmentCount(at.parseInt(f.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var h=new nt;r=t.numericCompaction(e,r+1,h),n.setTimestamp(x3.parseLong(h.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var p=new nt;r=t.numericCompaction(e,r+1,p),n.setChecksum(at.parseInt(p.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var v=new nt;r=t.numericCompaction(e,r+1,v),n.setFileSize(x3.parseLong(v.toString()));break;default:throw pe.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:r++,n.setLastSegment(!0);break;default:throw pe.getFormatInstance()}if(s!==-1){var m=r-s;n.isLastSegment()&&m--,n.setOptionalData(Jr.copyOfRange(e,s,s+m))}return r},t.textCompaction=function(e,r,n){for(var i=new Int32Array((e[0]-r)*2),a=new Int32Array((e[0]-r)*2),o=0,s=!1;r<e[0]&&!s;){var l=e[r++];if(l<t.TEXT_COMPACTION_MODE_LATCH)i[o]=l/30,i[o+1]=l%30,o+=2;else switch(l){case t.TEXT_COMPACTION_MODE_LATCH:i[o++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,s=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[o]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,l=e[r++],a[o]=l,o++;break}}return t.decodeTextCompaction(i,a,o,n),r},t.decodeTextCompaction=function(e,r,n,i){for(var a=Ft.ALPHA,o=Ft.ALPHA,s=0;s<n;){var l=e[s],c="";switch(a){case Ft.ALPHA:if(l<26)c=String.fromCharCode(65+l);else switch(l){case 26:c=" ";break;case t.LL:a=Ft.LOWER;break;case t.ML:a=Ft.MIXED;break;case t.PS:o=a,a=Ft.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Ft.ALPHA;break}break;case Ft.LOWER:if(l<26)c=String.fromCharCode(97+l);else switch(l){case 26:c=" ";break;case t.AS:o=a,a=Ft.ALPHA_SHIFT;break;case t.ML:a=Ft.MIXED;break;case t.PS:o=a,a=Ft.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Ft.ALPHA;break}break;case Ft.MIXED:if(l<t.PL)c=t.MIXED_CHARS[l];else switch(l){case t.PL:a=Ft.PUNCT;break;case 26:c=" ";break;case t.LL:a=Ft.LOWER;break;case t.AL:a=Ft.ALPHA;break;case t.PS:o=a,a=Ft.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Ft.ALPHA;break}break;case Ft.PUNCT:if(l<t.PAL)c=t.PUNCT_CHARS[l];else switch(l){case t.PAL:a=Ft.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Ft.ALPHA;break}break;case Ft.ALPHA_SHIFT:if(a=o,l<26)c=String.fromCharCode(65+l);else switch(l){case 26:c=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:a=Ft.ALPHA;break}break;case Ft.PUNCT_SHIFT:if(a=o,l<t.PAL)c=t.PUNCT_CHARS[l];else switch(l){case t.PAL:a=Ft.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Ft.ALPHA;break}break}c!==""&&i.append(c),s++}},t.byteCompaction=function(e,r,n,i,a){var o=new Xse,s=0,l=0,c=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var d=new Int32Array(6),f=r[i++];i<r[0]&&!c;)switch(d[s++]=f,l=900*l+f,f=r[i++],f){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,c=!0;break;default:if(s%5===0&&s>0){for(var h=0;h<6;++h)o.write(Number(Zs(l)>>Zs(8*(5-h))));l=0,s=0}break}i===r[0]&&f<t.TEXT_COMPACTION_MODE_LATCH&&(d[s++]=f);for(var p=0;p<s;p++)o.write(d[p]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;i<r[0]&&!c;){var v=r[i++];if(v<t.TEXT_COMPACTION_MODE_LATCH)s++,l=900*l+v;else switch(v){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,c=!0;break}if(s%5===0&&s>0){for(var h=0;h<6;++h)o.write(Number(Zs(l)>>Zs(8*(5-h))));l=0,s=0}}break}return a.append(ca.decode(o.toByteArray(),n)),i},t.numericCompaction=function(e,r,n){for(var i=0,a=!1,o=new Int32Array(t.MAX_NUMERIC_CODEWORDS);r<e[0]&&!a;){var s=e[r++];if(r===e[0]&&(a=!0),s<t.TEXT_COMPACTION_MODE_LATCH)o[i]=s,i++;else switch(s){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,a=!0;break}(i%t.MAX_NUMERIC_CODEWORDS===0||s===t.NUMERIC_COMPACTION_MODE_LATCH||a)&&i>0&&(n.append(t.decodeBase900toBase10(o,i)),i=0)}return r},t.decodeBase900toBase10=function(e,r){for(var n=Zs(0),i=0;i<r;i++)n+=t.EXP900[r-i-1]*Zs(e[i]);var a=n.toString();if(a.charAt(0)!=="1")throw new pe;return a.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=ML()?Yse():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t}(),Dh=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Qse=function(){function t(){}return t.decode=function(e,r,n,i,a,o,s){for(var l=new pS(e,r,n,i,a),c=null,d=null,f,h=!0;;h=!1){if(r!=null&&(c=t.getRowIndicatorColumn(e,l,r,!0,o,s)),i!=null&&(d=t.getRowIndicatorColumn(e,l,i,!1,o,s)),f=t.merge(c,d),f==null)throw Z.getNotFoundInstance();var p=f.getBoundingBox();if(h&&p!=null&&(p.getMinY()<l.getMinY()||p.getMaxY()>l.getMaxY()))l=p;else break}f.setBoundingBox(l);var v=f.getBarcodeColumnCount()+1;f.setDetectionResultColumn(0,c),f.setDetectionResultColumn(v,d);for(var m=c!=null,g=1;g<=v;g++){var y=m?g:v-g;if(f.getDetectionResultColumn(y)===void 0){var x=void 0;y===0||y===v?x=new y3(l,y===0):x=new DL(l),f.setDetectionResultColumn(y,x);for(var w=-1,S=w,_=l.getMinY();_<=l.getMaxY();_++){if(w=t.getStartColumn(f,y,_,m),w<0||w>l.getMaxX()){if(S===-1)continue;w=S}var C=t.detectCodeword(e,l.getMinX(),l.getMaxX(),m,w,_,o,s);C!=null&&(x.setCodeword(_,C),S=w,o=Math.min(o,C.getWidth()),s=Math.max(s,C.getWidth()))}}}return t.createDecoderResult(f)},t.merge=function(e,r){if(e==null&&r==null)return null;var n=t.getBarcodeMetadata(e,r);if(n==null)return null;var i=pS.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(r));return new Fse(n,i)},t.adjustBoundingBox=function(e){var r,n;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var a=t.getMax(i),o=0;try{for(var s=Dh(i),l=s.next();!l.done;l=s.next()){var c=l.value;if(o+=a-c,c>0)break}}catch(p){r={error:p}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}for(var d=e.getCodewords(),f=0;o>0&&d[f]==null;f++)o--;for(var h=0,f=i.length-1;f>=0&&(h+=a-i[f],!(i[f]>0));f--);for(var f=d.length-1;h>0&&d[f]==null;f--)h--;return e.getBoundingBox().addMissingRows(o,h,e.isLeft())},t.getMax=function(e){var r,n,i=-1;try{for(var a=Dh(e),o=a.next();!o.done;o=a.next()){var s=o.value;i=Math.max(i,s)}}catch(l){r={error:l}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.getBarcodeMetadata=function(e,r){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();var i;return r==null||(i=r.getBarcodeMetadata())==null?n:n.getColumnCount()!==i.getColumnCount()&&n.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&n.getRowCount()!==i.getRowCount()?null:n},t.getRowIndicatorColumn=function(e,r,n,i,a,o){for(var s=new y3(r,i),l=0;l<2;l++)for(var c=l===0?1:-1,d=Math.trunc(Math.trunc(n.getX())),f=Math.trunc(Math.trunc(n.getY()));f<=r.getMaxY()&&f>=r.getMinY();f+=c){var h=t.detectCodeword(e,0,e.getWidth(),i,d,f,a,o);h!=null&&(s.setCodeword(f,h),i?d=h.getStartX():d=h.getEndX())}return s},t.adjustCodewordCount=function(e,r){var n=r[0][1],i=n.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(a<1||a>pt.MAX_CODEWORDS_IN_BARCODE)throw Z.getNotFoundInstance();n.setValue(a)}else i[0]!==a&&n.setValue(a)},t.createDecoderResult=function(e){var r=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,r);for(var n=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],o=new Array,s=0;s<e.getBarcodeRowCount();s++)for(var l=0;l<e.getBarcodeColumnCount();l++){var c=r[s][l+1].getValue(),d=s*e.getBarcodeColumnCount()+l;c.length===0?n.push(d):c.length===1?i[d]=c[0]:(o.push(d),a.push(c))}for(var f=new Array(a.length),h=0;h<f.length;h++)f[h]=a[h];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,pt.toIntArray(n),pt.toIntArray(o),f)},t.createDecoderResultFromAmbiguousValues=function(e,r,n,i,a){for(var o=new Int32Array(i.length),s=100;s-- >0;){for(var l=0;l<o.length;l++)r[i[l]]=a[l][o[l]];try{return t.decodeCodewords(r,e,n)}catch(d){var c=d instanceof Fr;if(!c)throw d}if(o.length===0)throw Fr.getChecksumInstance();for(var l=0;l<o.length;l++)if(o[l]<a[l].length-1){o[l]++;break}else if(o[l]=0,l===o.length-1)throw Fr.getChecksumInstance()}throw Fr.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var r,n,i,a,o=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),s=0;s<o.length;s++)for(var l=0;l<o[s].length;l++)o[s][l]=new rp;var c=0;try{for(var d=Dh(e.getDetectionResultColumns()),f=d.next();!f.done;f=d.next()){var h=f.value;if(h!=null)try{for(var p=(i=void 0,Dh(h.getCodewords())),v=p.next();!v.done;v=p.next()){var m=v.value;if(m!=null){var g=m.getRowNumber();if(g>=0){if(g>=o.length)continue;o[g][c].setValue(m.getValue())}}}}catch(y){i={error:y}}finally{try{v&&!v.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}c++}}catch(y){r={error:y}}finally{try{f&&!f.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}return o},t.isValidBarcodeColumn=function(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,r,n,i){var a,o,s=i?1:-1,l=null;if(t.isValidBarcodeColumn(e,r-s)&&(l=e.getDetectionResultColumn(r-s).getCodeword(n)),l!=null)return i?l.getEndX():l.getStartX();if(l=e.getDetectionResultColumn(r).getCodewordNearby(n),l!=null)return i?l.getStartX():l.getEndX();if(t.isValidBarcodeColumn(e,r-s)&&(l=e.getDetectionResultColumn(r-s).getCodewordNearby(n)),l!=null)return i?l.getEndX():l.getStartX();for(var c=0;t.isValidBarcodeColumn(e,r-s);){r-=s;try{for(var d=(a=void 0,Dh(e.getDetectionResultColumn(r).getCodewords())),f=d.next();!f.done;f=d.next()){var h=f.value;if(h!=null)return(i?h.getEndX():h.getStartX())+s*c*(h.getEndX()-h.getStartX())}}catch(p){a={error:p}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(a)throw a.error}}c++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,r,n,i,a,o,s,l){a=t.adjustCodewordStartColumn(e,r,n,i,a,o);var c=t.getModuleBitCount(e,r,n,i,a,o);if(c==null)return null;var d,f=xt.sum(c);if(i)d=a+f;else{for(var h=0;h<c.length/2;h++){var p=c[h];c[h]=c[c.length-1-h],c[c.length-1-h]=p}d=a,a=d-f}if(!t.checkCodewordSkew(f,s,l))return null;var v=Use.getDecodedValue(c),m=pt.getCodeword(v);return m===-1?null:new Bse(a,d,t.getCodewordBucketNumber(v),m)},t.getModuleBitCount=function(e,r,n,i,a,o){for(var s=a,l=new Int32Array(8),c=0,d=i?1:-1,f=i;(i?s<n:s>=r)&&c<l.length;)e.get(s,o)===f?(l[c]++,s+=d):(c++,f=!f);return c===l.length||s===(i?n:r)&&c===l.length-1?l:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,r,n,i,a,o){for(var s=a,l=i?-1:1,c=0;c<2;c++){for(;(i?s>=r:s<n)&&i===e.get(s,o);){if(Math.abs(a-s)>t.CODEWORD_SKEW_SIZE)return a;s+=l}l=-l,i=!i}return s},t.checkCodewordSkew=function(e,r,n){return r-t.CODEWORD_SKEW_SIZE<=e&&e<=n+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,r,n){if(e.length===0)throw pe.getFormatInstance();var i=1<<r+1,a=t.correctErrors(e,n,i);t.verifyCodewordCount(e,i);var o=Zse.decode(e,""+r);return o.setErrorsCorrected(a),o.setErasures(n.length),o},t.correctErrors=function(e,r,n){if(r!=null&&r.length>n/2+t.MAX_ERRORS||n<0||n>t.MAX_EC_CODEWORDS)throw Fr.getChecksumInstance();return t.errorCorrection.decode(e,n,r)},t.verifyCodewordCount=function(e,r){if(e.length<4)throw pe.getFormatInstance();var n=e[0];if(n>e.length)throw pe.getFormatInstance();if(n===0)if(r<e.length)e[0]=e.length-r;else throw pe.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var r=new Int32Array(8),n=0,i=r.length-1;!((e&1)!==n&&(n=e&1,i--,i<0));)r[i]++,e>>=1;return r},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var r=new uO,n=0;n<e.length;n++){r.format("Row %2d: ",n);for(var i=0;i<e[n].length;i++){var a=e[n][i];a.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}r.format("%n")}return r.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new kse,t}(),Jse=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ly=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=t.decode(e,r,!1);if(n==null||n.length===0||n[0]==null)throw Z.getNotFoundInstance();return n[0]},t.prototype.decodeMultiple=function(e,r){r===void 0&&(r=null);try{return t.decode(e,r,!0)}catch(n){throw n instanceof pe||n instanceof Fr?Z.getNotFoundInstance():n}},t.decode=function(e,r,n){var i,a,o=new Array,s=Ase.detectMultiple(e,r,n);try{for(var l=Jse(s.getPoints()),c=l.next();!c.done;c=l.next()){var d=c.value,f=Qse.decode(s.getBits(),d[4],d[5],d[6],d[7],t.getMinCodewordWidth(d),t.getMaxCodewordWidth(d)),h=new Rn(f.getText(),f.getRawBytes(),void 0,d,Be.PDF_417);h.putMetadata(Cn.ERROR_CORRECTION_LEVEL,f.getECLevel());var p=f.getOther();p!=null&&h.putMetadata(Cn.PDF417_EXTRA_METADATA,p),o.push(h)}}catch(v){i={error:v}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}return o.map(function(v){return v})},t.getMaxWidth=function(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMinWidth=function(e,r){return e==null||r==null?at.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*pt.MODULES_IN_CODEWORD/pt.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*pt.MODULES_IN_CODEWORD/pt.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*pt.MODULES_IN_CODEWORD/pt.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*pt.MODULES_IN_CODEWORD/pt.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t}(),ele=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),w3=function(t){ele(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e}(mi),b3=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$L=function(){function t(){}return t.prototype.decode=function(e,r){return this.setHints(r),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var r=e!=null&&e.get(Zt.TRY_HARDER)!==void 0,n=e==null?null:e.get(Zt.POSSIBLE_FORMATS),i=new Array;if(n!=null){var a=n.some(function(o){return o===Be.UPC_A||o===Be.UPC_E||o===Be.EAN_13||o===Be.EAN_8||o===Be.CODABAR||o===Be.CODE_39||o===Be.CODE_93||o===Be.CODE_128||o===Be.ITF||o===Be.RSS_14||o===Be.RSS_EXPANDED});a&&!r&&i.push(new fd(e)),n.includes(Be.QR_CODE)&&i.push(new sy),n.includes(Be.DATA_MATRIX)&&i.push(new oy),n.includes(Be.AZTEC)&&i.push(new iy),n.includes(Be.PDF_417)&&i.push(new ly),a&&r&&i.push(new fd(e))}i.length===0&&(r||i.push(new fd(e)),i.push(new sy),i.push(new oy),i.push(new iy),i.push(new ly),r&&i.push(new fd(e))),this.readers=i},t.prototype.reset=function(){var e,r;if(this.readers!==null)try{for(var n=b3(this.readers),i=n.next();!i.done;i=n.next()){var a=i.value;a.reset()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var r,n;if(this.readers===null)throw new w3("No readers where selected, nothing can be read.");try{for(var i=b3(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;try{return o.decode(e,this.hints)}catch(s){if(s instanceof w3)continue}}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}throw new Z("No MultiFormat Readers were able to detect the code.")},t}(),tle=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){tle(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=500);var i=this,a=new $L;return a.setHints(r),i=t.call(this,a,n)||this,i}return e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e})(th);var rle=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){rle(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new ly,r)||this}return e})(th);var nle=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){nle(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new sy,r)||this}return e})(th);var mS;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",t[t.MIN_SIZE=4]="MIN_SIZE",t[t.MAX_SIZE=5]="MAX_SIZE",t[t.MARGIN=6]="MARGIN",t[t.PDF417_COMPACT=7]="PDF417_COMPACT",t[t.PDF417_COMPACTION=8]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=10]="AZTEC_LAYERS",t[t.QR_VERSION=11]="QR_VERSION",t[t.GS1_FORMAT=12]="GS1_FORMAT",t[t.FORCE_C40=13]="FORCE_C40"})(mS||(mS={}));const S0=mS;var LL=function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Nl(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var r=this.cachedGenerators;if(e>=r.length)for(var n=r[r.length-1],i=this.field,a=r.length;a<=e;a++){var o=n.multiply(new Nl(i,Int32Array.from([1,i.exp(a-1+i.getGeneratorBase())])));r.push(o),n=o}return r[e]},t.prototype.encode=function(e,r){if(r===0)throw new Ue("No error correction bytes");var n=e.length-r;if(n<=0)throw new Ue("No data bytes provided");var i=this.buildGenerator(r),a=new Int32Array(n);Yt.arraycopy(e,0,a,0,n);var o=new Nl(this.field,a);o=o.multiplyByMonomial(r,1);for(var s=o.divide(i)[1],l=s.getCoefficients(),c=r-l.length,d=0;d<c;d++)e[n+d]=0;Yt.arraycopy(l,0,e,n+c,l.length)},t}(),np=function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a-1;o++)for(var s=n[o],l=0;l<i-1;l++){var c=s[l];c===s[l+1]&&c===n[o+1][l]&&c===n[o+1][l+1]&&r++}return t.N2*r},t.applyMaskPenaltyRule3=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var s=0;s<i;s++){var l=n[o];s+6<i&&l[s]===1&&l[s+1]===0&&l[s+2]===1&&l[s+3]===1&&l[s+4]===1&&l[s+5]===0&&l[s+6]===1&&(t.isWhiteHorizontal(l,s-4,s)||t.isWhiteHorizontal(l,s+7,s+11))&&r++,o+6<a&&n[o][s]===1&&n[o+1][s]===0&&n[o+2][s]===1&&n[o+3][s]===1&&n[o+4][s]===1&&n[o+5][s]===0&&n[o+6][s]===1&&(t.isWhiteVertical(n,s,o-4,o)||t.isWhiteVertical(n,s,o+7,o+11))&&r++}return r*t.N3},t.isWhiteHorizontal=function(e,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(var i=r;i<n;i++)if(e[i]===1)return!1;return!0},t.isWhiteVertical=function(e,r,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(var a=n;a<i;a++)if(e[a][r]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var s=n[o],l=0;l<i;l++)s[l]===1&&r++;var c=e.getHeight()*e.getWidth(),d=Math.floor(Math.abs(r*2-c)*10/c);return d*t.N4},t.getDataMaskBit=function(e,r,n){var i,a;switch(e){case 0:i=n+r&1;break;case 1:i=n&1;break;case 2:i=r%3;break;case 3:i=(n+r)%3;break;case 4:i=Math.floor(n/2)+Math.floor(r/3)&1;break;case 5:a=n*r,i=(a&1)+a%3;break;case 6:a=n*r,i=(a&1)+a%3&1;break;case 7:a=n*r,i=a%3+(n+r&1)&1;break;default:throw new Ue("Invalid mask pattern: "+e)}return i===0},t.applyMaskPenaltyRule1Internal=function(e,r){for(var n=0,i=r?e.getHeight():e.getWidth(),a=r?e.getWidth():e.getHeight(),o=e.getArray(),s=0;s<i;s++){for(var l=0,c=-1,d=0;d<a;d++){var f=r?o[s][d]:o[d][s];f===c?l++:(l>=5&&(n+=t.N1+(l-5)),l=1,c=f)}l>=5&&(n+=t.N1+(l-5))}return n},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t}(),ile=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ale=function(){function t(e,r){this.width=e,this.height=r;for(var n=new Array(r),i=0;i!==r;i++)n[i]=new Uint8Array(e);this.bytes=n}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,r){return this.bytes[r][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,r,n){this.bytes[r][e]=n},t.prototype.setBoolean=function(e,r,n){this.bytes[r][e]=n?1:0},t.prototype.clear=function(e){var r,n;try{for(var i=ile(this.bytes),a=i.next();!a.done;a=i.next()){var o=a.value;Jr.fill(o,e)}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(var n=0,i=this.height;n<i;++n)for(var a=this.bytes[n],o=r.bytes[n],s=0,l=this.width;s<l;++s)if(a[s]!==o[s])return!1;return!0},t.prototype.toString=function(){for(var e=new nt,r=0,n=this.height;r<n;++r){for(var i=this.bytes[r],a=0,o=this.width;a<o;++a)switch(i[a]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t}(),vS=function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new nt;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t}(),ole=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),or=function(t){ole(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e}(mi),_3=function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,r,n,i,a){t.clearMatrix(a),t.embedBasicPatterns(n,a),t.embedTypeInfo(r,i,a),t.maybeEmbedVersionInfo(n,a),t.embedDataBits(e,i,a)},t.embedBasicPatterns=function(e,r){t.embedPositionDetectionPatternsAndSeparators(r),t.embedDarkDotAtLeftBottomCorner(r),t.maybeEmbedPositionAdjustmentPatterns(e,r),t.embedTimingPatterns(r)},t.embedTypeInfo=function(e,r,n){var i=new pn;t.makeTypeInfoBits(e,r,i);for(var a=0,o=i.getSize();a<o;++a){var s=i.get(i.getSize()-1-a),l=t.TYPE_INFO_COORDINATES[a],c=l[0],d=l[1];if(n.setBoolean(c,d,s),a<8){var f=n.getWidth()-a-1,h=8;n.setBoolean(f,h,s)}else{var f=8,h=n.getHeight()-7+(a-8);n.setBoolean(f,h,s)}}},t.maybeEmbedVersionInfo=function(e,r){if(!(e.getVersionNumber()<7)){var n=new pn;t.makeVersionInfoBits(e,n);for(var i=6*3-1,a=0;a<6;++a)for(var o=0;o<3;++o){var s=n.get(i);i--,r.setBoolean(a,r.getHeight()-11+o,s),r.setBoolean(r.getHeight()-11+o,a,s)}}},t.embedDataBits=function(e,r,n){for(var i=0,a=-1,o=n.getWidth()-1,s=n.getHeight()-1;o>0;){for(o===6&&(o-=1);s>=0&&s<n.getHeight();){for(var l=0;l<2;++l){var c=o-l;if(t.isEmpty(n.get(c,s))){var d=void 0;i<e.getSize()?(d=e.get(i),++i):d=!1,r!==255&&np.getDataMaskBit(r,c,s)&&(d=!d),n.setBoolean(c,s,d)}}s+=a}a=-a,s+=a,o-=2}if(i!==e.getSize())throw new or("Not all bits consumed: "+i+"/"+e.getSize())},t.findMSBSet=function(e){return 32-at.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,r){if(r===0)throw new Ue("0 polynomial");var n=t.findMSBSet(r);for(e<<=n-1;t.findMSBSet(e)>=n;)e^=r<<t.findMSBSet(e)-n;return e},t.makeTypeInfoBits=function(e,r,n){if(!vS.isValidMaskPattern(r))throw new or("Invalid mask pattern");var i=e.getBits()<<3|r;n.appendBits(i,5);var a=t.calculateBCHCode(i,t.TYPE_INFO_POLY);n.appendBits(a,10);var o=new pn;if(o.appendBits(t.TYPE_INFO_MASK_PATTERN,15),n.xor(o),n.getSize()!==15)throw new or("should not happen but we got: "+n.getSize())},t.makeVersionInfoBits=function(e,r){r.appendBits(e.getVersionNumber(),6);var n=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(r.appendBits(n,12),r.getSize()!==18)throw new or("should not happen but we got: "+r.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var r=8;r<e.getWidth()-8;++r){var n=(r+1)%2;t.isEmpty(e.get(r,6))&&e.setNumber(r,6,n),t.isEmpty(e.get(6,r))&&e.setNumber(6,r,n)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new or;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,r,n){for(var i=0;i<8;++i){if(!t.isEmpty(n.get(e+i,r)))throw new or;n.setNumber(e+i,r,0)}},t.embedVerticalSeparationPattern=function(e,r,n){for(var i=0;i<7;++i){if(!t.isEmpty(n.get(e,r+i)))throw new or;n.setNumber(e,r+i,0)}},t.embedPositionAdjustmentPattern=function(e,r,n){for(var i=0;i<5;++i)for(var a=t.POSITION_ADJUSTMENT_PATTERN[i],o=0;o<5;++o)n.setNumber(e+o,r+i,a[o])},t.embedPositionDetectionPattern=function(e,r,n){for(var i=0;i<7;++i)for(var a=t.POSITION_DETECTION_PATTERN[i],o=0;o<7;++o)n.setNumber(e+o,r+i,a[o])},t.embedPositionDetectionPatternsAndSeparators=function(e){var r=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-r,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-r,e);var n=8;t.embedHorizontalSeparationPattern(0,n-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var i=7;t.embedVerticalSeparationPattern(i,0,e),t.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),t.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,r){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,i=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],a=0,o=i.length;a!==o;a++){var s=i[a];if(s>=0)for(var l=0;l!==o;l++){var c=i[l];c>=0&&t.isEmpty(r.get(c,s))&&t.embedPositionAdjustmentPattern(c-2,s-2,r)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t}(),sle=function(){function t(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t}(),S3=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.calculateMaskPenalty=function(e){return np.applyMaskPenaltyRule1(e)+np.applyMaskPenaltyRule2(e)+np.applyMaskPenaltyRule3(e)+np.applyMaskPenaltyRule4(e)},t.encode=function(e,r,n){n===void 0&&(n=null);var i=t.DEFAULT_BYTE_MODE_ENCODING,a=n!==null&&n.get(S0.CHARACTER_SET)!==void 0;a&&(i=n.get(S0.CHARACTER_SET).toString());var o=this.chooseMode(e,i),s=new pn;if(o===lr.BYTE&&(a||t.DEFAULT_BYTE_MODE_ENCODING!==i)){var l=Qr.getCharacterSetECIByName(i);l!==void 0&&this.appendECI(l,s)}this.appendModeInfo(o,s);var c=new pn;this.appendBytes(e,o,c,i);var d;if(n!==null&&n.get(S0.QR_VERSION)!==void 0){var f=Number.parseInt(n.get(S0.QR_VERSION).toString(),10);d=Uc.getVersionForNumber(f);var h=this.calculateBitsNeeded(o,s,c,d);if(!this.willFit(h,d,r))throw new or("Data too big for requested version")}else d=this.recommendVersion(r,o,s,c);var p=new pn;p.appendBitArray(s);var v=o===lr.BYTE?c.getSizeInBytes():e.length;this.appendLengthInfo(v,d,o,p),p.appendBitArray(c);var m=d.getECBlocksForLevel(r),g=d.getTotalCodewords()-m.getTotalECCodewords();this.terminateBits(g,p);var y=this.interleaveWithECBytes(p,d.getTotalCodewords(),g,m.getNumBlocks()),x=new vS;x.setECLevel(r),x.setMode(o),x.setVersion(d);var w=d.getDimensionForVersion(),S=new ale(w,w),_=this.chooseMaskPattern(y,r,d,S);return x.setMaskPattern(_),_3.buildMatrix(y,r,d,_,S),x.setMatrix(S),x},t.recommendVersion=function(e,r,n,i){var a=this.calculateBitsNeeded(r,n,i,Uc.getVersionForNumber(1)),o=this.chooseVersion(a,e),s=this.calculateBitsNeeded(r,n,i,o);return this.chooseVersion(s,e)},t.calculateBitsNeeded=function(e,r,n,i){return r.getSize()+e.getCharacterCountBits(i)+n.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,r){if(r===void 0&&(r=null),Qr.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return lr.KANJI;for(var n=!1,i=!1,a=0,o=e.length;a<o;++a){var s=e.charAt(a);if(t.isDigit(s))n=!0;else if(this.getAlphanumericCode(s.charCodeAt(0))!==-1)i=!0;else return lr.BYTE}return i?lr.ALPHANUMERIC:n?lr.NUMERIC:lr.BYTE},t.isOnlyDoubleByteKanji=function(e){var r;try{r=ca.encode(e,Qr.SJIS)}catch{return!1}var n=r.length;if(n%2!==0)return!1;for(var i=0;i<n;i+=2){var a=r[i]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0},t.chooseMaskPattern=function(e,r,n,i){for(var a=Number.MAX_SAFE_INTEGER,o=-1,s=0;s<vS.NUM_MASK_PATTERNS;s++){_3.buildMatrix(e,r,n,s,i);var l=this.calculateMaskPenalty(i);l<a&&(a=l,o=s)}return o},t.chooseVersion=function(e,r){for(var n=1;n<=40;n++){var i=Uc.getVersionForNumber(n);if(t.willFit(e,i,r))return i}throw new or("Data too big")},t.willFit=function(e,r,n){var i=r.getTotalCodewords(),a=r.getECBlocksForLevel(n),o=a.getTotalECCodewords(),s=i-o,l=(e+7)/8;return s>=l},t.terminateBits=function(e,r){var n=e*8;if(r.getSize()>n)throw new or("data bits cannot fit in the QR Code"+r.getSize()+" > "+n);for(var i=0;i<4&&r.getSize()<n;++i)r.appendBit(!1);var a=r.getSize()&7;if(a>0)for(var i=a;i<8;i++)r.appendBit(!1);for(var o=e-r.getSizeInBytes(),i=0;i<o;++i)r.appendBits(i&1?17:236,8);if(r.getSize()!==n)throw new or("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,r,n,i,a,o){if(i>=n)throw new or("Block ID too large");var s=e%n,l=n-s,c=Math.floor(e/n),d=c+1,f=Math.floor(r/n),h=f+1,p=c-f,v=d-h;if(p!==v)throw new or("EC bytes mismatch");if(n!==l+s)throw new or("RS blocks mismatch");if(e!==(f+p)*l+(h+v)*s)throw new or("Total bytes mismatch");i<l?(a[0]=f,o[0]=p):(a[0]=h,o[0]=v)},t.interleaveWithECBytes=function(e,r,n,i){var a,o,s,l;if(e.getSizeInBytes()!==n)throw new or("Number of bits and data bytes does not match");for(var c=0,d=0,f=0,h=new Array,p=0;p<i;++p){var v=new Int32Array(1),m=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(r,n,i,p,v,m);var g=v[0],y=new Uint8Array(g);e.toBytes(8*c,y,0,g);var x=t.generateECBytes(y,m[0]);h.push(new sle(y,x)),d=Math.max(d,g),f=Math.max(f,x.length),c+=v[0]}if(n!==c)throw new or("Data bytes does not match offset");for(var w=new pn,p=0;p<d;++p)try{for(var S=(a=void 0,S3(h)),_=S.next();!_.done;_=S.next()){var C=_.value,y=C.getDataBytes();p<y.length&&w.appendBits(y[p],8)}}catch(T){a={error:T}}finally{try{_&&!_.done&&(o=S.return)&&o.call(S)}finally{if(a)throw a.error}}for(var p=0;p<f;++p)try{for(var E=(s=void 0,S3(h)),A=E.next();!A.done;A=E.next()){var C=A.value,x=C.getErrorCorrectionBytes();p<x.length&&w.appendBits(x[p],8)}}catch(T){s={error:T}}finally{try{A&&!A.done&&(l=E.return)&&l.call(E)}finally{if(s)throw s.error}}if(r!==w.getSizeInBytes())throw new or("Interleaving error: "+r+" and "+w.getSizeInBytes()+" differ.");return w},t.generateECBytes=function(e,r){for(var n=e.length,i=new Int32Array(n+r),a=0;a<n;a++)i[a]=e[a]&255;new LL(ii.QR_CODE_FIELD_256).encode(i,r);for(var o=new Uint8Array(r),a=0;a<r;a++)o[a]=i[n+a];return o},t.appendModeInfo=function(e,r){r.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,r,n,i){var a=n.getCharacterCountBits(r);if(e>=1<<a)throw new or(e+" is bigger than "+((1<<a)-1));i.appendBits(e,a)},t.appendBytes=function(e,r,n,i){switch(r){case lr.NUMERIC:t.appendNumericBytes(e,n);break;case lr.ALPHANUMERIC:t.appendAlphanumericBytes(e,n);break;case lr.BYTE:t.append8BitBytes(e,n,i);break;case lr.KANJI:t.appendKanjiBytes(e,n);break;default:throw new or("Invalid mode: "+r)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var r=t.getDigit(e);return r>=0&&r<=9},t.appendNumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var a=t.getDigit(e.charAt(i));if(i+2<n){var o=t.getDigit(e.charAt(i+1)),s=t.getDigit(e.charAt(i+2));r.appendBits(a*100+o*10+s,10),i+=3}else if(i+1<n){var o=t.getDigit(e.charAt(i+1));r.appendBits(a*10+o,7),i+=2}else r.appendBits(a,4),i++}},t.appendAlphanumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var a=t.getAlphanumericCode(e.charCodeAt(i));if(a===-1)throw new or;if(i+1<n){var o=t.getAlphanumericCode(e.charCodeAt(i+1));if(o===-1)throw new or;r.appendBits(a*45+o,11),i+=2}else r.appendBits(a,6),i++}},t.append8BitBytes=function(e,r,n){var i;try{i=ca.encode(e,n)}catch(l){throw new or(l)}for(var a=0,o=i.length;a!==o;a++){var s=i[a];r.appendBits(s,8)}},t.appendKanjiBytes=function(e,r){var n;try{n=ca.encode(e,Qr.SJIS)}catch(f){throw new or(f)}for(var i=n.length,a=0;a<i;a+=2){var o=n[a]&255,s=n[a+1]&255,l=o<<8&4294967295|s,c=-1;if(l>=33088&&l<=40956?c=l-33088:l>=57408&&l<=60351&&(c=l-49472),c===-1)throw new or("Invalid byte sequence");var d=(c>>8)*192+(c&255);r.appendBits(d,13)}},t.appendECI=function(e,r){r.appendBits(lr.ECI.getBits(),4),r.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=Qr.UTF8.getName(),t})();var lle=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){lle(e,t);function e(r,n,i,a,o,s,l,c){var d=t.call(this,s,l)||this;if(d.yuvData=r,d.dataWidth=n,d.dataHeight=i,d.left=a,d.top=o,a+s>n||o+l>i)throw new Ue("Crop rectangle does not fit within image data.");return c&&d.reverseHorizontal(s,l),d}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Ue("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(r+this.top)*this.dataWidth+this.left;return Yt.arraycopy(this.yuvData,a,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.yuvData;var i=r*n,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return Yt.arraycopy(this.yuvData,o,a,0,i),a;for(var s=0;s<n;s++){var l=s*r;Yt.arraycopy(this.yuvData,o,a,l,r),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+n,i,a,!1)},e.prototype.renderThumbnail=function(){for(var r=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(r*n),a=this.yuvData,o=this.top*this.dataWidth+this.left,s=0;s<n;s++){for(var l=s*r,c=0;c<r;c++){var d=a[o+c*e.THUMBNAIL_SCALE_FACTOR]&255;i[l+c]=4278190080|d*65793}o+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(r,n){for(var i=this.yuvData,a=0,o=this.top*this.dataWidth+this.left;a<n;a++,o+=this.dataWidth)for(var s=o+r/2,l=o,c=o+r-1;l<s;l++,c--){var d=i[l];i[l]=i[c],i[c]=d}},e.prototype.invert=function(){return new ux(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(_v);var cle=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){cle(e,t);function e(r,n,i,a,o,s,l){var c=t.call(this,n,i)||this;if(c.dataWidth=a,c.dataHeight=o,c.left=s,c.top=l,r.BYTES_PER_ELEMENT===4){for(var d=n*i,f=new Uint8ClampedArray(d),h=0;h<d;h++){var p=r[h],v=p>>16&255,m=p>>7&510,g=p&255;f[h]=(v+m+g)/4&255}c.luminances=f}else c.luminances=r;if(a===void 0&&(c.dataWidth=n),o===void 0&&(c.dataHeight=i),s===void 0&&(c.left=0),l===void 0&&(c.top=0),c.left+n>c.dataWidth||c.top+i>c.dataHeight)throw new Ue("Crop rectangle does not fit within image data.");return c}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Ue("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(r+this.top)*this.dataWidth+this.left;return Yt.arraycopy(this.luminances,a,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.luminances;var i=r*n,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return Yt.arraycopy(this.luminances,o,a,0,i),a;for(var s=0;s<n;s++){var l=s*r;Yt.arraycopy(this.luminances,o,a,l,r),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return new e(this.luminances,i,a,this.dataWidth,this.dataHeight,this.left+r,this.top+n)},e.prototype.invert=function(){return new ux(this)},e})(_v);var ule=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),dle=function(t){ule(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(r){return this.getCharacterSetECIByName(r)},e}(Qr),fle=function(){function t(){}return t.ISO_8859_1=Qr.ISO8859_1,t}(),gS,hle=301,ple=function(t,e){for(var r=1,n=0;n<255;n++)e[n]=r,t[r]=n,r*=2,r>=256&&(r^=hle);return{LOG:t,ALOG:e}};gS=ple([],[]),gS.LOG;gS.ALOG;var C3;(function(t){t[t.FORCE_NONE=0]="FORCE_NONE",t[t.FORCE_SQUARE=1]="FORCE_SQUARE",t[t.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(C3||(C3={}));var E3=129,FL=230,mle=231,vle=235,gle=236,yle=237,xle=238,wle=239,ble=240,Ib=254,_le=254,A3="[)>05",O3="[)>06",N3="",Pt=0,bn=1,$n=2,Kr=3,un=4,jn=5,Sle=function(){function t(){}return t.prototype.getEncodingMode=function(){return Pt},t.prototype.encode=function(e){var r=Va.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(r>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var n=e.getCurrentChar(),i=Va.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case jn:e.writeCodeword(mle),e.signalEncoderChange(jn);return;case bn:e.writeCodeword(FL),e.signalEncoderChange(bn);return;case Kr:e.writeCodeword(xle),e.signalEncoderChange(Kr);break;case $n:e.writeCodeword(wle),e.signalEncoderChange($n);break;case un:e.writeCodeword(ble),e.signalEncoderChange(un);break;default:throw new Error("Illegal mode: "+i)}else Va.isExtendedASCII(n)?(e.writeCodeword(vle),e.writeCodeword(n-128+1),e.pos++):(e.writeCodeword(n+1),e.pos++)}},t.prototype.encodeASCIIDigits=function(e,r){if(Va.isDigit(e)&&Va.isDigit(r)){var n=(e-48)*10+(r-48);return n+130}throw new Error("not digits: "+e+r)},t}(),Cle=function(){function t(){}return t.prototype.getEncodingMode=function(){return jn},t.prototype.encode=function(e){var r=new nt;for(r.append(0);e.hasMoreCharacters();){var n=e.getCurrentChar();r.append(n),e.pos++;var i=Va.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(Pt);break}}var a=r.length()-1,o=1,s=e.getCodewordCount()+a+o;e.updateSymbolInfo(s);var l=e.getSymbolInfo().getDataCapacity()-s>0;if(e.hasMoreCharacters()||l)if(a<=249)r.setCharAt(0,ht.getCharAt(a));else if(a<=1555)r.setCharAt(0,ht.getCharAt(Math.floor(a/250)+249)),r.insert(1,ht.getCharAt(a%250));else throw new Error("Message length not in valid ranges: "+a);for(var c=0,n=r.length();c<n;c++)e.writeCodeword(this.randomize255State(r.charAt(c).charCodeAt(0),e.getCodewordCount()+1))},t.prototype.randomize255State=function(e,r){var n=149*r%255+1,i=e+n;return i<=255?i:i-256},t}(),dO=function(){function t(){}return t.prototype.getEncodingMode=function(){return bn},t.prototype.encodeMaximal=function(e){for(var r=new nt,n=0,i=e.pos,a=0;e.hasMoreCharacters();){var o=e.getCurrentChar();e.pos++,n=this.encodeChar(o,r),r.length()%3===0&&(i=e.pos,a=r.length())}if(a!==r.length()){var s=Math.floor(r.length()/3*2),l=Math.floor(e.getCodewordCount()+s+1);e.updateSymbolInfo(l);var c=e.getSymbolInfo().getDataCapacity()-l,d=Math.floor(r.length()%3);(d===2&&c!==2||d===1&&(n>3||c!==1))&&(e.pos=i)}r.length()>0&&e.writeCodeword(FL),this.handleEOD(e,r)},t.prototype.encode=function(e){for(var r=new nt;e.hasMoreCharacters();){var n=e.getCurrentChar();e.pos++;var i=this.encodeChar(n,r),a=Math.floor(r.length()/3)*2,o=e.getCodewordCount()+a;e.updateSymbolInfo(o);var s=e.getSymbolInfo().getDataCapacity()-o;if(!e.hasMoreCharacters()){var l=new nt;for(r.length()%3===2&&s!==2&&(i=this.backtrackOneCharacter(e,r,l,i));r.length()%3===1&&(i>3||s!==1);)i=this.backtrackOneCharacter(e,r,l,i);break}var c=r.length();if(c%3===0){var d=Va.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(d!==this.getEncodingMode()){e.signalEncoderChange(Pt);break}}}this.handleEOD(e,r)},t.prototype.backtrackOneCharacter=function(e,r,n,i){var a=r.length(),o=r.toString().substring(0,a-i);r.setLengthToZero(),r.append(o),e.pos--;var s=e.getCurrentChar();return i=this.encodeChar(s,n),e.resetSymbolInfo(),i},t.prototype.writeNextTriplet=function(e,r){e.writeCodewords(this.encodeToCodewords(r.toString()));var n=r.toString().substring(3);r.setLengthToZero(),r.append(n)},t.prototype.handleEOD=function(e,r){var n=Math.floor(r.length()/3*2),i=r.length()%3,a=e.getCodewordCount()+n;e.updateSymbolInfo(a);var o=e.getSymbolInfo().getDataCapacity()-a;if(i===2){for(r.append("\0");r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(Ib)}else if(o===1&&i===1){for(;r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(Ib),e.pos--}else if(i===0){for(;r.length()>=3;)this.writeNextTriplet(e,r);(o>0||e.hasMoreCharacters())&&e.writeCodeword(Ib)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(Pt)},t.prototype.encodeChar=function(e,r){if(e===32)return r.append(3),1;if(e>=48&&e<=57)return r.append(e-48+4),1;if(e>=65&&e<=90)return r.append(e-65+14),1;if(e<32)return r.append(0),r.append(e),2;if(e<=47)return r.append(1),r.append(e-33),2;if(e<=64)return r.append(1),r.append(e-58+15),2;if(e<=95)return r.append(1),r.append(e-91+22),2;if(e<=127)return r.append(2),r.append(e-96),2;r.append("1");var n=2;return n+=this.encodeChar(e-128,r),n},t.prototype.encodeToCodewords=function(e){var r=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,n=r/256,i=r%256,a=new nt;return a.append(n),a.append(i),a.toString()},t}(),Ele=function(){function t(){}return t.prototype.getEncodingMode=function(){return un},t.prototype.encode=function(e){for(var r=new nt;e.hasMoreCharacters();){var n=e.getCurrentChar();this.encodeChar(n,r),e.pos++;var i=r.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(r.toString()));var a=r.toString().substring(4);r.setLengthToZero(),r.append(a);var o=Va.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){e.signalEncoderChange(Pt);break}}}r.append(ht.getCharAt(31)),this.handleEOD(e,r)},t.prototype.handleEOD=function(e,r){try{var n=r.length();if(n===0)return;if(n===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),a=e.getRemainingCharacters();if(a>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),a<=i&&i<=2)return}if(n>4)throw new Error("Count must not exceed 4");var o=n-1,s=this.encodeToCodewords(r.toString()),l=!e.hasMoreCharacters(),c=l&&o<=2;if(o<=2){e.updateSymbolInfo(e.getCodewordCount()+o);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(c=!1,e.updateSymbolInfo(e.getCodewordCount()+s.length))}c?(e.resetSymbolInfo(),e.pos-=o):e.writeCodewords(s)}finally{e.signalEncoderChange(Pt)}},t.prototype.encodeChar=function(e,r){e>=32&&e<=63?r.append(e):e>=64&&e<=94?r.append(ht.getCharAt(e-64)):Va.illegalCharacter(ht.getCharAt(e))},t.prototype.encodeToCodewords=function(e){var r=e.length;if(r===0)throw new Error("StringBuilder must not be empty");var n=e.charAt(0).charCodeAt(0),i=r>=2?e.charAt(1).charCodeAt(0):0,a=r>=3?e.charAt(2).charCodeAt(0):0,o=r>=4?e.charAt(3).charCodeAt(0):0,s=(n<<18)+(i<<12)+(a<<6)+o,l=s>>16&255,c=s>>8&255,d=s&255,f=new nt;return f.append(l),r>=2&&f.append(c),r>=3&&f.append(d),f.toString()},t}(),Ale=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ole=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Et=function(){function t(e,r,n,i,a,o,s,l){s===void 0&&(s=0),l===void 0&&(l=0),this.rectangular=e,this.dataCapacity=r,this.errorCodewords=n,this.matrixWidth=i,this.matrixHeight=a,this.dataRegions=o,this.rsBlockData=s,this.rsBlockError=l}return t.lookup=function(e,r,n,i,a){var o,s;r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=!0);try{for(var l=Ole(jle),c=l.next();!c.done;c=l.next()){var d=c.value;if(!(r===1&&d.rectangular)&&!(r===2&&!d.rectangular)&&!(n!=null&&(d.getSymbolWidth()<n.getWidth()||d.getSymbolHeight()<n.getHeight()))&&!(i!=null&&(d.getSymbolWidth()>i.getWidth()||d.getSymbolHeight()>i.getHeight()))&&e<=d.dataCapacity)return d}}catch(f){o={error:f}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}if(a)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},t}(),Nle=function(t){Ale(e,t);function e(){return t.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(r){return r<=8?156:155},e}(Et),jle=[new Et(!1,3,5,8,8,1),new Et(!1,5,7,10,10,1),new Et(!0,5,7,16,6,1),new Et(!1,8,10,12,12,1),new Et(!0,10,11,14,6,2),new Et(!1,12,12,14,14,1),new Et(!0,16,14,24,10,1),new Et(!1,18,14,16,16,1),new Et(!1,22,18,18,18,1),new Et(!0,22,18,16,10,2),new Et(!1,30,20,20,20,1),new Et(!0,32,24,16,14,2),new Et(!1,36,24,22,22,1),new Et(!1,44,28,24,24,1),new Et(!0,49,28,22,14,2),new Et(!1,62,36,14,14,4),new Et(!1,86,42,16,16,4),new Et(!1,114,48,18,18,4),new Et(!1,144,56,20,20,4),new Et(!1,174,68,22,22,4),new Et(!1,204,84,24,24,4,102,42),new Et(!1,280,112,14,14,16,140,56),new Et(!1,368,144,16,16,16,92,36),new Et(!1,456,192,18,18,16,114,48),new Et(!1,576,224,20,20,16,144,56),new Et(!1,696,272,22,22,16,174,68),new Et(!1,816,336,24,24,16,136,56),new Et(!1,1050,408,18,18,36,175,68),new Et(!1,1304,496,20,20,36,163,62),new Nle],Tle=function(){function t(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var r=e.split("").map(function(s){return s.charCodeAt(0)}),n=new nt,i=0,a=r.length;i<a;i++){var o=String.fromCharCode(r[i]&255);if(o==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(o)}this.msg=n.toString(),this.shape=0,this.codewords=new nt,this.newEncoding=-1}return t.prototype.setSymbolShape=function(e){this.shape=e},t.prototype.setSizeConstraints=function(e,r){this.minSize=e,this.maxSize=r},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(e){this.codewords.append(e)},t.prototype.writeCodeword=function(e){this.codewords.append(e)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(e){this.newEncoding=e},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=Et.lookup(e,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t}(),Ple=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),kle=function(t){Ple(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Kr},e.prototype.encode=function(r){for(var n=new nt;r.hasMoreCharacters();){var i=r.getCurrentChar();r.pos++,this.encodeChar(i,n);var a=n.length();if(a%3===0){this.writeNextTriplet(r,n);var o=Va.lookAheadTest(r.getMessage(),r.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){r.signalEncoderChange(Pt);break}}}this.handleEOD(r,n)},e.prototype.encodeChar=function(r,n){switch(r){case 13:n.append(0);break;case 42:n.append(1);break;case 62:n.append(2);break;case 32:n.append(3);break;default:r>=48&&r<=57?n.append(r-48+4):r>=65&&r<=90?n.append(r-65+14):Va.illegalCharacter(ht.getCharAt(r));break}return 1},e.prototype.handleEOD=function(r,n){r.updateSymbolInfo();var i=r.getSymbolInfo().getDataCapacity()-r.getCodewordCount(),a=n.length();r.pos-=a,(r.getRemainingCharacters()>1||i>1||r.getRemainingCharacters()!==i)&&r.writeCodeword(_le),r.getNewEncoding()<0&&r.signalEncoderChange(Pt)},e}(dO),Ile=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Rle=function(t){Ile(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return $n},e.prototype.encodeChar=function(r,n){if(r===32)return n.append(3),1;if(r>=48&&r<=57)return n.append(r-48+4),1;if(r>=97&&r<=122)return n.append(r-97+14),1;if(r<32)return n.append(0),n.append(r),2;if(r<=47)return n.append(1),n.append(r-33),2;if(r<=64)return n.append(1),n.append(r-58+15),2;if(r>=91&&r<=95)return n.append(1),n.append(r-91+22),2;if(r===96)return n.append(2),n.append(0),2;if(r<=90)return n.append(2),n.append(r-65+1),2;if(r<=127)return n.append(2),n.append(r-123+27),2;n.append("1");var i=2;return i+=this.encodeChar(r-128,n),i},e}(dO),Va=function(){function t(){}return t.randomize253State=function(e){var r=149*e%253+1,n=E3+r;return n<=254?n:n-254},t.encodeHighLevel=function(e,r,n,i,a){r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=!1);var o=new dO,s=[new Sle,o,new Rle,new kle,new Ele,new Cle],l=new Tle(e);l.setSymbolShape(r),l.setSizeConstraints(n,i),e.startsWith(A3)&&e.endsWith(N3)?(l.writeCodeword(gle),l.setSkipAtEnd(2),l.pos+=A3.length):e.startsWith(O3)&&e.endsWith(N3)&&(l.writeCodeword(yle),l.setSkipAtEnd(2),l.pos+=O3.length);var c=Pt;for(a&&(o.encodeMaximal(l),c=l.getNewEncoding(),l.resetEncoderSignal());l.hasMoreCharacters();)s[c].encode(l),l.getNewEncoding()>=0&&(c=l.getNewEncoding(),l.resetEncoderSignal());var d=l.getCodewordCount();l.updateSymbolInfo();var f=l.getSymbolInfo().getDataCapacity();d<f&&c!==Pt&&c!==jn&&c!==un&&l.writeCodeword("");var h=l.getCodewords();for(h.length()<f&&h.append(E3);h.length()<f;)h.append(this.randomize253State(h.length()+1));return l.getCodewords().toString()},t.lookAheadTest=function(e,r,n){var i=this.lookAheadTestIntern(e,r,n);if(n===Kr&&i===Kr){for(var a=Math.min(r+3,e.length),o=r;o<a;o++)if(!this.isNativeX12(e.charCodeAt(o)))return Pt}else if(n===un&&i===un){for(var a=Math.min(r+4,e.length),o=r;o<a;o++)if(!this.isNativeEDIFACT(e.charCodeAt(o)))return Pt}return i},t.lookAheadTestIntern=function(e,r,n){if(r>=e.length)return n;var i;n===Pt?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[n]=0);for(var a=0,o=new Uint8Array(6),s=[];;){if(r+a===e.length){Jr.fill(o,0),Jr.fill(s,0);var l=this.findMinimums(i,s,at.MAX_VALUE,o),c=this.getMinimumCount(o);if(s[Pt]===l)return Pt;if(c===1){if(o[jn]>0)return jn;if(o[un]>0)return un;if(o[$n]>0)return $n;if(o[Kr]>0)return Kr}return bn}var d=e.charCodeAt(r+a);if(a++,this.isDigit(d)?i[Pt]+=.5:this.isExtendedASCII(d)?(i[Pt]=Math.ceil(i[Pt]),i[Pt]+=2):(i[Pt]=Math.ceil(i[Pt]),i[Pt]++),this.isNativeC40(d)?i[bn]+=2/3:this.isExtendedASCII(d)?i[bn]+=8/3:i[bn]+=4/3,this.isNativeText(d)?i[$n]+=2/3:this.isExtendedASCII(d)?i[$n]+=8/3:i[$n]+=4/3,this.isNativeX12(d)?i[Kr]+=2/3:this.isExtendedASCII(d)?i[Kr]+=13/3:i[Kr]+=10/3,this.isNativeEDIFACT(d)?i[un]+=3/4:this.isExtendedASCII(d)?i[un]+=17/4:i[un]+=13/4,this.isSpecialB256(d)?i[jn]+=4:i[jn]++,a>=4){if(Jr.fill(o,0),Jr.fill(s,0),this.findMinimums(i,s,at.MAX_VALUE,o),s[Pt]<this.min(s[jn],s[bn],s[$n],s[Kr],s[un]))return Pt;if(s[jn]<s[Pt]||s[jn]+1<this.min(s[bn],s[$n],s[Kr],s[un]))return jn;if(s[un]+1<this.min(s[jn],s[bn],s[$n],s[Kr],s[Pt]))return un;if(s[$n]+1<this.min(s[jn],s[bn],s[un],s[Kr],s[Pt]))return $n;if(s[Kr]+1<this.min(s[jn],s[bn],s[un],s[$n],s[Pt]))return Kr;if(s[bn]+1<this.min(s[Pt],s[jn],s[un],s[$n])){if(s[bn]<s[Kr])return bn;if(s[bn]===s[Kr]){for(var f=r+a+1;f<e.length;){var h=e.charCodeAt(f);if(this.isX12TermSep(h))return Kr;if(!this.isNativeX12(h))break;f++}return bn}}}}},t.min=function(e,r,n,i,a){var o=Math.min(e,Math.min(r,Math.min(n,i)));return a===void 0?o:Math.min(o,a)},t.findMinimums=function(e,r,n,i){for(var a=0;a<6;a++){var o=r[a]=Math.ceil(e[a]);n>o&&(n=o,Jr.fill(i,0)),n===o&&(i[a]=i[a]+1)}return n},t.getMinimumCount=function(e){for(var r=0,n=0;n<6;n++)r+=e[n];return r||0},t.isDigit=function(e){return e>=48&&e<=57},t.isExtendedASCII=function(e){return e>=128&&e<=255},t.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},t.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},t.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},t.isX12TermSep=function(e){return e===13||e===42||e===62},t.isNativeEDIFACT=function(e){return e>=32&&e<=94},t.isSpecialB256=function(e){return!1},t.determineConsecutiveDigitCount=function(e,r){r===void 0&&(r=0);for(var n=e.length,i=r;i<n&&this.isDigit(e.charCodeAt(i));)i++;return i-r},t.illegalCharacter=function(e){var r=at.toHexString(e.charCodeAt(0));throw r="0000".substring(0,4-r.length)+r,new Error("Illegal character: "+e+" (0x"+r+")")},t}(),Rb=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},j3=function(){function t(e){this.charset=e,this.name=e.name}return t.prototype.canEncode=function(e){try{return ca.encode(e,this.charset)!=null}catch{return!1}},t}(),Dle=function(){function t(e,r,n){var i,a,o,s,l,c;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(O){return new j3(dle.forName(O))}),this.encoders=[];var d=[];d.push(new j3(fle.ISO_8859_1));for(var f=r!=null&&r.name.startsWith("UTF"),h=0;h<e.length;h++){var p=!1;try{for(var v=(i=void 0,Rb(d)),m=v.next();!m.done;m=v.next()){var g=m.value,y=e.charAt(h),x=y.charCodeAt(0);if(x===n||g.canEncode(y)){p=!0;break}}}catch(O){i={error:O}}finally{try{m&&!m.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}if(!p)try{for(var w=(o=void 0,Rb(this.ENCODERS)),S=w.next();!S.done;S=w.next()){var g=S.value;if(g.canEncode(e.charAt(h))){d.push(g),p=!0;break}}}catch(O){o={error:O}}finally{try{S&&!S.done&&(s=w.return)&&s.call(w)}finally{if(o)throw o.error}}p||(f=!0)}if(d.length===1&&!f)this.encoders=[d[0]];else{this.encoders=[];var _=0;try{for(var C=Rb(d),E=C.next();!E.done;E=C.next()){var g=E.value;this.encoders[_++]=g}}catch(O){l={error:O}}finally{try{E&&!E.done&&(c=C.return)&&c.call(C)}finally{if(l)throw l.error}}}var A=-1;if(r!=null){for(var h=0;h<this.encoders.length;h++)if(this.encoders[h]!=null&&r.name===this.encoders[h].name){A=h;break}}this.priorityEncoderIndex=A}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},t.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},t.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return!0},t.prototype.encode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return ca.encode(ht.getCharAt(e),this.encoders[r].name)},t}(),Mle=3,$le=function(){function t(e,r,n){this.fnc1=n;var i=new Dle(e,r,n);if(i.length()===1)for(var a=0;a<this.bytes.length;a++){var o=e.charAt(a).charCodeAt(0);this.bytes[a]=o===n?1e3:o}else this.bytes=this.encodeMinimally(e,i,n)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(e,r){if(e+r-1>=this.bytes.length)return!1;for(var n=0;n<r;n++)if(this.isECI(e+n))return!1;return!0},t.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},t.prototype.subSequence=function(e,r){if(e<0||e>r||r>this.length())throw new Error(""+e);for(var n=new nt,i=e;i<r;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");n.append(this.charAt(i))}return n.toString()},t.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},t.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},t.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},t.prototype.addEdge=function(e,r,n){(e[r][n.encoderIndex]==null||e[r][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(e[r][n.encoderIndex]=n)},t.prototype.addEdges=function(e,r,n,i,a,o){var s=e.charAt(i).charCodeAt(0),l=0,c=r.length();r.getPriorityEncoderIndex()>=0&&(s===o||r.canEncode(s,r.getPriorityEncoderIndex()))&&(l=r.getPriorityEncoderIndex(),c=l+1);for(var d=l;d<c;d++)(s===o||r.canEncode(s,d))&&this.addEdge(n,i+1,new T3(s,r,d,a,o))},t.prototype.encodeMinimally=function(e,r,n){var i=e.length,a=new T3[i+1][r.length()];this.addEdges(e,r,a,0,null,n);for(var o=1;o<=i;o++){for(var s=0;s<r.length();s++)a[o][s]!=null&&o<i&&this.addEdges(e,r,a,o,a[o][s],n);for(var s=0;s<r.length();s++)a[o-1][s]=null}for(var l=-1,c=at.MAX_VALUE,s=0;s<r.length();s++)if(a[i][s]!=null){var d=a[i][s];d.cachedTotalSize<c&&(c=d.cachedTotalSize,l=s)}if(l<0)throw new Error('Failed to encode "'+e+'"');for(var f=[],h=a[i][l];h!=null;){if(h.isFNC1())f.unshift(1e3);else for(var p=r.encode(h.c,h.encoderIndex),o=p.length-1;o>=0;o--)f.unshift(p[o]&255);var v=h.previous===null?0:h.previous.encoderIndex;v!==h.encoderIndex&&f.unshift(256+r.getECIValue(h.encoderIndex)),h=h.previous}for(var m=[],o=0;o<m.length;o++)m[o]=f[o];return m},t}(),T3=function(){function t(e,r,n,i,a){this.c=e,this.encoderSet=r,this.encoderIndex=n,this.previous=i,this.fnc1=a,this.c=e===a?1e3:e;var o=this.isFNC1()?1:r.encode(e,n).length,s=i===null?0:i.encoderIndex;s!==n&&(o+=Mle),i!=null&&(o+=i.cachedTotalSize),this.cachedTotalSize=o}return t.prototype.isFNC1=function(){return this.c===1e3},t}(),Lle=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var P3;(function(t){t[t.ASCII=0]="ASCII",t[t.C40=1]="C40",t[t.TEXT=2]="TEXT",t[t.X12=3]="X12",t[t.EDF=4]="EDF",t[t.B256=5]="B256"})(P3||(P3={}));(function(t){Lle(e,t);function e(r,n,i,a,o){var s=t.call(this,r,n,i)||this;return s.shape=a,s.macroId=o,s}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})($le);var Fle=function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t}(),k3=function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,r){return e.sort(r)[0]},t}(),Ble=function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t}(),Ule=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fO=function(t){Ule(e,t);function e(r,n,i){var a=t.call(this,r)||this;return a.value=n,a.bitCount=i,a}return e.prototype.appendTo=function(r,n){r.appendBits(this.value,this.bitCount)},e.prototype.add=function(r,n){return new e(this,r,n)},e.prototype.addBinaryShift=function(r,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,r,n)},e.prototype.toString=function(){var r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+at.toBinaryString(r|1<<this.bitCount).substring(1)+">"},e}(Ble),Vle=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Wle=function(t){Vle(e,t);function e(r,n,i){var a=t.call(this,r,0,0)||this;return a.binaryShiftStart=n,a.binaryShiftByteCount=i,a}return e.prototype.appendTo=function(r,n){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):i===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(n[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(r,n){return new e(this,r,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(fO);function zle(t,e,r){return new Wle(t,e,r)}function Mh(t,e,r){return new fO(t,e,r)}var Hle=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],jl=0,cy=1,aa=2,BL=3,vo=4,Gle=new fO(null,0,0),Db=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],qle=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function Kle(t){var e,r;try{for(var n=qle(t),i=n.next();!i.done;i=n.next()){var a=i.value;Jr.fill(a,-1)}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return t[jl][vo]=0,t[cy][vo]=0,t[cy][jl]=28,t[BL][vo]=0,t[aa][vo]=0,t[aa][jl]=15,t}var UL=Kle(Jr.createInt32Array(6,6)),Xle=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Yle=function(){function t(e,r,n,i){this.token=e,this.mode=r,this.binaryShiftByteCount=n,this.bitCount=i}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,r){var n=this.bitCount,i=this.token;if(e!==this.mode){var a=Db[this.mode][e];i=Mh(i,a&65535,a>>16),n+=a>>16}var o=e===aa?4:5;return i=Mh(i,r,o),new t(i,e,0,n+o)},t.prototype.shiftAndAppend=function(e,r){var n=this.token,i=this.mode===aa?4:5;return n=Mh(n,UL[this.mode][e],i),n=Mh(n,r,5),new t(n,this.mode,0,this.bitCount+i+5)},t.prototype.addBinaryShiftChar=function(e){var r=this.token,n=this.mode,i=this.bitCount;if(this.mode===vo||this.mode===aa){var a=Db[n][jl];r=Mh(r,a&65535,a>>16),i+=a>>16,n=jl}var o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,s=new t(r,n,this.binaryShiftByteCount+1,i+o);return s.binaryShiftByteCount===2078&&(s=s.endBinaryShift(e+1)),s},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var r=this.token;return r=zle(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(r,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var r=this.bitCount+(Db[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount},t.prototype.toBitArray=function(e){for(var r,n,i=[],a=this.endBinaryShift(e.length).token;a!==null;a=a.getPrevious())i.unshift(a);var o=new pn;try{for(var s=Xle(i),l=s.next();!l.done;l=s.next()){var c=l.value;c.appendTo(o,e)}}catch(d){r={error:d}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},t.prototype.toString=function(){return ht.format("%s bits=%d bytes=%d",Hle[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(Gle,jl,0,0),t}();function Zle(t){var e=ht.getCharCode(" "),r=ht.getCharCode("."),n=ht.getCharCode(",");t[jl][e]=1;for(var i=ht.getCharCode("Z"),a=ht.getCharCode("A"),o=a;o<=i;o++)t[jl][o]=o-a+2;t[cy][e]=1;for(var s=ht.getCharCode("z"),l=ht.getCharCode("a"),o=l;o<=s;o++)t[cy][o]=o-l+2;t[aa][e]=1;for(var c=ht.getCharCode("9"),d=ht.getCharCode("0"),o=d;o<=c;o++)t[aa][o]=o-d+2;t[aa][n]=12,t[aa][r]=13;for(var f=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],h=0;h<f.length;h++)t[BL][ht.getCharCode(f[h])]=h;for(var p=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],h=0;h<p.length;h++)ht.getCharCode(p[h])>0&&(t[vo][ht.getCharCode(p[h])]=h);return t}var Mb=Zle(Jr.createInt32Array(5,256)),C0=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Qle=function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=ht.getCharCode(" "),r=ht.getCharCode(`
`),n=k3.singletonList(Yle.INITIAL_STATE),i=0;i<this.text.length;i++){var a=void 0,o=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case ht.getCharCode("\r"):a=o===r?2:0;break;case ht.getCharCode("."):a=o===e?3:0;break;case ht.getCharCode(","):a=o===e?4:0;break;case ht.getCharCode(":"):a=o===e?5:0;break;default:a=0}a>0?(n=t.updateStateListForPair(n,i,a),i++):n=this.updateStateListForChar(n,i)}var s=k3.min(n,function(l,c){return l.getBitCount()-c.getBitCount()});return s.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,r){var n,i,a=[];try{for(var o=C0(e),s=o.next();!s.done;s=o.next()){var l=s.value;this.updateStateForChar(l,r,a)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return t.simplifyStates(a)},t.prototype.updateStateForChar=function(e,r,n){for(var i=this.text[r]&255,a=Mb[e.getMode()][i]>0,o=null,s=0;s<=vo;s++){var l=Mb[s][i];if(l>0){if(o==null&&(o=e.endBinaryShift(r)),!a||s===e.getMode()||s===aa){var c=o.latchAndAppend(s,l);n.push(c)}if(!a&&UL[e.getMode()][s]>=0){var d=o.shiftAndAppend(s,l);n.push(d)}}}if(e.getBinaryShiftByteCount()>0||Mb[e.getMode()][i]===0){var f=e.addBinaryShiftChar(r);n.push(f)}},t.updateStateListForPair=function(e,r,n){var i,a,o=[];try{for(var s=C0(e),l=s.next();!l.done;l=s.next()){var c=l.value;this.updateStateForPair(c,r,n,o)}}catch(d){i={error:d}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}return this.simplifyStates(o)},t.updateStateForPair=function(e,r,n,i){var a=e.endBinaryShift(r);if(i.push(a.latchAndAppend(vo,n)),e.getMode()!==vo&&i.push(a.shiftAndAppend(vo,n)),n===3||n===4){var o=a.latchAndAppend(aa,16-n).latchAndAppend(aa,1);i.push(o)}if(e.getBinaryShiftByteCount()>0){var s=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);i.push(s)}},t.simplifyStates=function(e){var r,n,i,a,o=[];try{for(var s=C0(e),l=s.next();!l.done;l=s.next()){var c=l.value,d=!0,f=function(g){if(g.isBetterThanOrEqualTo(c))return d=!1,"break";c.isBetterThanOrEqualTo(g)&&(o=o.filter(function(y){return y!==g}))};try{for(var h=(i=void 0,C0(o)),p=h.next();!p.done;p=h.next()){var v=p.value,m=f(v);if(m==="break")break}}catch(g){i={error:g}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}d&&o.push(c)}}catch(g){r={error:g}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},t}(),Jle=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,r,n){var i=new Qle(e).encode(),a=at.truncDivision(i.getSize()*r,100)+11,o=i.getSize()+a,s,l,c,d,f;if(n!==t.DEFAULT_AZTEC_LAYERS){if(s=n<0,l=Math.abs(n),l>(s?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new Ue(ht.format("Illegal value %s for layers",n));c=t.totalBitsInLayer(l,s),d=t.WORD_SIZE[l];var h=c-c%d;if(f=t.stuffBits(i,d),f.getSize()+a>h)throw new Ue("Data to large for user specified layer");if(s&&f.getSize()>d*64)throw new Ue("Data to large for user specified layer")}else{d=0,f=null;for(var p=0;;p++){if(p>t.MAX_NB_BITS)throw new Ue("Data too large for an Aztec code");if(s=p<=3,l=s?p+1:p,c=t.totalBitsInLayer(l,s),!(o>c)){(f==null||d!==t.WORD_SIZE[l])&&(d=t.WORD_SIZE[l],f=t.stuffBits(i,d));var h=c-c%d;if(!(s&&f.getSize()>d*64)&&f.getSize()+a<=h)break}}}var v=t.generateCheckWords(f,c,d),m=f.getSize()/d,g=t.generateModeMessage(s,l,m),y=(s?11:14)+l*4,x=new Int32Array(y),w;if(s){w=y;for(var p=0;p<x.length;p++)x[p]=p}else{w=y+1+2*at.truncDivision(at.truncDivision(y,2)-1,15);for(var S=at.truncDivision(y,2),_=at.truncDivision(w,2),p=0;p<S;p++){var C=p+at.truncDivision(p,15);x[S-p-1]=_-C-1,x[S+p]=_+C+1}}for(var E=new Oo(w),p=0,A=0;p<l;p++){for(var O=(l-p)*4+(s?9:12),T=0;T<O;T++)for(var N=T*2,P=0;P<2;P++)v.get(A+N+P)&&E.set(x[p*2+P],x[p*2+T]),v.get(A+O*2+N+P)&&E.set(x[p*2+T],x[y-1-p*2-P]),v.get(A+O*4+N+P)&&E.set(x[y-1-p*2-P],x[y-1-p*2-T]),v.get(A+O*6+N+P)&&E.set(x[y-1-p*2-T],x[p*2+P]);A+=O*8}if(t.drawModeMessage(E,s,w,g),s)t.drawBullsEye(E,at.truncDivision(w,2),5);else{t.drawBullsEye(E,at.truncDivision(w,2),7);for(var p=0,T=0;p<at.truncDivision(y,2)-1;p+=15,T+=16)for(var P=at.truncDivision(w,2)&1;P<w;P+=2)E.set(at.truncDivision(w,2)-T,P),E.set(at.truncDivision(w,2)+T,P),E.set(P,at.truncDivision(w,2)-T),E.set(P,at.truncDivision(w,2)+T)}var $=new Fle;return $.setCompact(s),$.setSize(w),$.setLayers(l),$.setCodeWords(m),$.setMatrix(E),$},t.drawBullsEye=function(e,r,n){for(var i=0;i<n;i+=2)for(var a=r-i;a<=r+i;a++)e.set(a,r-i),e.set(a,r+i),e.set(r-i,a),e.set(r+i,a);e.set(r-n,r-n),e.set(r-n+1,r-n),e.set(r-n,r-n+1),e.set(r+n,r-n),e.set(r+n,r-n+1),e.set(r+n,r+n-1)},t.generateModeMessage=function(e,r,n){var i=new pn;return e?(i.appendBits(r-1,2),i.appendBits(n-1,6),i=t.generateCheckWords(i,28,4)):(i.appendBits(r-1,5),i.appendBits(n-1,11),i=t.generateCheckWords(i,40,4)),i},t.drawModeMessage=function(e,r,n,i){var a=at.truncDivision(n,2);if(r)for(var o=0;o<7;o++){var s=a-3+o;i.get(o)&&e.set(s,a-5),i.get(o+7)&&e.set(a+5,s),i.get(20-o)&&e.set(s,a+5),i.get(27-o)&&e.set(a-5,s)}else for(var o=0;o<10;o++){var s=a-5+o+at.truncDivision(o,5);i.get(o)&&e.set(s,a-7),i.get(o+10)&&e.set(a+7,s),i.get(29-o)&&e.set(s,a+7),i.get(39-o)&&e.set(a-7,s)}},t.generateCheckWords=function(e,r,n){var i,a,o=e.getSize()/n,s=new LL(t.getGF(n)),l=at.truncDivision(r,n),c=t.bitsToWords(e,n,l);s.encode(c,l-o);var d=r%n,f=new pn;f.appendBits(0,d);try{for(var h=Jle(Array.from(c)),p=h.next();!p.done;p=h.next()){var v=p.value;f.appendBits(v,n)}}catch(m){i={error:m}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}return f},t.bitsToWords=function(e,r,n){var i=new Int32Array(n),a,o;for(a=0,o=e.getSize()/r;a<o;a++){for(var s=0,l=0;l<r;l++)s|=e.get(a*r+l)?1<<r-l-1:0;i[a]=s}return i},t.getGF=function(e){switch(e){case 4:return ii.AZTEC_PARAM;case 6:return ii.AZTEC_DATA_6;case 8:return ii.AZTEC_DATA_8;case 10:return ii.AZTEC_DATA_10;case 12:return ii.AZTEC_DATA_12;default:throw new Ue("Unsupported word size "+e)}},t.stuffBits=function(e,r){for(var n=new pn,i=e.getSize(),a=(1<<r)-2,o=0;o<i;o+=r){for(var s=0,l=0;l<r;l++)(o+l>=i||e.get(o+l))&&(s|=1<<r-1-l);(s&a)===a?(n.appendBits(s&a,r),o--):s&a?n.appendBits(s,r):(n.appendBits(s|1,r),o--)}return n},t.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t})();var ece=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),tce=function(t){ece(e,t);function e(r){var n=t.call(this,r.width,r.height)||this;return n.canvas=r,n.tempCanvasElement=null,n.buffer=e.makeBufferFromCanvasImageData(r),n}return e.makeBufferFromCanvasImageData=function(r){var n;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}if(!n)throw new Error("Couldn't get canvas context.");var i=n.getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(i.data,r.width,r.height)},e.toGrayscaleBuffer=function(r,n,i){for(var a=new Uint8ClampedArray(n*i),o=0,s=0,l=r.length;o<l;o+=4,s++){var c=void 0,d=r[o+3];if(d===0)c=255;else{var f=r[o],h=r[o+1],p=r[o+2];c=306*f+601*h+117*p+512>>10}a[s]=c}return a},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Ue("Requested row is outside the image: "+r);var i=this.getWidth(),a=r*i;return n===null?n=this.buffer.slice(a,a+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(a,a+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return t.prototype.crop.call(this,r,n,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.invert=function(){return new ux(this)},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement();if(!n)throw new Error("Could not create a Canvas element.");var i=r*e.DEGREE_TO_RADIANS,a=this.canvas.width,o=this.canvas.height,s=Math.ceil(Math.abs(Math.cos(i))*a+Math.abs(Math.sin(i))*o),l=Math.ceil(Math.abs(Math.sin(i))*a+Math.abs(Math.cos(i))*o);n.width=s,n.height=l;var c=n.getContext("2d");if(!c)throw new Error("Could not create a Canvas Context element.");return c.translate(s/2,l/2),c.rotate(i),c.drawImage(this.canvas,a/-2,o/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.DEGREE_TO_RADIANS=Math.PI/180,e}(_v);function VL(){return typeof navigator<"u"}function rce(){return VL()&&!!navigator.mediaDevices}function nce(){return!!(rce()&&navigator.mediaDevices.enumerateDevices)}var pd=function(){return pd=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},pd.apply(this,arguments)},yr=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?a(d.value):i(d.value).then(s,l)}c((n=n.apply(t,e||[])).next())})},xr=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(d){return l([c,d])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(c[0]===6&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(d){c=[6,d],i=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},$b=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ice={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},rh=function(){function t(e,r,n){r===void 0&&(r=new Map),n===void 0&&(n={}),this.reader=e,this.hints=r,this.options=pd(pd({},ice),n)}return Object.defineProperty(t.prototype,"possibleFormats",{set:function(e){this.hints.set(Zt.POSSIBLE_FORMATS,e)},enumerable:!1,configurable:!0}),t.addVideoSource=function(e,r){try{e.srcObject=r}catch{console.error("got interrupted by new loading request")}},t.mediaStreamSetTorch=function(e,r){return yr(this,void 0,void 0,function(){return xr(this,function(n){switch(n.label){case 0:return[4,e.applyConstraints({advanced:[{fillLightMode:r?"flash":"off",torch:!!r}]})];case 1:return n.sent(),[2]}})})},t.mediaStreamIsTorchCompatible=function(e){var r,n,i=e.getVideoTracks();try{for(var a=$b(i),o=a.next();!o.done;o=a.next()){var s=o.value;if(t.mediaStreamIsTorchCompatibleTrack(s))return!0}}catch(l){r={error:l}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return!1},t.mediaStreamIsTorchCompatibleTrack=function(e){try{var r=e.getCapabilities();return"torch"in r}catch(n){return console.error(n),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},t.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&e.readyState>2},t.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new Tr("element with id '".concat(e,"' not found"));if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new Tr("element with id '".concat(e,"' must be an ").concat(r," element"));return n},t.createVideoElement=function(e){if(e instanceof HTMLVideoElement)return e;if(typeof e=="string")return t.getMediaElement(e,"video");if(!e&&typeof document<"u"){var r=document.createElement("video");return r.width=200,r.height=200,r}throw new Error("Couldn't get videoElement from videoSource!")},t.prepareImageElement=function(e){if(e instanceof HTMLImageElement)return e;if(typeof e=="string")return t.getMediaElement(e,"img");if(typeof e>"u"){var r=document.createElement("img");return r.width=200,r.height=200,r}throw new Error("Couldn't get imageElement from imageSource!")},t.prepareVideoElement=function(e){var r=t.createVideoElement(e);return r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.createBinaryBitmapFromCanvas=function(e){var r=new tce(e),n=new AL(r);return new EL(n)},t.drawImageOnCanvas=function(e,r){e.drawImage(r,0,0)},t.getMediaElementDimensions=function(e){if(e instanceof HTMLVideoElement)return{height:e.videoHeight,width:e.videoWidth};if(e instanceof HTMLImageElement)return{height:e.naturalHeight||e.height,width:e.naturalWidth||e.width};throw new Error("Couldn't find the Source's dimensions!")},t.createCaptureCanvas=function(e){if(!e)throw new Tr("Cannot create a capture canvas without a media element.");if(typeof document>"u")throw new Error(`The page "Document" is undefined, make sure you're running in a browser.`);var r=document.createElement("canvas"),n=t.getMediaElementDimensions(e),i=n.width,a=n.height;return r.style.width=i+"px",r.style.height=a+"px",r.width=i,r.height=a,r},t.tryPlayVideo=function(e){return yr(this,void 0,void 0,function(){var r;return xr(this,function(n){switch(n.label){case 0:if(e!=null&&e.ended)return console.error("Trying to play video that has ended."),[2,!1];if(t.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2,!0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.play()];case 2:return n.sent(),[2,!0];case 3:return r=n.sent(),console.warn("It was not possible to play the video.",r),[2,!1];case 4:return[2]}})})},t.createCanvasFromMediaElement=function(e){var r=t.createCaptureCanvas(e),n=r.getContext("2d");if(!n)throw new Error("Couldn't find Canvas 2D Context.");return t.drawImageOnCanvas(n,e),r},t.createBinaryBitmapFromMediaElem=function(e){var r=t.createCanvasFromMediaElement(e);return t.createBinaryBitmapFromCanvas(r)},t.destroyImageElement=function(e){e.src="",e.removeAttribute("src"),e=void 0},t.listVideoInputDevices=function(){return yr(this,void 0,void 0,function(){var e,r,n,i,a,o,s,l,c,d,f,h;return xr(this,function(p){switch(p.label){case 0:if(!VL())throw new Error("Can't enumerate devices, navigator is not present.");if(!nce())throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=p.sent(),r=[];try{for(n=$b(e),i=n.next();!i.done;i=n.next())a=i.value,o=a.kind==="video"?"videoinput":a.kind,o==="videoinput"&&(s=a.deviceId||a.id,l=a.label||"Video device ".concat(r.length+1),c=a.groupId,d={deviceId:s,label:l,kind:o,groupId:c},r.push(d))}catch(v){f={error:v}}finally{try{i&&!i.done&&(h=n.return)&&h.call(n)}finally{if(f)throw f.error}}return[2,r]}})})},t.findDeviceById=function(e){return yr(this,void 0,void 0,function(){var r;return xr(this,function(n){switch(n.label){case 0:return[4,t.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(i){return i.deviceId===e})]:[2]}})})},t.cleanVideoSource=function(e){if(e){try{e.srcObject=null}catch{e.src=""}e&&e.removeAttribute("src")}},t.releaseAllStreams=function(){t.streamTracker.length!==0&&t.streamTracker.forEach(function(e){e.getTracks().forEach(function(r){return r.stop()})}),t.streamTracker=[]},t.playVideoOnLoadAsync=function(e,r){return yr(this,void 0,void 0,function(){var n;return xr(this,function(i){switch(i.label){case 0:return[4,t.tryPlayVideo(e)];case 1:return n=i.sent(),n?[2,!0]:[2,new Promise(function(a,o){var s=setTimeout(function(){t.isVideoPlaying(e)||(o(!1),e.removeEventListener("canplay",l))},r),l=function(){t.tryPlayVideo(e).then(function(c){clearTimeout(s),e.removeEventListener("canplay",l),a(c)})};e.addEventListener("canplay",l)})]}})})},t.attachStreamToVideo=function(e,r,n){return n===void 0&&(n=5e3),yr(this,void 0,void 0,function(){var i;return xr(this,function(a){switch(a.label){case 0:return i=t.prepareVideoElement(r),t.addVideoSource(i,e),[4,t.playVideoOnLoadAsync(i,n)];case 1:return a.sent(),[2,i]}})})},t._waitImageLoad=function(e){return new Promise(function(r,n){var i=1e4,a=setTimeout(function(){t.isImageLoaded(e)||(e.removeEventListener("load",o),n())},i),o=function(){clearTimeout(a),e.removeEventListener("load",o),r()};e.addEventListener("load",o)})},t.checkCallbackFnOrThrow=function(e){if(!e)throw new Tr("`callbackFn` is a required parameter, you cannot capture results without it.")},t.disposeMediaStream=function(e){e.getVideoTracks().forEach(function(r){return r.stop()}),e=void 0},t.prototype.decode=function(e){var r=t.createCanvasFromMediaElement(e);return this.decodeFromCanvas(r)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this.hints)},t.prototype.decodeFromCanvas=function(e){var r=t.createBinaryBitmapFromCanvas(e);return this.decodeBitmap(r)},t.prototype.decodeFromImageElement=function(e){return yr(this,void 0,void 0,function(){var r;return xr(this,function(n){switch(n.label){case 0:if(!e)throw new Tr("An image element must be provided.");return r=t.prepareImageElement(e),[4,this._decodeOnLoadImage(r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeFromImageUrl=function(e){return yr(this,void 0,void 0,function(){var r;return xr(this,function(n){switch(n.label){case 0:if(!e)throw new Tr("An URL must be provided.");r=t.prepareImageElement(),r.src=e,n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.decodeFromImageElement(r)];case 2:return[2,n.sent()];case 3:return t.destroyImageElement(r),[7];case 4:return[2]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return yr(this,void 0,void 0,function(){var i,a;return xr(this,function(o){switch(o.label){case 0:return t.checkCallbackFnOrThrow(n),[4,this.getUserMedia(e)];case 1:i=o.sent(),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,this.decodeFromStream(i,r,n)];case 3:return[2,o.sent()];case 4:throw a=o.sent(),t.disposeMediaStream(i),a;case 5:return[2]}})})},t.prototype.decodeFromStream=function(e,r,n){return yr(this,void 0,void 0,function(){var i,a,o,s,l,c,d,f,h,p=this;return xr(this,function(v){switch(v.label){case 0:return t.checkCallbackFnOrThrow(n),i=this.options.tryPlayVideoTimeout,[4,t.attachStreamToVideo(e,r,i)];case 1:return a=v.sent(),o=function(){t.disposeMediaStream(e),t.cleanVideoSource(a)},s=this.scan(a,n,o),l=e.getVideoTracks(),c=pd(pd({},s),{stop:function(){s.stop()},streamVideoConstraintsApply:function(m,g){return yr(this,void 0,void 0,function(){var y,x,w,S,_,C,E;return xr(this,function(A){switch(A.label){case 0:y=g?l.filter(g):l,A.label=1;case 1:A.trys.push([1,6,7,8]),x=$b(y),w=x.next(),A.label=2;case 2:return w.done?[3,5]:(S=w.value,[4,S.applyConstraints(m)]);case 3:A.sent(),A.label=4;case 4:return w=x.next(),[3,2];case 5:return[3,8];case 6:return _=A.sent(),C={error:_},[3,8];case 7:try{w&&!w.done&&(E=x.return)&&E.call(x)}finally{if(C)throw C.error}return[7];case 8:return[2]}})})},streamVideoConstraintsGet:function(m){return l.find(m).getConstraints()},streamVideoSettingsGet:function(m){return l.find(m).getSettings()},streamVideoCapabilitiesGet:function(m){return l.find(m).getCapabilities()}}),d=t.mediaStreamIsTorchCompatible(e),d&&(f=l==null?void 0:l.find(function(m){return t.mediaStreamIsTorchCompatibleTrack(m)}),h=function(m){return yr(p,void 0,void 0,function(){return xr(this,function(g){switch(g.label){case 0:return[4,t.mediaStreamSetTorch(f,m)];case 1:return g.sent(),[2]}})})},c.switchTorch=h,c.stop=function(){return yr(p,void 0,void 0,function(){return xr(this,function(m){switch(m.label){case 0:return s.stop(),[4,h(!1)];case 1:return m.sent(),[2]}})})}),[2,c]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return yr(this,void 0,void 0,function(){var i,a;return xr(this,function(o){switch(o.label){case 0:return t.checkCallbackFnOrThrow(n),e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,r,n)];case 1:return[2,o.sent()]}})})},t.prototype.decodeFromVideoElement=function(e,r){return yr(this,void 0,void 0,function(){var n,i;return xr(this,function(a){switch(a.label){case 0:if(t.checkCallbackFnOrThrow(r),!e)throw new Tr("A video element must be provided.");return n=t.prepareVideoElement(e),i=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(n,i)];case 1:return a.sent(),[2,this.scan(n,r)]}})})},t.prototype.decodeFromVideoUrl=function(e,r){return yr(this,void 0,void 0,function(){var n,i,a,o;return xr(this,function(s){switch(s.label){case 0:if(t.checkCallbackFnOrThrow(r),!e)throw new Tr("An URL must be provided.");return n=t.prepareVideoElement(),n.src=e,i=function(){t.cleanVideoSource(n)},a=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(n,a)];case 1:return s.sent(),o=this.scan(n,r,i),[2,o]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return yr(this,void 0,void 0,function(){var n;return xr(this,function(i){switch(i.label){case 0:return[4,this.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return yr(this,void 0,void 0,function(){var n,i,a;return xr(this,function(o){switch(o.label){case 0:return n=!!r,[4,t.attachStreamToVideo(e,r)];case 1:i=o.sent(),o.label=2;case 2:return o.trys.push([2,,4,5]),[4,this.scanOneResult(i)];case 3:return a=o.sent(),[2,a];case 4:return n||t.cleanVideoSource(i),[7];case 5:return[2]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return yr(this,void 0,void 0,function(){var n,i;return xr(this,function(a){switch(a.label){case 0:return e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,r)];case 1:return[2,a.sent()]}})})},t.prototype.decodeOnceFromVideoElement=function(e){return yr(this,void 0,void 0,function(){var r,n;return xr(this,function(i){switch(i.label){case 0:if(!e)throw new Tr("A video element must be provided.");return r=t.prepareVideoElement(e),n=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(r,n)];case 1:return i.sent(),[4,this.scanOneResult(r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromVideoUrl=function(e){return yr(this,void 0,void 0,function(){var r,n;return xr(this,function(i){switch(i.label){case 0:if(!e)throw new Tr("An URL must be provided.");r=t.prepareVideoElement(),r.src=e,n=this.decodeOnceFromVideoElement(r),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,n];case 2:return[2,i.sent()];case 3:return t.cleanVideoSource(r),[7];case 4:return[2]}})})},t.prototype.scanOneResult=function(e,r,n,i){var a=this;return r===void 0&&(r=!0),n===void 0&&(n=!0),i===void 0&&(i=!0),new Promise(function(o,s){a.scan(e,function(l,c,d){if(l){o(l),d.stop();return}if(c){if(c instanceof Z&&r||c instanceof Fr&&n||c instanceof pe&&i)return;d.stop(),s(c)}})})},t.prototype.scan=function(e,r,n){var i=this;t.checkCallbackFnOrThrow(r);var a=t.createCaptureCanvas(e),o;try{o=a.getContext("2d",{willReadFrequently:!0})}catch{o=a.getContext("2d")}if(!o)throw new Error("Couldn't create canvas for visual element scan.");var s=function(){o=void 0,a=void 0},l=!1,c,d=function(){l=!0,clearTimeout(c),s(),n&&n()},f={stop:d},h=function(){if(!l)try{t.drawImageOnCanvas(o,e);var p=i.decodeFromCanvas(a);r(p,void 0,f),c=setTimeout(h,i.options.delayBetweenScanSuccess)}catch(y){r(void 0,y,f);var v=y instanceof Fr,m=y instanceof pe,g=y instanceof Z;if(v||m||g){c=setTimeout(h,i.options.delayBetweenScanAttempts);return}s(),n&&n(y)}};return h(),f},t.prototype._decodeOnLoadImage=function(e){return yr(this,void 0,void 0,function(){var r;return xr(this,function(n){switch(n.label){case 0:return r=t.isImageLoaded(e),r?[3,2]:[4,t._waitImageLoad(e)];case 1:n.sent(),n.label=2;case 2:return[2,this.decode(e)]}})})},t.prototype.getUserMedia=function(e){return yr(this,void 0,void 0,function(){var r;return xr(this,function(n){switch(n.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return r=n.sent(),t.streamTracker.push(r),[2,r]}})})},t.streamTracker=[],t}(),ace=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){ace(e,t);function e(r,n){return t.call(this,new iy,r,n)||this}return e})(rh);var oce=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){oce(e,t);function e(r,n){return t.call(this,new fd(r),r,n)||this}return e})(rh);var sce=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){sce(e,t);function e(r,n){return t.call(this,new oy,r,n)||this}return e})(rh);var lce=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),I3=function(t){lce(e,t);function e(r,n){var i=this,a=new $L;return a.setHints(r),i=t.call(this,a,r,n)||this,i.reader=a,i}return Object.defineProperty(e.prototype,"possibleFormats",{set:function(r){this.hints.set(Zt.POSSIBLE_FORMATS,r),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e.prototype.setHints=function(r){this.hints=r,this.reader.setHints(this.hints)},e}(rh),cce=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){cce(e,t);function e(r,n){return t.call(this,new ly,r,n)||this}return e})(rh);var uce=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){uce(e,t);function e(r,n){return t.call(this,new sy,r,n)||this}return e})(rh);function dce({open:t,onOpenChange:e,onDetected:r}){const n=b.useRef(null),i=b.useRef(null),[a,o]=b.useState(!1);return b.useEffect(()=>{if(!t){if(i.current){try{i.current.reset()}catch{}i.current=null}o(!1);return}const s=new I3;return i.current=s,o(!0),(async()=>{try{const l=await I3.listVideoInputDevices(),c=l&&l.length>0?l[0].deviceId:void 0;await s.decodeFromVideoDevice(c,n.current,(d,f)=>{if(d)try{r(d.getText())}finally{s.reset(),e(!1)}})}catch{try{s.reset()}catch{}e(!1)}})(),()=>{try{s.reset()}catch{}i.current=null,o(!1)}},[t,r,e]),u.jsx(hr,{open:t,onOpenChange:e,children:u.jsxs(Jt,{className:"sm:max-w-md",children:[u.jsx(er,{children:u.jsx(tr,{children:"Scan SKU"})}),u.jsxs("div",{className:"flex flex-col gap-3",children:[u.jsx("div",{className:"w-full h-64 bg-black/5 rounded overflow-hidden flex items-center justify-center",children:u.jsx("video",{ref:n,className:"w-full h-full object-cover"})}),u.jsx("div",{className:"flex justify-end",children:u.jsx(te,{variant:"outline",onClick:()=>e(!1),children:"Close"})})]})]})})}const hi=b.forwardRef(({className:t,...e},r)=>u.jsx("textarea",{className:he("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));hi.displayName="Textarea";var qe=function(){return qe=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},qe.apply(this,arguments)};function fce(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function WL(t,e,r){for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}function Cv(t){return t.mode==="multiple"}function Ev(t){return t.mode==="range"}function hx(t){return t.mode==="single"}var hce={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function pce(t,e){return ct(t,"LLLL y",e)}function mce(t,e){return ct(t,"d",e)}function vce(t,e){return ct(t,"LLLL",e)}function gce(t){return"".concat(t)}function yce(t,e){return ct(t,"cccccc",e)}function xce(t,e){return ct(t,"yyyy",e)}var wce=Object.freeze({__proto__:null,formatCaption:pce,formatDay:mce,formatMonthCaption:vce,formatWeekNumber:gce,formatWeekdayName:yce,formatYearCaption:xce}),bce=function(t,e,r){return ct(t,"do MMMM (EEEE)",r)},_ce=function(){return"Month: "},Sce=function(){return"Go to next month"},Cce=function(){return"Go to previous month"},Ece=function(t,e){return ct(t,"cccc",e)},Ace=function(t){return"Week n. ".concat(t)},Oce=function(){return"Year: "},Nce=Object.freeze({__proto__:null,labelDay:bce,labelMonthDropdown:_ce,labelNext:Sce,labelPrevious:Cce,labelWeekNumber:Ace,labelWeekday:Ece,labelYearDropdown:Oce});function jce(){var t="buttons",e=hce,r=nL,n={},i={},a=1,o={},s=new Date;return{captionLayout:t,classNames:e,formatters:wce,labels:Nce,locale:r,modifiersClassNames:n,modifiers:i,numberOfMonths:a,styles:o,today:s,mode:"default"}}function Tce(t){var e=t.fromYear,r=t.toYear,n=t.fromMonth,i=t.toMonth,a=t.fromDate,o=t.toDate;return n?a=di(n):e&&(a=new Date(e,0,1)),i?o=XA(i):r&&(o=new Date(r,11,31)),{fromDate:a?nf(a):void 0,toDate:o?nf(o):void 0}}var zL=b.createContext(void 0);function Pce(t){var e,r=t.initialProps,n=jce(),i=Tce(r),a=i.fromDate,o=i.toDate,s=(e=r.captionLayout)!==null&&e!==void 0?e:n.captionLayout;s!=="buttons"&&(!a||!o)&&(s="buttons");var l;(hx(r)||Cv(r)||Ev(r))&&(l=r.onSelect);var c=qe(qe(qe({},n),r),{captionLayout:s,classNames:qe(qe({},n.classNames),r.classNames),components:qe({},r.components),formatters:qe(qe({},n.formatters),r.formatters),fromDate:a,labels:qe(qe({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:qe(qe({},n.modifiers),r.modifiers),modifiersClassNames:qe(qe({},n.modifiersClassNames),r.modifiersClassNames),onSelect:l,styles:qe(qe({},n.styles),r.styles),toDate:o});return u.jsx(zL.Provider,{value:c,children:t.children})}function rr(){var t=b.useContext(zL);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function HL(t){var e=rr(),r=e.locale,n=e.classNames,i=e.styles,a=e.formatters.formatCaption;return u.jsx("div",{className:n.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:a(t.displayMonth,{locale:r})})}function kce(t){return u.jsx("svg",qe({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:u.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function GL(t){var e,r,n=t.onChange,i=t.value,a=t.children,o=t.caption,s=t.className,l=t.style,c=rr(),d=(r=(e=c.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&r!==void 0?r:kce;return u.jsxs("div",{className:s,style:l,children:[u.jsx("span",{className:c.classNames.vhidden,children:t["aria-label"]}),u.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:i,onChange:n,children:a}),u.jsxs("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[o,u.jsx(d,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function Ice(t){var e,r=rr(),n=r.fromDate,i=r.toDate,a=r.styles,o=r.locale,s=r.formatters.formatMonthCaption,l=r.classNames,c=r.components,d=r.labels.labelMonthDropdown;if(!n)return u.jsx(u.Fragment,{});if(!i)return u.jsx(u.Fragment,{});var f=[];if(yie(n,i))for(var h=di(n),p=n.getMonth();p<=i.getMonth();p++)f.push(Eb(h,p));else for(var h=di(new Date),p=0;p<=11;p++)f.push(Eb(h,p));var v=function(g){var y=Number(g.target.value),x=Eb(di(t.displayMonth),y);t.onChange(x)},m=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:GL;return u.jsx(m,{name:"months","aria-label":d(),className:l.dropdown_month,style:a.dropdown_month,onChange:v,value:t.displayMonth.getMonth(),caption:s(t.displayMonth,{locale:o}),children:f.map(function(g){return u.jsx("option",{value:g.getMonth(),children:s(g,{locale:o})},g.getMonth())})})}function Rce(t){var e,r=t.displayMonth,n=rr(),i=n.fromDate,a=n.toDate,o=n.locale,s=n.styles,l=n.classNames,c=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!i)return u.jsx(u.Fragment,{});if(!a)return u.jsx(u.Fragment,{});for(var p=i.getFullYear(),v=a.getFullYear(),m=p;m<=v;m++)h.push(CP(tL(new Date),m));var g=function(x){var w=CP(di(r),Number(x.target.value));t.onChange(w)},y=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:GL;return u.jsx(y,{name:"years","aria-label":f(),className:l.dropdown_year,style:s.dropdown_year,onChange:g,value:r.getFullYear(),caption:d(r,{locale:o}),children:h.map(function(x){return u.jsx("option",{value:x.getFullYear(),children:d(x,{locale:o})},x.getFullYear())})})}function Dce(t,e){var r=b.useState(t),n=r[0],i=r[1],a=e===void 0?n:e;return[a,i]}function Mce(t){var e=t.month,r=t.defaultMonth,n=t.today,i=e||r||n||new Date,a=t.toDate,o=t.fromDate,s=t.numberOfMonths,l=s===void 0?1:s;if(a&&sm(a,i)<0){var c=-1*(l-1);i=Ya(a,c)}return o&&sm(i,o)<0&&(i=o),di(i)}function $ce(){var t=rr(),e=Mce(t),r=Dce(e,t.month),n=r[0],i=r[1],a=function(o){var s;if(!t.disableNavigation){var l=di(o);i(l),(s=t.onMonthChange)===null||s===void 0||s.call(t,l)}};return[n,a]}function Lce(t,e){for(var r=e.reverseMonths,n=e.numberOfMonths,i=di(t),a=di(Ya(i,n)),o=sm(a,i),s=[],l=0;l<o;l++){var c=Ya(i,l);s.push(c)}return r&&(s=s.reverse()),s}function Fce(t,e){if(!e.disableNavigation){var r=e.toDate,n=e.pagedNavigation,i=e.numberOfMonths,a=i===void 0?1:i,o=n?a:1,s=di(t);if(!r)return Ya(s,o);var l=sm(r,t);if(!(l<a))return Ya(s,o)}}function Bce(t,e){if(!e.disableNavigation){var r=e.fromDate,n=e.pagedNavigation,i=e.numberOfMonths,a=i===void 0?1:i,o=n?a:1,s=di(t);if(!r)return Ya(s,-o);var l=sm(s,r);if(!(l<=0))return Ya(s,-o)}}var qL=b.createContext(void 0);function Uce(t){var e=rr(),r=$ce(),n=r[0],i=r[1],a=Lce(n,e),o=Fce(n,e),s=Bce(n,e),l=function(f){return a.some(function(h){return ZA(f,h)})},c=function(f,h){l(f)||(h&&lL(f,h)?i(Ya(f,1+e.numberOfMonths*-1)):i(f))},d={currentMonth:n,displayMonths:a,goToMonth:i,goToDate:c,previousMonth:s,nextMonth:o,isDateDisplayed:l};return u.jsx(qL.Provider,{value:d,children:t.children})}function Av(){var t=b.useContext(qL);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function R3(t){var e,r=rr(),n=r.classNames,i=r.styles,a=r.components,o=Av().goToMonth,s=function(d){o(Ya(d,t.displayIndex?-t.displayIndex:0))},l=(e=a==null?void 0:a.CaptionLabel)!==null&&e!==void 0?e:HL,c=u.jsx(l,{id:t.id,displayMonth:t.displayMonth});return u.jsxs("div",{className:n.caption_dropdowns,style:i.caption_dropdowns,children:[u.jsx("div",{className:n.vhidden,children:c}),u.jsx(Ice,{onChange:s,displayMonth:t.displayMonth}),u.jsx(Rce,{onChange:s,displayMonth:t.displayMonth})]})}function Vce(t){return u.jsx("svg",qe({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:u.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Wce(t){return u.jsx("svg",qe({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:u.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var uy=b.forwardRef(function(t,e){var r=rr(),n=r.classNames,i=r.styles,a=[n.button_reset,n.button];t.className&&a.push(t.className);var o=a.join(" "),s=qe(qe({},i.button_reset),i.button);return t.style&&Object.assign(s,t.style),u.jsx("button",qe({},t,{ref:e,type:"button",className:o,style:s}))});function zce(t){var e,r,n=rr(),i=n.dir,a=n.locale,o=n.classNames,s=n.styles,l=n.labels,c=l.labelPrevious,d=l.labelNext,f=n.components;if(!t.nextMonth&&!t.previousMonth)return u.jsx(u.Fragment,{});var h=c(t.previousMonth,{locale:a}),p=[o.nav_button,o.nav_button_previous].join(" "),v=d(t.nextMonth,{locale:a}),m=[o.nav_button,o.nav_button_next].join(" "),g=(e=f==null?void 0:f.IconRight)!==null&&e!==void 0?e:Wce,y=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:Vce;return u.jsxs("div",{className:o.nav,style:s.nav,children:[!t.hidePrevious&&u.jsx(uy,{name:"previous-month","aria-label":h,className:p,style:s.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?u.jsx(g,{className:o.nav_icon,style:s.nav_icon}):u.jsx(y,{className:o.nav_icon,style:s.nav_icon})}),!t.hideNext&&u.jsx(uy,{name:"next-month","aria-label":v,className:m,style:s.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?u.jsx(y,{className:o.nav_icon,style:s.nav_icon}):u.jsx(g,{className:o.nav_icon,style:s.nav_icon})})]})}function D3(t){var e=rr().numberOfMonths,r=Av(),n=r.previousMonth,i=r.nextMonth,a=r.goToMonth,o=r.displayMonths,s=o.findIndex(function(v){return ZA(t.displayMonth,v)}),l=s===0,c=s===o.length-1,d=e>1&&(l||!c),f=e>1&&(c||!l),h=function(){n&&a(n)},p=function(){i&&a(i)};return u.jsx(zce,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:f,nextMonth:i,previousMonth:n,onPreviousClick:h,onNextClick:p})}function Hce(t){var e,r=rr(),n=r.classNames,i=r.disableNavigation,a=r.styles,o=r.captionLayout,s=r.components,l=(e=s==null?void 0:s.CaptionLabel)!==null&&e!==void 0?e:HL,c;return i?c=u.jsx(l,{id:t.id,displayMonth:t.displayMonth}):o==="dropdown"?c=u.jsx(R3,{displayMonth:t.displayMonth,id:t.id}):o==="dropdown-buttons"?c=u.jsxs(u.Fragment,{children:[u.jsx(R3,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),u.jsx(D3,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):c=u.jsxs(u.Fragment,{children:[u.jsx(l,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),u.jsx(D3,{displayMonth:t.displayMonth,id:t.id})]}),u.jsx("div",{className:n.caption,style:a.caption,children:c})}function Gce(t){var e=rr(),r=e.footer,n=e.styles,i=e.classNames.tfoot;return r?u.jsx("tfoot",{className:i,style:n.tfoot,children:u.jsx("tr",{children:u.jsx("td",{colSpan:8,children:r})})}):u.jsx(u.Fragment,{})}function qce(t,e,r){for(var n=r?nu(new Date):Ao(new Date,{locale:t,weekStartsOn:e}),i=[],a=0;a<7;a++){var o=Vn(n,a);i.push(o)}return i}function Kce(){var t=rr(),e=t.classNames,r=t.styles,n=t.showWeekNumber,i=t.locale,a=t.weekStartsOn,o=t.ISOWeek,s=t.formatters.formatWeekdayName,l=t.labels.labelWeekday,c=qce(i,a,o);return u.jsxs("tr",{style:r.head_row,className:e.head_row,children:[n&&u.jsx("td",{style:r.head_cell,className:e.head_cell}),c.map(function(d,f){return u.jsx("th",{scope:"col",className:e.head_cell,style:r.head_cell,"aria-label":l(d,{locale:i}),children:s(d,{locale:i})},f)})]})}function Xce(){var t,e=rr(),r=e.classNames,n=e.styles,i=e.components,a=(t=i==null?void 0:i.HeadRow)!==null&&t!==void 0?t:Kce;return u.jsx("thead",{style:n.head,className:r.head,children:u.jsx(a,{})})}function Yce(t){var e=rr(),r=e.locale,n=e.formatters.formatDay;return u.jsx(u.Fragment,{children:n(t.date,{locale:r})})}var hO=b.createContext(void 0);function Zce(t){if(!Cv(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return u.jsx(hO.Provider,{value:e,children:t.children})}return u.jsx(Qce,{initialProps:t.initialProps,children:t.children})}function Qce(t){var e=t.initialProps,r=t.children,n=e.selected,i=e.min,a=e.max,o=function(c,d,f){var h,p;(h=e.onDayClick)===null||h===void 0||h.call(e,c,d,f);var v=!!(d.selected&&i&&(n==null?void 0:n.length)===i);if(!v){var m=!!(!d.selected&&a&&(n==null?void 0:n.length)===a);if(!m){var g=n?WL([],n):[];if(d.selected){var y=g.findIndex(function(x){return oi(c,x)});g.splice(y,1)}else g.push(c);(p=e.onSelect)===null||p===void 0||p.call(e,g,c,d,f)}}},s={disabled:[]};n&&s.disabled.push(function(c){var d=a&&n.length>a-1,f=n.some(function(h){return oi(h,c)});return!!(d&&!f)});var l={selected:n,onDayClick:o,modifiers:s};return u.jsx(hO.Provider,{value:l,children:r})}function pO(){var t=b.useContext(hO);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function Jce(t,e){var r=e||{},n=r.from,i=r.to;return n&&i?oi(i,t)&&oi(n,t)?void 0:oi(i,t)?{from:i,to:void 0}:oi(n,t)?void 0:eS(n,t)?{from:t,to:i}:{from:n,to:t}:i?eS(t,i)?{from:i,to:t}:{from:t,to:i}:n?lL(t,n)?{from:t,to:n}:{from:n,to:t}:{from:t,to:void 0}}var mO=b.createContext(void 0);function eue(t){if(!Ev(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return u.jsx(mO.Provider,{value:e,children:t.children})}return u.jsx(tue,{initialProps:t.initialProps,children:t.children})}function tue(t){var e=t.initialProps,r=t.children,n=e.selected,i=n||{},a=i.from,o=i.to,s=e.min,l=e.max,c=function(p,v,m){var g,y;(g=e.onDayClick)===null||g===void 0||g.call(e,p,v,m);var x=Jce(p,n);(y=e.onSelect)===null||y===void 0||y.call(e,x,p,v,m)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(d.range_start=[a],o?(d.range_end=[o],oi(a,o)||(d.range_middle=[{after:a,before:o}])):d.range_end=[a]):o&&(d.range_start=[o],d.range_end=[o]),s&&(a&&!o&&d.disabled.push({after:Cb(a,s-1),before:Vn(a,s-1)}),a&&o&&d.disabled.push({after:a,before:Vn(a,s-1)}),!a&&o&&d.disabled.push({after:Cb(o,s-1),before:Vn(o,s-1)})),l){if(a&&!o&&(d.disabled.push({before:Vn(a,-l+1)}),d.disabled.push({after:Vn(a,l-1)})),a&&o){var f=po(o,a)+1,h=l-f;d.disabled.push({before:Cb(a,h)}),d.disabled.push({after:Vn(o,h)})}!a&&o&&(d.disabled.push({before:Vn(o,-l+1)}),d.disabled.push({after:Vn(o,l-1)}))}return u.jsx(mO.Provider,{value:{selected:n,onDayClick:c,modifiers:d},children:r})}function vO(){var t=b.useContext(mO);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function cg(t){return Array.isArray(t)?WL([],t):t!==void 0?[t]:[]}function rue(t){var e={};return Object.entries(t).forEach(function(r){var n=r[0],i=r[1];e[n]=cg(i)}),e}var Za;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(Za||(Za={}));var nue=Za.Selected,Bo=Za.Disabled,iue=Za.Hidden,aue=Za.Today,Lb=Za.RangeEnd,Fb=Za.RangeMiddle,Bb=Za.RangeStart,oue=Za.Outside;function sue(t,e,r){var n,i=(n={},n[nue]=cg(t.selected),n[Bo]=cg(t.disabled),n[iue]=cg(t.hidden),n[aue]=[t.today],n[Lb]=[],n[Fb]=[],n[Bb]=[],n[oue]=[],n);return t.fromDate&&i[Bo].push({before:t.fromDate}),t.toDate&&i[Bo].push({after:t.toDate}),Cv(t)?i[Bo]=i[Bo].concat(e.modifiers[Bo]):Ev(t)&&(i[Bo]=i[Bo].concat(r.modifiers[Bo]),i[Bb]=r.modifiers[Bb],i[Fb]=r.modifiers[Fb],i[Lb]=r.modifiers[Lb]),i}var KL=b.createContext(void 0);function lue(t){var e=rr(),r=pO(),n=vO(),i=sue(e,r,n),a=rue(e.modifiers),o=qe(qe({},i),a);return u.jsx(KL.Provider,{value:o,children:t.children})}function XL(){var t=b.useContext(KL);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function cue(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function uue(t){return!!(t&&typeof t=="object"&&"from"in t)}function due(t){return!!(t&&typeof t=="object"&&"after"in t)}function fue(t){return!!(t&&typeof t=="object"&&"before"in t)}function hue(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function pue(t,e){var r,n=e.from,i=e.to;if(n&&i){var a=po(i,n)<0;a&&(r=[i,n],n=r[0],i=r[1]);var o=po(t,n)>=0&&po(i,t)>=0;return o}return i?oi(i,t):n?oi(n,t):!1}function mue(t){return KA(t)}function vue(t){return Array.isArray(t)&&t.every(KA)}function gue(t,e){return e.some(function(r){if(typeof r=="boolean")return r;if(mue(r))return oi(t,r);if(vue(r))return r.includes(t);if(uue(r))return pue(t,r);if(hue(r))return r.dayOfWeek.includes(t.getDay());if(cue(r)){var n=po(r.before,t),i=po(r.after,t),a=n>0,o=i<0,s=eS(r.before,r.after);return s?o&&a:a||o}return due(r)?po(t,r.after)>0:fue(r)?po(r.before,t)>0:typeof r=="function"?r(t):!1})}function gO(t,e,r){var n=Object.keys(e).reduce(function(a,o){var s=e[o];return gue(t,s)&&a.push(o),a},[]),i={};return n.forEach(function(a){return i[a]=!0}),r&&!ZA(t,r)&&(i.outside=!0),i}function yue(t,e){for(var r=di(t[0]),n=XA(t[t.length-1]),i,a,o=r;o<=n;){var s=gO(o,e),l=!s.disabled&&!s.hidden;if(!l){o=Vn(o,1);continue}if(s.selected)return o;s.today&&!a&&(a=o),i||(i=o),o=Vn(o,1)}return a||i}var xue=365;function YL(t,e){var r=e.moveBy,n=e.direction,i=e.context,a=e.modifiers,o=e.retry,s=o===void 0?{count:0,lastFocused:t}:o,l=i.weekStartsOn,c=i.fromDate,d=i.toDate,f=i.locale,h={day:Vn,week:J2,month:Ya,year:pne,startOfWeek:function(g){return i.ISOWeek?nu(g):Ao(g,{locale:f,weekStartsOn:l})},endOfWeek:function(g){return i.ISOWeek?rL(g):YA(g,{locale:f,weekStartsOn:l})}},p=h[r](t,n==="after"?1:-1);n==="before"&&c?p=mne([c,p]):n==="after"&&d&&(p=vne([d,p]));var v=!0;if(a){var m=gO(p,a);v=!m.disabled&&!m.hidden}return v?p:s.count>xue?s.lastFocused:YL(p,{moveBy:r,direction:n,context:i,modifiers:a,retry:qe(qe({},s),{count:s.count+1})})}var ZL=b.createContext(void 0);function wue(t){var e=Av(),r=XL(),n=b.useState(),i=n[0],a=n[1],o=b.useState(),s=o[0],l=o[1],c=yue(e.displayMonths,r),d=i??(s&&e.isDateDisplayed(s))?s:c,f=function(){l(i),a(void 0)},h=function(g){a(g)},p=rr(),v=function(g,y){if(i){var x=YL(i,{moveBy:g,direction:y,context:p,modifiers:r});oi(i,x)||(e.goToDate(x,i),h(x))}},m={focusedDay:i,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return v("day","after")},focusDayBefore:function(){return v("day","before")},focusWeekAfter:function(){return v("week","after")},focusWeekBefore:function(){return v("week","before")},focusMonthBefore:function(){return v("month","before")},focusMonthAfter:function(){return v("month","after")},focusYearBefore:function(){return v("year","before")},focusYearAfter:function(){return v("year","after")},focusStartOfWeek:function(){return v("startOfWeek","before")},focusEndOfWeek:function(){return v("endOfWeek","after")}};return u.jsx(ZL.Provider,{value:m,children:t.children})}function yO(){var t=b.useContext(ZL);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function bue(t,e){var r=XL(),n=gO(t,r,e);return n}var xO=b.createContext(void 0);function _ue(t){if(!hx(t.initialProps)){var e={selected:void 0};return u.jsx(xO.Provider,{value:e,children:t.children})}return u.jsx(Sue,{initialProps:t.initialProps,children:t.children})}function Sue(t){var e=t.initialProps,r=t.children,n=function(a,o,s){var l,c,d;if((l=e.onDayClick)===null||l===void 0||l.call(e,a,o,s),o.selected&&!e.required){(c=e.onSelect)===null||c===void 0||c.call(e,void 0,a,o,s);return}(d=e.onSelect)===null||d===void 0||d.call(e,a,a,o,s)},i={selected:e.selected,onDayClick:n};return u.jsx(xO.Provider,{value:i,children:r})}function QL(){var t=b.useContext(xO);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function Cue(t,e){var r=rr(),n=QL(),i=pO(),a=vO(),o=yO(),s=o.focusDayAfter,l=o.focusDayBefore,c=o.focusWeekAfter,d=o.focusWeekBefore,f=o.blur,h=o.focus,p=o.focusMonthBefore,v=o.focusMonthAfter,m=o.focusYearBefore,g=o.focusYearAfter,y=o.focusStartOfWeek,x=o.focusEndOfWeek,w=function(M){var j,R,V,W;hx(r)?(j=n.onDayClick)===null||j===void 0||j.call(n,t,e,M):Cv(r)?(R=i.onDayClick)===null||R===void 0||R.call(i,t,e,M):Ev(r)?(V=a.onDayClick)===null||V===void 0||V.call(a,t,e,M):(W=r.onDayClick)===null||W===void 0||W.call(r,t,e,M)},S=function(M){var j;h(t),(j=r.onDayFocus)===null||j===void 0||j.call(r,t,e,M)},_=function(M){var j;f(),(j=r.onDayBlur)===null||j===void 0||j.call(r,t,e,M)},C=function(M){var j;(j=r.onDayMouseEnter)===null||j===void 0||j.call(r,t,e,M)},E=function(M){var j;(j=r.onDayMouseLeave)===null||j===void 0||j.call(r,t,e,M)},A=function(M){var j;(j=r.onDayPointerEnter)===null||j===void 0||j.call(r,t,e,M)},O=function(M){var j;(j=r.onDayPointerLeave)===null||j===void 0||j.call(r,t,e,M)},T=function(M){var j;(j=r.onDayTouchCancel)===null||j===void 0||j.call(r,t,e,M)},N=function(M){var j;(j=r.onDayTouchEnd)===null||j===void 0||j.call(r,t,e,M)},P=function(M){var j;(j=r.onDayTouchMove)===null||j===void 0||j.call(r,t,e,M)},$=function(M){var j;(j=r.onDayTouchStart)===null||j===void 0||j.call(r,t,e,M)},D=function(M){var j;(j=r.onDayKeyUp)===null||j===void 0||j.call(r,t,e,M)},F=function(M){var j;switch(M.key){case"ArrowLeft":M.preventDefault(),M.stopPropagation(),r.dir==="rtl"?s():l();break;case"ArrowRight":M.preventDefault(),M.stopPropagation(),r.dir==="rtl"?l():s();break;case"ArrowDown":M.preventDefault(),M.stopPropagation(),c();break;case"ArrowUp":M.preventDefault(),M.stopPropagation(),d();break;case"PageUp":M.preventDefault(),M.stopPropagation(),M.shiftKey?m():p();break;case"PageDown":M.preventDefault(),M.stopPropagation(),M.shiftKey?g():v();break;case"Home":M.preventDefault(),M.stopPropagation(),y();break;case"End":M.preventDefault(),M.stopPropagation(),x();break}(j=r.onDayKeyDown)===null||j===void 0||j.call(r,t,e,M)},L={onClick:w,onFocus:S,onBlur:_,onKeyDown:F,onKeyUp:D,onMouseEnter:C,onMouseLeave:E,onPointerEnter:A,onPointerLeave:O,onTouchCancel:T,onTouchEnd:N,onTouchMove:P,onTouchStart:$};return L}function Eue(){var t=rr(),e=QL(),r=pO(),n=vO(),i=hx(t)?e.selected:Cv(t)?r.selected:Ev(t)?n.selected:void 0;return i}function Aue(t){return Object.values(Za).includes(t)}function Oue(t,e){var r=[t.classNames.day];return Object.keys(e).forEach(function(n){var i=t.modifiersClassNames[n];if(i)r.push(i);else if(Aue(n)){var a=t.classNames["day_".concat(n)];a&&r.push(a)}}),r}function Nue(t,e){var r=qe({},t.styles.day);return Object.keys(e).forEach(function(n){var i;r=qe(qe({},r),(i=t.modifiersStyles)===null||i===void 0?void 0:i[n])}),r}function jue(t,e,r){var n,i,a,o=rr(),s=yO(),l=bue(t,e),c=Cue(t,l),d=Eue(),f=!!(o.onDayClick||o.mode!=="default");b.useEffect(function(){var C;l.outside||s.focusedDay&&f&&oi(s.focusedDay,t)&&((C=r.current)===null||C===void 0||C.focus())},[s.focusedDay,t,r,f,l.outside]);var h=Oue(o,l).join(" "),p=Nue(o,l),v=!!(l.outside&&!o.showOutsideDays||l.hidden),m=(a=(i=o.components)===null||i===void 0?void 0:i.DayContent)!==null&&a!==void 0?a:Yce,g=u.jsx(m,{date:t,displayMonth:e,activeModifiers:l}),y={style:p,className:h,children:g,role:"gridcell"},x=s.focusTarget&&oi(s.focusTarget,t)&&!l.outside,w=s.focusedDay&&oi(s.focusedDay,t),S=qe(qe(qe({},y),(n={disabled:l.disabled,role:"gridcell"},n["aria-selected"]=l.selected,n.tabIndex=w||x?0:-1,n)),c),_={isButton:f,isHidden:v,activeModifiers:l,selectedDays:d,buttonProps:S,divProps:y};return _}function Tue(t){var e=b.useRef(null),r=jue(t.date,t.displayMonth,e);return r.isHidden?u.jsx("div",{role:"gridcell"}):r.isButton?u.jsx(uy,qe({name:"day",ref:e},r.buttonProps)):u.jsx("div",qe({},r.divProps))}function Pue(t){var e=t.number,r=t.dates,n=rr(),i=n.onWeekNumberClick,a=n.styles,o=n.classNames,s=n.locale,l=n.labels.labelWeekNumber,c=n.formatters.formatWeekNumber,d=c(Number(e),{locale:s});if(!i)return u.jsx("span",{className:o.weeknumber,style:a.weeknumber,children:d});var f=l(Number(e),{locale:s}),h=function(p){i(e,r,p)};return u.jsx(uy,{name:"week-number","aria-label":f,className:o.weeknumber,style:a.weeknumber,onClick:h,children:d})}function kue(t){var e,r,n=rr(),i=n.styles,a=n.classNames,o=n.showWeekNumber,s=n.components,l=(e=s==null?void 0:s.Day)!==null&&e!==void 0?e:Tue,c=(r=s==null?void 0:s.WeekNumber)!==null&&r!==void 0?r:Pue,d;return o&&(d=u.jsx("td",{className:a.cell,style:i.cell,children:u.jsx(c,{number:t.weekNumber,dates:t.dates})})),u.jsxs("tr",{className:a.row,style:i.row,children:[d,t.dates.map(function(f){return u.jsx("td",{className:a.cell,style:i.cell,role:"presentation",children:u.jsx(l,{displayMonth:t.displayMonth,date:f})},mie(f))})]})}function M3(t,e,r){for(var n=r!=null&&r.ISOWeek?rL(e):YA(e,r),i=r!=null&&r.ISOWeek?nu(t):Ao(t,r),a=po(n,i),o=[],s=0;s<=a;s++)o.push(Vn(i,s));var l=o.reduce(function(c,d){var f=r!=null&&r.ISOWeek?iL(d):oL(d,r),h=c.find(function(p){return p.weekNumber===f});return h?(h.dates.push(d),c):(c.push({weekNumber:f,dates:[d]}),c)},[]);return l}function Iue(t,e){var r=M3(di(t),XA(t),e);if(e!=null&&e.useFixedWeeks){var n=gie(t,e);if(n<6){var i=r[r.length-1],a=i.dates[i.dates.length-1],o=J2(a,6-n),s=M3(J2(a,1),o,e);r.push.apply(r,s)}}return r}function Rue(t){var e,r,n,i=rr(),a=i.locale,o=i.classNames,s=i.styles,l=i.hideHead,c=i.fixedWeeks,d=i.components,f=i.weekStartsOn,h=i.firstWeekContainsDate,p=i.ISOWeek,v=Iue(t.displayMonth,{useFixedWeeks:!!c,ISOWeek:p,locale:a,weekStartsOn:f,firstWeekContainsDate:h}),m=(e=d==null?void 0:d.Head)!==null&&e!==void 0?e:Xce,g=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:kue,y=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:Gce;return u.jsxs("table",{id:t.id,className:o.table,style:s.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!l&&u.jsx(m,{}),u.jsx("tbody",{className:o.tbody,style:s.tbody,children:v.map(function(x){return u.jsx(g,{displayMonth:t.displayMonth,dates:x.dates,weekNumber:x.weekNumber},x.weekNumber)})}),u.jsx(y,{displayMonth:t.displayMonth})]})}function Due(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Mue=Due()?b.useLayoutEffect:b.useEffect,Ub=!1,$ue=0;function $3(){return"react-day-picker-".concat(++$ue)}function Lue(t){var e,r=t??(Ub?$3():null),n=b.useState(r),i=n[0],a=n[1];return Mue(function(){i===null&&a($3())},[]),b.useEffect(function(){Ub===!1&&(Ub=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function Fue(t){var e,r,n=rr(),i=n.dir,a=n.classNames,o=n.styles,s=n.components,l=Av().displayMonths,c=Lue(n.id?"".concat(n.id,"-").concat(t.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(t.displayIndex):void 0,f=[a.month],h=o.month,p=t.displayIndex===0,v=t.displayIndex===l.length-1,m=!p&&!v;i==="rtl"&&(e=[p,v],v=e[0],p=e[1]),p&&(f.push(a.caption_start),h=qe(qe({},h),o.caption_start)),v&&(f.push(a.caption_end),h=qe(qe({},h),o.caption_end)),m&&(f.push(a.caption_between),h=qe(qe({},h),o.caption_between));var g=(r=s==null?void 0:s.Caption)!==null&&r!==void 0?r:Hce;return u.jsxs("div",{className:f.join(" "),style:h,children:[u.jsx(g,{id:c,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),u.jsx(Rue,{id:d,"aria-labelledby":c,displayMonth:t.displayMonth})]},t.displayIndex)}function Bue(t){var e=rr(),r=e.classNames,n=e.styles;return u.jsx("div",{className:r.months,style:n.months,children:t.children})}function Uue(t){var e,r,n=t.initialProps,i=rr(),a=yO(),o=Av(),s=b.useState(!1),l=s[0],c=s[1];b.useEffect(function(){i.initialFocus&&a.focusTarget&&(l||(a.focus(a.focusTarget),c(!0)))},[i.initialFocus,l,a.focus,a.focusTarget,a]);var d=[i.classNames.root,i.className];i.numberOfMonths>1&&d.push(i.classNames.multiple_months),i.showWeekNumber&&d.push(i.classNames.with_weeknumber);var f=qe(qe({},i.styles.root),i.style),h=Object.keys(n).filter(function(v){return v.startsWith("data-")}).reduce(function(v,m){var g;return qe(qe({},v),(g={},g[m]=n[m],g))},{}),p=(r=(e=n.components)===null||e===void 0?void 0:e.Months)!==null&&r!==void 0?r:Bue;return u.jsx("div",qe({className:d.join(" "),style:f,dir:i.dir,id:i.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:u.jsx(p,{children:o.displayMonths.map(function(v,m){return u.jsx(Fue,{displayIndex:m,displayMonth:v},m)})})}))}function Vue(t){var e=t.children,r=fce(t,["children"]);return u.jsx(Pce,{initialProps:r,children:u.jsx(Uce,{children:u.jsx(_ue,{initialProps:r,children:u.jsx(Zce,{initialProps:r,children:u.jsx(eue,{initialProps:r,children:u.jsx(lue,{children:u.jsx(wue,{children:e})})})})})})})}function Wue(t){return u.jsx(Vue,qe({},t,{children:u.jsx(Uue,{initialProps:t})}))}function JL({className:t,classNames:e,showOutsideDays:r=!0,...n}){return u.jsx(Wue,{showOutsideDays:r,className:he("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:he(im({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:he(im({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...i})=>u.jsx(tA,{className:"h-4 w-4"}),IconRight:({...i})=>u.jsx(F1,{className:"h-4 w-4"})},...n})}JL.displayName="Calendar";const zue=nv("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function L3({className:t,variant:e,...r}){return u.jsx("div",{className:he(zue({variant:e}),t),...r})}var e7="AlertDialog",[Hue,dMe]=vn(e7,[D5]),Ps=D5(),t7=t=>{const{__scopeAlertDialog:e,...r}=t,n=Ps(e);return u.jsx(DA,{...n,...r,modal:!0})};t7.displayName=e7;var Gue="AlertDialogTrigger",que=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Ps(r);return u.jsx(MA,{...i,...n,ref:e})});que.displayName=Gue;var Kue="AlertDialogPortal",r7=t=>{const{__scopeAlertDialog:e,...r}=t,n=Ps(e);return u.jsx($A,{...n,...r})};r7.displayName=Kue;var Xue="AlertDialogOverlay",n7=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Ps(r);return u.jsx(fv,{...i,...n,ref:e})});n7.displayName=Xue;var Td="AlertDialogContent",[Yue,Zue]=Hue(Td),Que=vM("AlertDialogContent"),i7=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...i}=t,a=Ps(r),o=b.useRef(null),s=Ke(e,o),l=b.useRef(null);return u.jsx(Ete,{contentName:Td,titleName:a7,docsSlug:"alert-dialog",children:u.jsx(Yue,{scope:r,cancelRef:l,children:u.jsxs(hv,{role:"alertdialog",...a,...i,ref:s,onOpenAutoFocus:ae(i.onOpenAutoFocus,c=>{var d;c.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[u.jsx(Que,{children:n}),u.jsx(ede,{contentRef:o})]})})})});i7.displayName=Td;var a7="AlertDialogTitle",o7=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Ps(r);return u.jsx(pv,{...i,...n,ref:e})});o7.displayName=a7;var s7="AlertDialogDescription",l7=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Ps(r);return u.jsx(mv,{...i,...n,ref:e})});l7.displayName=s7;var Jue="AlertDialogAction",c7=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Ps(r);return u.jsx(nx,{...i,...n,ref:e})});c7.displayName=Jue;var u7="AlertDialogCancel",d7=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:i}=Zue(u7,r),a=Ps(r),o=Ke(e,i);return u.jsx(nx,{...a,...n,ref:o})});d7.displayName=u7;var ede=({contentRef:t})=>{const e=`\`${Td}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Td}\` by passing a \`${s7}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Td}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return b.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},tde=t7,rde=r7,f7=n7,h7=i7,p7=c7,m7=d7,v7=o7,g7=l7;const Bl=tde,nde=rde,y7=b.forwardRef(({className:t,...e},r)=>u.jsx(f7,{className:he("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));y7.displayName=f7.displayName;const xs=b.forwardRef(({className:t,...e},r)=>u.jsxs(nde,{children:[u.jsx(y7,{}),u.jsx(h7,{ref:r,className:he("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));xs.displayName=h7.displayName;const ws=({className:t,...e})=>u.jsx("div",{className:he("flex flex-col space-y-2 text-center sm:text-left",t),...e});ws.displayName="AlertDialogHeader";const bs=({className:t,...e})=>u.jsx("div",{className:he("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});bs.displayName="AlertDialogFooter";const _s=b.forwardRef(({className:t,...e},r)=>u.jsx(v7,{ref:r,className:he("text-lg font-semibold",t),...e}));_s.displayName=v7.displayName;const Ss=b.forwardRef(({className:t,...e},r)=>u.jsx(g7,{ref:r,className:he("text-sm text-muted-foreground",t),...e}));Ss.displayName=g7.displayName;const Cs=b.forwardRef(({className:t,...e},r)=>u.jsx(p7,{ref:r,className:he(im(),t),...e}));Cs.displayName=p7.displayName;const Es=b.forwardRef(({className:t,...e},r)=>u.jsx(m7,{ref:r,className:he(im({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Es.displayName=m7.displayName;const Bi=Eie,x7=b.createContext({}),_e=({...t})=>u.jsx(x7.Provider,{value:{name:t.name},children:u.jsx(jie,{...t})}),px=()=>{const t=b.useContext(x7),e=b.useContext(w7),{getFieldState:r,formState:n}=lx(),i=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:a}=e;return{id:a,name:t.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...i}},w7=b.createContext({}),we=b.forwardRef(({className:t,...e},r)=>{const n=b.useId();return u.jsx(w7.Provider,{value:{id:n},children:u.jsx("div",{ref:r,className:he("space-y-2",t),...e})})});we.displayName="FormItem";const xe=b.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:i}=px();return u.jsx(ur,{ref:r,className:he(n&&"text-destructive",t),htmlFor:i,...e})});xe.displayName="FormLabel";const be=b.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:i,formMessageId:a}=px();return u.jsx(pM,{ref:e,id:n,"aria-describedby":r?`${i} ${a}`:`${i}`,"aria-invalid":!!r,...t})});be.displayName="FormControl";const b7=b.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=px();return u.jsx("p",{ref:r,id:n,className:he("text-sm text-muted-foreground",t),...e})});b7.displayName="FormDescription";const Se=b.forwardRef(({className:t,children:e,...r},n)=>{const{error:i,formMessageId:a}=px(),o=i?String(i==null?void 0:i.message):e;return o?u.jsx("p",{ref:n,id:a,className:he("text-sm font-medium text-destructive",t),...r,children:o}):null});Se.displayName="FormMessage";function yS(t,[e,r]){return Math.min(r,Math.max(e,t))}function wO(t){const e=b.useRef({value:t,previous:t});return b.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var ide=[" ","Enter","ArrowUp","ArrowDown"],ade=[" ","Enter"],au="Select",[mx,vx,ode]=tv(au),[nh,fMe]=vn(au,[ode,Hl]),gx=Hl(),[sde,Gl]=nh(au),[lde,cde]=nh(au),_7=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:a,value:o,defaultValue:s,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:h,required:p,form:v}=t,m=gx(e),[g,y]=b.useState(null),[x,w]=b.useState(null),[S,_]=b.useState(!1),C=_u(c),[E,A]=Di({prop:n,defaultProp:i??!1,onChange:a,caller:au}),[O,T]=Di({prop:o,defaultProp:s,onChange:l,caller:au}),N=b.useRef(null),P=g?v||!!g.closest("form"):!0,[$,D]=b.useState(new Set),F=Array.from($).map(L=>L.props.value).join(";");return u.jsx(xA,{...m,children:u.jsxs(sde,{required:p,scope:e,trigger:g,onTriggerChange:y,valueNode:x,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:_,contentId:Ti(),value:O,onValueChange:T,open:E,onOpenChange:A,dir:C,triggerPointerDownPosRef:N,disabled:h,children:[u.jsx(mx.Provider,{scope:e,children:u.jsx(lde,{scope:t.__scopeSelect,onNativeOptionAdd:b.useCallback(L=>{D(M=>new Set(M).add(L))},[]),onNativeOptionRemove:b.useCallback(L=>{D(M=>{const j=new Set(M);return j.delete(L),j})},[]),children:r})}),P?u.jsxs(G7,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:O,onChange:L=>T(L.target.value),disabled:h,form:v,children:[O===void 0?u.jsx("option",{value:""}):null,Array.from($)]},F):null]})})};_7.displayName=au;var S7="SelectTrigger",C7=b.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,a=gx(r),o=Gl(S7,r),s=o.disabled||n,l=Ke(e,o.onTriggerChange),c=vx(r),d=b.useRef("touch"),[f,h,p]=K7(m=>{const g=c().filter(w=>!w.disabled),y=g.find(w=>w.value===o.value),x=X7(g,m,y);x!==void 0&&o.onValueChange(x.value)}),v=m=>{s||(o.onOpenChange(!0),p()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return u.jsx(sv,{asChild:!0,...a,children:u.jsx(Pe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":q7(o.value)?"":void 0,...i,ref:l,onClick:ae(i.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&v(m)}),onPointerDown:ae(i.onPointerDown,m=>{d.current=m.pointerType;const g=m.target;g.hasPointerCapture(m.pointerId)&&g.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(v(m),m.preventDefault())}),onKeyDown:ae(i.onKeyDown,m=>{const g=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(g&&m.key===" ")&&ide.includes(m.key)&&(v(),m.preventDefault())})})})});C7.displayName=S7;var E7="SelectValue",A7=b.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:o="",...s}=t,l=Gl(E7,r),{onValueNodeHasChildrenChange:c}=l,d=a!==void 0,f=Ke(e,l.onValueNodeChange);return on(()=>{c(d)},[c,d]),u.jsx(Pe.span,{...s,ref:f,style:{pointerEvents:"none"},children:q7(l.value)?u.jsx(u.Fragment,{children:o}):a})});A7.displayName=E7;var ude="SelectIcon",O7=b.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return u.jsx(Pe.span,{"aria-hidden":!0,...i,ref:e,children:n||""})});O7.displayName=ude;var dde="SelectPortal",N7=t=>u.jsx(zf,{asChild:!0,...t});N7.displayName=dde;var ou="SelectContent",j7=b.forwardRef((t,e)=>{const r=Gl(ou,t.__scopeSelect),[n,i]=b.useState();if(on(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?pu.createPortal(u.jsx(T7,{scope:t.__scopeSelect,children:u.jsx(mx.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),a):null}return u.jsx(P7,{...t,ref:e})});j7.displayName=ou;var Oa=10,[T7,ql]=nh(ou),fde="SelectContentImpl",hde=Rl("SelectContent.RemoveScroll"),P7=b.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:s,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:v,hideWhenDetached:m,avoidCollisions:g,...y}=t,x=Gl(ou,r),[w,S]=b.useState(null),[_,C]=b.useState(null),E=Ke(e,J=>S(J)),[A,O]=b.useState(null),[T,N]=b.useState(null),P=vx(r),[$,D]=b.useState(!1),F=b.useRef(!1);b.useEffect(()=>{if(w)return tx(w)},[w]),J1();const L=b.useCallback(J=>{const[me,...ee]=P().map(X=>X.ref.current),[ne]=ee.slice(-1),ve=document.activeElement;for(const X of J)if(X===ve||(X==null||X.scrollIntoView({block:"nearest"}),X===me&&_&&(_.scrollTop=0),X===ne&&_&&(_.scrollTop=_.scrollHeight),X==null||X.focus(),document.activeElement!==ve))return},[P,_]),M=b.useCallback(()=>L([A,w]),[L,A,w]);b.useEffect(()=>{$&&M()},[$,M]);const{onOpenChange:j,triggerPointerDownPosRef:R}=x;b.useEffect(()=>{if(w){let J={x:0,y:0};const me=ne=>{var ve,X;J={x:Math.abs(Math.round(ne.pageX)-(((ve=R.current)==null?void 0:ve.x)??0)),y:Math.abs(Math.round(ne.pageY)-(((X=R.current)==null?void 0:X.y)??0))}},ee=ne=>{J.x<=10&&J.y<=10?ne.preventDefault():w.contains(ne.target)||j(!1),document.removeEventListener("pointermove",me),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",me),document.addEventListener("pointerup",ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",me),document.removeEventListener("pointerup",ee,{capture:!0})}}},[w,j,R]),b.useEffect(()=>{const J=()=>j(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[j]);const[V,W]=K7(J=>{const me=P().filter(ve=>!ve.disabled),ee=me.find(ve=>ve.ref.current===document.activeElement),ne=X7(me,J,ee);ne&&setTimeout(()=>ne.ref.current.focus())}),z=b.useCallback((J,me,ee)=>{const ne=!F.current&&!ee;(x.value!==void 0&&x.value===me||ne)&&(O(J),ne&&(F.current=!0))},[x.value]),K=b.useCallback(()=>w==null?void 0:w.focus(),[w]),re=b.useCallback((J,me,ee)=>{const ne=!F.current&&!ee;(x.value!==void 0&&x.value===me||ne)&&N(J)},[x.value]),ue=n==="popper"?xS:k7,le=ue===xS?{side:s,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:v,hideWhenDetached:m,avoidCollisions:g}:{};return u.jsx(T7,{scope:r,content:w,viewport:_,onViewportChange:C,itemRefCallback:z,selectedItem:A,onItemLeave:K,itemTextRefCallback:re,focusSelectedItem:M,selectedItemText:T,position:n,isPositioned:$,searchRef:V,children:u.jsx(dv,{as:hde,allowPinchZoom:!0,children:u.jsx(uv,{asChild:!0,trapped:x.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:ae(i,J=>{var me;(me=x.trigger)==null||me.focus({preventScroll:!0}),J.preventDefault()}),children:u.jsx(mu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:u.jsx(ue,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:J=>J.preventDefault(),...y,...le,onPlaced:()=>D(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:ae(y.onKeyDown,J=>{const me=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!me&&J.key.length===1&&W(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let ne=P().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);if(["ArrowUp","End"].includes(J.key)&&(ne=ne.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const ve=J.target,X=ne.indexOf(ve);ne=ne.slice(X+1)}setTimeout(()=>L(ne)),J.preventDefault()}})})})})})})});P7.displayName=fde;var pde="SelectItemAlignedPosition",k7=b.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,a=Gl(ou,r),o=ql(ou,r),[s,l]=b.useState(null),[c,d]=b.useState(null),f=Ke(e,E=>d(E)),h=vx(r),p=b.useRef(!1),v=b.useRef(!0),{viewport:m,selectedItem:g,selectedItemText:y,focusSelectedItem:x}=o,w=b.useCallback(()=>{if(a.trigger&&a.valueNode&&s&&c&&m&&g&&y){const E=a.trigger.getBoundingClientRect(),A=c.getBoundingClientRect(),O=a.valueNode.getBoundingClientRect(),T=y.getBoundingClientRect();if(a.dir!=="rtl"){const ve=T.left-A.left,X=O.left-ve,q=E.left-X,ie=E.width+q,Ve=Math.max(ie,A.width),it=window.innerWidth-Oa,St=yS(X,[Oa,Math.max(Oa,it-Ve)]);s.style.minWidth=ie+"px",s.style.left=St+"px"}else{const ve=A.right-T.right,X=window.innerWidth-O.right-ve,q=window.innerWidth-E.right-X,ie=E.width+q,Ve=Math.max(ie,A.width),it=window.innerWidth-Oa,St=yS(X,[Oa,Math.max(Oa,it-Ve)]);s.style.minWidth=ie+"px",s.style.right=St+"px"}const N=h(),P=window.innerHeight-Oa*2,$=m.scrollHeight,D=window.getComputedStyle(c),F=parseInt(D.borderTopWidth,10),L=parseInt(D.paddingTop,10),M=parseInt(D.borderBottomWidth,10),j=parseInt(D.paddingBottom,10),R=F+L+$+j+M,V=Math.min(g.offsetHeight*5,R),W=window.getComputedStyle(m),z=parseInt(W.paddingTop,10),K=parseInt(W.paddingBottom,10),re=E.top+E.height/2-Oa,ue=P-re,le=g.offsetHeight/2,J=g.offsetTop+le,me=F+L+J,ee=R-me;if(me<=re){const ve=N.length>0&&g===N[N.length-1].ref.current;s.style.bottom="0px";const X=c.clientHeight-m.offsetTop-m.offsetHeight,q=Math.max(ue,le+(ve?K:0)+X+M),ie=me+q;s.style.height=ie+"px"}else{const ve=N.length>0&&g===N[0].ref.current;s.style.top="0px";const q=Math.max(re,F+m.offsetTop+(ve?z:0)+le)+ee;s.style.height=q+"px",m.scrollTop=me-re+m.offsetTop}s.style.margin=`${Oa}px 0`,s.style.minHeight=V+"px",s.style.maxHeight=P+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,a.trigger,a.valueNode,s,c,m,g,y,a.dir,n]);on(()=>w(),[w]);const[S,_]=b.useState();on(()=>{c&&_(window.getComputedStyle(c).zIndex)},[c]);const C=b.useCallback(E=>{E&&v.current===!0&&(w(),x==null||x(),v.current=!1)},[w,x]);return u.jsx(vde,{scope:r,contentWrapper:s,shouldExpandOnScrollRef:p,onScrollButtonChange:C,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:u.jsx(Pe.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});k7.displayName=pde;var mde="SelectPopperPosition",xS=b.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=Oa,...a}=t,o=gx(r);return u.jsx(H1,{...o,...a,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});xS.displayName=mde;var[vde,bO]=nh(ou,{}),wS="SelectViewport",I7=b.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,a=ql(wS,r),o=bO(wS,r),s=Ke(e,a.onViewportChange),l=b.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),u.jsx(mx.Slot,{scope:r,children:u.jsx(Pe.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:ae(i.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const p=Math.abs(l.current-d.scrollTop);if(p>0){const v=window.innerHeight-Oa*2,m=parseFloat(f.style.minHeight),g=parseFloat(f.style.height),y=Math.max(m,g);if(y<v){const x=y+p,w=Math.min(v,x),S=x-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});I7.displayName=wS;var R7="SelectGroup",[gde,yde]=nh(R7),xde=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=Ti();return u.jsx(gde,{scope:r,id:i,children:u.jsx(Pe.div,{role:"group","aria-labelledby":i,...n,ref:e})})});xde.displayName=R7;var D7="SelectLabel",M7=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=yde(D7,r);return u.jsx(Pe.div,{id:i.id,...n,ref:e})});M7.displayName=D7;var dy="SelectItem",[wde,$7]=nh(dy),L7=b.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...o}=t,s=Gl(dy,r),l=ql(dy,r),c=s.value===n,[d,f]=b.useState(a??""),[h,p]=b.useState(!1),v=Ke(e,x=>{var w;return(w=l.itemRefCallback)==null?void 0:w.call(l,x,n,i)}),m=Ti(),g=b.useRef("touch"),y=()=>{i||(s.onValueChange(n),s.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(wde,{scope:r,value:n,disabled:i,textId:m,isSelected:c,onItemTextChange:b.useCallback(x=>{f(w=>w||((x==null?void 0:x.textContent)??"").trim())},[]),children:u.jsx(mx.ItemSlot,{scope:r,value:n,disabled:i,textValue:d,children:u.jsx(Pe.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:v,onFocus:ae(o.onFocus,()=>p(!0)),onBlur:ae(o.onBlur,()=>p(!1)),onClick:ae(o.onClick,()=>{g.current!=="mouse"&&y()}),onPointerUp:ae(o.onPointerUp,()=>{g.current==="mouse"&&y()}),onPointerDown:ae(o.onPointerDown,x=>{g.current=x.pointerType}),onPointerMove:ae(o.onPointerMove,x=>{var w;g.current=x.pointerType,i?(w=l.onItemLeave)==null||w.call(l):g.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ae(o.onPointerLeave,x=>{var w;x.currentTarget===document.activeElement&&((w=l.onItemLeave)==null||w.call(l))}),onKeyDown:ae(o.onKeyDown,x=>{var S;((S=l.searchRef)==null?void 0:S.current)!==""&&x.key===" "||(ade.includes(x.key)&&y(),x.key===" "&&x.preventDefault())})})})})});L7.displayName=dy;var ip="SelectItemText",F7=b.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...a}=t,o=Gl(ip,r),s=ql(ip,r),l=$7(ip,r),c=cde(ip,r),[d,f]=b.useState(null),h=Ke(e,y=>f(y),l.onItemTextChange,y=>{var x;return(x=s.itemTextRefCallback)==null?void 0:x.call(s,y,l.value,l.disabled)}),p=d==null?void 0:d.textContent,v=b.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:g}=c;return on(()=>(m(v),()=>g(v)),[m,g,v]),u.jsxs(u.Fragment,{children:[u.jsx(Pe.span,{id:l.textId,...a,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?pu.createPortal(a.children,o.valueNode):null]})});F7.displayName=ip;var B7="SelectItemIndicator",U7=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return $7(B7,r).isSelected?u.jsx(Pe.span,{"aria-hidden":!0,...n,ref:e}):null});U7.displayName=B7;var bS="SelectScrollUpButton",V7=b.forwardRef((t,e)=>{const r=ql(bS,t.__scopeSelect),n=bO(bS,t.__scopeSelect),[i,a]=b.useState(!1),o=Ke(e,n.onScrollButtonChange);return on(()=>{if(r.viewport&&r.isPositioned){let s=function(){const c=l.scrollTop>0;a(c)};const l=r.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),i?u.jsx(z7,{...t,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=r;s&&l&&(s.scrollTop=s.scrollTop-l.offsetHeight)}}):null});V7.displayName=bS;var _S="SelectScrollDownButton",W7=b.forwardRef((t,e)=>{const r=ql(_S,t.__scopeSelect),n=bO(_S,t.__scopeSelect),[i,a]=b.useState(!1),o=Ke(e,n.onScrollButtonChange);return on(()=>{if(r.viewport&&r.isPositioned){let s=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;a(d)};const l=r.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),i?u.jsx(z7,{...t,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=r;s&&l&&(s.scrollTop=s.scrollTop+l.offsetHeight)}}):null});W7.displayName=_S;var z7=b.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,a=ql("SelectScrollButton",r),o=b.useRef(null),s=vx(r),l=b.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return b.useEffect(()=>()=>l(),[l]),on(()=>{var d;const c=s().find(f=>f.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[s]),u.jsx(Pe.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:ae(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:ae(i.onPointerMove,()=>{var c;(c=a.onItemLeave)==null||c.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:ae(i.onPointerLeave,()=>{l()})})}),bde="SelectSeparator",H7=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return u.jsx(Pe.div,{"aria-hidden":!0,...n,ref:e})});H7.displayName=bde;var SS="SelectArrow",_de=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=gx(r),a=Gl(SS,r),o=ql(SS,r);return a.open&&o.position==="popper"?u.jsx(G1,{...i,...n,ref:e}):null});_de.displayName=SS;var Sde="SelectBubbleInput",G7=b.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const i=b.useRef(null),a=Ke(n,i),o=wO(e);return b.useEffect(()=>{const s=i.current;if(!s)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&d){const f=new Event("change",{bubbles:!0});d.call(s,e),s.dispatchEvent(f)}},[o,e]),u.jsx(Pe.select,{...r,style:{...wM,...r.style},ref:a,defaultValue:e})});G7.displayName=Sde;function q7(t){return t===""||t===void 0}function K7(t){const e=Ir(t),r=b.useRef(""),n=b.useRef(0),i=b.useCallback(o=>{const s=r.current+o;e(s),function l(c){r.current=c,window.clearTimeout(n.current),c!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(s)},[e]),a=b.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function X7(t,e,r){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let o=Cde(t,Math.max(a,0));i.length===1&&(o=o.filter(c=>c!==r));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==r?l:void 0}function Cde(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var Ede=_7,Y7=C7,Ade=A7,Ode=O7,Nde=N7,Z7=j7,jde=I7,Q7=M7,J7=L7,Tde=F7,Pde=U7,e9=V7,t9=W7,r9=H7;const zt=Ede,Ht=Ade,Ut=b.forwardRef(({className:t,children:e,...r},n)=>u.jsxs(Y7,{ref:n,className:he("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,u.jsx(Ode,{asChild:!0,children:u.jsx(Xc,{className:"h-4 w-4 opacity-50"})})]}));Ut.displayName=Y7.displayName;const n9=b.forwardRef(({className:t,...e},r)=>u.jsx(e9,{ref:r,className:he("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(Gp,{className:"h-4 w-4"})}));n9.displayName=e9.displayName;const i9=b.forwardRef(({className:t,...e},r)=>u.jsx(t9,{ref:r,className:he("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(Xc,{className:"h-4 w-4"})}));i9.displayName=t9.displayName;const Vt=b.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>u.jsx(Nde,{children:u.jsxs(Z7,{ref:i,className:he("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[u.jsx(n9,{}),u.jsx(jde,{className:he("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(i9,{})]})}));Vt.displayName=Z7.displayName;const kde=b.forwardRef(({className:t,...e},r)=>u.jsx(Q7,{ref:r,className:he("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));kde.displayName=Q7.displayName;const Me=b.forwardRef(({className:t,children:e,...r},n)=>u.jsxs(J7,{ref:n,className:he("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(Pde,{children:u.jsx(L1,{className:"h-4 w-4"})})}),u.jsx(Tde,{children:e})]}));Me.displayName=J7.displayName;const Ide=b.forwardRef(({className:t,...e},r)=>u.jsx(r9,{ref:r,className:he("-mx-1 my-1 h-px bg-muted",t),...e}));Ide.displayName=r9.displayName;var yx="Popover",[a9,hMe]=vn(yx,[Hl]),Ov=Hl(),[Rde,Kl]=a9(yx),o9=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!1}=t,s=Ov(e),l=b.useRef(null),[c,d]=b.useState(!1),[f,h]=Di({prop:n,defaultProp:i??!1,onChange:a,caller:yx});return u.jsx(xA,{...s,children:u.jsx(Rde,{scope:e,contentId:Ti(),triggerRef:l,open:f,onOpenChange:h,onOpenToggle:b.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:c,onCustomAnchorAdd:b.useCallback(()=>d(!0),[]),onCustomAnchorRemove:b.useCallback(()=>d(!1),[]),modal:o,children:r})})};o9.displayName=yx;var s9="PopoverAnchor",Dde=b.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Kl(s9,r),a=Ov(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:s}=i;return b.useEffect(()=>(o(),()=>s()),[o,s]),u.jsx(sv,{...a,...n,ref:e})});Dde.displayName=s9;var l9="PopoverTrigger",c9=b.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Kl(l9,r),a=Ov(r),o=Ke(e,i.triggerRef),s=u.jsx(Pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":p9(i.open),...n,ref:o,onClick:ae(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?s:u.jsx(sv,{asChild:!0,...a,children:s})});c9.displayName=l9;var _O="PopoverPortal",[Mde,$de]=a9(_O,{forceMount:void 0}),u9=t=>{const{__scopePopover:e,forceMount:r,children:n,container:i}=t,a=Kl(_O,e);return u.jsx(Mde,{scope:e,forceMount:r,children:u.jsx(sn,{present:r||a.open,children:u.jsx(zf,{asChild:!0,container:i,children:n})})})};u9.displayName=_O;var df="PopoverContent",d9=b.forwardRef((t,e)=>{const r=$de(df,t.__scopePopover),{forceMount:n=r.forceMount,...i}=t,a=Kl(df,t.__scopePopover);return u.jsx(sn,{present:n||a.open,children:a.modal?u.jsx(Fde,{...i,ref:e}):u.jsx(Bde,{...i,ref:e})})});d9.displayName=df;var Lde=Rl("PopoverContent.RemoveScroll"),Fde=b.forwardRef((t,e)=>{const r=Kl(df,t.__scopePopover),n=b.useRef(null),i=Ke(e,n),a=b.useRef(!1);return b.useEffect(()=>{const o=n.current;if(o)return tx(o)},[]),u.jsx(dv,{as:Lde,allowPinchZoom:!0,children:u.jsx(f9,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ae(t.onCloseAutoFocus,o=>{var s;o.preventDefault(),a.current||(s=r.triggerRef.current)==null||s.focus()}),onPointerDownOutside:ae(t.onPointerDownOutside,o=>{const s=o.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0,c=s.button===2||l;a.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:ae(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Bde=b.forwardRef((t,e)=>{const r=Kl(df,t.__scopePopover),n=b.useRef(!1),i=b.useRef(!1);return u.jsx(f9,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,s;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(n.current||(s=r.triggerRef.current)==null||s.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((c=r.triggerRef.current)==null?void 0:c.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),f9=b.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:d,...f}=t,h=Kl(df,r),p=Ov(r);return J1(),u.jsx(uv,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:u.jsx(mu,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>h.onOpenChange(!1),children:u.jsx(H1,{"data-state":p9(h.open),role:"dialog",id:h.contentId,...p,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),h9="PopoverClose",Ude=b.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Kl(h9,r);return u.jsx(Pe.button,{type:"button",...n,ref:e,onClick:ae(t.onClick,()=>i.onOpenChange(!1))})});Ude.displayName=h9;var Vde="PopoverArrow",Wde=b.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Ov(r);return u.jsx(G1,{...i,...n,ref:e})});Wde.displayName=Vde;function p9(t){return t?"open":"closed"}var zde=o9,Hde=c9,Gde=u9,m9=d9;const qde=zde,Kde=Hde,v9=b.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},i)=>u.jsx(Gde,{children:u.jsx(m9,{ref:i,align:e,sideOffset:r,className:he("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));v9.displayName=m9.displayName;const Xde={parameters:["customer.name","order.order_number"]},Yde={parameters:["customer.name","order.order_number","store.address","gps"]},Zde={parameters:["customer.name","feedback_link"]},Uo={wa_work_initiation:Xde,wa_order_ready:Yde,feedback:Zde};function ih(){const{toast:t}=Vr(),e=pi();function r(){return"https://szburzfibchvdyxksokr.supabase.co/functions/v1/whatsapp-proxy"||"http://localhost:4001"}const{data:n=[],isLoading:i,error:a}=Wi({queryKey:["orders"],queryFn:async()=>{const{data:d,error:f}=await Ne.from("orders").select(`
          *,
          customer:customers(id, name, phone, vip_status),
          store:stores(id, name),
          assigned_employee:employees(id, name)
        `).order("created_at",{ascending:!1});if(f)throw f;return d}}),o=dt({mutationFn:async d=>{const{data:f,error:h}=await Ne.from("orders").insert(d).select().single();if(h)throw h;return f},onSuccess:()=>{e.invalidateQueries({queryKey:["orders"]}),t({title:"Order created",description:"The order has been created successfully."})},onError:d=>{t({title:"Error",description:d.message,variant:"destructive"})}}),s=dt({mutationFn:async({id:d,status:f})=>{const{data:h,error:p}=await Ne.from("orders").update({status:f}).eq("id",d).select().single();if(p)throw p;return h},onSuccess:async d=>{var f,h,p,v,m,g,y,x,w,S,_,C,E,A,O,T;e.invalidateQueries({queryKey:["orders"]}),t({title:"Order updated",description:"The order status has been updated."});try{if(d&&d.status==="ready_for_pickup"){const{data:N,error:P}=await Ne.from("orders").select("id, order_number, customer:customers(id, name, phone), store:stores(id, name, address)").eq("id",d.id).single();if(!N||P||!N.customer)Xi("missing order/customer details (ready)",P);else{const $=N.customer.phone||"",D=wp($),F=r();if(!D)ar("no or invalid customer phone (ready)",{orderId:N.id});else{const L=(f=Uo==null?void 0:Uo.wa_order_ready)==null?void 0:f.parameters;if(L&&L.length>0){const M=L.map(z=>{var le;if(z==="gps")return{type:"text",text:"Required Update"};const K=z.split(".");let re={order:N,customer:N.customer,store:N.store};for(const J of K)if(re&&typeof re=="object"&&J in re)re=re[J];else{re=void 0;break}return z==="store.address"&&(!re||String(re).trim()==="")&&(re=((le=N.store)==null?void 0:le.name)||"-"),{type:"text",text:re!=null&&String(re).trim()?String(re):"-"}}),j=[{type:"body",parameters:M}];ar("sending wa_order_ready",{to:D,paramsLength:M.length}),ar("sending payload",{to:D,template:"wa_order_ready",paramsLength:M.length});let R=`${F}/api/whatsapp/send`;const V=await Aa(R,{method:"POST",body:JSON.stringify({to:D,template:"wa_order_ready",language:"en",components:j})}),W=await V.text().catch(()=>null);V.ok?ar("wa_order_ready sent",{to:D,status:V.status}):Xi("wa_order_ready send failed",{to:D,status:V.status,body:W})}else try{const M=await Aa(`${F}/api/whatsapp/templates/wa_order_ready?language=en_US`),j=await M.json().catch(()=>null);ar("template definition response",{status:M.status});let R=2;try{const J=j&&(((h=j.data)==null?void 0:h[0])||j[0]||j.template||j),me=((p=J==null?void 0:J.components)==null?void 0:p.find(ne=>(ne.type||ne.name||"").toLowerCase()==="body"))||((v=J==null?void 0:J.components)==null?void 0:v.find(ne=>(ne.type||"").toLowerCase()==="text")),ee=(me==null?void 0:me.text)||(me==null?void 0:me.text_template)||(me==null?void 0:me.example)||void 0;if(typeof ee=="string"){const ne=ee.match(/\{\{\s*\d+\s*\}\}/g)||ee.match(/\{\{\s*[^}]+\s*\}\}/g);ne&&ne.length&&(R=ne.length)}else me!=null&&me.example&&Array.isArray(me.example)&&(R=me.example.length)}catch{}const V=[];V.push({type:"text",text:N.customer.name||""}),V.push({type:"text",text:N.order_number||""});const W=((m=N.store)==null?void 0:m.address)||((g=N.store)==null?void 0:g.name)||"-";V.push({type:"text",text:W}),V.push({type:"text",text:"Required Update"});const z=["-","-","-"];for(let J=V.length;J<R;J++)V.push({type:"text",text:z[J-V.length]||"-"});const re={to:D,template:"wa_order_ready",language:"en",components:[{type:"body",parameters:V}]};ar("sending fallback payload",{to:D,template:"wa_order_ready",paramsLength:V.length});let ue=`${F}/api/whatsapp/send`;const le=await Aa(ue,{method:"POST",body:JSON.stringify(re)});if(le.ok){const J=await le.text().catch(()=>null);ar("wa_order_ready sent (fallback)",{to:D,status:le.status})}else{const J=await le.text().catch(()=>null);Xi("wa_order_ready send failed (fallback)",{status:le.status,body:J})}}catch(M){Xi("proxy unreachable or template fetch failed  skipping send",{err:M&&M.message?M.message:M})}}}}}catch(N){bp("WhatsApp trigger error (ready_for_pickup)",N&&N.message?N.message:N)}try{if(d&&d.status==="completed"){const{data:N,error:P}=await Ne.from("orders").select("id, order_number, customer:customers(id, name, phone), store:stores(id, name, address)").eq("id",d.id).single();if(!N||P||!N.customer)Xi("missing order/customer details (completed)",P);else{const $=N.customer.phone||"",D=wp($),F=r();if(!D)ar("no or invalid customer phone (completed)",{orderId:N.id});else{const L=(y=Uo==null?void 0:Uo.feedback)==null?void 0:y.parameters;if(L&&L.length>0){const M=L.map(W=>{if(W==="feedback_link")return{type:"text",text:"Required Update"};const z=W.split(".");let K={order:N,customer:N.customer,store:N.store};for(const ue of z)if(K&&typeof K=="object"&&ue in K)K=K[ue];else{K=void 0;break}return{type:"text",text:K!=null&&String(K).trim()?String(K):"-"}}),j=[{type:"body",parameters:M}];ar("sending feedback using mapping",{to:D,paramsLength:M.length});const R=await Aa(`${F}/api/whatsapp/send`,{method:"POST",body:JSON.stringify({to:D,template:"feedback",language:"en",components:j})}),V=await R.text().catch(()=>null);R.ok?ar("feedback sent",{to:D,status:R.status}):Xi("feedback send failed",{to:D,status:R.status,body:V})}else try{const j=[{type:"body",parameters:[{type:"text",text:N.customer.name||""},{type:"text",text:"Required Update"}]}];ar("sending feedback fallback",{to:D});const R=await Aa(`${F}/api/whatsapp/send`,{method:"POST",body:JSON.stringify({to:D,template:"feedback",language:"en",components:j})}),V=await R.text().catch(()=>null);R.ok?ar("feedback sent (fallback)",{to:D,status:R.status}):Xi("feedback send failed (fallback)",{to:D,status:R.status,body:V})}catch(M){Xi("proxy unreachable or template fetch failed  skipping feedback send",{err:M&&M.message?M.message:M})}}}}}catch(N){bp("WhatsApp trigger error (completed)",N&&N.message?N.message:N)}try{if(!d||d.status!=="in_production")return;const{data:N,error:P}=await Ne.from("orders").select("id, order_number, customer:customers(id, name, phone), store:stores(id, name), due_date").eq("id",d.id).single();if(P||!N||!N.customer){Xi("missing order/customer details (in_production)",P);return}const $=N.customer.phone||"",D=wp($),F=r();if(!D){ar("no or invalid customer phone (in_production)",{orderId:N.id});return}const L=(x=Uo==null?void 0:Uo.wa_work_initiation)==null?void 0:x.parameters;if(L&&L.length>0){const M=L.map(W=>{const z=W.split(".");let K={order:N,customer:N.customer};for(const ue of z)if(K&&typeof K=="object"&&ue in K)K=K[ue];else{K=void 0;break}return{type:"text",text:K!=null&&String(K).trim()?String(K):"-"}}),j=[{type:"body",parameters:M}];ar("sending wa_work_initiation using mapping",{to:D,paramsLength:M.length});const R=await Aa(`${F}/api/whatsapp/send`,{method:"POST",body:JSON.stringify({to:D,template:"wa_work_initiation",language:"en",components:j})}),V=await R.text().catch(()=>null);ar("work_initiation response",{status:R.status});return}try{const M=await Aa(`${F}/api/whatsapp/templates/wa_work_initiation?language=en_US`),j=await M.json().catch(()=>null);ar("template definition response",{status:M.status});let R=3;j&&j.data&&Array.isArray(j.data)&&j.data.length===0&&(R=2);try{const ue=j&&(((w=j.data)==null?void 0:w[0])||j[0]||j.template||j),le=((S=ue==null?void 0:ue.components)==null?void 0:S.find(me=>(me.type||me.name||"").toLowerCase()==="body"))||((_=ue==null?void 0:ue.components)==null?void 0:_.find(me=>(me.type||"").toLowerCase()==="text")),J=(le==null?void 0:le.text)||(le==null?void 0:le.text_template)||(le==null?void 0:le.example)||void 0;if(typeof J=="string"){const me=J.match(/\{\{\s*\d+\s*\}\}/g)||J.match(/\{\{\s*[^}]+\s*\}\}/g);me&&me.length&&(R=me.length)}else le!=null&&le.example&&Array.isArray(le.example)&&(R=le.example.length)}catch{}const V=[];V.push({type:"text",text:N.customer.name||""}),V.push({type:"text",text:N.order_number||""}),V.push({type:"text",text:"In Production"});const W=[((C=N.store)==null?void 0:C.name)||"",N.due_date?new Date(N.due_date).toISOString().split("T")[0]:"","-"];for(let ue=V.length;ue<R;ue++){const le=W[ue-V.length]||"-";V.push({type:"text",text:le})}const z=[{type:"body",parameters:V}];ar("sending wa_work_initiation",{to:D,expectedParams:R,paramsLength:V.length});const K={to:D,template:"wa_work_initiation",language:"en",components:z},re=await Aa(`${F}/api/whatsapp/send`,{method:"POST",body:JSON.stringify(K)});if(re.ok){const ue=await re.text().catch(()=>null);ar("work initiation response",{status:re.status})}else{const ue=await re.text().catch(()=>null);let le=null;try{le=ue?JSON.parse(ue):null}catch{le=null}Xi("work initiation send failed",{status:re.status,body:le||ue});const J=((E=le==null?void 0:le.error)==null?void 0:E.code)??(le==null?void 0:le.code),me=((O=(A=le==null?void 0:le.error)==null?void 0:A.error_data)==null?void 0:O.details)||((T=le==null?void 0:le.error)==null?void 0:T.details)||"";if(J===132e3&&typeof me=="string"){const ee=me.match(/expected number of params \((\d+)\)/i)||me.match(/expected number of params \((\d+)\)/i),ne=ee?Number(ee[1]):null;if(ne&&ne<V.length){const ve=V.slice(0,ne);ar("retrying with trimmed params length",ne);const X={...K,components:[{type:"body",parameters:ve}]},q=await Aa(`${F}/api/whatsapp/send`,{method:"POST",body:JSON.stringify(X)}),ie=await q.text().catch(()=>null);ar("proxy retry response",{status:q.status})}}}}catch(M){Xi("proxy unreachable or template fetch failed  skipping WA send",{err:M&&M.message?M.message:M});return}}catch(N){bp("WhatsApp trigger error (in_production)",N&&N.message?N.message:N)}},onError:d=>{t({title:"Error",description:d.message,variant:"destructive"})}}),l=dt({mutationFn:async({id:d,...f})=>{const{data:h,error:p}=await Ne.from("orders").update(f).eq("id",d).select().single();if(p)throw p;return h},onSuccess:()=>{e.invalidateQueries({queryKey:["orders"]}),t({title:"Order updated",description:"The order has been updated."})},onError:d=>{t({title:"Error",description:d.message,variant:"destructive"})}}),c=dt({mutationFn:async d=>{const{error:f}=await Ne.from("orders").update({status:"cancelled"}).eq("id",d);if(f)throw f},onSuccess:()=>{e.invalidateQueries({queryKey:["orders"]}),t({title:"Order cancelled",description:"The order has been cancelled."})},onError:d=>{t({title:"Error",description:d.message,variant:"destructive"})}});return{orders:n,isLoading:i,error:a,createOrder:o,updateOrderStatus:s,updateOrder:l,deleteOrder:c}}function Nv(){const{toast:t}=Vr(),e=pi(),{data:r=[],isLoading:n,error:i}=Wi({queryKey:["customers"],queryFn:async()=>{const{data:l,error:c}=await Ne.from("customers").select("*").order("created_at",{ascending:!1});if(c)throw c;return l}}),a=dt({mutationFn:async l=>{const{data:c,error:d}=await Ne.from("customers").insert(l).select().single();if(d)throw d;return c},onSuccess:()=>{e.invalidateQueries({queryKey:["customers"]}),t({title:"Customer created",description:"The customer has been added successfully."})},onError:l=>{t({title:"Error",description:l.message,variant:"destructive"})}}),o=dt({mutationFn:async({id:l,...c})=>{const{data:d,error:f}=await Ne.from("customers").update(c).eq("id",l).select().single();if(f)throw f;return d},onSuccess:()=>{e.invalidateQueries({queryKey:["customers"]}),t({title:"Customer updated",description:"The customer has been updated successfully."})},onError:l=>{t({title:"Error",description:l.message,variant:"destructive"})}}),s=dt({mutationFn:async l=>{const{error:c}=await Ne.from("customers").delete().eq("id",l);if(c)throw c},onSuccess:()=>{e.invalidateQueries({queryKey:["customers"]}),t({title:"Customer deleted",description:"The customer has been removed."})},onError:l=>{t({title:"Error",description:l.message,variant:"destructive"})}});return{customers:r,isLoading:n,error:i,createCustomer:a,updateCustomer:o,deleteCustomer:s}}function eo(){const{toast:t}=Vr(),e=pi(),{data:r=[],isLoading:n,error:i}=Wi({queryKey:["stores"],queryFn:async()=>{const{data:l,error:c}=await Ne.from("stores").select("*").eq("is_active",!0).order("name");if(c)throw c;return l}}),a=dt({mutationFn:async l=>{const{data:c,error:d}=await Ne.from("stores").insert(l).select().single();if(d)throw d;return c},onSuccess:()=>{e.invalidateQueries({queryKey:["stores"]}),t({title:"Store created",description:"The store has been added successfully."})},onError:l=>{t({title:"Error",description:l.message,variant:"destructive"})}}),o=dt({mutationFn:async({id:l,...c})=>{const{data:d,error:f}=await Ne.from("stores").update(c).eq("id",l).select().single();if(f)throw f;return d},onSuccess:()=>{e.invalidateQueries({queryKey:["stores"]}),t({title:"Store updated",description:"The store has been updated."})},onError:l=>{t({title:"Error",description:l.message,variant:"destructive"})}}),s=dt({mutationFn:async l=>{const{error:c}=await Ne.from("stores").update({is_active:!1}).eq("id",l);if(c)throw c},onSuccess:()=>{e.invalidateQueries({queryKey:["stores"]}),t({title:"Store deactivated",description:"The store has been deactivated."})},onError:l=>{t({title:"Error",description:l.message,variant:"destructive"})}});return{stores:r,isLoading:n,error:i,createStore:a,updateStore:o,deleteStore:s}}function xx(){const{toast:t}=Vr(),e=pi(),{data:r=[],isLoading:n,error:i}=Wi({queryKey:["employees"],queryFn:async()=>{const{data:f,error:h}=await Ne.from("employees").select(`
          *,
          store:stores(id, name)
        `).order("is_active",{ascending:!1}).order("name");if(h)throw h;return f}}),a=r.filter(f=>f.is_active),o=dt({mutationFn:async f=>{const{data:h,error:p}=await Ne.from("employees").insert(f).select().single();if(p)throw p;return h},onSuccess:()=>{e.invalidateQueries({queryKey:["employees"]}),t({title:"Employee added",description:"The employee has been added successfully."})},onError:f=>{t({title:"Error",description:f.message,variant:"destructive"})}}),s=dt({mutationFn:async({id:f,...h})=>{const{data:p,error:v}=await Ne.from("employees").update(h).eq("id",f).select().single();if(v)throw v;return p},onSuccess:()=>{e.invalidateQueries({queryKey:["employees"]}),t({title:"Employee updated",description:"The employee has been updated successfully."})},onError:f=>{t({title:"Error",description:f.message,variant:"destructive"})}}),l=dt({mutationFn:async f=>{const{error:h}=await Ne.from("employees").update({is_active:!1}).eq("id",f);if(h)throw h},onSuccess:()=>{e.invalidateQueries({queryKey:["employees"]}),t({title:"Employee deactivated",description:"The employee has been deactivated."})},onError:f=>{t({title:"Error",description:f.message,variant:"destructive"})}}),c=dt({mutationFn:async f=>{const{error:h}=await Ne.from("employees").update({is_active:!0}).eq("id",f);if(h)throw h},onSuccess:()=>{e.invalidateQueries({queryKey:["employees"]}),t({title:"Employee reactivated",description:"The employee is now active again."})},onError:f=>{t({title:"Error",description:f.message,variant:"destructive"})}}),d=dt({mutationFn:async f=>{const{error:h}=await Ne.from("employees").delete().eq("id",f);if(h)throw h},onSuccess:()=>{e.invalidateQueries({queryKey:["employees"]}),t({title:"Employee deleted",description:"The employee has been permanently deleted."})},onError:f=>{t({title:"Error",description:f.message,variant:"destructive"})}});return{employees:r,activeEmployees:a,isLoading:n,error:i,createEmployee:o,updateEmployee:s,deactivateEmployee:l,reactivateEmployee:c,deleteEmployee:d}}function ah(){const{toast:t}=Vr(),e=pi(),{data:r=[],isLoading:n,error:i}=Wi({queryKey:["inventory"],queryFn:async()=>{const{data:l,error:c}=await Ne.from("inventory").select(`
          *,
          store:stores(id, name)
        `).eq("is_active",!0).order("name");if(c)throw c;return l}}),a=dt({mutationFn:async l=>{const{data:c,error:d}=await Ne.from("inventory").insert(l).select().single();if(d)throw d;return c},onSuccess:()=>{e.invalidateQueries({queryKey:["inventory"]}),t({title:"Item added",description:"The inventory item has been added successfully."})},onError:l=>{t({title:"Error",description:l.message,variant:"destructive"})}}),o=dt({mutationFn:async({id:l,...c})=>{const{data:d,error:f}=await Ne.from("inventory").update(c).eq("id",l).select().single();if(f)throw f;return d},onSuccess:()=>{e.invalidateQueries({queryKey:["inventory"]}),t({title:"Item updated",description:"The inventory item has been updated."})},onError:l=>{t({title:"Error",description:l.message,variant:"destructive"})}}),s=dt({mutationFn:async l=>{const{error:c}=await Ne.from("inventory").update({is_active:!1}).eq("id",l);if(c)throw c},onSuccess:()=>{e.invalidateQueries({queryKey:["inventory"]}),t({title:"Item removed",description:"The inventory item has been deactivated."})},onError:l=>{t({title:"Error",description:l.message,variant:"destructive"})}});return{inventory:r,isLoading:n,error:i,createInventoryItem:a,updateInventoryItem:o,deleteInventoryItem:s}}function jv(){const{toast:t}=Vr(),e=pi(),{data:r=[],isLoading:n,error:i}=Wi({queryKey:["measurements"],queryFn:async()=>{const{data:c,error:d}=await Ne.from("measurements").select(`
          *,
          order:orders!measurements_order_id_fkey(id, order_number, customer:customers(id, name))
        `).order("created_at",{ascending:!1});if(d)throw d;return c}}),a=c=>r.filter(d=>d.order_id===c),o=dt({mutationFn:async c=>{const{data:d,error:f}=await Ne.from("measurements").insert(c).select().single();if(f)throw f;return d},onSuccess:async c=>{var d,f;e.invalidateQueries({queryKey:["measurements"]}),t({title:"Measurement saved",description:"The measurement profile has been saved successfully."});try{let h=function(){return"https://szburzfibchvdyxksokr.supabase.co/functions/v1/whatsapp-proxy"||"http://localhost:4001"};if(!c||!c.order_id)return;const{data:p,error:v}=await Ne.from("orders").select("id, order_number, created_at, due_date, is_settled, customer:customers(id, name, phone)").eq("id",c.order_id).single();if(v||!p)return;const{data:m}=await Ne.from("order_items").select("description, quantity").eq("order_id",p.id),g=(m||[]).map(_=>`${_.description} x ${_.quantity}`).join("; ")||"-",y=p.created_at?new Date(p.created_at).toISOString().split("T")[0]:"",x=h(),w=((d=p.customer)==null?void 0:d.phone)||"",S=wp(w);if(!S){ar("measurement send: skipping invalid phone",{rawPhone:w,orderId:p.id});return}if(S){const _=["full_length","blouse_length","shoulder","bust","bust","waist_round","yoke_length","yoke_round","slit_length","slit_width","stomach_length","stomach_round","bust_point_length","bust_distance","fc","bc","sleeve_round","sleeve_round","bicep_round","armhole","shoulder_balance","front_neck_depth","back_neck_depth","collar_round","bottom_length","skirt_length","waist_round","hip_round","seat_round","thigh_round","knee_round","ankle_round"],C=[];if(C.push({type:"text",text:((f=p.customer)==null?void 0:f.name)||""}),_.forEach(T=>{const N=c[T],P=N!=null&&String(N).trim()?String(N):"-";C.push({type:"text",text:P})}),C.slice(1).reduce((T,N)=>T+(N.text&&N.text.trim()?1:0),0)===0)return;const A=[{type:"body",parameters:C}];ar("sending measurement template",{to:S,paramsCount:C.length});const O=await Aa(`${x}/api/whatsapp/send`,{method:"POST",body:JSON.stringify({to:S,template:"wa_order_confirmation_with_measure",language:"en",components:A})});O.text().then(T=>{ar("measurement send response",{status:O.status})}).catch(()=>{})}}catch(h){bp("WhatsApp send error (measurement)",h&&h.message?h.message:h)}},onError:c=>{t({title:"Error",description:c.message,variant:"destructive"})}}),s=dt({mutationFn:async({id:c,...d})=>{const{data:f,error:h}=await Ne.from("measurements").update(d).eq("id",c).select().single();if(h)throw h;return f},onSuccess:()=>{e.invalidateQueries({queryKey:["measurements"]}),t({title:"Measurement updated",description:"The measurement profile has been updated."})},onError:c=>{t({title:"Error",description:c.message,variant:"destructive"})}}),l=dt({mutationFn:async c=>{const{error:d}=await Ne.from("measurements").delete().eq("id",c);if(d)throw d},onSuccess:()=>{e.invalidateQueries({queryKey:["measurements"]}),t({title:"Measurement deleted",description:"The measurement profile has been removed."})},onError:c=>{t({title:"Error",description:c.message,variant:"destructive"})}});return{measurements:r,isLoading:n,error:i,getMeasurementsByOrderId:a,createMeasurement:o,updateMeasurement:s,deleteMeasurement:l}}function Qde(t,e){return b.useReducer((r,n)=>e[r][n]??r,t)}var SO="ScrollArea",[g9,pMe]=vn(SO),[Jde,ma]=g9(SO),y9=b.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:i,scrollHideDelay:a=600,...o}=t,[s,l]=b.useState(null),[c,d]=b.useState(null),[f,h]=b.useState(null),[p,v]=b.useState(null),[m,g]=b.useState(null),[y,x]=b.useState(0),[w,S]=b.useState(0),[_,C]=b.useState(!1),[E,A]=b.useState(!1),O=Ke(e,N=>l(N)),T=_u(i);return u.jsx(Jde,{scope:r,type:n,dir:T,scrollHideDelay:a,scrollArea:s,viewport:c,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:v,scrollbarXEnabled:_,onScrollbarXEnabledChange:C,scrollbarY:m,onScrollbarYChange:g,scrollbarYEnabled:E,onScrollbarYEnabledChange:A,onCornerWidthChange:x,onCornerHeightChange:S,children:u.jsx(Pe.div,{dir:T,...o,ref:O,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px",...t.style}})})});y9.displayName=SO;var x9="ScrollAreaViewport",w9=b.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:i,...a}=t,o=ma(x9,r),s=b.useRef(null),l=Ke(e,s,o.onViewportChange);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),u.jsx(Pe.div,{"data-radix-scroll-area-viewport":"",...a,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:u.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});w9.displayName=x9;var Io="ScrollAreaScrollbar",CO=b.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=ma(Io,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=i,s=t.orientation==="horizontal";return b.useEffect(()=>(s?a(!0):o(!0),()=>{s?a(!1):o(!1)}),[s,a,o]),i.type==="hover"?u.jsx(efe,{...n,ref:e,forceMount:r}):i.type==="scroll"?u.jsx(tfe,{...n,ref:e,forceMount:r}):i.type==="auto"?u.jsx(b9,{...n,ref:e,forceMount:r}):i.type==="always"?u.jsx(EO,{...n,ref:e}):null});CO.displayName=Io;var efe=b.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=ma(Io,t.__scopeScrollArea),[a,o]=b.useState(!1);return b.useEffect(()=>{const s=i.scrollArea;let l=0;if(s){const c=()=>{window.clearTimeout(l),o(!0)},d=()=>{l=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return s.addEventListener("pointerenter",c),s.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),s.removeEventListener("pointerenter",c),s.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),u.jsx(sn,{present:r||a,children:u.jsx(b9,{"data-state":a?"visible":"hidden",...n,ref:e})})}),tfe=b.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=ma(Io,t.__scopeScrollArea),a=t.orientation==="horizontal",o=bx(()=>l("SCROLL_END"),100),[s,l]=Qde("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(s==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[s,i.scrollHideDelay,l]),b.useEffect(()=>{const c=i.viewport,d=a?"scrollLeft":"scrollTop";if(c){let f=c[d];const h=()=>{const p=c[d];f!==p&&(l("SCROLL"),o()),f=p};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[i.viewport,a,l,o]),u.jsx(sn,{present:r||s!=="hidden",children:u.jsx(EO,{"data-state":s==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:ae(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:ae(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),b9=b.forwardRef((t,e)=>{const r=ma(Io,t.__scopeScrollArea),{forceMount:n,...i}=t,[a,o]=b.useState(!1),s=t.orientation==="horizontal",l=bx(()=>{if(r.viewport){const c=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(s?c:d)}},10);return ff(r.viewport,l),ff(r.content,l),u.jsx(sn,{present:n||a,children:u.jsx(EO,{"data-state":a?"visible":"hidden",...i,ref:e})})}),EO=b.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,i=ma(Io,t.__scopeScrollArea),a=b.useRef(null),o=b.useRef(0),[s,l]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=A9(s.viewport,s.content),d={...n,sizes:s,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>a.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,p){return sfe(h,o.current,s,p)}return r==="horizontal"?u.jsx(rfe,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const h=i.viewport.scrollLeft,p=F3(h,s,i.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=f(h,i.dir))}}):r==="vertical"?u.jsx(nfe,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const h=i.viewport.scrollTop,p=F3(h,s);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=f(h))}}):null}),rfe=b.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...i}=t,a=ma(Io,t.__scopeScrollArea),[o,s]=b.useState(),l=b.useRef(null),c=Ke(e,l,a.onScrollbarXChange);return b.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),u.jsx(S9,{"data-orientation":"horizontal",...i,ref:c,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":wx(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollLeft+d.deltaX;t.onWheelScroll(h),N9(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&a.viewport&&o&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:hy(o.paddingLeft),paddingEnd:hy(o.paddingRight)}})}})}),nfe=b.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...i}=t,a=ma(Io,t.__scopeScrollArea),[o,s]=b.useState(),l=b.useRef(null),c=Ke(e,l,a.onScrollbarYChange);return b.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),u.jsx(S9,{"data-orientation":"vertical",...i,ref:c,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":wx(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollTop+d.deltaY;t.onWheelScroll(h),N9(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&a.viewport&&o&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:hy(o.paddingTop),paddingEnd:hy(o.paddingBottom)}})}})}),[ife,_9]=g9(Io),S9=b.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:i,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:s,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:d,onResize:f,...h}=t,p=ma(Io,r),[v,m]=b.useState(null),g=Ke(e,O=>m(O)),y=b.useRef(null),x=b.useRef(""),w=p.viewport,S=n.content-n.viewport,_=Ir(d),C=Ir(l),E=bx(f,10);function A(O){if(y.current){const T=O.clientX-y.current.left,N=O.clientY-y.current.top;c({x:T,y:N})}}return b.useEffect(()=>{const O=T=>{const N=T.target;(v==null?void 0:v.contains(N))&&_(T,S)};return document.addEventListener("wheel",O,{passive:!1}),()=>document.removeEventListener("wheel",O,{passive:!1})},[w,v,S,_]),b.useEffect(C,[n,C]),ff(v,E),ff(p.content,E),u.jsx(ife,{scope:r,scrollbar:v,hasThumb:i,onThumbChange:Ir(a),onThumbPointerUp:Ir(o),onThumbPositionChange:C,onThumbPointerDown:Ir(s),children:u.jsx(Pe.div,{...h,ref:g,style:{position:"absolute",...h.style},onPointerDown:ae(t.onPointerDown,O=>{O.button===0&&(O.target.setPointerCapture(O.pointerId),y.current=v.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),A(O))}),onPointerMove:ae(t.onPointerMove,A),onPointerUp:ae(t.onPointerUp,O=>{const T=O.target;T.hasPointerCapture(O.pointerId)&&T.releasePointerCapture(O.pointerId),document.body.style.webkitUserSelect=x.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})})}),fy="ScrollAreaThumb",C9=b.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=_9(fy,t.__scopeScrollArea);return u.jsx(sn,{present:r||i.hasThumb,children:u.jsx(afe,{ref:e,...n})})}),afe=b.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...i}=t,a=ma(fy,r),o=_9(fy,r),{onThumbPositionChange:s}=o,l=Ke(e,f=>o.onThumbChange(f)),c=b.useRef(void 0),d=bx(()=>{c.current&&(c.current(),c.current=void 0)},100);return b.useEffect(()=>{const f=a.viewport;if(f){const h=()=>{if(d(),!c.current){const p=lfe(f,s);c.current=p,s()}};return s(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[a.viewport,d,s]),u.jsx(Pe.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:ae(t.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),v=f.clientX-p.left,m=f.clientY-p.top;o.onThumbPointerDown({x:v,y:m})}),onPointerUp:ae(t.onPointerUp,o.onThumbPointerUp)})});C9.displayName=fy;var AO="ScrollAreaCorner",E9=b.forwardRef((t,e)=>{const r=ma(AO,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?u.jsx(ofe,{...t,ref:e}):null});E9.displayName=AO;var ofe=b.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,i=ma(AO,r),[a,o]=b.useState(0),[s,l]=b.useState(0),c=!!(a&&s);return ff(i.scrollbarX,()=>{var f;const d=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(d),l(d)}),ff(i.scrollbarY,()=>{var f;const d=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(d),o(d)}),c?u.jsx(Pe.div,{...n,ref:e,style:{width:a,height:s,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function hy(t){return t?parseInt(t,10):0}function A9(t,e){const r=t/e;return isNaN(r)?0:r}function wx(t){const e=A9(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function sfe(t,e,r,n="ltr"){const i=wx(r),a=i/2,o=e||a,s=i-o,l=r.scrollbar.paddingStart+o,c=r.scrollbar.size-r.scrollbar.paddingEnd-s,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return O9([l,c],f)(t)}function F3(t,e,r="ltr"){const n=wx(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-i,o=e.content-e.viewport,s=a-n,l=r==="ltr"?[0,o]:[o*-1,0],c=yS(t,l);return O9([0,o],[0,s])(c)}function O9(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function N9(t,e){return t>0&&t<e}var lfe=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function i(){const a={left:t.scrollLeft,top:t.scrollTop},o=r.left!==a.left,s=r.top!==a.top;(o||s)&&e(),r=a,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)};function bx(t,e){const r=Ir(t),n=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(n.current),[]),b.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function ff(t,e){const r=Ir(e);on(()=>{let n=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(t),()=>{window.cancelAnimationFrame(n),i.unobserve(t)}}},[t,r])}var j9=y9,cfe=w9,ufe=E9;const oh=b.forwardRef(({className:t,children:e,...r},n)=>u.jsxs(j9,{ref:n,className:he("relative overflow-hidden",t),...r,children:[u.jsx(cfe,{className:"h-full w-full rounded-[inherit]",children:e}),u.jsx(T9,{}),u.jsx(ufe,{})]}));oh.displayName=j9.displayName;const T9=b.forwardRef(({className:t,orientation:e="vertical",...r},n)=>u.jsx(CO,{ref:n,orientation:e,className:he("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:u.jsx(C9,{className:"relative flex-1 rounded-full bg-border"})}));T9.displayName=CO.displayName;var OO="Radio",[dfe,P9]=vn(OO),[ffe,hfe]=dfe(OO),k9=b.forwardRef((t,e)=>{const{__scopeRadio:r,name:n,checked:i=!1,required:a,disabled:o,value:s="on",onCheck:l,form:c,...d}=t,[f,h]=b.useState(null),p=Ke(e,g=>h(g)),v=b.useRef(!1),m=f?c||!!f.closest("form"):!0;return u.jsxs(ffe,{scope:r,checked:i,disabled:o,children:[u.jsx(Pe.button,{type:"button",role:"radio","aria-checked":i,"data-state":M9(i),"data-disabled":o?"":void 0,disabled:o,value:s,...d,ref:p,onClick:ae(t.onClick,g=>{i||l==null||l(),m&&(v.current=g.isPropagationStopped(),v.current||g.stopPropagation())})}),m&&u.jsx(D9,{control:f,bubbles:!v.current,name:n,value:s,checked:i,required:a,disabled:o,form:c,style:{transform:"translateX(-100%)"}})]})});k9.displayName=OO;var I9="RadioIndicator",R9=b.forwardRef((t,e)=>{const{__scopeRadio:r,forceMount:n,...i}=t,a=hfe(I9,r);return u.jsx(sn,{present:n||a.checked,children:u.jsx(Pe.span,{"data-state":M9(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e})})});R9.displayName=I9;var pfe="RadioBubbleInput",D9=b.forwardRef(({__scopeRadio:t,control:e,checked:r,bubbles:n=!0,...i},a)=>{const o=b.useRef(null),s=Ke(o,a),l=wO(r),c=vA(e);return b.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&p){const v=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(v)}},[l,r,n]),u.jsx(Pe.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:s,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});D9.displayName=pfe;function M9(t){return t?"checked":"unchecked"}var mfe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],_x="RadioGroup",[vfe,mMe]=vn(_x,[eh,P9]),$9=eh(),L9=P9(),[gfe,yfe]=vfe(_x),F9=b.forwardRef((t,e)=>{const{__scopeRadioGroup:r,name:n,defaultValue:i,value:a,required:o=!1,disabled:s=!1,orientation:l,dir:c,loop:d=!0,onValueChange:f,...h}=t,p=$9(r),v=_u(c),[m,g]=Di({prop:a,defaultProp:i??null,onChange:f,caller:_x});return u.jsx(gfe,{scope:r,name:n,required:o,disabled:s,value:m,onValueChange:g,children:u.jsx(LA,{asChild:!0,...p,orientation:l,dir:v,loop:d,children:u.jsx(Pe.div,{role:"radiogroup","aria-required":o,"aria-orientation":l,"data-disabled":s?"":void 0,dir:v,...h,ref:e})})})});F9.displayName=_x;var B9="RadioGroupItem",U9=b.forwardRef((t,e)=>{const{__scopeRadioGroup:r,disabled:n,...i}=t,a=yfe(B9,r),o=a.disabled||n,s=$9(r),l=L9(r),c=b.useRef(null),d=Ke(e,c),f=a.value===i.value,h=b.useRef(!1);return b.useEffect(()=>{const p=m=>{mfe.includes(m.key)&&(h.current=!0)},v=()=>h.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",v)}},[]),u.jsx(FA,{asChild:!0,...s,focusable:!o,active:f,children:u.jsx(k9,{disabled:o,required:a.required,checked:f,...l,...i,name:a.name,ref:d,onCheck:()=>a.onValueChange(i.value),onKeyDown:ae(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:ae(i.onFocus,()=>{var p;h.current&&((p=c.current)==null||p.click())})})})});U9.displayName=B9;var xfe="RadioGroupIndicator",V9=b.forwardRef((t,e)=>{const{__scopeRadioGroup:r,...n}=t,i=L9(r);return u.jsx(R9,{...i,...n,ref:e})});V9.displayName=xfe;var W9=F9,z9=U9,wfe=V9;const H9=b.forwardRef(({className:t,...e},r)=>u.jsx(W9,{className:he("grid gap-2",t),...e,ref:r}));H9.displayName=W9.displayName;const CS=b.forwardRef(({className:t,...e},r)=>u.jsx(z9,{ref:r,className:he("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:u.jsx(wfe,{className:"flex items-center justify-center",children:u.jsx(nA,{className:"h-2.5 w-2.5 fill-current text-current"})})}));CS.displayName=z9.displayName;function bfe({measurementId:t,open:e,onOpenChange:r,onComplete:n}){const[i,a]=b.useState(null),[o,s]=b.useState([]),[l,c]=b.useState(!1),[d,f]=b.useState(!1),h=b.useRef(null),{toast:p}=Vr(),v=async w=>{const S=w.target.files;if(!S||S.length===0)return;c(!0);const _=[];try{for(const C of Array.from(S)){if(!C.type.startsWith("image/")){p({title:"Invalid file type",description:"Please upload only image files.",variant:"destructive"});continue}const E=C.name.split(".").pop(),A=`${t}/${Date.now()}-${Math.random().toString(36).substring(7)}.${E}`,{error:O,data:T}=await Ne.storage.from("materials").upload(A,C);if(O)throw O;const{data:N}=Ne.storage.from("materials").getPublicUrl(A);_.push(N.publicUrl)}s(C=>[...C,..._]),p({title:"Images uploaded",description:`${_.length} image(s) uploaded successfully.`})}catch(C){p({title:"Upload failed",description:C.message,variant:"destructive"})}finally{c(!1),h.current&&(h.current.value="")}},m=async w=>{const S=w.split("/materials/");if(S.length>1){const _=S[1];await Ne.storage.from("materials").remove([_])}s(_=>_.filter(C=>C!==w))},g=async()=>{if(!(!t||i===null)){f(!0);try{const{error:w}=await Ne.from("measurements").update({materials_provided_by_customer:i==="yes",materials_images:i==="yes"?o:[]}).eq("id",t);if(w)throw w;p({title:"Saved",description:"Measurement details updated successfully."}),y(),n()}catch(w){p({title:"Error",description:w.message,variant:"destructive"})}finally{f(!1)}}},y=()=>{a(null),s([]),r(!1)},x=()=>{y(),n()};return u.jsx(hr,{open:e,onOpenChange:y,children:u.jsxs(Jt,{className:"sm:max-w-md",children:[u.jsxs(er,{children:[u.jsx(tr,{className:"font-display",children:"Materials Information"}),u.jsx(Cr,{children:"Were materials provided by the customer for this order?"})]}),u.jsxs("div",{className:"space-y-6 py-4",children:[u.jsxs(H9,{value:i||"",onValueChange:a,className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg border border-border hover:bg-muted/50 cursor-pointer",children:[u.jsx(CS,{value:"yes",id:"yes"}),u.jsx(ur,{htmlFor:"yes",className:"cursor-pointer flex-1",children:"Yes, customer provided materials"})]}),u.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg border border-border hover:bg-muted/50 cursor-pointer",children:[u.jsx(CS,{value:"no",id:"no"}),u.jsx(ur,{htmlFor:"no",className:"cursor-pointer flex-1",children:"No, using store materials"})]})]}),i==="yes"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(ur,{className:"text-sm font-medium",children:"Upload Material Images"}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Take photos of the materials for reference"})]}),u.jsx("input",{type:"file",ref:h,onChange:v,accept:"image/*",multiple:!0,className:"hidden"}),u.jsx(te,{type:"button",variant:"outline",className:"w-full gap-2",onClick:()=>{var w;return(w=h.current)==null?void 0:w.click()},disabled:l,children:l?u.jsxs(u.Fragment,{children:[u.jsx(fi,{className:"h-4 w-4 animate-spin"}),"Uploading..."]}):u.jsxs(u.Fragment,{children:[u.jsx(p2,{className:"h-4 w-4"}),"Upload Images"]})}),o.length>0&&u.jsx("div",{className:"grid grid-cols-3 gap-2",children:o.map((w,S)=>u.jsxs("div",{className:"relative group",children:[u.jsx("img",{src:w,alt:`Material ${S+1}`,className:"w-full h-20 object-cover rounded-lg border border-border"}),u.jsx("button",{type:"button",onClick:()=>m(w),className:"absolute -top-2 -right-2 bg-destructive text-destructive-foreground rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsx(U1,{className:"h-3 w-3"})})]},S))})]})]}),u.jsxs(Rt,{className:"flex-row justify-between sm:justify-between",children:[u.jsx(te,{variant:"ghost",onClick:x,children:"Skip"}),u.jsx(te,{onClick:g,disabled:i===null||d,className:"gap-2",children:d?u.jsxs(u.Fragment,{children:[u.jsx(fi,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):u.jsxs(u.Fragment,{children:[u.jsx(L1,{className:"h-4 w-4"}),"Save"]})})]})]})})}const dr=[{key:"full_length",label:"Full Length"},{key:"blouse_length",label:"Blouse Length"},{key:"shoulder",label:"Shoulder"},{key:"bust",label:"Bust"},{key:"waist_round",label:"Waist"},{key:"yoke_length",label:"Yoke Length"},{key:"yoke_round",label:"Yoke Round"},{key:"slit_length",label:"Slit Length"},{key:"slit_width",label:"Slit Width"},{key:"stomach_length",label:"Stomach Length"},{key:"stomach_round",label:"Stomach Round"},{key:"bust_point_length",label:"Bust Point Length"},{key:"bust_distance",label:"Bust Distance"},{key:"fc",label:"FC"},{key:"bc",label:"BC"},{key:"sleeve_round",label:"Sleeve Round"},{key:"bicep_round",label:"Bicep Round"},{key:"armhole",label:"Armhole"},{key:"shoulder_balance",label:"Shoulder Balance"},{key:"front_neck_depth",label:"Front Neck Depth"},{key:"back_neck_depth",label:"Back Neck Depth"},{key:"collar_round",label:"Collar Round"},{key:"bottom_length",label:"Bottom Length"},{key:"skirt_length",label:"Skirt Length"},{key:"hip_round",label:"Hip Round"},{key:"seat_round",label:"Seat Round"},{key:"thigh_round",label:"Thigh Round"},{key:"knee_round",label:"Knee Round"},{key:"ankle_round",label:"Ankle Round"}];dr.map(t=>({...t,name:t.key,enabled:!0}));const G9={garmentType:Le().trim().min(2,"Garment type is required").max(100),custom_notes:Le().trim().max(500).optional()};dr.forEach(t=>{G9[t.key]=ia().min(0).max(200).optional()});const _fe=zi(G9),Sfe=["Standard Blouse","Lehenga","Saree Blouse","Kurta","Salwar","Evening Gown","Custom"];function Cfe({trigger:t,onSuccess:e,open:r,onOpenChange:n,defaultOrderId:i}){const[a,o]=b.useState(!1),[s,l]=b.useState(null),[c,d]=b.useState(!1),{createMeasurement:f}=jv(),h=r!==void 0,p=h?r:a,v=h?n||(()=>{}):o,m=$i({resolver:Li(_fe),defaultValues:{garmentType:"",custom_notes:""}}),g=y=>{const x={order_id:i||null,garment_type:y.garmentType,custom_notes:y.custom_notes||null};dr.forEach(w=>{x[w.key]=y[w.key]||null}),f.mutate(x,{onSuccess:w=>{const S=(w==null?void 0:w.id)||null;l(S),d(!0)}})};return u.jsxs(hr,{open:p,onOpenChange:v,children:[t?u.jsx(Eu,{asChild:!0,children:t}):null,u.jsxs(Jt,{className:"max-h-[90vh] overflow-hidden flex flex-col sm:max-w-2xl",children:[u.jsxs(er,{children:[u.jsx(tr,{className:"font-display",children:"New Measurement Profile"}),u.jsx(Cr,{children:"Record measurements for an order."})]}),u.jsx(Bi,{...m,children:u.jsxs("form",{onSubmit:m.handleSubmit(g),className:"flex-1 flex flex-col overflow-hidden",children:[u.jsx(oh,{className:"flex-1 pr-4",children:u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:u.jsx(_e,{control:m.control,name:"garmentType",render:({field:y})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Garment Type *"}),u.jsxs(zt,{onValueChange:y.onChange,value:y.value,children:[u.jsx(be,{children:u.jsx(Ut,{children:u.jsx(Ht,{placeholder:"Select type"})})}),u.jsx(Vt,{children:Sfe.map(x=>u.jsx(Me,{value:x,children:x},x))})]}),u.jsx(Se,{})]})})}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"font-medium text-foreground",children:"Measurements (in inches)"}),u.jsx("div",{className:"grid gap-3 grid-cols-3 sm:grid-cols-4 md:grid-cols-5",children:dr.map(y=>u.jsx(_e,{control:m.control,name:y.key,render:({field:x})=>u.jsxs(we,{children:[u.jsx(xe,{className:"text-xs",children:y.label}),u.jsx(be,{children:u.jsx(Ee,{type:"number",step:"0.5",placeholder:"0",...x,value:x.value??"",onChange:w=>x.onChange(w.target.value?Number(w.target.value):void 0)})}),u.jsx(Se,{})]})},y.key))})]}),u.jsx(_e,{control:m.control,name:"custom_notes",render:({field:y})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Notes"}),u.jsx(be,{children:u.jsx(hi,{placeholder:"Fit preferences, adjustments, etc...",rows:2,...y,value:y.value||""})}),u.jsx(Se,{})]})})]})}),u.jsxs(Rt,{className:"gap-2 pt-4 mt-4 border-t",children:[u.jsx(te,{type:"button",variant:"outline",onClick:()=>v(!1),children:"Cancel"}),u.jsx(te,{type:"submit",disabled:f.isPending,children:f.isPending?"Saving...":"Save Profile"})]})]})})]}),u.jsx(bfe,{measurementId:s,open:c,onOpenChange:y=>d(y),onComplete:()=>{e==null||e(s||void 0),m.reset(),l(null),d(!1),v(!1)}})]})}const Efe=zi({customerId:Le().min(1,"Please select a customer"),storeId:Le().min(1,"Please select a store"),dueDate:yae({required_error:"Due date is required"}),notes:Le().trim().max(1e3).optional(),assigneeId:Le().optional()}),E0={customerId:"",storeId:"",dueDate:void 0,notes:"",assigneeId:""};function q9({trigger:t,onSuccess:e}){const[r,n]=b.useState(!1),[i,a]=b.useState([]),[o,s]=b.useState(!1),[l,c]=b.useState(""),[d,f]=b.useState(!1),[h,p]=b.useState(!1),[v,m]=b.useState(!1),[g,y]=b.useState(null),[x,w]=b.useState(null),{toast:S}=Vr(),{createOrder:_,orders:C}=ih(),{customers:E}=Nv(),{stores:A}=eo(),{activeEmployees:O}=xx(),{inventory:T}=ah();jv();const N=$i({resolver:Li(Efe),defaultValues:E0}),P=N.watch("customerId"),$=P?C.filter(q=>q.customer_id===P&&!["completed","cancelled"].includes(q.status)&&Number(q.remaining_balance)>0):[],D=$.reduce((q,ie)=>q+Number(ie.remaining_balance),0),F=i.reduce((q,ie)=>q+ie.price*ie.quantity,0),L=T.filter(q=>{const ie=l.toLowerCase();return q.name.toLowerCase().includes(ie)||q.sku.toLowerCase().includes(ie)||q.category.toLowerCase().includes(ie)}),M=q=>{q||(N.reset(E0),a([]),c("")),n(q)},j=()=>{N.reset(E0),a([]),c(""),n(!1)},R=q=>{const ie={id:crypto.randomUUID(),inventoryId:q.id,name:q.name,sku:q.sku,price:Number(q.price),quantity:1,isCustomWork:!1,measurementId:null};a([...i,ie]),s(!1),c("")},V=()=>{const q={id:crypto.randomUUID(),inventoryId:null,name:l||"Custom Item",sku:"",price:0,quantity:1,isCustomWork:!0,measurementId:null};a([...i,q]),s(!1),c("")},W=q=>{const ie=(q||"").trim();if(!ie)return;let it=T.find(St=>(St.sku||"").toLowerCase()===ie.toLowerCase());if(!it){const St=T.filter(ft=>{const gr=(ft.sku||"").toLowerCase(),B=(ft.name||"").toLowerCase();return gr.includes(ie.toLowerCase())||B.includes(ie.toLowerCase())});St.length===1&&(it=St[0])}if(it){R(it),S({title:"Added",description:`${it.name} added to order`}),c("");return}S({title:"Not found",description:`No product found for SKU "${ie}"`})},[z,K]=b.useState(!1),re=q=>{f(!1),q?p(!0):(y(null),w(null),e==null||e())},ue=async q=>{if(p(!1),q&&x){const{error:ie}=await Ne.from("orders").update({measurement_id:q}).eq("id",x);ie&&S({title:"Warning",description:"Failed to link measurement to order.",variant:"destructive"})}m(!0)},le=q=>{m(!1),q?p(!0):(y(null),w(null),e==null||e())},J=q=>{a(i.filter(ie=>ie.id!==q))},me=(q,ie)=>{a(i.map(Ve=>Ve.id===q?{...Ve,quantity:Math.max(1,ie)}:Ve))},ee=(q,ie)=>{a(i.map(Ve=>Ve.id===q?{...Ve,price:Math.max(0,ie)}:Ve))},ne=async(q,ie)=>{i.length===0&&!ie||_.mutate({customer_id:q.customerId,store_id:q.storeId||null,assigned_employee_id:q.assigneeId||null,due_date:q.dueDate?ct(q.dueDate,"yyyy-MM-dd"):null,deposit_amount:0,total_amount:F,remaining_balance:F,notes:q.notes||null,order_number:"",status:ie?"draft":"pending"},{onSuccess:async Ve=>{if(Ve&&i.length>0){const it=i.map(ft=>({order_id:Ve.id,description:ft.name,unit_price:ft.price,quantity:ft.quantity,total_price:ft.price*ft.quantity,inventory_id:ft.inventoryId,measurement_id:ft.measurementId,is_custom_work:ft.isCustomWork})),{error:St}=await Ne.from("order_items").insert(it);St&&S({title:"Warning",description:"Order created but failed to add some items.",variant:"destructive"});try{let ft=function(){return"https://szburzfibchvdyxksokr.supabase.co/functions/v1/whatsapp-proxy"||"http://localhost:4001"};const{data:gr}=await Ne.from("customers").select("name, phone").eq("id",Ve.customer_id).single(),B=i.map(de=>`${de.name} x ${de.quantity}`).join("; ")||"-",H=Ve.created_at?ct(new Date(Ve.created_at),"yyyy-MM-dd"):"",Y=ft();if(gr&&gr.phone){const de=[{type:"body",parameters:[{type:"text",text:gr.name},{type:"text",text:Ve.order_number},{type:"text",text:H},{type:"text",text:B},{type:"text",text:Ve.due_date??""},{type:"text",text:Ve.is_settled?"Paid":"Pending"}]}],fe=gr.phone||"",se=wp(fe);if(!se)ar("OrderForm: skipping WA send, invalid phone",{rawPhone:fe,orderId:Ve.id});else try{await Aa(`${Y}/api/whatsapp/send`,{method:"POST",body:JSON.stringify({to:se,template:"order_confirmation",language:"en",components:de})}),ar("order_confirmation sent",{to:se,orderId:Ve.id})}catch(Ce){Xi("order_confirmation send failed",{err:Ce&&Ce.message?Ce.message:Ce})}}}catch(ft){bp("WhatsApp send error",ft&&ft.message?ft.message:ft)}}N.reset(E0),a([]),n(!1),w(Ve.id),y(q.customerId),f(!0),f(!0)}})},ve=q=>{i.length!==0&&ne(q,!1)},X=()=>{const q=N.getValues();if(!q.customerId){N.setError("customerId",{message:"Please select a customer"});return}ne(q,!0)};return u.jsxs(u.Fragment,{children:[u.jsxs(hr,{open:r,onOpenChange:M,children:[u.jsx(Eu,{asChild:!0,children:t||u.jsxs(te,{className:"gap-2",children:[u.jsx(ms,{className:"h-4 w-4"}),u.jsx("span",{className:"hidden sm:inline",children:"New Order"})]})}),u.jsxs(Jt,{className:"max-h-[90vh] overflow-y-auto sm:max-w-2xl",children:[u.jsxs(er,{children:[u.jsx(tr,{className:"font-display",children:"Create New Order"}),u.jsx(Cr,{children:"Add order details, items, and payment information."})]}),u.jsx(Bi,{...N,children:u.jsxs("form",{onSubmit:N.handleSubmit(ve),className:"space-y-6",children:[u.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[u.jsx(_e,{control:N.control,name:"customerId",render:({field:q})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Customer *"}),u.jsxs(zt,{onValueChange:q.onChange,value:q.value,children:[u.jsx(be,{children:u.jsx(Ut,{children:u.jsx(Ht,{placeholder:"Select customer"})})}),u.jsx(Vt,{children:E.map(ie=>u.jsx(Me,{value:ie.id,children:ie.name},ie.id))})]}),u.jsx(Se,{})]})}),u.jsx(_e,{control:N.control,name:"storeId",render:({field:q})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Store *"}),u.jsxs(zt,{onValueChange:q.onChange,value:q.value,children:[u.jsx(be,{children:u.jsx(Ut,{children:u.jsx(Ht,{placeholder:"Select store"})})}),u.jsx(Vt,{children:A.map(ie=>u.jsx(Me,{value:ie.id,children:ie.name},ie.id))})]}),u.jsx(Se,{})]})})]}),P&&D>0&&u.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-4 dark:border-amber-900/50 dark:bg-amber-950/20",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(rA,{className:"h-5 w-5 text-amber-600 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"font-medium text-amber-800 dark:text-amber-200",children:"Previous Outstanding Balance"}),u.jsxs("p",{className:"text-sm text-amber-700 dark:text-amber-300 mt-1",children:["This customer has an outstanding balance of ",u.jsxs("span",{className:"font-semibold",children:["",D.toLocaleString()]})," from previous orders:"]}),u.jsx("div",{className:"mt-2 space-y-1 text-xs text-amber-600 dark:text-amber-400",children:$.map(q=>u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:q.order_number}),u.jsxs("span",{children:["",Number(q.remaining_balance).toLocaleString()]})]},q.id))})]})]})}),u.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[u.jsx(_e,{control:N.control,name:"dueDate",render:({field:q})=>u.jsxs(we,{className:"flex flex-col",children:[u.jsx(xe,{children:"Due Date *"}),u.jsxs(qde,{children:[u.jsx(Kde,{asChild:!0,children:u.jsx(be,{children:u.jsxs(te,{variant:"outline",className:he("w-full justify-start text-left font-normal",!q.value&&"text-muted-foreground"),children:[u.jsx(iv,{className:"mr-2 h-4 w-4"}),q.value?ct(q.value,"PPP"):"Pick a date"]})})}),u.jsx(v9,{className:"w-auto p-0",align:"start",children:u.jsx(JL,{mode:"single",selected:q.value,onSelect:q.onChange,disabled:ie=>ie<new Date,initialFocus:!0,className:"pointer-events-auto"})})]}),u.jsx(Se,{})]})}),u.jsx(_e,{control:N.control,name:"assigneeId",render:({field:q})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Assign To"}),u.jsxs(zt,{onValueChange:q.onChange,value:q.value,children:[u.jsx(be,{children:u.jsx(Ut,{children:u.jsx(Ht,{placeholder:"Select employee"})})}),u.jsx(Vt,{children:O.map(ie=>u.jsx(Me,{value:ie.id,children:ie.name},ie.id))})]}),u.jsx(Se,{})]})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(xe,{children:"Order Items *"}),u.jsxs(te,{type:"button",variant:"outline",size:"sm",onClick:()=>s(!0),disabled:!P,children:[u.jsx(ms,{className:"mr-1 h-3 w-3"}),"Add Item"]})]}),!P&&u.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a customer first to add items"}),i.length===0&&P&&u.jsxs("div",{className:"rounded-lg border border-dashed border-border p-6 text-center",children:[u.jsx(Dl,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"No items added yet"}),u.jsx(te,{type:"button",variant:"link",size:"sm",onClick:()=>s(!0),className:"mt-2",children:"Add your first item"})]}),i.map(q=>u.jsxs("div",{className:"rounded-lg border border-border p-4 space-y-3",children:[u.jsxs("div",{className:"flex items-start justify-between gap-3",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[u.jsx("span",{className:"font-medium truncate",children:q.name}),q.isCustomWork&&u.jsx(L3,{variant:"secondary",className:"text-xs",children:"Custom"}),q.measurementId&&u.jsx(L3,{variant:"outline",className:"text-xs",children:"Has Measurement"})]}),q.sku&&u.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:["SKU: ",q.sku]})]}),u.jsx(te,{type:"button",variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive shrink-0",onClick:()=>J(q.id),children:u.jsx(zl,{className:"h-4 w-4"})})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-muted-foreground",children:"Price ()"}),u.jsx(Ee,{type:"number",value:q.price,onChange:ie=>ee(q.id,Number(ie.target.value)),className:"mt-1",disabled:!q.isCustomWork&&q.inventoryId!==null})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-muted-foreground",children:"Qty"}),u.jsx(Ee,{type:"number",min:1,value:q.quantity,onChange:ie=>me(q.id,Number(ie.target.value)),className:"mt-1"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-muted-foreground",children:"Total"}),u.jsxs("p",{className:"mt-1 py-2 font-medium",children:["",(q.price*q.quantity).toLocaleString()]})]})]})]},q.id)),i.length===0&&P&&u.jsx("p",{className:"text-sm text-destructive",children:"Add at least one item"})]}),u.jsxs("div",{className:"rounded-lg border border-border bg-muted/30 p-4",children:[u.jsx("h4",{className:"mb-3 font-medium text-foreground",children:"Payment Summary"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Order Total"}),u.jsxs("span",{className:"font-medium text-foreground",children:["",F.toLocaleString()]})]}),u.jsxs("div",{className:"flex justify-between border-t border-border pt-2 text-sm",children:[u.jsx("span",{className:"font-medium text-foreground",children:"Balance Payable"}),u.jsxs("span",{className:he("font-semibold",F>0?"text-amber-600":"text-emerald-600"),children:["",F.toLocaleString()]})]})]})]}),u.jsx(_e,{control:N.control,name:"notes",render:({field:q})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Order Notes"}),u.jsx(be,{children:u.jsx(hi,{placeholder:"Special instructions, fabric preferences, etc...",rows:2,...q})}),u.jsx(Se,{})]})}),u.jsxs(Rt,{className:"gap-2 pt-4",children:[u.jsx(te,{type:"button",variant:"outline",onClick:j,children:"Cancel"}),u.jsx(te,{type:"button",variant:"secondary",onClick:X,disabled:_.isPending,children:"Save as Draft"}),u.jsx(te,{type:"submit",disabled:_.isPending||i.length===0,children:_.isPending?"Creating...":"Create Order"})]})]})})]})]}),u.jsx(dce,{open:z,onOpenChange:K,onDetected:q=>W(q)}),u.jsx(hr,{open:o,onOpenChange:s,children:u.jsxs(Jt,{className:"sm:max-w-md",children:[u.jsxs(er,{children:[u.jsx(tr,{children:"Add Product"}),u.jsx(Cr,{children:"Search by name or scan SKU code"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx(Gf,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),u.jsx(Ee,{placeholder:"Search products or enter SKU...",value:l,onChange:q=>c(q.target.value),onKeyDown:q=>{q.key==="Enter"&&W(l)},className:"pl-9 pr-10",autoFocus:!0}),u.jsx("button",{type:"button",onClick:()=>K(!0),className:"absolute right-3 top-1/2 -translate-y-1/2 h-6 w-6 flex items-center justify-center text-muted-foreground","aria-label":"Open scanner",children:u.jsx(XG,{className:"h-4 w-4"})})]}),u.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2",children:L.length>0?L.map(q=>u.jsx("button",{type:"button",onClick:()=>R(q),className:"w-full text-left p-3 rounded-lg border border-border hover:bg-muted/50 transition-colors",children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:q.name}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["SKU: ",q.sku,"  ",q.category]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"font-medium",children:["",Number(q.price).toLocaleString()]}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["Stock: ",q.quantity]})]})]})},q.id)):l?u.jsxs("div",{className:"text-center py-4",children:[u.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"No products found"}),u.jsx(te,{type:"button",variant:"outline",size:"sm",onClick:V,children:"Add as Custom Item"})]}):u.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Start typing to search products"})})]})]})}),u.jsx(Bl,{open:d,onOpenChange:f,children:u.jsxs(xs,{children:[u.jsxs(ws,{children:[u.jsx(_s,{children:"Add Measurements?"}),u.jsx(Ss,{children:"Order created successfully! Would you like to add measurements for this order?"})]}),u.jsxs(bs,{children:[u.jsx(Es,{onClick:()=>re(!1),children:"No, Skip"}),u.jsx(Cs,{onClick:()=>re(!0),children:"Yes, Add Measurement"})]})]})}),u.jsx(Cfe,{open:h,onOpenChange:q=>{p(q),q||m(!0)},defaultOrderId:x||"",onSuccess:q=>{ue(q)}}),u.jsx(Bl,{open:v,onOpenChange:m,children:u.jsxs(xs,{children:[u.jsxs(ws,{children:[u.jsx(_s,{children:"Add Another Measurement?"}),u.jsx(Ss,{children:"Would you like to add another measurement profile for this order?"})]}),u.jsxs(bs,{children:[u.jsx(Es,{onClick:()=>le(!1),children:"No, Done"}),u.jsx(Cs,{onClick:()=>le(!0),children:"Yes, Add Another"})]})]})})]})}const Afe=zi({name:Le().trim().min(2,"Name must be at least 2 characters").max(100),phone:Le().trim().min(10,"Enter a valid phone number").max(15),whatsapp:Le().trim().max(15).optional().or(Ba("")),email:Le().trim().email("Enter a valid email").max(255).optional().or(Ba("")),address:Le().trim().max(500).optional().or(Ba("")),city:Le().trim().max(100).optional().or(Ba("")),vip_status:cx(["regular","silver","gold","platinum"]).default("regular"),notes:Le().trim().max(1e3).optional().or(Ba(""))});function K9({trigger:t}){const[e,r]=b.useState(!1),{createCustomer:n}=Nv(),i=$i({resolver:Li(Afe),defaultValues:{name:"",phone:"",whatsapp:"",email:"",address:"",city:"",vip_status:"regular",notes:""}}),a=o=>{n.mutate({name:o.name,phone:o.phone,whatsapp:o.whatsapp||null,email:o.email||null,address:o.address||null,city:o.city||null,vip_status:o.vip_status,notes:o.notes||null},{onSuccess:()=>{i.reset(),r(!1)}})};return u.jsxs(hr,{open:e,onOpenChange:r,children:[u.jsx(Eu,{asChild:!0,children:t||u.jsxs(te,{className:"gap-2",children:[u.jsx(ms,{className:"h-4 w-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Add Customer"})]})}),u.jsxs(Jt,{className:"max-h-[90vh] overflow-y-auto sm:max-w-lg",children:[u.jsxs(er,{children:[u.jsx(tr,{className:"font-display",children:"Add New Customer"}),u.jsx(Cr,{children:"Enter customer details to create a new profile."})]}),u.jsx(Bi,{...i,children:u.jsxs("form",{onSubmit:i.handleSubmit(a),className:"space-y-4",children:[u.jsx(_e,{control:i.control,name:"name",render:({field:o})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Full Name *"}),u.jsx(be,{children:u.jsx(Ee,{placeholder:"Enter customer name",...o})}),u.jsx(Se,{})]})}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx(_e,{control:i.control,name:"phone",render:({field:o})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Phone *"}),u.jsx(be,{children:u.jsx(Ee,{placeholder:"+91 98765 43210",...o})}),u.jsx(Se,{})]})}),u.jsx(_e,{control:i.control,name:"whatsapp",render:({field:o})=>u.jsxs(we,{children:[u.jsx(xe,{children:"WhatsApp"}),u.jsx(be,{children:u.jsx(Ee,{placeholder:"WhatsApp number",...o})}),u.jsx(Se,{})]})})]}),u.jsx(_e,{control:i.control,name:"email",render:({field:o})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Email Address"}),u.jsx(be,{children:u.jsx(Ee,{type:"email",placeholder:"customer@email.com",...o})}),u.jsx(Se,{})]})}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx(_e,{control:i.control,name:"city",render:({field:o})=>u.jsxs(we,{children:[u.jsx(xe,{children:"City"}),u.jsx(be,{children:u.jsx(Ee,{placeholder:"Chennai",...o})}),u.jsx(Se,{})]})}),u.jsx(_e,{control:i.control,name:"vip_status",render:({field:o})=>u.jsxs(we,{children:[u.jsx(xe,{children:"VIP Status"}),u.jsxs(zt,{onValueChange:o.onChange,defaultValue:o.value,children:[u.jsx(be,{children:u.jsx(Ut,{children:u.jsx(Ht,{placeholder:"Select status"})})}),u.jsxs(Vt,{children:[u.jsx(Me,{value:"regular",children:"Regular"}),u.jsx(Me,{value:"silver",children:u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(Ga,{className:"h-3 w-3"})," Silver"]})}),u.jsx(Me,{value:"gold",children:u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(Ga,{className:"h-3 w-3 text-amber-500"})," Gold"]})}),u.jsx(Me,{value:"platinum",children:u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(Ga,{className:"h-3 w-3 text-purple-500"})," Platinum"]})})]})]}),u.jsx(Se,{})]})})]}),u.jsx(_e,{control:i.control,name:"address",render:({field:o})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Address"}),u.jsx(be,{children:u.jsx(hi,{placeholder:"Enter full address",rows:2,...o})}),u.jsx(Se,{})]})}),u.jsx(_e,{control:i.control,name:"notes",render:({field:o})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Notes"}),u.jsx(be,{children:u.jsx(hi,{placeholder:"Any special preferences or notes...",rows:2,...o})}),u.jsx(Se,{})]})}),u.jsxs(Rt,{className:"gap-2 pt-4",children:[u.jsx(te,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancel"}),u.jsx(te,{type:"submit",disabled:n.isPending,children:n.isPending?"Adding...":"Add Customer"})]})]})})]})]})}function Ofe(){const{toast:t}=Vr(),e=pi(),{data:r=[],isLoading:n,error:i}=Wi({queryKey:["tasks"],queryFn:async()=>{const{data:s,error:l}=await Ne.from("tasks").select(`
          *,
          assigned_employee:employees(id, name),
          order:orders(id, order_number)
        `).order("priority",{ascending:!1}).order("due_date",{ascending:!0});if(l)throw l;return s}}),a=dt({mutationFn:async s=>{const{data:l,error:c}=await Ne.from("tasks").insert(s).select().single();if(c)throw c;return l},onSuccess:()=>{e.invalidateQueries({queryKey:["tasks"]}),t({title:"Task created",description:"The task has been created successfully."})},onError:s=>{t({title:"Error",description:s.message,variant:"destructive"})}}),o=dt({mutationFn:async({id:s,status:l})=>{const c={status:l};l==="completed"?c.completed_at=new Date().toISOString():c.completed_at=null;const{data:d,error:f}=await Ne.from("tasks").update(c).eq("id",s).select().single();if(f)throw f;return d},onSuccess:()=>{e.invalidateQueries({queryKey:["tasks"]}),t({title:"Task updated",description:"The task status has been updated."})},onError:s=>{t({title:"Error",description:s.message,variant:"destructive"})}});return{tasks:r,isLoading:n,error:i,createTask:a,updateTaskStatus:o}}const Nfe=()=>{const{orders:t,isLoading:e,error:r}=ih(),{customers:n,isLoading:i,error:a}=Nv(),{tasks:o,isLoading:s,error:l}=Ofe(),c=e||i||s,d=r||a||l;if(d)return u.jsx(an,{title:"Dashboard",subtitle:"Welcome back to Quppayam",children:u.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[u.jsx("p",{className:"text-destructive mb-2",children:"Failed to load dashboard data"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:d.message})]})});const f=b.useMemo(()=>{const m=new Date;m.setHours(0,0,0,0);const y=t.filter(A=>{const O=new Date(A.created_at);return O.setHours(0,0,0,0),O.getTime()===m.getTime()&&A.status==="completed"}).reduce((A,O)=>A+Number(O.total_amount),0),x=t.filter(A=>!["completed","cancelled"].includes(A.status)).length,w=t.filter(A=>A.status==="ready_for_pickup").length,S=new Date;S.setDate(S.getDate()-7);const _=n.filter(A=>new Date(A.created_at)>=S).length,C=t.filter(A=>A.status==="ready_for_fitting").length,E=t.filter(A=>!["completed","cancelled"].includes(A.status)).reduce((A,O)=>A+Number(O.remaining_balance),0);return{todaySales:y,activeOrders:x,readyForPickup:w,newCustomers:_,pendingFittings:C,totalOutstanding:E}},[t,n]),h=b.useMemo(()=>t.slice(0,5).map(m=>{var g,y,x;return{id:m.id,orderNumber:m.order_number,customerName:((g=m.customer)==null?void 0:g.name)||"Unknown",isVip:((y=m.customer)==null?void 0:y.vip_status)!=="regular",status:m.status,total:Number(m.total_amount),paidAmount:Number(m.deposit_amount),dueDate:m.due_date?new Date(m.due_date):new Date,store:((x=m.store)==null?void 0:x.name)||"No store"}}),[t]),p=b.useMemo(()=>n.filter(m=>m.vip_status!=="regular").slice(0,5).map(m=>{const g=t.filter(w=>{var S;return((S=w.customer)==null?void 0:S.id)===m.id}),y=g.length,x=g.reduce((w,S)=>w+Number(S.total_amount),0);return{id:m.id,name:m.name,phone:m.phone,email:m.email||"",isVip:!0,totalOrders:y,totalSpent:x,lastVisit:new Date(m.updated_at)}}),[n]),v=b.useMemo(()=>o.filter(m=>m.status!=="completed").slice(0,5).map(m=>{var g,y;return{id:m.id,title:m.title,orderNumber:((g=m.order)==null?void 0:g.order_number)||"",assignee:((y=m.assigned_employee)==null?void 0:y.name)||"Unassigned",dueTime:m.due_date?new Date(m.due_date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",priority:m.priority>=3?"high":m.priority>=2?"medium":"low",completed:m.status==="completed"}}),[o]);return c?u.jsx(an,{title:"Dashboard",subtitle:"Welcome back to Quppayam",children:u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx(fi,{className:"h-8 w-8 animate-spin text-primary"})})}):u.jsxs(an,{title:"Dashboard",subtitle:"Welcome back to Quppayam",children:[u.jsxs("div",{className:"mb-6 flex flex-col items-start justify-between gap-4 sm:mb-8 sm:flex-row sm:items-center",children:[u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("span",{className:"text-sm text-muted-foreground",children:"Quick Actions:"})}),u.jsxs("div",{className:"flex w-full flex-col gap-2 sm:w-auto sm:flex-row sm:gap-3",children:[u.jsx(q9,{}),u.jsx(K9,{trigger:u.jsxs("button",{className:"inline-flex w-full items-center justify-center gap-2 whitespace-nowrap rounded-md border border-input bg-background px-4 py-2 text-sm font-medium ring-offset-background transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 sm:w-auto",children:[u.jsx(ef,{className:"h-4 w-4"}),"Add Customer"]})})]})]}),u.jsxs("div",{className:"mb-6 grid gap-4 sm:grid-cols-2 sm:mb-8 lg:grid-cols-5",children:[u.jsx(Jo,{title:"Today's Sales",value:`${f.todaySales.toLocaleString()}`,change:`${f.activeOrders} active orders`,changeType:"neutral",icon:u.jsx(KM,{className:"h-6 w-6 text-primary"})}),u.jsx(Jo,{title:"Active Orders",value:f.activeOrders.toString(),change:`${f.readyForPickup} ready for pickup`,changeType:"neutral",icon:u.jsx(xu,{className:"h-6 w-6 text-primary"})}),u.jsx(Jo,{title:"Outstanding",value:`${f.totalOutstanding.toLocaleString()}`,change:"Total balance due",changeType:f.totalOutstanding>0?"negative":"neutral",icon:u.jsx(hq,{className:"h-6 w-6 text-amber-600"})}),u.jsx(Jo,{title:"New Customers",value:f.newCustomers.toString(),change:"This week",changeType:"positive",icon:u.jsx(ef,{className:"h-6 w-6 text-primary"})}),u.jsx(Jo,{title:"Pending Fittings",value:f.pendingFittings.toString(),change:"Ready for fitting",changeType:f.pendingFittings>3?"negative":"neutral",icon:u.jsx(iA,{className:"h-6 w-6 text-primary"})})]}),u.jsxs("div",{className:"grid gap-6 lg:grid-cols-3 lg:gap-8",children:[u.jsx("div",{className:"lg:col-span-2",children:u.jsx(wie,{orders:h})}),u.jsx("div",{children:u.jsx(bie,{customers:p})})]}),u.jsx("div",{className:"mt-6 lg:mt-8",children:u.jsx(_ie,{tasks:v})})]})};function NO({currentPage:t,totalPages:e,pageSize:r,totalItems:n,onPageChange:i,onPageSizeChange:a}){const o=(t-1)*r+1,s=Math.min(t*r,n);return u.jsxs("div",{className:"flex flex-col items-center justify-between gap-4 border-t border-border px-6 py-4 sm:flex-row",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[u.jsx("span",{children:"Showing"}),u.jsxs(zt,{value:r.toString(),onValueChange:l=>a(Number(l)),children:[u.jsx(Ut,{className:"h-8 w-16",children:u.jsx(Ht,{})}),u.jsxs(Vt,{children:[u.jsx(Me,{value:"5",children:"5"}),u.jsx(Me,{value:"10",children:"10"}),u.jsx(Me,{value:"20",children:"20"}),u.jsx(Me,{value:"50",children:"50"})]})]}),u.jsxs("span",{children:["of ",n," items"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-sm text-muted-foreground",children:[o,"-",s," of ",n]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(te,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>i(t-1),disabled:t===1,children:u.jsx(tA,{className:"h-4 w-4"})}),Array.from({length:Math.min(5,e)},(l,c)=>{let d;return e<=5||t<=3?d=c+1:t>=e-2?d=e-4+c:d=t-2+c,u.jsx(te,{variant:t===d?"default":"outline",size:"icon",className:"h-8 w-8",onClick:()=>i(d),children:d},d)}),u.jsx(te,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>i(t+1),disabled:t===e,children:u.jsx(F1,{className:"h-4 w-4"})})]})]})]})}function sh({icon:t,title:e,description:r,actionLabel:n,onAction:i}){return u.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[u.jsx("div",{className:"mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-muted",children:u.jsx(t,{className:"h-8 w-8 text-muted-foreground"})}),u.jsx("h3",{className:"mb-2 font-display text-lg font-semibold text-foreground",children:e}),u.jsx("p",{className:"mb-6 max-w-sm text-sm text-muted-foreground",children:r}),n&&i&&u.jsx(te,{onClick:i,children:n})]})}const jfe=zi({name:Le().trim().min(1,"Name is required").max(100),phone:Le().trim().min(1,"Phone is required").max(20),email:Le().trim().email("Invalid email").max(255).optional().or(Ba("")),address:Le().trim().max(500).optional(),city:Le().trim().max(100).optional(),vip_status:cx(["regular","silver","gold","platinum"]),discount_percentage:ia().min(0).max(100).optional(),notes:Le().trim().max(1e3).optional()});function Tfe({customer:t,open:e,onOpenChange:r}){const[n,i]=b.useState(!1),[a,o]=b.useState(!1),{updateCustomer:s,deleteCustomer:l}=Nv(),{orders:c}=ih(),d=b.useMemo(()=>t?c.filter(g=>g.customer_id===t.id):[],[t,c]),f=b.useMemo(()=>{const g=d.filter(x=>!["completed","cancelled"].includes(x.status)&&Number(x.remaining_balance)>0);return{total:g.reduce((x,w)=>x+Number(w.remaining_balance),0),orders:g}},[d]),h=$i({resolver:Li(jfe),values:t?{name:t.name,phone:t.phone,email:t.email||"",address:t.address||"",city:t.city||"",vip_status:t.vip_status,discount_percentage:t.discount_percentage||0,notes:t.notes||""}:void 0}),p=()=>{i(!1),h.reset(),r(!1)},v=g=>{t&&s.mutate({id:t.id,name:g.name,phone:g.phone,email:g.email||null,address:g.address||null,city:g.city||null,vip_status:g.vip_status,discount_percentage:g.discount_percentage||null,notes:g.notes||null},{onSuccess:()=>{i(!1)}})},m=()=>{t&&l.mutate(t.id,{onSuccess:()=>{o(!1),p()}})};return t?u.jsxs(u.Fragment,{children:[u.jsx(hr,{open:e,onOpenChange:p,children:u.jsxs(Jt,{className:"sm:max-w-xl max-h-[90vh] overflow-y-auto",children:[u.jsx(er,{children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10 font-display text-lg font-semibold text-primary",children:t.name.charAt(0)}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(tr,{className:"font-display",children:t.name}),t.vip_status!=="regular"&&u.jsx(Ga,{className:"h-4 w-4 text-gold"})]}),u.jsxs(Cr,{children:["Customer since ",ct(new Date(t.created_at),"MMM d, yyyy")]})]})]})}),n?u.jsx(Bi,{...h,children:u.jsxs("form",{onSubmit:h.handleSubmit(v),className:"space-y-4",children:[u.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[u.jsx(_e,{control:h.control,name:"name",render:({field:g})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Name *"}),u.jsx(be,{children:u.jsx(Ee,{...g})}),u.jsx(Se,{})]})}),u.jsx(_e,{control:h.control,name:"phone",render:({field:g})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Phone *"}),u.jsx(be,{children:u.jsx(Ee,{...g})}),u.jsx(Se,{})]})})]}),u.jsx(_e,{control:h.control,name:"email",render:({field:g})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Email"}),u.jsx(be,{children:u.jsx(Ee,{type:"email",...g})}),u.jsx(Se,{})]})}),u.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[u.jsx(_e,{control:h.control,name:"address",render:({field:g})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Address"}),u.jsx(be,{children:u.jsx(Ee,{...g})}),u.jsx(Se,{})]})}),u.jsx(_e,{control:h.control,name:"city",render:({field:g})=>u.jsxs(we,{children:[u.jsx(xe,{children:"City"}),u.jsx(be,{children:u.jsx(Ee,{...g})}),u.jsx(Se,{})]})})]}),u.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[u.jsx(_e,{control:h.control,name:"vip_status",render:({field:g})=>u.jsxs(we,{children:[u.jsx(xe,{children:"VIP Status"}),u.jsxs(zt,{onValueChange:g.onChange,value:g.value,children:[u.jsx(be,{children:u.jsx(Ut,{children:u.jsx(Ht,{})})}),u.jsxs(Vt,{children:[u.jsx(Me,{value:"regular",children:"Regular"}),u.jsx(Me,{value:"silver",children:"Silver"}),u.jsx(Me,{value:"gold",children:"Gold"}),u.jsx(Me,{value:"platinum",children:"Platinum"})]})]}),u.jsx(Se,{})]})}),u.jsx(_e,{control:h.control,name:"discount_percentage",render:({field:g})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Discount %"}),u.jsx(be,{children:u.jsx(Ee,{type:"number",min:0,max:100,...g,onChange:y=>g.onChange(Number(y.target.value))})}),u.jsx(Se,{})]})})]}),u.jsx(_e,{control:h.control,name:"notes",render:({field:g})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Notes"}),u.jsx(be,{children:u.jsx(hi,{rows:2,...g})}),u.jsx(Se,{})]})}),u.jsxs(Rt,{children:[u.jsx(te,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancel"}),u.jsx(te,{type:"submit",disabled:s.isPending,children:s.isPending?"Saving...":"Save Changes"})]})]})}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid gap-3",children:[u.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[u.jsx(yu,{className:"h-4 w-4 text-muted-foreground"}),u.jsx("span",{children:t.phone})]}),t.email&&u.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[u.jsx(av,{className:"h-4 w-4 text-muted-foreground"}),u.jsx("span",{children:t.email})]}),(t.address||t.city)&&u.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[u.jsx(oA,{className:"h-4 w-4 text-muted-foreground"}),u.jsx("span",{children:[t.address,t.city].filter(Boolean).join(", ")})]})]}),u.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-muted/50 p-3",children:[u.jsx("span",{className:`status-badge ${t.vip_status==="platinum"?"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400":t.vip_status==="gold"?"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400":t.vip_status==="silver"?"bg-slate-100 text-slate-800 dark:bg-slate-900/30 dark:text-slate-400":"bg-secondary text-secondary-foreground"}`,children:t.vip_status}),t.discount_percentage&&t.discount_percentage>0&&u.jsxs("span",{className:"text-sm text-muted-foreground",children:[t.discount_percentage,"% discount"]})]}),t.notes&&u.jsx("div",{className:"rounded-lg border border-border p-3",children:u.jsx("p",{className:"text-sm text-muted-foreground",children:t.notes})}),f.total>0&&u.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-3 dark:border-amber-900/50 dark:bg-amber-900/20",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(rA,{className:"h-4 w-4 text-amber-600"}),u.jsx("span",{className:"font-medium text-amber-700 dark:text-amber-400",children:"Outstanding Balance"})]}),u.jsxs("div",{className:"text-lg font-semibold text-amber-700 dark:text-amber-400",children:["",f.total.toLocaleString()]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(xu,{className:"h-4 w-4 text-muted-foreground"}),u.jsxs("span",{className:"font-medium",children:["Orders (",d.length,")"]})]}),d.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center py-6 text-center text-muted-foreground rounded-lg border border-dashed",children:[u.jsx(Dl,{className:"h-8 w-8 mb-2 opacity-50"}),u.jsx("p",{className:"text-sm",children:"No orders yet"})]}):u.jsx("div",{className:"space-y-2 max-h-[250px] overflow-y-auto pr-1",children:d.map(g=>u.jsxs("div",{className:"flex items-center justify-between rounded-lg border bg-card p-3 text-sm",children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"font-medium",children:g.order_number}),u.jsx(wv,{status:g.status})]}),u.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[u.jsx("span",{children:ct(new Date(g.created_at),"MMM d, yyyy")}),g.due_date&&u.jsxs("span",{children:["Due: ",ct(new Date(g.due_date),"MMM d")]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:"font-medium",children:["",Number(g.total_amount).toLocaleString()]}),g.status==="cancelled"?g.is_settled?Number(g.deposit_amount)>0?u.jsx("div",{className:"text-xs text-green-600 dark:text-green-400",children:"Refunded & Settled"}):u.jsx("div",{className:"text-xs text-green-600 dark:text-green-400",children:"Settled"}):Number(g.deposit_amount)>0?u.jsxs("div",{className:"text-xs text-red-600 dark:text-red-400",children:["Refund: ",Number(g.deposit_amount).toLocaleString()]}):null:Number(g.remaining_balance)===0&&Number(g.total_amount)>0?u.jsx("div",{className:"text-xs text-green-600 dark:text-green-400",children:"Payment Received"}):Number(g.remaining_balance)>0?u.jsxs("div",{className:"text-xs text-amber-600 dark:text-amber-400",children:["Due: ",Number(g.remaining_balance).toLocaleString()]}):null]})]},g.id))})]})]}),u.jsxs(Rt,{className:"flex-row gap-2 sm:justify-between",children:[u.jsxs(te,{variant:"destructive",size:"sm",onClick:()=>o(!0),className:"gap-2",children:[u.jsx(zl,{className:"h-4 w-4"}),"Delete"]}),u.jsxs(te,{onClick:()=>i(!0),className:"gap-2",children:[u.jsx(ha,{className:"h-4 w-4"}),"Edit"]})]})]})]})}),u.jsx(Bl,{open:a,onOpenChange:o,children:u.jsxs(xs,{children:[u.jsxs(ws,{children:[u.jsx(_s,{children:"Delete Customer"}),u.jsxs(Ss,{children:["Are you sure you want to delete ",t.name,"? This action cannot be undone."]})]}),u.jsxs(bs,{children:[u.jsx(Es,{children:"Cancel"}),u.jsx(Cs,{onClick:m,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:l.isPending?"Deleting...":"Delete"})]})]})})]}):null}const Pfe=()=>{const{customers:t,isLoading:e}=Nv(),[r,n]=b.useState(""),[i,a]=b.useState("all"),[o,s]=b.useState(1),[l,c]=b.useState(10),[d,f]=b.useState(null),[h,p]=b.useState(!1),v=b.useMemo(()=>t.filter(w=>{var C;const S=w.name.toLowerCase().includes(r.toLowerCase())||(((C=w.email)==null?void 0:C.toLowerCase().includes(r.toLowerCase()))??!1)||w.phone.includes(r),_=i==="all"||i==="vip"&&w.vip_status!=="regular"||i==="regular"&&w.vip_status==="regular";return S&&_}),[t,r,i]),m=Math.ceil(v.length/l),g=v.slice((o-1)*l,o*l),y=w=>{f(w),p(!0)},x=w=>{const S=w.replace(/\D/g,"");window.open(`https://wa.me/${S}`,"_blank")};return e?u.jsx(an,{title:"Customers",subtitle:"Manage your customer relationships",children:u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx(fi,{className:"h-8 w-8 animate-spin text-primary"})})}):u.jsxs(an,{title:"Customers",subtitle:"Manage your customer relationships",children:[u.jsxs("div",{className:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{className:"flex flex-1 items-center gap-3",children:[u.jsxs("div",{className:"relative flex-1 sm:max-w-sm",children:[u.jsx(Gf,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),u.jsx(Ee,{placeholder:"Search customers...",className:"pl-10",value:r,onChange:w=>{n(w.target.value),s(1)}})]}),u.jsxs(zt,{value:i,onValueChange:w=>{a(w),s(1)},children:[u.jsx(Ut,{className:"w-40",children:u.jsx(Ht,{placeholder:"VIP Status"})}),u.jsxs(Vt,{children:[u.jsx(Me,{value:"all",children:"All Customers"}),u.jsx(Me,{value:"vip",children:"VIP Only"}),u.jsx(Me,{value:"regular",children:"Regular"})]})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs(te,{variant:"outline",className:"gap-2",children:[u.jsx(vu,{className:"h-4 w-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Export"})]}),u.jsx(K9,{})]})]}),u.jsx("div",{className:"card-luxury overflow-hidden",children:g.length===0?u.jsx(sh,{icon:ef,title:"No customers found",description:t.length===0?"Add your first customer to get started.":"No customers match your current search or filters."}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-border bg-muted/30",children:[u.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider text-muted-foreground md:px-6",children:"Customer"}),u.jsx("th",{className:"hidden px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider text-muted-foreground sm:table-cell md:px-6",children:"Contact"}),u.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider text-muted-foreground md:px-6",children:"Status"}),u.jsx("th",{className:"hidden px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider text-muted-foreground lg:table-cell md:px-6",children:"Created"}),u.jsx("th",{className:"px-4 py-4 text-right text-xs font-semibold uppercase tracking-wider text-muted-foreground md:px-6",children:"Actions"})]})}),u.jsx("tbody",{className:"divide-y divide-border",children:g.map(w=>u.jsxs("tr",{className:"transition-colors hover:bg-muted/20 cursor-pointer",onClick:()=>y(w),children:[u.jsx("td",{className:"whitespace-nowrap px-4 py-4 md:px-6",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/10 font-display text-sm font-semibold text-primary",children:w.name.charAt(0)}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"font-medium text-foreground",children:w.name}),w.vip_status!=="regular"&&u.jsx(Ga,{className:"h-4 w-4 text-gold"})]}),u.jsx("p",{className:"mt-1 text-xs text-muted-foreground sm:hidden",children:w.phone})]})]})}),u.jsx("td",{className:"hidden whitespace-nowrap px-4 py-4 sm:table-cell md:px-6",children:u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-foreground",children:[u.jsx(yu,{className:"h-3.5 w-3.5 text-muted-foreground"}),w.phone]}),w.email&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[u.jsx(av,{className:"h-3.5 w-3.5"}),w.email]})]})}),u.jsx("td",{className:"whitespace-nowrap px-4 py-4 md:px-6",children:u.jsx("span",{className:`status-badge ${w.vip_status==="platinum"?"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400":w.vip_status==="gold"?"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400":w.vip_status==="silver"?"bg-slate-100 text-slate-800 dark:bg-slate-900/30 dark:text-slate-400":"bg-secondary text-secondary-foreground"}`,children:w.vip_status})}),u.jsx("td",{className:"hidden whitespace-nowrap px-4 py-4 text-muted-foreground lg:table-cell md:px-6",children:ct(new Date(w.created_at),"MMM d, yyyy")}),u.jsx("td",{className:"whitespace-nowrap px-4 py-4 text-right md:px-6",onClick:S=>S.stopPropagation(),children:u.jsxs(Po,{children:[u.jsx(ko,{asChild:!0,children:u.jsx(te,{variant:"ghost",size:"icon",children:u.jsx(gu,{className:"h-4 w-4"})})}),u.jsxs(Ja,{align:"end",children:[u.jsxs(mt,{onClick:()=>y(w),className:"gap-2",children:[u.jsx(Hf,{className:"h-4 w-4"}),"View Profile"]}),u.jsxs(mt,{onClick:()=>y(w),className:"gap-2",children:[u.jsx(ha,{className:"h-4 w-4"}),"Edit Customer"]}),u.jsxs(mt,{onClick:()=>x(w.phone),className:"gap-2",children:[u.jsx(XM,{className:"h-4 w-4"}),"Send WhatsApp"]})]})]})})]},w.id))})]})}),u.jsx(NO,{currentPage:o,totalPages:m,pageSize:l,totalItems:v.length,onPageChange:s,onPageSizeChange:w=>{c(w),s(1)}})]})}),u.jsx(Tfe,{customer:d,open:h,onOpenChange:p})]})};var Sx="Collapsible",[kfe,X9]=vn(Sx),[Ife,jO]=kfe(Sx),Y9=b.forwardRef((t,e)=>{const{__scopeCollapsible:r,open:n,defaultOpen:i,disabled:a,onOpenChange:o,...s}=t,[l,c]=Di({prop:n,defaultProp:i??!1,onChange:o,caller:Sx});return u.jsx(Ife,{scope:r,disabled:a,contentId:Ti(),open:l,onOpenToggle:b.useCallback(()=>c(d=>!d),[c]),children:u.jsx(Pe.div,{"data-state":IO(l),"data-disabled":a?"":void 0,...s,ref:e})})});Y9.displayName=Sx;var Z9="CollapsibleTrigger",TO=b.forwardRef((t,e)=>{const{__scopeCollapsible:r,...n}=t,i=jO(Z9,r);return u.jsx(Pe.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":IO(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...n,ref:e,onClick:ae(t.onClick,i.onOpenToggle)})});TO.displayName=Z9;var PO="CollapsibleContent",kO=b.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=jO(PO,t.__scopeCollapsible);return u.jsx(sn,{present:r||i.open,children:({present:a})=>u.jsx(Rfe,{...n,ref:e,present:a})})});kO.displayName=PO;var Rfe=b.forwardRef((t,e)=>{const{__scopeCollapsible:r,present:n,children:i,...a}=t,o=jO(PO,r),[s,l]=b.useState(n),c=b.useRef(null),d=Ke(e,c),f=b.useRef(0),h=f.current,p=b.useRef(0),v=p.current,m=o.open||s,g=b.useRef(m),y=b.useRef(void 0);return b.useEffect(()=>{const x=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(x)},[]),on(()=>{const x=c.current;if(x){y.current=y.current||{transitionDuration:x.style.transitionDuration,animationName:x.style.animationName},x.style.transitionDuration="0s",x.style.animationName="none";const w=x.getBoundingClientRect();f.current=w.height,p.current=w.width,g.current||(x.style.transitionDuration=y.current.transitionDuration,x.style.animationName=y.current.animationName),l(n)}},[o.open,n]),u.jsx(Pe.div,{"data-state":IO(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!m,...a,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...t.style},children:m&&i})});function IO(t){return t?"open":"closed"}var Q9=Y9,Dfe=TO,Mfe=kO;const py=Q9,my=TO,vy=kO;function J9(t){const e=pi(),{data:r,isLoading:n}=Wi({queryKey:["payment-history",t],queryFn:async()=>{if(!t)return[];const{data:s,error:l}=await Ne.from("payment_history").select("*").eq("order_id",t).order("created_at",{ascending:!1});if(l)throw l;return s},enabled:!!t}),i=dt({mutationFn:async({orderId:s,amount:l,paymentType:c,notes:d})=>{const{error:f}=await Ne.from("payment_history").insert({order_id:s,amount:l,payment_type:c,notes:d||null});if(f)throw f},onSuccess:(s,l)=>{e.invalidateQueries({queryKey:["payment-history",l.orderId]}),e.invalidateQueries({queryKey:["orders"]}),cT.success(l.paymentType==="payment"?"Payment recorded successfully":"Refund recorded successfully")},onError:s=>{cT.error("Failed to record: "+s.message)}}),a=(r==null?void 0:r.reduce((s,l)=>l.payment_type==="payment"?s+Number(l.amount):s,0))||0,o=(r==null?void 0:r.reduce((s,l)=>l.payment_type==="refund"?s+Number(l.amount):s,0))||0;return{payments:r,isLoading:n,recordPayment:i,totalReceived:a,totalRefunded:o,netReceived:a-o}}function eF(t){const{toast:e}=Vr(),r=pi(),{data:n=[],isLoading:i,error:a}=Wi({queryKey:["order-items",t],queryFn:async()=>{if(!t)return[];const{data:d,error:f}=await Ne.from("order_items").select(`
          *,
          measurement:measurements(
            id,
            garment_type,
            full_length,
            blouse_length,
            shoulder,
            bust,
            waist_round,
            yoke_length,
            yoke_round,
            slit_length,
            slit_width,
            stomach_length,
            stomach_round,
            bust_point_length,
            bust_distance,
            fc,
            bc,
            sleeve_round,
            bicep_round,
            armhole,
            shoulder_balance,
            front_neck_depth,
            back_neck_depth,
            collar_round,
            bottom_length,
            skirt_length,
            hip_round,
            seat_round,
            thigh_round,
            knee_round,
            ankle_round,
            custom_notes
          ),
          measurement_version:measurement_versions(
            id,
            version_number,
            full_length,
            blouse_length,
            shoulder,
            bust,
            waist_round,
            yoke_length,
            yoke_round,
            slit_length,
            slit_width,
            stomach_length,
            stomach_round,
            bust_point_length,
            bust_distance,
            fc,
            bc,
            sleeve_round,
            bicep_round,
            armhole,
            shoulder_balance,
            front_neck_depth,
            back_neck_depth,
            collar_round,
            bottom_length,
            skirt_length,
            hip_round,
            seat_round,
            thigh_round,
            knee_round,
            ankle_round,
            garment_type,
            custom_notes,
            created_at
          )
        `).eq("order_id",t).order("created_at",{ascending:!0});if(f)throw f;return d},enabled:!!t}),o=dt({mutationFn:async({itemId:d,measurementVersionId:f})=>{const{data:h,error:p}=await Ne.from("order_items").update({measurement_version_id:f}).eq("id",d).select().single();if(p)throw p;return h},onSuccess:()=>{r.invalidateQueries({queryKey:["order-items",t]}),e({title:"Measurement updated",description:"The order item measurement has been updated."})},onError:d=>{e({title:"Error",description:d.message,variant:"destructive"})}}),s=dt({mutationFn:async d=>{const{data:f,error:h}=await Ne.from("order_items").insert(d).select().single();if(h)throw h;return f},onSuccess:()=>{r.invalidateQueries({queryKey:["order-items",t]}),e({title:"Item added",description:"The item was added to the order."})},onError:d=>{e({title:"Error",description:d.message,variant:"destructive"})}}),l=dt({mutationFn:async d=>{const{data:f,error:h}=await Ne.from("order_items").delete().eq("id",d).select().single();if(h)throw h;return f},onSuccess:()=>{r.invalidateQueries({queryKey:["order-items",t]}),e({title:"Item removed",description:"The item was removed from the order."})},onError:d=>{e({title:"Error",description:d.message,variant:"destructive"})}}),c=dt({mutationFn:async({itemId:d,quantity:f})=>{const{data:h,error:p}=await Ne.from("order_items").update({quantity:f}).eq("id",d).select().single();if(p)throw p;return h},onSuccess:()=>{r.invalidateQueries({queryKey:["order-items",t]}),e({title:"Quantity updated",description:"The item quantity has been updated."})},onError:d=>{e({title:"Error",description:d.message,variant:"destructive"})}});return{items:n,isLoading:i,error:a,updateOrderItemMeasurement:o,addOrderItem:s,removeOrderItem:l,updateOrderItemQuantity:c}}function $fe({order:t,open:e,onOpenChange:r}){var D,F,L,M,j,R,V;const[n,i]=b.useState(!1),[a,o]=b.useState(!1),[s,l]=b.useState(!1),[c,d]=b.useState(!0),[f,h]=b.useState(""),[p,v]=b.useState("");b.useState("");const{updateOrder:m,deleteOrder:g}=ih(),{payments:y,recordPayment:x,netReceived:w}=J9(t==null?void 0:t.id),{items:S,addOrderItem:_}=eF(t==null?void 0:t.id);ah(),Vr();const C=()=>{r(!1),o(!1),l(!1),d(!0),h(""),v("")},E=(t==null?void 0:t.status)==="cancelled",A=(t==null?void 0:t.is_settled)??!1,O=()=>{t&&m.mutate({id:t.id,is_settled:!0})},T=()=>{if(!t)return;const W=parseFloat(f)||0;if(W<=0)return;const z=w+W,K=Number(t.total_amount),re=Math.max(0,K-z);x.mutate({orderId:t.id,amount:W,paymentType:"payment"},{onSuccess:()=>{m.mutate({id:t.id,deposit_amount:z,remaining_balance:re}),o(!1),h("")}})},N=()=>{if(!t)return;const W=parseFloat(p)||0;if(W<=0)return;const z=Math.max(0,w-W),K=Number(t.total_amount),re=Math.max(0,K-z);x.mutate({orderId:t.id,amount:W,paymentType:"refund"},{onSuccess:()=>{m.mutate({id:t.id,deposit_amount:z,remaining_balance:re}),l(!1),v("")}})},P=()=>{t&&g.mutate(t.id,{onSuccess:()=>{i(!1),C()}})};if(!t)return null;const $=Number(t.total_amount)-w;return u.jsxs(u.Fragment,{children:[u.jsx(hr,{open:e,onOpenChange:C,children:u.jsxs(Jt,{className:"sm:max-w-lg max-h-[90vh] overflow-hidden flex flex-col",children:[u.jsx(er,{children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs(tr,{className:"font-display",children:["#",t.order_number]}),u.jsxs(Cr,{children:["Created ",ct(new Date(t.created_at),"MMM d, yyyy")]})]}),u.jsx(wv,{status:t.status})]})}),u.jsx(oh,{className:"flex-1 pr-4 overflow-y-auto",children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"rounded-lg border border-border p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/10 font-display text-sm font-semibold text-primary",children:(F=(D=t.customer)==null?void 0:D.name)==null?void 0:F.charAt(0)}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"font-medium",children:(L=t.customer)==null?void 0:L.name}),((M=t.customer)==null?void 0:M.vip_status)&&t.customer.vip_status!=="regular"&&u.jsx(Ga,{className:"h-4 w-4 text-gold"})]}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[u.jsx(yu,{className:"h-3 w-3"}),u.jsx("span",{children:(j=t.customer)==null?void 0:j.phone})]})]})]})}),u.jsx(py,{open:c,onOpenChange:d,children:u.jsxs("div",{className:"rounded-lg border border-border p-4 space-y-3",children:[u.jsx(my,{asChild:!0,children:u.jsxs(te,{variant:"ghost",size:"sm",className:"w-full justify-between gap-2 -m-2",children:[u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(Dl,{className:"h-4 w-4"}),"Order Items (",S.length,")"]}),c?u.jsx(Gp,{className:"h-4 w-4"}):u.jsx(Xc,{className:"h-4 w-4"})]})}),u.jsx(vy,{className:"space-y-2 pt-2",children:S.length>0?S.map(W=>u.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-muted/30 border border-border",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-medium",children:W.description}),u.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[u.jsxs("span",{children:["Qty: ",W.quantity]}),u.jsx("span",{children:""}),u.jsxs("span",{children:["",Number(W.unit_price).toLocaleString()]}),W.is_custom_work&&u.jsx("span",{className:"px-1.5 py-0.5 rounded bg-primary/10 text-primary text-[10px]",children:"Custom"})]})]}),u.jsxs("p",{className:"font-medium text-sm",children:["",Number(W.total_price).toLocaleString()]})]},W.id)):u.jsx("p",{className:"text-sm text-muted-foreground text-center py-2",children:"No items added to this order"})})]})}),u.jsxs("div",{className:"rounded-lg border border-border p-4 space-y-3",children:[u.jsxs("p",{className:"text-sm font-medium flex items-center gap-2",children:[u.jsx(sq,{className:"h-4 w-4"}),"Financial Summary"]}),u.jsxs("div",{className:"space-y-2",children:[Number(t.subtotal)>0&&u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),u.jsxs("span",{children:["",Number(t.subtotal).toLocaleString()]})]}),Number(t.tax_amount)>0&&u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Tax"}),u.jsxs("span",{children:["",Number(t.tax_amount).toLocaleString()]})]}),Number(t.discount_amount)>0&&u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Discount"}),u.jsxs("span",{className:"text-emerald-600",children:["-",Number(t.discount_amount).toLocaleString()]})]}),u.jsxs("div",{className:"flex justify-between text-sm font-semibold pt-2 border-t border-border",children:[u.jsx("span",{children:"Total Amount"}),u.jsxs("span",{children:["",Number(t.total_amount).toLocaleString()]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2",children:[u.jsxs("div",{className:"rounded-lg bg-emerald-500/10 p-2 text-center",children:[u.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Received"}),u.jsxs("p",{className:"text-sm font-medium text-emerald-600",children:["",w.toLocaleString()]})]}),u.jsxs("div",{className:`rounded-lg p-2 text-center ${$>0?"bg-amber-500/10":"bg-emerald-500/10"}`,children:[u.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Balance"}),u.jsxs("p",{className:`text-sm font-medium ${$>0?"text-amber-600":"text-emerald-600"}`,children:["",Math.max(0,$).toLocaleString()]})]})]})]}),u.jsxs("div",{className:"rounded-lg border border-border p-4 space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("p",{className:"text-sm font-medium flex items-center gap-2",children:[u.jsx(zM,{className:"h-4 w-4"}),"Payment History"]}),!E&&u.jsx("div",{className:"flex gap-2",children:u.jsxs(te,{variant:"outline",size:"sm",onClick:()=>o(!0),className:"gap-1 h-7 text-xs",children:[u.jsx(ms,{className:"h-3 w-3"}),"Payment"]})}),E&&w>0&&!A&&u.jsxs(te,{variant:"outline",size:"sm",onClick:()=>l(!0),className:"gap-1 h-7 text-xs border-amber-500/50 text-amber-700 hover:bg-amber-500/20 dark:text-amber-400",children:[u.jsx(lq,{className:"h-3 w-3"}),"Refund"]})]}),a&&u.jsxs("div",{className:"rounded-lg border border-primary/30 bg-primary/5 p-3 space-y-2",children:[u.jsx("label",{className:"text-xs text-muted-foreground",children:"Payment Amount ()"}),u.jsx(Ee,{type:"number",min:0,value:f,onChange:W=>h(W.target.value),placeholder:"Enter payment amount"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(te,{variant:"outline",size:"sm",onClick:()=>o(!1),children:"Cancel"}),u.jsx(te,{size:"sm",onClick:T,disabled:x.isPending||!f||parseFloat(f)<=0,children:x.isPending?"Recording...":"Record Payment"})]})]}),s&&u.jsxs("div",{className:"rounded-lg border border-amber-500/30 bg-amber-500/10 p-3 space-y-2",children:[u.jsx("label",{className:"text-xs text-muted-foreground",children:"Refund Amount ()"}),u.jsx(Ee,{type:"number",min:0,max:w,value:p,onChange:W=>v(W.target.value),placeholder:"Enter refund amount"}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["Max refundable: ",w.toLocaleString()]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(te,{variant:"outline",size:"sm",onClick:()=>l(!1),children:"Cancel"}),u.jsx(te,{size:"sm",onClick:N,disabled:x.isPending||!p||parseFloat(p)<=0,className:"bg-amber-600 hover:bg-amber-700",children:x.isPending?"Processing...":"Process Refund"})]})]}),y&&y.length>0?u.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:y.map(W=>u.jsxs("div",{className:`flex items-center justify-between p-2 rounded-md text-sm ${W.payment_type==="refund"?"bg-amber-500/10 border border-amber-500/20":"bg-emerald-500/10 border border-emerald-500/20"}`,children:[u.jsxs("div",{className:"flex items-center gap-2",children:[W.payment_type==="refund"?u.jsx(QG,{className:"h-4 w-4 text-amber-600"}):u.jsx(ZG,{className:"h-4 w-4 text-emerald-600"}),u.jsx("span",{className:W.payment_type==="refund"?"text-amber-700 dark:text-amber-400":"text-emerald-700 dark:text-emerald-400",children:W.payment_type==="refund"?"Refund":"Payment"})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:`font-medium ${W.payment_type==="refund"?"text-amber-700 dark:text-amber-400":"text-emerald-700 dark:text-emerald-400"}`,children:[W.payment_type==="refund"?"-":"+","",Number(W.amount).toLocaleString()]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:ct(new Date(W.created_at),"MMM d, yyyy 'at' h:mm a")})]})]},W.id))}):u.jsx("p",{className:"text-xs text-muted-foreground text-center py-2",children:"No payment records yet"})]}),u.jsxs("div",{className:"grid gap-3",children:[u.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[u.jsx(B1,{className:"h-4 w-4 text-muted-foreground"}),u.jsx("span",{children:((R=t.store)==null?void 0:R.name)||"No store assigned"})]}),u.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[u.jsx(sA,{className:"h-4 w-4 text-muted-foreground"}),u.jsx("span",{children:((V=t.assigned_employee)==null?void 0:V.name)||"Unassigned"})]}),t.due_date&&u.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[u.jsx(iv,{className:"h-4 w-4 text-muted-foreground"}),u.jsxs("span",{children:["Due: ",ct(new Date(t.due_date),"PPP")]})]})]}),t.notes&&u.jsx("div",{className:"rounded-lg border border-border p-3",children:u.jsx("p",{className:"text-sm text-muted-foreground",children:t.notes})})]})}),u.jsxs(Rt,{className:"flex-row flex-wrap gap-2 sm:justify-between",children:[u.jsxs("div",{className:"flex gap-2",children:[!E&&u.jsxs(te,{variant:"destructive",size:"sm",onClick:()=>i(!0),className:"gap-2",children:[u.jsx(zl,{className:"h-4 w-4"}),"Cancel Order"]}),E&&!A&&u.jsx(te,{variant:"outline",size:"sm",onClick:O,disabled:m.isPending,className:"gap-2 border-emerald-500/50 text-emerald-700 hover:bg-emerald-500/20 dark:text-emerald-400",children:m.isPending?"Settling...":"Mark as Settled"})]}),u.jsx("div",{})]})]})}),u.jsx(Bl,{open:n,onOpenChange:i,children:u.jsxs(xs,{children:[u.jsxs(ws,{children:[u.jsx(_s,{children:"Cancel Order"}),u.jsxs(Ss,{children:["Are you sure you want to cancel order #",t.order_number,"? This will mark the order as cancelled."]})]}),u.jsxs(bs,{children:[u.jsx(Es,{children:"Go Back"}),u.jsx(Cs,{onClick:P,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:g.isPending?"Cancelling...":"Cancel Order"})]})]})})]})}const tF=()=>{const t=pi(),{data:e,isLoading:r,error:n}=Wi({queryKey:["order-status-settings"],queryFn:async()=>{const{data:l,error:c}=await Ne.from("order_status_settings").select("*").order("sort_order",{ascending:!0});if(c)throw c;return l}}),i=dt({mutationFn:async l=>{const{data:c,error:d}=await Ne.from("order_status_settings").insert(l).select().single();if(d)throw d;return c},onSuccess:()=>{t.invalidateQueries({queryKey:["order-status-settings"]}),Ia({title:"Order status created successfully"})},onError:l=>{Ia({title:"Failed to create order status",description:l.message,variant:"destructive"})}}),a=dt({mutationFn:async({id:l,...c})=>{const{data:d,error:f}=await Ne.from("order_status_settings").update(c).eq("id",l).select().single();if(f)throw f;return d},onSuccess:()=>{t.invalidateQueries({queryKey:["order-status-settings"]}),Ia({title:"Order status updated successfully"})},onError:l=>{Ia({title:"Failed to update order status",description:l.message,variant:"destructive"})}}),o=dt({mutationFn:async l=>{const{error:c}=await Ne.from("order_status_settings").delete().eq("id",l);if(c)throw c},onSuccess:()=>{t.invalidateQueries({queryKey:["order-status-settings"]}),Ia({title:"Order status deleted successfully"})},onError:l=>{Ia({title:"Failed to delete order status",description:l.message,variant:"destructive"})}}),s=dt({mutationFn:async l=>{const c=l.map((d,f)=>({id:d,sort_order:f}));for(const d of c){const{error:f}=await Ne.from("order_status_settings").update({sort_order:d.sort_order}).eq("id",d.id);if(f)throw f}},onSuccess:()=>{t.invalidateQueries({queryKey:["order-status-settings"]})},onError:l=>{Ia({title:"Failed to reorder statuses",description:l.message,variant:"destructive"})}});return{orderStatuses:e,isLoading:r,error:n,createOrderStatus:i,updateOrderStatus:a,deleteOrderStatus:o,reorderStatuses:s}},Lfe=()=>{const t=pi(),{data:e,isLoading:r,error:n}=Wi({queryKey:["vip-status-settings"],queryFn:async()=>{const{data:o,error:s}=await Ne.from("vip_status_settings").select("*").order("sort_order",{ascending:!0});if(s)throw s;return o}}),i=dt({mutationFn:async({id:o,...s})=>{const{data:l,error:c}=await Ne.from("vip_status_settings").update(s).eq("id",o).select().single();if(c)throw c;return l},onSuccess:()=>{t.invalidateQueries({queryKey:["vip-status-settings"]}),Ia({title:"VIP status updated successfully"})},onError:o=>{Ia({title:"Failed to update VIP status",description:o.message,variant:"destructive"})}}),a=dt({mutationFn:async o=>{const s=o.map((l,c)=>({id:l,sort_order:c}));for(const l of s){const{error:c}=await Ne.from("vip_status_settings").update({sort_order:l.sort_order}).eq("id",l.id);if(c)throw c}},onSuccess:()=>{t.invalidateQueries({queryKey:["vip-status-settings"]})},onError:o=>{Ia({title:"Failed to reorder VIP statuses",description:o.message,variant:"destructive"})}});return{vipStatuses:e,isLoading:r,error:n,updateVipStatus:i,reorderVipStatuses:a}},Ffe=[];function Bfe({order:t,open:e,onOpenChange:r}){const[n,i]=b.useState(""),{updateOrderStatus:a}=ih(),{orderStatuses:o}=tF();b.useEffect(()=>{e&&t&&i(t.status)},[e,t]);const s=(o||[]).filter(f=>f.is_active).map(f=>({value:f.code,label:f.label})),l=s.length>0?s:Ffe,c=()=>{r(!1),i("")},d=()=>{!t||!n||a.mutate({id:t.id,status:n},{onSuccess:()=>{c()}})};return t?u.jsx(hr,{open:e,onOpenChange:c,children:u.jsxs(Jt,{className:"sm:max-w-md",children:[u.jsxs(er,{children:[u.jsx(tr,{className:"font-display",children:"Update Order Status"}),u.jsxs(Cr,{children:["Change the status for order #",t.order_number]})]}),u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Current Status:"}),u.jsx(wv,{status:t.status})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium",children:"New Status"}),u.jsxs(zt,{value:n,onValueChange:f=>i(f),children:[u.jsx(Ut,{children:u.jsx(Ht,{placeholder:"Select new status"})}),u.jsx(Vt,{children:l.map(f=>u.jsx(Me,{value:f.value,children:f.label},f.value))})]})]})]}),u.jsxs(Rt,{children:[u.jsx(te,{variant:"outline",onClick:c,children:"Cancel"}),u.jsx(te,{onClick:d,disabled:!n||n===t.status||a.isPending,children:a.isPending?u.jsxs(u.Fragment,{children:[u.jsx(fi,{className:"h-4 w-4 animate-spin mr-2"}),"Updating..."]}):"Update Status"})]})]})}):null}var Cx="Tabs",[Ufe,vMe]=vn(Cx,[eh]),rF=eh(),[Vfe,RO]=Ufe(Cx),nF=b.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:s,activationMode:l="automatic",...c}=t,d=_u(s),[f,h]=Di({prop:n,onChange:i,defaultProp:a??"",caller:Cx});return u.jsx(Vfe,{scope:r,baseId:Ti(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:l,children:u.jsx(Pe.div,{dir:d,"data-orientation":o,...c,ref:e})})});nF.displayName=Cx;var iF="TabsList",aF=b.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,a=RO(iF,r),o=rF(r);return u.jsx(LA,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:u.jsx(Pe.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});aF.displayName=iF;var oF="TabsTrigger",sF=b.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...a}=t,o=RO(oF,r),s=rF(r),l=uF(o.baseId,n),c=dF(o.baseId,n),d=n===o.value;return u.jsx(FA,{asChild:!0,...s,focusable:!i,active:d,children:u.jsx(Pe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...a,ref:e,onMouseDown:ae(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:ae(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:ae(t.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!i&&f&&o.onValueChange(n)})})})});sF.displayName=oF;var lF="TabsContent",cF=b.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:a,...o}=t,s=RO(lF,r),l=uF(s.baseId,n),c=dF(s.baseId,n),d=n===s.value,f=b.useRef(d);return b.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),u.jsx(sn,{present:i||d,children:({present:h})=>u.jsx(Pe.div,{"data-state":d?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:h&&a})})});cF.displayName=lF;function uF(t,e){return`${t}-trigger-${e}`}function dF(t,e){return`${t}-content-${e}`}var Wfe=nF,fF=aF,hF=sF,pF=cF;const zfe=Wfe,mF=b.forwardRef(({className:t,...e},r)=>u.jsx(fF,{ref:r,className:he("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));mF.displayName=fF.displayName;const ES=b.forwardRef(({className:t,...e},r)=>u.jsx(hF,{ref:r,className:he("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));ES.displayName=hF.displayName;const AS=b.forwardRef(({className:t,...e},r)=>u.jsx(pF,{ref:r,className:he("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));AS.displayName=pF.displayName;const Hfe=zi({scheduledDate:Le().min(1,"Date is required"),scheduledTime:Le().min(1,"Time is required"),storeId:Le().optional(),notes:Le().max(500).optional()}),vF={garmentType:Le().min(2,"Garment type is required"),custom_notes:Le().max(500).optional()};dr.forEach(t=>{vF[t.key]=ia().min(0).max(200).optional()});const Gfe=zi(vF),qfe=["Standard Blouse","Lehenga","Saree Blouse","Kurta","Salwar","Evening Gown","Custom"];function Kfe({order:t,open:e,onOpenChange:r}){var m;const[n,i]=b.useState("fitting"),[a,o]=b.useState(!1),{stores:s}=eo(),{createMeasurement:l}=jv(),{toast:c}=Vr(),d=$i({resolver:Li(Hfe),defaultValues:{scheduledDate:ct(new Date,"yyyy-MM-dd"),scheduledTime:"10:00",storeId:"",notes:""}}),f=$i({resolver:Li(Gfe),defaultValues:{garmentType:"",custom_notes:""}});b.useEffect(()=>{t!=null&&t.store_id&&d.setValue("storeId",t.store_id)},[t,d]);const h=()=>{d.reset(),f.reset(),i("fitting"),r(!1)},p=async g=>{var y;if((y=t==null?void 0:t.customer)!=null&&y.id){o(!0);try{const x=new Date(`${g.scheduledDate}T${g.scheduledTime}`),{error:w}=await Ne.from("fitting_appointments").insert({order_id:t.id,customer_id:t.customer.id,scheduled_at:x.toISOString(),store_id:g.storeId||null,notes:g.notes||null});if(w)throw w;c({title:"Fitting scheduled",description:`Fitting scheduled for ${ct(x,"PPP 'at' p")}`}),h()}catch(x){c({title:"Error",description:x.message,variant:"destructive"})}finally{o(!1)}}},v=g=>{if(!(t!=null&&t.id))return;const y={order_id:t.id,garment_type:g.garmentType,custom_notes:g.custom_notes||null};dr.forEach(x=>{y[x.key]=g[x.key]||null}),l.mutate(y,{onSuccess:()=>{c({title:"Measurement saved",description:"Customer measurement profile has been created."}),f.reset(),i("fitting")}})};return t?u.jsx(hr,{open:e,onOpenChange:h,children:u.jsxs(Jt,{className:"sm:max-w-2xl max-h-[90vh] overflow-auto flex flex-col min-h-0",children:[u.jsxs(er,{children:[u.jsx(tr,{className:"font-display",children:"Schedule Fitting"}),u.jsxs(Cr,{children:["Order #",t.order_number,(m=t.customer)!=null&&m.name?` - ${t.customer.name}`:""]})]}),u.jsxs(zfe,{value:n,onValueChange:i,className:"w-full flex-1 flex flex-col min-h-0",children:[u.jsxs(mF,{className:"grid w-full grid-cols-2",children:[u.jsxs(ES,{value:"fitting",className:"gap-2",children:[u.jsx(iv,{className:"h-4 w-4"}),"Schedule"]}),u.jsxs(ES,{value:"measurement",className:"gap-2",children:[u.jsx(Zc,{className:"h-4 w-4"}),"New Measurement"]})]}),u.jsx(AS,{value:"fitting",className:"mt-4 flex-1",children:u.jsx(Bi,{...d,children:u.jsxs("form",{onSubmit:d.handleSubmit(p),className:"space-y-4",children:[u.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[u.jsx(_e,{control:d.control,name:"scheduledDate",render:({field:g})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Date *"}),u.jsx(be,{children:u.jsx(Ee,{type:"date",...g})}),u.jsx(Se,{})]})}),u.jsx(_e,{control:d.control,name:"scheduledTime",render:({field:g})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Time *"}),u.jsx(be,{children:u.jsx(Ee,{type:"time",...g})}),u.jsx(Se,{})]})})]}),u.jsx(_e,{control:d.control,name:"storeId",render:({field:g})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Store"}),u.jsxs(zt,{onValueChange:g.onChange,value:g.value,children:[u.jsx(be,{children:u.jsx(Ut,{children:u.jsx(Ht,{placeholder:"Select store"})})}),u.jsx(Vt,{children:s.filter(y=>y.is_active).map(y=>u.jsx(Me,{value:y.id,children:y.name},y.id))})]}),u.jsx(Se,{})]})}),u.jsx(_e,{control:d.control,name:"notes",render:({field:g})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Notes"}),u.jsx(be,{children:u.jsx(hi,{placeholder:"Additional notes for the fitting...",rows:2,...g})}),u.jsx(Se,{})]})}),u.jsxs(Rt,{className:"gap-2 pt-4",children:[u.jsx(te,{type:"button",variant:"outline",onClick:h,children:"Cancel"}),u.jsx(te,{type:"submit",disabled:a,children:a?"Scheduling...":"Schedule Fitting"})]})]})})}),u.jsx(AS,{value:"measurement",className:"mt-4 flex-1 flex flex-col min-h-0",children:u.jsx(Bi,{...f,children:u.jsxs("form",{onSubmit:f.handleSubmit(v),className:"flex-1 flex flex-col min-h-0",children:[u.jsx(oh,{className:"flex-1 pr-4 overflow-y-auto min-h-0",children:u.jsxs("div",{className:"space-y-4",children:[u.jsx(_e,{control:f.control,name:"garmentType",render:({field:g})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Garment Type *"}),u.jsxs(zt,{onValueChange:g.onChange,value:g.value,children:[u.jsx(be,{children:u.jsx(Ut,{children:u.jsx(Ht,{placeholder:"Select type"})})}),u.jsx(Vt,{children:qfe.map(y=>u.jsx(Me,{value:y,children:y},y))})]}),u.jsx(Se,{})]})}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h4",{className:"font-medium text-sm",children:"Measurements (inches)"}),u.jsx("div",{className:"grid gap-3 grid-cols-3 sm:grid-cols-4",children:dr.map(g=>u.jsx(_e,{control:f.control,name:g.key,render:({field:y})=>u.jsxs(we,{children:[u.jsx(xe,{className:"text-xs",children:g.label}),u.jsx(be,{children:u.jsx(Ee,{type:"number",step:"0.5",placeholder:"0",...y,value:y.value??"",onChange:x=>y.onChange(x.target.value?Number(x.target.value):void 0)})})]})},g.key))})]}),u.jsx(_e,{control:f.control,name:"custom_notes",render:({field:g})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Notes"}),u.jsx(be,{children:u.jsx(hi,{placeholder:"Fit preferences, adjustments...",rows:2,...g,value:g.value||""})}),u.jsx(Se,{})]})})]})}),u.jsxs(Rt,{className:"gap-2 pt-4 mt-4 border-t",children:[u.jsx(te,{type:"button",variant:"outline",onClick:()=>i("fitting"),children:"Back"}),u.jsxs(te,{type:"submit",disabled:l.isPending,className:"gap-2",children:[u.jsx(ms,{className:"h-4 w-4"}),l.isPending?"Saving...":"Save Measurement"]})]})]})})})]})]})}):null}const A0=3;function gF(t){const e=pi(),{data:r=[],isLoading:n,error:i}=Wi({queryKey:["measurement-versions",t],queryFn:async()=>{if(!t)return[];const{data:s,error:l}=await Ne.from("measurement_versions").select("*").eq("measurement_id",t).order("version_number",{ascending:!1});if(l)throw l;return s},enabled:!!t}),a=dt({mutationFn:async()=>{if(!t||r.length<=A0)return;const l=r.slice(A0).map(d=>d.id);if(l.length===0)return;const{error:c}=await Ne.from("measurement_versions").delete().in("id",l);if(c)throw c},onSuccess:()=>{e.invalidateQueries({queryKey:["measurement-versions",t]})}});return{versions:r.slice(0,A0),allVersions:r,isLoading:n,error:i,latestVersion:r[0]||null,cleanupOldVersions:a,hasExcessVersions:r.length>A0}}function Xfe({measurement:t,isExpanded:e,onToggle:r,order:n}){const{versions:i}=gF(t.id),[a,o]=b.useState(!1),[s,l]=b.useState(!1),{toast:c}=Vr(),d=()=>{var x;const h=["Field","Value"],p=[["Order Number",n.order_number],["Customer",((x=n.customer)==null?void 0:x.name)||""],["Garment Type",t.garment_type],...dr.map(w=>{const S=t[w.key];return[w.label,S?`${Number(S)}"`:""]}),["Notes",t.custom_notes||""]],v=[h,...p].map(w=>w.join(",")).join(`
`),m=new Blob([v],{type:"text/csv"}),g=URL.createObjectURL(m),y=document.createElement("a");y.href=g,y.download=`measurements-${n.order_number}-${t.garment_type}-${ct(new Date,"yyyy-MM-dd")}.csv`,y.click(),URL.revokeObjectURL(g),c({title:"Exported",description:"Measurements exported as CSV."})},f=()=>{const h=window.open("","_blank");if(!h){c({title:"Error",description:"Please allow popups to export PDF",variant:"destructive"});return}const p=dr.filter(m=>t[m.key]).map(m=>`
        <tr>
          <td style="padding: 8px; border-bottom: 1px solid #e5e7eb;">${m.label}</td>
          <td style="padding: 8px; border-bottom: 1px solid #e5e7eb; font-weight: 600;">${Number(t[m.key])}"</td>
        </tr>
      `).join(""),v=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Measurement - ${t.garment_type}</title>
          <style>
            body { font-family: system-ui, sans-serif; padding: 40px; max-width: 800px; margin: 0 auto; }
            h1 { font-size: 20px; margin-bottom: 8px; }
            .info { margin-bottom: 16px; }
            @media print { body { padding: 20px; } .no-print { display: none; } }
          </style>
        </head>
        <body>
          <h1>${t.garment_type}</h1>
          <div class="info">
            <p><strong>Order:</strong> #${n.order_number}</p>
            <p><strong>Updated:</strong> ${ct(new Date(t.updated_at),"PPP")}</p>
          </div>
          <table style="width:100%; border-collapse: collapse; margin-bottom: 16px;">
            <thead>
              <tr>
                <th style="text-align:left; padding: 12px 8px; background: #f9fafb; border-bottom: 2px solid #e5e7eb;">Measurement</th>
                <th style="text-align:left; padding: 12px 8px; background: #f9fafb; border-bottom: 2px solid #e5e7eb;">Value</th>
              </tr>
            </thead>
            <tbody>
              ${p}
            </tbody>
          </table>
          ${t.custom_notes?`<div style="padding:16px; background:#f9fafb; border-radius:8px;"><p style="font-weight:600; margin-bottom:8px;">Notes</p><p>${t.custom_notes}</p></div>`:""}
          <div style="margin-top:24px; text-align:center;" class="no-print">
            <button onclick="window.print()" style="padding:12px 24px; background:#2563eb; color:white; border:none; border-radius:8px; cursor:pointer; font-size:14px;">Save as PDF / Print</button>
          </div>
        </body>
      </html>
    `;h.document.write(v),h.document.close(),c({title:"PDF Ready",description:"Use your browser's print function to save as PDF."})};return dr.filter(h=>t[h.key]),u.jsx(py,{open:e,onOpenChange:r,children:u.jsxs("div",{className:`rounded-lg border ${e?"border-primary":"border-border"} overflow-hidden`,children:[u.jsx(my,{asChild:!0,children:u.jsxs(te,{variant:"ghost",className:`w-full justify-between px-4 py-3 h-auto rounded-none ${e?"bg-primary/5":""}`,children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary/10",children:u.jsx(Dl,{className:"h-4 w-4 text-primary"})}),u.jsxs("div",{className:"text-left",children:[u.jsx("p",{className:"font-medium text-sm",children:t.garment_type}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["Updated ",ct(new Date(t.updated_at),"MMM d, yyyy")]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[t.materials_provided_by_customer&&u.jsx("span",{className:"text-[10px] bg-amber-500/10 text-amber-700 dark:text-amber-400 px-2 py-0.5 rounded",children:"Materials"}),e?u.jsx(Gp,{className:"h-4 w-4"}):u.jsx(Xc,{className:"h-4 w-4"})]})]})}),u.jsx(vy,{children:u.jsxs("div",{className:"p-4 pt-0 space-y-4",children:[u.jsx("div",{className:"grid grid-cols-3 gap-2 sm:grid-cols-4",children:dr.map(h=>{const p=t[h.key];return u.jsxs("div",{className:`rounded-lg px-2 py-1.5 ${p?"bg-muted/50":"bg-muted/20 border border-dashed border-border"}`,children:[u.jsx("p",{className:"text-[10px] text-muted-foreground truncate",children:h.label}),u.jsx("p",{className:`font-medium text-sm ${p?"":"text-muted-foreground"}`,children:p?`${Number(p)}"`:""})]},h.key)})}),t.custom_notes&&u.jsxs("div",{className:"rounded-lg border border-border p-3",children:[u.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Notes"}),u.jsx("p",{className:"text-sm",children:t.custom_notes})]}),i.length>0&&u.jsxs(py,{open:a,onOpenChange:o,children:[u.jsx(my,{asChild:!0,children:u.jsxs(te,{variant:"ghost",size:"sm",className:"w-full justify-between gap-2",children:[u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(GM,{className:"h-4 w-4"}),"Version History (",i.length,")"]}),a?u.jsx(Gp,{className:"h-4 w-4"}):u.jsx(Xc,{className:"h-4 w-4"})]})}),u.jsx(vy,{className:"space-y-2 pt-2",children:i.slice(0,3).map(h=>u.jsxs("div",{className:"rounded-lg border border-border bg-muted/30 p-3 text-sm",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("span",{className:"font-medium",children:["Version ",h.version_number]}),u.jsx("span",{className:"text-xs text-muted-foreground",children:ct(new Date(h.created_at),"MMM d, yyyy")})]}),u.jsx("div",{className:"grid grid-cols-4 gap-2 text-xs",children:dr.map(p=>{const v=h[p.key];return v?u.jsxs("div",{children:[u.jsxs("span",{className:"text-muted-foreground",children:[p.label,":"]})," ",u.jsxs("span",{className:"font-medium",children:[Number(v),'"']})]},p.key):null})})]},h.id))})]}),u.jsxs("div",{className:"flex justify-end gap-2 pt-2 border-t border-border",children:[u.jsxs(te,{variant:"outline",size:"sm",onClick:()=>l(!0),className:"gap-2",children:[u.jsx(qM,{className:"h-4 w-4"}),"Images"]}),u.jsxs(te,{variant:"outline",size:"sm",onClick:f,className:"gap-2",children:[u.jsx(Yc,{className:"h-4 w-4"}),"PDF"]}),u.jsxs(te,{variant:"outline",size:"sm",onClick:d,className:"gap-2",children:[u.jsx(aA,{className:"h-4 w-4"}),"CSV"]})]}),u.jsx(hr,{open:s,onOpenChange:l,children:u.jsxs(Jt,{className:"sm:max-w-2xl max-h-[80vh] overflow-hidden",children:[u.jsxs(er,{children:[u.jsx(tr,{children:"Measurement Images"}),u.jsx(Cr,{children:"Images uploaded for this measurement"})]}),u.jsx("div",{className:"p-2",children:t.materials_images&&t.materials_images.length>0?u.jsx("div",{className:"grid grid-cols-2 gap-2",children:t.materials_images.map((h,p)=>u.jsx("div",{className:"rounded overflow-hidden border border-border",children:u.jsx("img",{src:h,alt:`measurement-${p}`,className:"w-full h-48 object-contain bg-black/5"})},p))}):u.jsx("div",{className:"p-6 text-center text-sm text-muted-foreground",children:"No images uploaded for this measurement."})}),u.jsx(Rt,{children:u.jsx(te,{variant:"outline",onClick:()=>l(!1),children:"Close"})})]})})]})})]})})}function Yfe({order:t,open:e,onOpenChange:r}){var d;const[n,i]=b.useState(null),{toast:a}=Vr(),{data:o=[],isLoading:s}=Wi({queryKey:["measurements","order",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return[];const{data:f,error:h}=await Ne.from("measurements").select("*").eq("order_id",t.id).order("created_at",{ascending:!1});if(h)throw h;return f},enabled:!!(t!=null&&t.id)&&e});if(!t)return null;const l=()=>{if(o.length===0)return;const f=[];f.push(["Garment Type","Field","Value"]),o.forEach(g=>{dr.forEach(y=>{const x=g[y.key];x&&f.push([g.garment_type,y.label,`${Number(x)}"`])}),g.custom_notes&&f.push([g.garment_type,"Notes",g.custom_notes]),f.push(["","",""])});const h=f.map(g=>g.join(",")).join(`
`),p=new Blob([h],{type:"text/csv"}),v=URL.createObjectURL(p),m=document.createElement("a");m.href=v,m.download=`all-measurements-${t.order_number}-${ct(new Date,"yyyy-MM-dd")}.csv`,m.click(),URL.revokeObjectURL(v),a({title:"Exported",description:"All measurements exported as CSV."})},c=()=>{var v;if(o.length===0)return;const f=window.open("","_blank");if(!f){a({title:"Error",description:"Please allow popups to export PDF",variant:"destructive"});return}const h=o.map(m=>{const g=dr.filter(y=>m[y.key]).map(y=>`
          <tr>
            <td style="padding: 8px; border-bottom: 1px solid #e5e7eb;">${y.label}</td>
            <td style="padding: 8px; border-bottom: 1px solid #e5e7eb; font-weight: 600;">${Number(m[y.key])}"</td>
          </tr>
        `).join("");return`
        <div style="margin-bottom: 32px; page-break-inside: avoid;">
          <h2 style="font-size: 18px; margin-bottom: 8px; color: #1f2937;">${m.garment_type}</h2>
          <table style="width: 100%; border-collapse: collapse; margin-bottom: 16px;">
            <thead>
              <tr>
                <th style="text-align: left; padding: 12px 8px; background: #f9fafb; border-bottom: 2px solid #e5e7eb;">Measurement</th>
                <th style="text-align: left; padding: 12px 8px; background: #f9fafb; border-bottom: 2px solid #e5e7eb;">Value</th>
              </tr>
            </thead>
            <tbody>
              ${g}
            </tbody>
          </table>
          ${m.custom_notes?`
            <div style="padding: 16px; background: #f9fafb; border-radius: 8px;">
              <p style="font-weight: 600; margin-bottom: 8px;">Notes</p>
              <p>${m.custom_notes}</p>
            </div>
          `:""}
        </div>
      `}).join(""),p=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Measurements - Order #${t.order_number}</title>
          <style>
            body { font-family: system-ui, sans-serif; padding: 40px; max-width: 800px; margin: 0 auto; }
            h1 { font-size: 24px; margin-bottom: 8px; }
            .subtitle { color: #6b7280; margin-bottom: 24px; }
            .info { margin-bottom: 24px; }
            .info p { margin: 4px 0; }
            .footer { margin-top: 32px; text-align: center; color: #9ca3af; font-size: 12px; }
            @media print {
              body { padding: 20px; }
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          <h1>Measurement Profiles</h1>
          <p class="subtitle">Order #${t.order_number}</p>
          
          <div class="info">
            <p><strong>Customer:</strong> ${((v=t.customer)==null?void 0:v.name)||"Unknown"}</p>
            <p><strong>Total Measurements:</strong> ${o.length}</p>
          </div>
          
          ${h}
          
          <div class="footer">
            Generated on ${ct(new Date,"PPP 'at' p")}
          </div>
          
          <div class="no-print" style="margin-top: 24px; text-align: center;">
            <button onclick="window.print()" style="padding: 12px 24px; background: #2563eb; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 14px;">
              Save as PDF / Print
            </button>
          </div>
        </body>
      </html>
    `;f.document.write(p),f.document.close(),a({title:"PDF Ready",description:"Use your browser's print function to save as PDF."})};return u.jsx(hr,{open:e,onOpenChange:r,children:u.jsxs(Jt,{className:"sm:max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[u.jsx(er,{children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/10",children:u.jsx(sA,{className:"h-5 w-5 text-primary"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx(tr,{className:"font-display",children:(d=t.customer)==null?void 0:d.name}),u.jsxs(Cr,{children:["Order #",t.order_number,"  ",o.length," measurement",o.length!==1?"s":""]})]})]})}),u.jsx(oh,{className:"flex-1 pr-4 overflow-y-auto",children:s?u.jsx("div",{className:"flex items-center justify-center py-8",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):o.length===0?u.jsxs("div",{className:"rounded-lg border border-dashed border-border p-8 text-center",children:[u.jsx(Zc,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"No measurements linked to this order"}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Schedule a fitting to add measurements"})]}):u.jsx("div",{className:"space-y-3",children:o.map(f=>u.jsx(Xfe,{measurement:f,order:t,isExpanded:n===f.id,onToggle:()=>i(n===f.id?null:f.id)},f.id))})}),u.jsxs(Rt,{className:"flex-row justify-between sm:justify-between",children:[u.jsx(te,{variant:"outline",onClick:()=>r(!1),children:"Close"}),o.length>0&&u.jsxs(Po,{children:[u.jsx(ko,{asChild:!0,children:u.jsxs(te,{className:"gap-2",children:[u.jsx(vu,{className:"h-4 w-4"}),"Export All"]})}),u.jsxs(Ja,{align:"end",children:[u.jsxs(mt,{onClick:c,className:"gap-2",children:[u.jsx(aA,{className:"h-4 w-4"}),"Export as PDF"]}),u.jsxs(mt,{onClick:l,className:"gap-2",children:[u.jsx(Yc,{className:"h-4 w-4"}),"Export as CSV"]})]})]})]})]})})}var Zfe="Separator",B3="horizontal",Qfe=["horizontal","vertical"],yF=b.forwardRef((t,e)=>{const{decorative:r,orientation:n=B3,...i}=t,a=Jfe(n)?n:B3,s=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return u.jsx(Pe.div,{"data-orientation":a,...s,...i,ref:e})});yF.displayName=Zfe;function Jfe(t){return Qfe.includes(t)}var xF=yF;const hf=b.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},i)=>u.jsx(xF,{ref:i,decorative:r,orientation:e,className:he("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));hf.displayName=xF.displayName;function ehe({order:t,open:e,onOpenChange:r}){var l,c,d,f,h;const{items:n}=eF(t==null?void 0:t.id),{netReceived:i}=J9(t==null?void 0:t.id),{toast:a}=Vr();if(!t)return null;const o=Number(t.total_amount)-i,s=()=>{var g,y,x,w,S,_;const p=window.open("","_blank");if(!p){a({title:"Error",description:"Please allow popups to print invoice",variant:"destructive"});return}const v=n.map(C=>`
      <tr>
        <td style="padding: 12px; border-bottom: 1px solid #e5e7eb;">${C.description}</td>
        <td style="padding: 12px; border-bottom: 1px solid #e5e7eb; text-align: center;">${C.quantity}</td>
        <td style="padding: 12px; border-bottom: 1px solid #e5e7eb; text-align: right;">${Number(C.unit_price).toLocaleString()}</td>
        <td style="padding: 12px; border-bottom: 1px solid #e5e7eb; text-align: right;">${Number(C.total_price).toLocaleString()}</td>
      </tr>
    `).join(""),m=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Invoice - ${t.order_number}</title>
          <style>
            * { margin: 0; padding: 0; box-sizing: border-box; }
            body { font-family: system-ui, sans-serif; padding: 40px; max-width: 800px; margin: 0 auto; color: #1f2937; }
            .header { display: flex; justify-content: space-between; margin-bottom: 40px; }
            .company { }
            .company h1 { font-size: 24px; color: #7c3aed; margin-bottom: 8px; }
            .company p { color: #6b7280; font-size: 14px; }
            .invoice-info { text-align: right; }
            .invoice-info h2 { font-size: 28px; color: #1f2937; margin-bottom: 8px; }
            .invoice-info p { color: #6b7280; font-size: 14px; }
            .addresses { display: flex; justify-content: space-between; margin-bottom: 32px; }
            .address { }
            .address-label { font-size: 12px; color: #9ca3af; text-transform: uppercase; margin-bottom: 8px; }
            .address p { font-size: 14px; line-height: 1.5; }
            table { width: 100%; border-collapse: collapse; margin-bottom: 24px; }
            th { text-align: left; padding: 12px; background: #f9fafb; border-bottom: 2px solid #e5e7eb; font-size: 12px; text-transform: uppercase; color: #6b7280; }
            th:nth-child(2), th:nth-child(3), th:nth-child(4) { text-align: right; }
            th:nth-child(2) { text-align: center; }
            .totals { margin-left: auto; width: 280px; }
            .totals-row { display: flex; justify-content: space-between; padding: 8px 0; font-size: 14px; }
            .totals-row.total { font-size: 18px; font-weight: 600; border-top: 2px solid #1f2937; padding-top: 12px; margin-top: 8px; }
            .status { display: inline-block; padding: 4px 12px; border-radius: 9999px; font-size: 12px; font-weight: 500; }
            .status.paid { background: #d1fae5; color: #065f46; }
            .status.partial { background: #fef3c7; color: #92400e; }
            .status.unpaid { background: #fee2e2; color: #991b1b; }
            .footer { margin-top: 48px; text-align: center; color: #9ca3af; font-size: 12px; border-top: 1px solid #e5e7eb; padding-top: 24px; }
            @media print {
              body { padding: 20px; }
              .no-print { display: none !important; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <div class="company">
              <h1>Quppayam Boutique</h1>
              <p>${((g=t.store)==null?void 0:g.address)||"Chennai, India"}</p>
              <p>${((y=t.store)==null?void 0:y.phone)||""}</p>
            </div>
            <div class="invoice-info">
              <h2>INVOICE</h2>
              <p><strong>#${t.order_number}</strong></p>
              <p>Date: ${ct(new Date(t.created_at),"PPP")}</p>
              ${t.due_date?`<p>Due: ${ct(new Date(t.due_date),"PPP")}</p>`:""}
            </div>
          </div>

          <div class="addresses">
            <div class="address">
              <p class="address-label">Bill To</p>
              <p><strong>${((x=t.customer)==null?void 0:x.name)||"Customer"}</strong></p>
              <p>${((w=t.customer)==null?void 0:w.phone)||""}</p>
              ${(S=t.customer)!=null&&S.email?`<p>${t.customer.email}</p>`:""}
              ${(_=t.customer)!=null&&_.address?`<p>${t.customer.address}</p>`:""}
            </div>
            <div class="address" style="text-align: right;">
              <p class="address-label">Payment Status</p>
              <span class="status ${o<=0?"paid":i>0?"partial":"unpaid"}">
                ${o<=0?"Paid":i>0?"Partially Paid":"Unpaid"}
              </span>
            </div>
          </div>

          <table>
            <thead>
              <tr>
                <th>Description</th>
                <th>Qty</th>
                <th>Unit Price</th>
                <th>Amount</th>
              </tr>
            </thead>
            <tbody>
              ${v||'<tr><td colspan="4" style="padding: 24px; text-align: center; color: #9ca3af;">No items</td></tr>'}
            </tbody>
          </table>

          <div class="totals">
            <div class="totals-row">
              <span>Subtotal</span>
              <span>${Number(t.subtotal).toLocaleString()}</span>
            </div>
            ${Number(t.tax_amount)>0?`
              <div class="totals-row">
                <span>Tax</span>
                <span>${Number(t.tax_amount).toLocaleString()}</span>
              </div>
            `:""}
            ${Number(t.discount_amount)>0?`
              <div class="totals-row">
                <span>Discount</span>
                <span style="color: #059669;">-${Number(t.discount_amount).toLocaleString()}</span>
              </div>
            `:""}
            <div class="totals-row total">
              <span>Total</span>
              <span>${Number(t.total_amount).toLocaleString()}</span>
            </div>
            ${i>0?`
              <div class="totals-row" style="color: #059669;">
                <span>Amount Paid</span>
                <span>${i.toLocaleString()}</span>
              </div>
            `:""}
            ${o>0?`
              <div class="totals-row" style="color: #dc2626; font-weight: 600;">
                <span>Balance Due</span>
                <span>${o.toLocaleString()}</span>
              </div>
            `:""}
          </div>

          <div class="footer">
            <p>Thank you for your business!</p>
          </div>

          <div class="no-print" style="margin-top: 24px; text-align: center;">
            <button onclick="window.print()" style="padding: 12px 24px; background: #7c3aed; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 14px;">
              Print / Save as PDF
            </button>
          </div>
        </body>
      </html>
    `;p.document.write(m),p.document.close()};return u.jsx(hr,{open:e,onOpenChange:r,children:u.jsxs(Jt,{className:"sm:max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[u.jsx(er,{children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/10",children:u.jsx(Yc,{className:"h-5 w-5 text-primary"})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs(tr,{className:"font-display",children:["Invoice #",t.order_number]}),u.jsxs(Cr,{children:["Created ",ct(new Date(t.created_at),"PPP")]})]})]})}),u.jsx(oh,{className:"flex-1 pr-4 overflow-y-auto",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[u.jsxs("div",{className:"rounded-lg border border-border p-4",children:[u.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-2",children:"BILL TO"}),u.jsx("p",{className:"font-medium",children:(l=t.customer)==null?void 0:l.name}),u.jsx("p",{className:"text-sm text-muted-foreground",children:(c=t.customer)==null?void 0:c.phone}),((d=t.customer)==null?void 0:d.email)&&u.jsx("p",{className:"text-sm text-muted-foreground",children:t.customer.email})]}),u.jsxs("div",{className:"rounded-lg border border-border p-4",children:[u.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-2",children:"FROM"}),u.jsx("p",{className:"font-medium",children:((f=t.store)==null?void 0:f.name)||"Quppayam Boutique"}),((h=t.store)==null?void 0:h.address)&&u.jsx("p",{className:"text-sm text-muted-foreground",children:t.store.address})]})]}),u.jsx("div",{className:"rounded-lg border border-border overflow-hidden",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-muted/50",children:[u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-muted-foreground",children:"Description"}),u.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-muted-foreground",children:"Qty"}),u.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-muted-foreground",children:"Price"}),u.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-muted-foreground",children:"Amount"})]})}),u.jsx("tbody",{className:"divide-y divide-border",children:n.length>0?n.map(p=>u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-3 text-sm",children:p.description}),u.jsx("td",{className:"px-4 py-3 text-sm text-center",children:p.quantity}),u.jsxs("td",{className:"px-4 py-3 text-sm text-right",children:["",Number(p.unit_price).toLocaleString()]}),u.jsxs("td",{className:"px-4 py-3 text-sm text-right font-medium",children:["",Number(p.total_price).toLocaleString()]})]},p.id)):u.jsx("tr",{children:u.jsx("td",{colSpan:4,className:"px-4 py-8 text-center text-sm text-muted-foreground",children:"No items in this order"})})})]})}),u.jsx("div",{className:"flex justify-end",children:u.jsxs("div",{className:"w-64 space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),u.jsxs("span",{children:["",Number(t.subtotal).toLocaleString()]})]}),Number(t.tax_amount)>0&&u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Tax"}),u.jsxs("span",{children:["",Number(t.tax_amount).toLocaleString()]})]}),Number(t.discount_amount)>0&&u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Discount"}),u.jsxs("span",{className:"text-emerald-600",children:["-",Number(t.discount_amount).toLocaleString()]})]}),u.jsx(hf,{}),u.jsxs("div",{className:"flex justify-between font-semibold",children:[u.jsx("span",{children:"Total"}),u.jsxs("span",{children:["",Number(t.total_amount).toLocaleString()]})]}),i>0&&u.jsxs("div",{className:"flex justify-between text-sm text-emerald-600",children:[u.jsx("span",{children:"Paid"}),u.jsxs("span",{children:["",i.toLocaleString()]})]}),o>0&&u.jsxs("div",{className:"flex justify-between text-sm font-medium text-amber-600",children:[u.jsx("span",{children:"Balance Due"}),u.jsxs("span",{children:["",o.toLocaleString()]})]})]})})]})}),u.jsxs(Rt,{className:"flex-row justify-between sm:justify-between gap-2",children:[u.jsx(te,{variant:"outline",onClick:()=>r(!1),children:"Close"}),u.jsxs(te,{onClick:s,className:"gap-2",children:[u.jsx(YM,{className:"h-4 w-4"}),"Print / Download PDF"]})]})]})})}const the=()=>{const[t,e]=b.useState(""),[r,n]=b.useState("all"),[i,a]=b.useState("all"),[o,s]=b.useState(1),[l,c]=b.useState(10),[d,f]=b.useState(null),[h,p]=b.useState(!1),[v,m]=b.useState(!1),[g,y]=b.useState(!1),[x,w]=b.useState(!1),[S,_]=b.useState(!1),{orders:C,isLoading:E,error:A}=ih(),{stores:O}=eo();if(A)return u.jsx(an,{title:"Orders",subtitle:"Track and manage all customer orders",children:u.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[u.jsx("p",{className:"text-destructive mb-2",children:"Failed to load orders"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:A.message})]})});const T=b.useMemo(()=>C.filter(j=>{var z,K;const R=j.order_number.toLowerCase().includes(t.toLowerCase())||((K=(z=j.customer)==null?void 0:z.name)==null?void 0:K.toLowerCase().includes(t.toLowerCase())),V=r==="all"||j.status===r,W=i==="all"||j.store_id===i;return R&&V&&W}),[C,t,r,i]),N=Math.ceil(T.length/l),P=T.slice((o-1)*l,o*l),$=j=>{f(j),p(!0)},D=j=>{f(j),y(!0)},F=j=>{f(j),w(!0)},L=j=>{f(j),_(!0)},M=j=>{if(!j)return;const R=j.replace(/\D/g,"");window.open(`https://wa.me/${R}`,"_blank")};return E?u.jsx(an,{title:"Orders",subtitle:"Track and manage all customer orders",children:u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx(fi,{className:"h-8 w-8 animate-spin text-primary"})})}):u.jsxs(an,{title:"Orders",subtitle:"Track and manage all customer orders",children:[u.jsxs("div",{className:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{className:"flex flex-1 flex-wrap items-center gap-3",children:[u.jsxs("div",{className:"relative w-full sm:w-auto sm:flex-1 sm:max-w-sm",children:[u.jsx(Gf,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),u.jsx(Ee,{placeholder:"Search orders...",className:"pl-10",value:t,onChange:j=>{e(j.target.value),s(1)}})]}),u.jsxs(zt,{value:r,onValueChange:j=>{n(j),s(1)},children:[u.jsx(Ut,{className:"w-40",children:u.jsx(Ht,{placeholder:"Status"})}),u.jsxs(Vt,{children:[u.jsx(Me,{value:"all",children:"All Status"}),u.jsx(Me,{value:"draft",children:"Draft"}),u.jsx(Me,{value:"pending",children:"Pending"}),u.jsx(Me,{value:"deposit_paid",children:"Deposit Paid"}),u.jsx(Me,{value:"materials_ordered",children:"Materials Ordered"}),u.jsx(Me,{value:"in_production",children:"In Production"}),u.jsx(Me,{value:"ready_for_fitting",children:"Ready for Fitting"}),u.jsx(Me,{value:"ready_for_pickup",children:"Ready for Pickup"}),u.jsx(Me,{value:"completed",children:"Completed"}),u.jsx(Me,{value:"cancelled",children:"Cancelled"})]})]}),u.jsxs(zt,{value:i,onValueChange:j=>{a(j),s(1)},children:[u.jsx(Ut,{className:"w-36",children:u.jsx(Ht,{placeholder:"Store"})}),u.jsxs(Vt,{children:[u.jsx(Me,{value:"all",children:"All Stores"}),O.map(j=>u.jsx(Me,{value:j.id,children:j.name},j.id))]})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs(te,{variant:"outline",className:"gap-2",children:[u.jsx(vu,{className:"h-4 w-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Export"})]}),u.jsx(q9,{})]})]}),u.jsx("div",{className:"card-luxury overflow-hidden",children:P.length===0?u.jsx(sh,{icon:xu,title:"No orders found",description:"No orders match your current filters. Try adjusting your search or filters."}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-border bg-muted/30",children:[u.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider text-muted-foreground md:px-6",children:"Order"}),u.jsx("th",{className:"hidden px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider text-muted-foreground sm:table-cell md:px-6",children:"Customer"}),u.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider text-muted-foreground md:px-6",children:"Status"}),u.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider text-muted-foreground md:px-6",children:"Total"}),u.jsx("th",{className:"hidden px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider text-muted-foreground md:table-cell md:px-6",children:"Due Date"}),u.jsx("th",{className:"px-4 py-4 text-right text-xs font-semibold uppercase tracking-wider text-muted-foreground md:px-6",children:"Actions"})]})}),u.jsx("tbody",{className:"divide-y divide-border",children:P.map(j=>{var R,V,W,z,K,re;return u.jsxs("tr",{className:"transition-colors hover:bg-muted/20 cursor-pointer",onClick:()=>$(j),children:[u.jsx("td",{className:"whitespace-nowrap px-4 py-4 md:px-6",children:u.jsxs("div",{children:[u.jsxs("span",{className:"font-medium text-foreground",children:["#",j.order_number]}),u.jsx("p",{className:"mt-0.5 text-xs text-muted-foreground",children:((R=j.store)==null?void 0:R.name)||"No store"}),u.jsxs("p",{className:"mt-1 text-sm text-foreground sm:hidden",children:[(V=j.customer)==null?void 0:V.name,((W=j.customer)==null?void 0:W.vip_status)&&j.customer.vip_status!=="regular"&&u.jsx(Ga,{className:"ml-1 inline h-3 w-3 text-gold"})]})]})}),u.jsxs("td",{className:"hidden whitespace-nowrap px-4 py-4 sm:table-cell md:px-6",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-foreground",children:(z=j.customer)==null?void 0:z.name}),((K=j.customer)==null?void 0:K.vip_status)&&j.customer.vip_status!=="regular"&&u.jsx(Ga,{className:"h-4 w-4 text-gold"})]}),u.jsx("p",{className:"mt-0.5 text-xs text-muted-foreground",children:(re=j.customer)==null?void 0:re.phone})]}),u.jsx("td",{className:"whitespace-nowrap px-4 py-4 md:px-6",children:u.jsx(wv,{status:j.status})}),u.jsx("td",{className:"whitespace-nowrap px-4 py-4 md:px-6",children:u.jsxs("div",{children:[u.jsxs("span",{className:"font-medium text-foreground",children:["",Number(j.total_amount).toLocaleString()]}),j.status==="cancelled"?j.is_settled?j.deposit_amount>0?u.jsx("p",{className:"mt-0.5 text-xs text-green-600",children:"Refunded & Settled"}):u.jsx("p",{className:"mt-0.5 text-xs text-green-600",children:"Settled"}):j.deposit_amount>0?u.jsxs("p",{className:"mt-0.5 text-xs text-red-600",children:["Refund: ",Number(j.deposit_amount).toLocaleString()]}):null:j.remaining_balance===0&&j.total_amount>0?u.jsx("p",{className:"mt-0.5 text-xs text-green-600",children:"Payment Received"}):j.remaining_balance>0?u.jsxs("p",{className:"mt-0.5 text-xs text-amber-600",children:["Bal: ",Number(j.remaining_balance).toLocaleString()]}):null]})}),u.jsx("td",{className:"hidden whitespace-nowrap px-4 py-4 text-muted-foreground md:table-cell md:px-6",children:j.due_date?ct(new Date(j.due_date),"MMM d, yyyy"):"No due date"}),u.jsx("td",{className:"whitespace-nowrap px-4 py-4 text-right md:px-6",onClick:ue=>ue.stopPropagation(),children:u.jsxs(Po,{children:[u.jsx(ko,{asChild:!0,children:u.jsx(te,{variant:"ghost",size:"icon",children:u.jsx(gu,{className:"h-4 w-4"})})}),u.jsxs(Ja,{align:"end",children:[u.jsxs(mt,{onClick:()=>$(j),className:"gap-2",children:[u.jsx(Hf,{className:"h-4 w-4"}),"View Details"]}),u.jsxs(mt,{onClick:()=>{f(j),m(!0)},className:"gap-2",children:[u.jsx(ha,{className:"h-4 w-4"}),"Update Status"]}),u.jsxs(mt,{onClick:()=>L(j),className:"gap-2",children:[u.jsx(Yc,{className:"h-4 w-4"}),"View Invoice"]}),u.jsx(ru,{}),u.jsxs(mt,{onClick:()=>D(j),className:"gap-2",children:[u.jsx(iv,{className:"h-4 w-4"}),"Schedule Fitting"]}),u.jsxs(mt,{onClick:()=>F(j),className:"gap-2",children:[u.jsx(Zc,{className:"h-4 w-4"}),"View Measurements"]}),u.jsxs(mt,{onClick:()=>{var ue;return M((ue=j.customer)==null?void 0:ue.phone)},className:"gap-2",children:[u.jsx(XM,{className:"h-4 w-4"}),"Send WhatsApp Update"]})]})]})})]},j.id)})})]})}),u.jsx(NO,{currentPage:o,totalPages:N,pageSize:l,totalItems:T.length,onPageChange:s,onPageSizeChange:j=>{c(j),s(1)}})]})}),u.jsx($fe,{order:d,open:h,onOpenChange:p}),u.jsx(Bfe,{order:d,open:v,onOpenChange:m}),u.jsx(Kfe,{order:d,open:g,onOpenChange:y}),u.jsx(Yfe,{order:d,open:x,onOpenChange:w}),u.jsx(ehe,{order:d,open:S,onOpenChange:_})]})},wF={garment_type:Le().trim().min(1,"Garment type is required").max(100),custom_notes:Le().trim().max(1e3).optional()};dr.forEach(t=>{wF[t.key]=ia().min(0).optional()});const rhe=zi(wF);function nhe({measurement:t,open:e,onOpenChange:r}){var E,A,O;const[n,i]=b.useState(!1),[a,o]=b.useState(!1),{updateMeasurement:s}=jv(),{versions:l,hasExcessVersions:c,cleanupOldVersions:d}=gF(t==null?void 0:t.id),{toast:f}=Vr();b.useEffect(()=>{c&&d.mutate()},[c]);const h=()=>{if(!t)return;const T={garment_type:t.garment_type,custom_notes:t.custom_notes||""};return dr.forEach(N=>{const P=t[N.key];T[N.key]=P?Number(P):void 0}),T},p=$i({resolver:Li(rhe),values:h()}),v=()=>{i(!1),p.reset(),r(!1)},m=T=>{if(!t)return;const N={id:t.id,garment_type:T.garment_type,custom_notes:T.custom_notes||null};dr.forEach(P=>{N[P.key]=T[P.key]||null}),s.mutate(N,{onSuccess:()=>{i(!1),f({title:"Version saved",description:"A new version of this measurement has been created."})}})},g=()=>{var j,R,V;if(!t)return;const T=((R=(j=t.order)==null?void 0:j.customer)==null?void 0:R.name)||"",N=((V=t.order)==null?void 0:V.order_number)||"",P=["Field","Value"],$=[["Order Number",N],["Customer",T],["Garment Type",t.garment_type],...dr.map(W=>[W.label,t[W.key]?`${Number(t[W.key])}"`:""]),["Notes",t.custom_notes||""],["Last Updated",ct(new Date(t.updated_at),"yyyy-MM-dd")]],D=[P,...$].map(W=>W.join(",")).join(`
`),F=new Blob([D],{type:"text/csv"}),L=URL.createObjectURL(F),M=document.createElement("a");M.href=L,M.download=`measurement-${N||"profile"}-${ct(new Date,"yyyy-MM-dd")}.csv`,M.click(),URL.revokeObjectURL(L),f({title:"Exported",description:"Measurement exported as CSV."})},y=()=>{var F,L,M;if(!t)return;const T=((L=(F=t.order)==null?void 0:F.customer)==null?void 0:L.name)||"",N=((M=t.order)==null?void 0:M.order_number)||"",P=dr.map(j=>({label:j.label,value:t[j.key]?`${Number(t[j.key])}"`:""})),$=`
      <html>
      <head>
        <title>Measurement ${N}</title>
        <style>body{font-family: Arial, Helvetica, sans-serif; padding:20px} h1{font-size:18px} table{width:100%;border-collapse:collapse} td,th{border:1px solid #ddd;padding:8px;text-align:left}</style>
      </head>
      <body>
        <h1>Measurement Profile</h1>
        <p><strong>Order:</strong> #${N}</p>
        <p><strong>Customer:</strong> ${T}</p>
        <p><strong>Garment:</strong> ${t.garment_type}</p>
        <table>
          <thead><tr><th>Field</th><th>Value</th></tr></thead>
          <tbody>
            ${P.map(j=>`<tr><td>${j.label}</td><td>${j.value||"-"}</td></tr>`).join("")}
          </tbody>
        </table>
      </body>
      </html>
    `,D=window.open("","_blank");if(!D){f({title:"Blocked",description:"Popup blocked. Allow popups to export PDF.",variant:"destructive"});return}D.document.write($),D.document.close(),D.print(),D.close()},[x,w]=b.useState(!1),S=()=>{if(!t||!(t.materials_images&&t.materials_images.length>0)){f({title:"No images",description:"No material images uploaded for this measurement."});return}w(!0)};if(!t)return null;const _=((A=(E=t.order)==null?void 0:E.customer)==null?void 0:A.name)||"Unknown",C=((O=t.order)==null?void 0:O.order_number)||"Unlinked";return u.jsxs(u.Fragment,{children:[u.jsx(hr,{open:e,onOpenChange:v,children:u.jsxs(Jt,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[u.jsx(er,{children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/10",children:u.jsx(xu,{className:"h-5 w-5 text-primary"})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs(tr,{className:"font-display",children:["Order #",C]}),u.jsxs(Cr,{children:[_," - ",t.garment_type]})]}),t.is_primary&&u.jsx("span",{className:"status-badge bg-primary/10 text-primary",children:"Primary"})]})}),n?u.jsx(Bi,{...p,children:u.jsxs("form",{onSubmit:p.handleSubmit(m),className:"space-y-4",children:[u.jsx(_e,{control:p.control,name:"garment_type",render:({field:T})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Garment Type *"}),u.jsx(be,{children:u.jsx(Ee,{...T,value:T.value})}),u.jsx(Se,{})]})}),u.jsx("div",{className:"grid grid-cols-3 gap-3 sm:grid-cols-4 md:grid-cols-5",children:dr.map(T=>u.jsx(_e,{control:p.control,name:T.key,render:({field:N})=>u.jsxs(we,{children:[u.jsx(xe,{className:"text-xs",children:T.label}),u.jsx(be,{children:u.jsx(Ee,{type:"number",step:"0.1",min:0,...N,value:N.value||"",onChange:P=>N.onChange(P.target.value?Number(P.target.value):void 0)})}),u.jsx(Se,{})]})},T.key))}),u.jsx(_e,{control:p.control,name:"custom_notes",render:({field:T})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Notes"}),u.jsx(be,{children:u.jsx(hi,{rows:2,...T,value:T.value||""})}),u.jsx(Se,{})]})}),u.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-3 text-sm text-amber-800 dark:border-amber-800 dark:bg-amber-950/50 dark:text-amber-200",children:[u.jsx("strong",{children:"Note:"})," Saving changes will create a new version. Previous orders retain their original measurements."]}),u.jsxs(Rt,{children:[u.jsx(te,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancel"}),u.jsx(te,{type:"submit",disabled:s.isPending,children:s.isPending?"Saving...":"Save New Version"})]})]})}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"grid grid-cols-3 gap-2 sm:grid-cols-4 md:grid-cols-5",children:dr.map(T=>{const N=t[T.key];return u.jsxs("div",{className:`rounded-lg px-3 py-2 ${N?"bg-muted/50":"bg-muted/20 border border-dashed border-border"}`,children:[u.jsx("p",{className:"text-xs text-muted-foreground",children:T.label}),u.jsx("p",{className:`font-medium ${N?"":"text-muted-foreground"}`,children:N?`${Number(N)}"`:""})]},T.key)})}),t.custom_notes&&u.jsxs("div",{className:"rounded-lg border border-border p-3",children:[u.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Notes"}),u.jsx("p",{className:"text-sm",children:t.custom_notes})]}),u.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[u.jsx(Zc,{className:"h-3.5 w-3.5"}),"Last updated ",ct(new Date(t.updated_at),"MMM d, yyyy 'at' h:mm a")]}),l.length>0&&u.jsxs(py,{open:a,onOpenChange:o,children:[u.jsx(my,{asChild:!0,children:u.jsxs(te,{variant:"ghost",size:"sm",className:"w-full justify-between gap-2",children:[u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(GM,{className:"h-4 w-4"}),"Version History (",l.length," versions)"]}),a?u.jsx(Gp,{className:"h-4 w-4"}):u.jsx(Xc,{className:"h-4 w-4"})]})}),u.jsx(vy,{className:"space-y-2 pt-2",children:l.map(T=>u.jsxs("div",{className:"rounded-lg border border-border p-3 text-sm bg-muted/30",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("span",{className:"font-medium",children:["Version ",T.version_number]}),u.jsx("span",{className:"text-xs text-muted-foreground",children:ct(new Date(T.created_at),"MMM d, yyyy 'at' h:mm a")})]}),u.jsx("div",{className:"grid grid-cols-4 gap-2 text-xs",children:dr.map(N=>{const P=T[N.key];return P?u.jsxs("div",{children:[u.jsxs("span",{className:"text-muted-foreground",children:[N.label,":"]})," ",u.jsxs("span",{className:"font-medium",children:[Number(P),'"']})]},N.key):null})}),T.change_reason&&u.jsxs("p",{className:"text-xs text-muted-foreground mt-2 italic",children:["Reason: ",T.change_reason]})]},T.id))})]})]}),u.jsxs(Rt,{className:"flex-col gap-2 sm:flex-row sm:justify-between",children:[u.jsx("div",{className:"flex gap-2"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(Po,{children:[u.jsx(ko,{asChild:!0,children:u.jsxs(te,{variant:"outline",size:"sm",className:"gap-2",children:[u.jsx(vu,{className:"h-4 w-4"}),"Export"]})}),u.jsxs(Ja,{align:"end",children:[u.jsxs(mt,{onClick:S,className:"gap-2",children:[u.jsx(qM,{className:"h-4 w-4"}),"View Images"]}),u.jsxs(mt,{onClick:g,className:"gap-2",children:[u.jsx(Yc,{className:"h-4 w-4"}),"Download CSV"]}),u.jsxs(mt,{onClick:y,className:"gap-2",children:[u.jsx(Yc,{className:"h-4 w-4"}),"Download PDF"]})]})]}),u.jsxs(te,{size:"sm",onClick:()=>i(!0),className:"gap-2",children:[u.jsx(ha,{className:"h-4 w-4"}),"Edit"]})]})]})]})]})}),u.jsx(hr,{open:x,onOpenChange:w,children:u.jsxs(Jt,{className:"sm:max-w-lg",children:[u.jsxs(er,{children:[u.jsx(tr,{className:"font-display",children:"Material Images"}),u.jsx(Cr,{children:"Uploaded material photos for this measurement"})]}),u.jsx("div",{className:"space-y-4 py-2",children:u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:t!=null&&t.materials_images&&t.materials_images.length>0?t.materials_images.map((T,N)=>u.jsx("div",{className:"rounded-md overflow-hidden border border-border",children:u.jsx("img",{src:T,alt:`material-${N}`,className:"w-full h-40 object-cover"})},N)):u.jsx("div",{className:"text-sm text-muted-foreground",children:"No images available."})})}),u.jsx(Rt,{children:u.jsx(te,{variant:"outline",onClick:()=>w(!1),children:"Close"})})]})})]})}const ihe=()=>{const[t,e]=b.useState(""),{measurements:r,isLoading:n,error:i}=jv(),[a,o]=b.useState(null),[s,l]=b.useState(!1);if(i)return u.jsx(an,{title:"Measurements",subtitle:"Order measurement profiles and fitting records",children:u.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[u.jsx("p",{className:"text-destructive mb-2",children:"Failed to load measurements"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:i.message})]})});const c=b.useMemo(()=>r.filter(h=>{var m,g,y;const p=((g=(m=h.order)==null?void 0:m.customer)==null?void 0:g.name)||"",v=((y=h.order)==null?void 0:y.order_number)||"";return p.toLowerCase().includes(t.toLowerCase())||v.toLowerCase().includes(t.toLowerCase())||h.garment_type.toLowerCase().includes(t.toLowerCase())}),[r,t]),d=h=>{o(h),l(!0)},f=h=>dr.filter(p=>h[p.key]).slice(0,4);return n?u.jsx(an,{title:"Measurements",subtitle:"Order measurement profiles and fitting records",children:u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx(fi,{className:"h-8 w-8 animate-spin text-primary"})})}):u.jsxs(an,{title:"Measurements",subtitle:"Order measurement profiles and fitting records",children:[u.jsxs("div",{className:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{className:"relative flex-1 sm:max-w-sm",children:[u.jsx(Gf,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),u.jsx(Ee,{placeholder:"Search by order or garment type...",className:"pl-10",value:t,onChange:h=>e(h.target.value)})]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Measurements are created via the Order  Schedule Fitting workflow"})]}),c.length===0?u.jsx(sh,{icon:Zc,title:"No measurements found",description:t?"No measurements match your search.":"Measurements are created through the Schedule Fitting action on orders."}):u.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:c.map(h=>{var v,m,g;const p=f(h);return u.jsxs("div",{className:"card-luxury p-6 cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>d(h),children:[u.jsxs("div",{className:"mb-4 flex items-start justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/10",children:u.jsx(xu,{className:"h-5 w-5 text-primary"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-foreground",children:((v=h.order)==null?void 0:v.order_number)||"Unlinked"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:h.garment_type}),((g=(m=h.order)==null?void 0:m.customer)==null?void 0:g.name)&&u.jsx("p",{className:"text-xs text-muted-foreground",children:h.order.customer.name})]})]}),u.jsx("div",{onClick:y=>y.stopPropagation(),children:u.jsxs(Po,{children:[u.jsx(ko,{asChild:!0,children:u.jsx(te,{variant:"ghost",size:"icon",className:"h-8 w-8",children:u.jsx(gu,{className:"h-4 w-4"})})}),u.jsxs(Ja,{align:"end",children:[u.jsxs(mt,{onClick:()=>d(h),className:"gap-2",children:[u.jsx(Hf,{className:"h-4 w-4"}),"View Details"]}),u.jsx(ru,{}),u.jsxs(mt,{onClick:y=>{var _;y.stopPropagation();const x=dr.map(C=>{const E=h[C.key];return`<tr><td style="padding:8px;border-bottom:1px solid #eee;">${C.label}</td><td style="padding:8px;border-bottom:1px solid #eee;">${E?`${Number(E)}"`:""}</td></tr>`}).join(""),w=`<!doctype html><html><head><meta charset="utf-8"><title>Measurement ${h.id}</title><style>body{font-family:system-ui, sans-serif;padding:20px;color:#111}table{width:100%;border-collapse:collapse}th,td{padding:8px}</style></head><body><h1>Measurement Profile</h1><p><strong>Order:</strong> ${((_=h.order)==null?void 0:_.order_number)||"Unlinked"}</p><p><strong>Garment:</strong> ${h.garment_type}</p><table>${x}${h.custom_notes?`<tr><td style="padding:8px;border-top:1px solid #eee">Notes</td><td style="padding:8px;border-top:1px solid #eee">${String(h.custom_notes)}</td></tr>`:""}</table></body></html>`,S=window.open("","_blank");S&&(S.document.write(w),S.document.close())},className:"gap-2",children:[u.jsx(YM,{className:"h-4 w-4"}),"Export PDF"]}),u.jsxs(mt,{onClick:y=>{var E;y.stopPropagation();const x=[];x.push(["Field","Value"]),x.push(["Order Number",((E=h.order)==null?void 0:E.order_number)||"Unlinked"]),x.push(["Garment Type",h.garment_type||""]),dr.forEach(A=>{const O=h[A.key];x.push([A.label,O?String(O):""])}),h.custom_notes&&x.push(["Notes",h.custom_notes]);const w=x.map(A=>A.map(O=>`"${String(O).replace(/"/g,'""')}"`).join(",")).join(`
`),S=new Blob([w],{type:"text/csv"}),_=URL.createObjectURL(S),C=document.createElement("a");C.href=_,C.download=`measurement-${h.id||"profile"}.csv`,C.click(),URL.revokeObjectURL(_)},className:"gap-2",children:[u.jsx(aA,{className:"h-4 w-4"}),"Export CSV"]})]})]})})]}),u.jsx("div",{className:"mb-4 grid grid-cols-2 gap-3",children:p.map(y=>u.jsxs("div",{className:"rounded-lg bg-muted/50 px-3 py-2",children:[u.jsx("p",{className:"text-xs text-muted-foreground",children:y.label}),u.jsxs("p",{className:"font-medium text-foreground",children:[Number(h[y.key]),'"']})]},y.key))}),h.custom_notes&&u.jsxs("p",{className:"mb-4 text-sm text-muted-foreground italic line-clamp-2",children:['"',h.custom_notes,'"']}),u.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground border-t border-border pt-4",children:[u.jsx(Zc,{className:"h-3.5 w-3.5"}),"Updated ",ct(new Date(h.updated_at),"MMM d, yyyy")]})]},h.id)})}),u.jsx(nhe,{measurement:a,open:s,onOpenChange:l})]})},ahe=zi({name:Le().trim().min(2,"Name must be at least 2 characters").max(200),sku:Le().trim().min(3,"SKU must be at least 3 characters").max(50),category:Le().min(1,"Please select a category"),quantity:ia().min(0,"Stock must be positive"),min_stock_level:ia().min(0,"Minimum stock must be positive"),price:ia().min(0,"Price must be positive"),storeId:Le().optional(),description:Le().trim().max(500).optional()}),ohe=["Fabric","Notions","Finished Goods","Accessories","Tools"];function she({trigger:t,onSuccess:e}){const[r,n]=b.useState(!1),{createInventoryItem:i}=ah(),{stores:a}=eo(),o=$i({resolver:Li(ahe),defaultValues:{name:"",sku:"",category:"",quantity:0,min_stock_level:5,price:0,storeId:"",description:""}}),s=l=>{i.mutate({name:l.name,sku:l.sku,category:l.category,quantity:l.quantity,min_stock_level:l.min_stock_level,price:l.price,store_id:l.storeId||null,description:l.description||null},{onSuccess:()=>{e==null||e(),o.reset(),n(!1)}})};return u.jsxs(hr,{open:r,onOpenChange:n,children:[u.jsx(Eu,{asChild:!0,children:t||u.jsxs(te,{className:"gap-2",children:[u.jsx(ms,{className:"h-4 w-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Add Item"})]})}),u.jsxs(Jt,{className:"max-h-[90vh] overflow-y-auto sm:max-w-lg",children:[u.jsxs(er,{children:[u.jsx(tr,{className:"font-display",children:"Add Inventory Item"}),u.jsx(Cr,{children:"Add a new product, fabric, or supply to inventory."})]}),u.jsx(Bi,{...o,children:u.jsxs("form",{onSubmit:o.handleSubmit(s),className:"space-y-4",children:[u.jsx(_e,{control:o.control,name:"name",render:({field:l})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Item Name *"}),u.jsx(be,{children:u.jsx(Ee,{placeholder:"e.g., Kanjivaram Silk - Maroon",...l})}),u.jsx(Se,{})]})}),u.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[u.jsx(_e,{control:o.control,name:"sku",render:({field:l})=>u.jsxs(we,{children:[u.jsx(xe,{children:"SKU *"}),u.jsx(be,{children:u.jsx(Ee,{placeholder:"FAB-KAN-001",...l})}),u.jsx(Se,{})]})}),u.jsx(_e,{control:o.control,name:"category",render:({field:l})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Category *"}),u.jsxs(zt,{onValueChange:l.onChange,value:l.value,children:[u.jsx(be,{children:u.jsx(Ut,{children:u.jsx(Ht,{placeholder:"Select category"})})}),u.jsx(Vt,{children:ohe.map(c=>u.jsx(Me,{value:c,children:c},c))})]}),u.jsx(Se,{})]})})]}),u.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[u.jsx(_e,{control:o.control,name:"quantity",render:({field:l})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Current Stock *"}),u.jsx(be,{children:u.jsx(Ee,{type:"number",min:0,...l,onChange:c=>l.onChange(Number(c.target.value))})}),u.jsx(Se,{})]})}),u.jsx(_e,{control:o.control,name:"min_stock_level",render:({field:l})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Min Stock *"}),u.jsx(be,{children:u.jsx(Ee,{type:"number",min:0,...l,onChange:c=>l.onChange(Number(c.target.value))})}),u.jsx(b7,{className:"text-xs",children:"Alert threshold"}),u.jsx(Se,{})]})}),u.jsx(_e,{control:o.control,name:"price",render:({field:l})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Price () *"}),u.jsx(be,{children:u.jsx(Ee,{type:"number",min:0,...l,onChange:c=>l.onChange(Number(c.target.value))})}),u.jsx(Se,{})]})})]}),u.jsx(_e,{control:o.control,name:"storeId",render:({field:l})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Store Location"}),u.jsxs(zt,{onValueChange:l.onChange,value:l.value,children:[u.jsx(be,{children:u.jsx(Ut,{children:u.jsx(Ht,{placeholder:"All Stores (no specific location)"})})}),u.jsx(Vt,{children:a.map(c=>u.jsx(Me,{value:c.id,children:c.name},c.id))})]}),u.jsx(Se,{})]})}),u.jsx(_e,{control:o.control,name:"description",render:({field:l})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Description"}),u.jsx(be,{children:u.jsx(hi,{placeholder:"Additional details about the item...",rows:2,...l})}),u.jsx(Se,{})]})}),u.jsxs(Rt,{className:"gap-2 pt-4",children:[u.jsx(te,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancel"}),u.jsx(te,{type:"submit",disabled:i.isPending,children:i.isPending?"Adding...":"Add Item"})]})]})})]})]})}function lhe(){const[t,e]=b.useState(!1),[r,n]=b.useState(!1),[i,a]=b.useState(null),o=b.useRef(null),{createInventoryItem:s}=ah(),{toast:l}=Vr(),c=()=>{const p=["name","sku","category","quantity","price","cost","min_stock_level","description"],v=["Silk Kurta","SKU-001","Fabrics","50","2500","1500","10","Premium silk kurta fabric"],m=[p.join(","),v.join(",")].join(`
`),g=new Blob([m],{type:"text/csv;charset=utf-8;"}),y=document.createElement("a");y.href=URL.createObjectURL(g),y.download="inventory_template.csv",y.click()},d=p=>p.split(/\r?\n/).filter(m=>m.trim()).map(m=>{const g=[];let y="",x=!1;for(let w=0;w<m.length;w++){const S=m[w];S==='"'?x=!x:S===","&&!x?(g.push(y.trim()),y=""):y+=S}return g.push(y.trim()),g}),f=async p=>{var y;const v=(y=p.target.files)==null?void 0:y[0];if(!v)return;const m=v.name.endsWith(".csv"),g=v.name.endsWith(".xlsx")||v.name.endsWith(".xls");if(!m&&!g){l({title:"Invalid file type",description:"Please upload a CSV or Excel file.",variant:"destructive"});return}if(g){l({title:"Excel files",description:"Please save your Excel file as CSV before uploading.",variant:"destructive"});return}n(!0),a(null);try{const x=await v.text(),w=d(x);if(w.length<2)throw new Error("File must contain at least a header row and one data row.");const S=w[0].map(O=>O.toLowerCase().trim()),_=w.slice(1),E=["name","sku","category","price"].filter(O=>!S.includes(O));if(E.length>0)throw new Error(`Missing required columns: ${E.join(", ")}`);const A={success:0,failed:0,errors:[]};for(let O=0;O<_.length;O++){const T=_[O],N=O+2;try{const P=le=>{var me;const J=S.indexOf(le);return J>=0&&((me=T[J])==null?void 0:me.trim())||""},$=P("name"),D=P("sku"),F=P("category"),L=P("price");if(!$||!D||!F||!L)throw new Error(`Row ${N}: Missing required fields (name, sku, category, price)`);const M=parseFloat(L.replace(/[,]/g,""));if(isNaN(M)||M<0)throw new Error(`Row ${N}: Invalid price value`);const j=P("quantity"),R=j?parseInt(j,10):0,V=P("cost"),W=V?parseFloat(V.replace(/[,]/g,"")):void 0,z=P("min_stock_level"),K=z?parseInt(z,10):5,re=P("description")||void 0,ue={name:$,sku:D,category:F,price:M,quantity:isNaN(R)?0:R,cost:W&&!isNaN(W)?W:void 0,min_stock_level:isNaN(K)?5:K,description:re};await s.mutateAsync(ue),A.success++}catch(P){A.failed++,A.errors.push(P instanceof Error?P.message:`Row ${N}: Unknown error`)}}a(A),A.success>0&&l({title:"Import completed",description:`Successfully imported ${A.success} items.`})}catch(x){l({title:"Import failed",description:x instanceof Error?x.message:"Failed to parse file.",variant:"destructive"})}finally{n(!1),o.current&&(o.current.value="")}},h=()=>{a(null),n(!1)};return u.jsxs(hr,{open:t,onOpenChange:p=>{e(p),p||h()},children:[u.jsx(Eu,{asChild:!0,children:u.jsxs(te,{variant:"outline",className:"gap-2",children:[u.jsx(p2,{className:"h-4 w-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Import"})]})}),u.jsxs(Jt,{className:"sm:max-w-lg",children:[u.jsxs(er,{children:[u.jsxs(tr,{className:"flex items-center gap-2",children:[u.jsx(tq,{className:"h-5 w-5"}),"Import Inventory"]}),u.jsx(Cr,{children:"Import products from a CSV file. Download the template to see the required format."})]}),u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{className:"rounded-lg border border-border bg-muted/30 p-4",children:[u.jsx("h4",{className:"mb-2 font-medium text-foreground",children:"Instructions"}),u.jsxs("ol",{className:"space-y-2 text-sm text-muted-foreground",children:[u.jsx("li",{children:"1. Download the CSV template below"}),u.jsx("li",{children:"2. Fill in your product data (you can use Excel, then save as CSV)"}),u.jsxs("li",{children:["3. ",u.jsx("strong",{children:"Required columns:"})," name, sku, category, price"]}),u.jsxs("li",{children:["4. ",u.jsx("strong",{children:"Optional columns:"})," quantity, cost, min_stock_level, description"]}),u.jsx("li",{children:"5. Upload your completed CSV file"})]})]}),u.jsxs(te,{variant:"outline",onClick:c,className:"w-full gap-2",children:[u.jsx(vu,{className:"h-4 w-4"}),"Download CSV Template"]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("input",{ref:o,type:"file",accept:".csv,.xlsx,.xls",onChange:f,className:"hidden",id:"inventory-file-upload"}),u.jsx(te,{variant:"default",onClick:()=>{var p;return(p=o.current)==null?void 0:p.click()},disabled:r,className:"w-full gap-2",children:r?u.jsxs(u.Fragment,{children:[u.jsx(fi,{className:"h-4 w-4 animate-spin"}),"Importing..."]}):u.jsxs(u.Fragment,{children:[u.jsx(p2,{className:"h-4 w-4"}),"Upload CSV File"]})})]}),i&&u.jsxs("div",{className:"space-y-3 rounded-lg border border-border p-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[i.success>0&&u.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[u.jsx(JG,{className:"h-4 w-4"}),u.jsxs("span",{className:"text-sm font-medium",children:[i.success," imported"]})]}),i.failed>0&&u.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[u.jsx(rA,{className:"h-4 w-4"}),u.jsxs("span",{className:"text-sm font-medium",children:[i.failed," failed"]})]})]}),i.errors.length>0&&u.jsxs("div",{className:"max-h-32 overflow-y-auto rounded border border-destructive/20 bg-destructive/5 p-2",children:[u.jsx("p",{className:"mb-1 text-xs font-medium text-destructive",children:"Errors:"}),i.errors.slice(0,5).map((p,v)=>u.jsx("p",{className:"text-xs text-destructive/80",children:p},v)),i.errors.length>5&&u.jsxs("p",{className:"mt-1 text-xs text-muted-foreground",children:["...and ",i.errors.length-5," more errors"]})]})]})]})]})]})}const che=zi({name:Le().trim().min(1,"Name is required").max(200),sku:Le().trim().min(1,"SKU is required").max(50),category:Le().trim().min(1,"Category is required").max(100),price:ia().min(0,"Price must be positive"),cost:ia().min(0).optional(),quantity:ia().min(0,"Quantity must be positive"),min_stock_level:ia().min(0),description:Le().trim().max(1e3).optional(),store_id:Le().optional()});function uhe({item:t,open:e,onOpenChange:r}){var m;const[n,i]=b.useState(!1),[a,o]=b.useState(!1),{updateInventoryItem:s,deleteInventoryItem:l}=ah(),{stores:c}=eo(),d=$i({resolver:Li(che),values:t?{name:t.name,sku:t.sku,category:t.category,price:Number(t.price),cost:t.cost?Number(t.cost):0,quantity:t.quantity,min_stock_level:t.min_stock_level,description:t.description||"",store_id:t.store_id||""}:void 0}),f=()=>{i(!1),d.reset(),r(!1)},h=g=>{t&&s.mutate({id:t.id,name:g.name,sku:g.sku,category:g.category,price:g.price,cost:g.cost||null,quantity:g.quantity,min_stock_level:g.min_stock_level,description:g.description||null,store_id:g.store_id||null},{onSuccess:()=>{i(!1)}})},p=()=>{t&&l.mutate(t.id,{onSuccess:()=>{o(!1),f()}})};if(!t)return null;const v=t.quantity<=t.min_stock_level;return u.jsxs(u.Fragment,{children:[u.jsx(hr,{open:e,onOpenChange:f,children:u.jsxs(Jt,{className:"sm:max-w-lg",children:[u.jsx(er,{children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-muted",children:u.jsx(Dl,{className:"h-6 w-6 text-muted-foreground"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx(tr,{className:"font-display",children:t.name}),u.jsxs(Cr,{children:["SKU: ",t.sku]})]}),v&&u.jsxs("div",{className:"flex items-center gap-1 text-amber-600",children:[u.jsx(h2,{className:"h-4 w-4"}),u.jsx("span",{className:"text-xs",children:"Low Stock"})]})]})}),n?u.jsx(Bi,{...d,children:u.jsxs("form",{onSubmit:d.handleSubmit(h),className:"space-y-4",children:[u.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[u.jsx(_e,{control:d.control,name:"name",render:({field:g})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Name *"}),u.jsx(be,{children:u.jsx(Ee,{...g})}),u.jsx(Se,{})]})}),u.jsx(_e,{control:d.control,name:"sku",render:({field:g})=>u.jsxs(we,{children:[u.jsx(xe,{children:"SKU *"}),u.jsx(be,{children:u.jsx(Ee,{...g})}),u.jsx(Se,{})]})})]}),u.jsx(_e,{control:d.control,name:"category",render:({field:g})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Category *"}),u.jsx(be,{children:u.jsx(Ee,{...g})}),u.jsx(Se,{})]})}),u.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[u.jsx(_e,{control:d.control,name:"price",render:({field:g})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Price () *"}),u.jsx(be,{children:u.jsx(Ee,{type:"number",min:0,...g,onChange:y=>g.onChange(Number(y.target.value))})}),u.jsx(Se,{})]})}),u.jsx(_e,{control:d.control,name:"cost",render:({field:g})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Cost ()"}),u.jsx(be,{children:u.jsx(Ee,{type:"number",min:0,...g,onChange:y=>g.onChange(Number(y.target.value))})}),u.jsx(Se,{})]})})]}),u.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[u.jsx(_e,{control:d.control,name:"quantity",render:({field:g})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Quantity *"}),u.jsx(be,{children:u.jsx(Ee,{type:"number",min:0,...g,onChange:y=>g.onChange(Number(y.target.value))})}),u.jsx(Se,{})]})}),u.jsx(_e,{control:d.control,name:"min_stock_level",render:({field:g})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Min Stock Level"}),u.jsx(be,{children:u.jsx(Ee,{type:"number",min:0,...g,onChange:y=>g.onChange(Number(y.target.value))})}),u.jsx(Se,{})]})})]}),u.jsx(_e,{control:d.control,name:"store_id",render:({field:g})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Store"}),u.jsxs(zt,{onValueChange:g.onChange,value:g.value,children:[u.jsx(be,{children:u.jsx(Ut,{children:u.jsx(Ht,{placeholder:"All stores"})})}),u.jsx(Vt,{children:c.map(y=>u.jsx(Me,{value:y.id,children:y.name},y.id))})]}),u.jsx(Se,{})]})}),u.jsx(_e,{control:d.control,name:"description",render:({field:g})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Description"}),u.jsx(be,{children:u.jsx(hi,{rows:2,...g})}),u.jsx(Se,{})]})}),u.jsxs(Rt,{children:[u.jsx(te,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancel"}),u.jsx(te,{type:"submit",disabled:s.isPending,children:s.isPending?"Saving...":"Save Changes"})]})]})}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"rounded-lg bg-muted/50 p-3",children:[u.jsx("p",{className:"text-xs text-muted-foreground",children:"Category"}),u.jsx("p",{className:"font-medium",children:t.category})]}),u.jsxs("div",{className:"rounded-lg bg-muted/50 p-3",children:[u.jsx("p",{className:"text-xs text-muted-foreground",children:"Price"}),u.jsxs("p",{className:"font-medium",children:["",Number(t.price).toLocaleString()]})]}),u.jsxs("div",{className:"rounded-lg bg-muted/50 p-3",children:[u.jsx("p",{className:"text-xs text-muted-foreground",children:"Quantity"}),u.jsx("p",{className:`font-medium ${v?"text-amber-600":""}`,children:t.quantity})]}),u.jsxs("div",{className:"rounded-lg bg-muted/50 p-3",children:[u.jsx("p",{className:"text-xs text-muted-foreground",children:"Min Stock"}),u.jsx("p",{className:"font-medium",children:t.min_stock_level})]})]}),t.cost&&u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Cost"}),u.jsxs("span",{children:["",Number(t.cost).toLocaleString()]})]}),u.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[u.jsx(B1,{className:"h-4 w-4 text-muted-foreground"}),u.jsx("span",{children:((m=t.store)==null?void 0:m.name)||"All Stores"})]}),t.description&&u.jsx("div",{className:"rounded-lg border border-border p-3",children:u.jsx("p",{className:"text-sm text-muted-foreground",children:t.description})})]}),u.jsxs(Rt,{className:"flex-row gap-2 sm:justify-between",children:[u.jsxs(te,{variant:"destructive",size:"sm",onClick:()=>o(!0),className:"gap-2",children:[u.jsx(zl,{className:"h-4 w-4"}),"Remove"]}),u.jsxs(te,{onClick:()=>i(!0),className:"gap-2",children:[u.jsx(ha,{className:"h-4 w-4"}),"Edit"]})]})]})]})}),u.jsx(Bl,{open:a,onOpenChange:o,children:u.jsxs(xs,{children:[u.jsxs(ws,{children:[u.jsx(_s,{children:"Remove Inventory Item"}),u.jsxs(Ss,{children:["Are you sure you want to remove ",t.name,"? It will be deactivated and no longer appear in inventory lists."]})]}),u.jsxs(bs,{children:[u.jsx(Es,{children:"Cancel"}),u.jsx(Cs,{onClick:p,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:l.isPending?"Removing...":"Remove"})]})]})})]})}const dhe=()=>{const[t,e]=b.useState(""),[r,n]=b.useState("all"),[i,a]=b.useState("all"),[o,s]=b.useState(1),[l,c]=b.useState(10),[d,f]=b.useState(null),[h,p]=b.useState(!1),{inventory:v,isLoading:m}=ah(),{stores:g}=eo(),y=b.useMemo(()=>v.filter(E=>E.quantity<=E.min_stock_level),[v]),x=b.useMemo(()=>[...new Set(v.map(A=>A.category))].sort(),[v]),w=b.useMemo(()=>v.filter(E=>{const A=E.name.toLowerCase().includes(t.toLowerCase())||E.sku.toLowerCase().includes(t.toLowerCase()),O=r==="all"||E.category.toLowerCase()===r.toLowerCase(),T=i==="all"||E.store_id===i||!E.store_id;return A&&O&&T}),[v,t,r,i]),S=Math.ceil(w.length/l),_=w.slice((o-1)*l,o*l),C=E=>{f(E),p(!0)};return m?u.jsx(an,{title:"Inventory",subtitle:"Product catalog and stock management",children:u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx(fi,{className:"h-8 w-8 animate-spin text-primary"})})}):u.jsxs(an,{title:"Inventory",subtitle:"Product catalog and stock management",children:[y.length>0&&u.jsxs("div",{className:"mb-6 flex flex-col items-start gap-3 rounded-lg border border-amber-200 bg-amber-50 px-4 py-3 sm:flex-row sm:items-center dark:border-amber-900/50 dark:bg-amber-900/20",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(h2,{className:"h-5 w-5 text-amber-600"}),u.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-200",children:[u.jsxs("span",{className:"font-medium",children:[y.length," items"]})," are running low on stock"]})]}),u.jsx(te,{variant:"outline",size:"sm",className:"sm:ml-auto",children:"View Low Stock"})]}),u.jsxs("div",{className:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{className:"flex flex-1 flex-wrap items-center gap-3",children:[u.jsxs("div",{className:"relative w-full sm:w-auto sm:flex-1 sm:max-w-sm",children:[u.jsx(Gf,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),u.jsx(Ee,{placeholder:"Search inventory...",className:"pl-10",value:t,onChange:E=>{e(E.target.value),s(1)}})]}),u.jsxs(zt,{value:r,onValueChange:E=>{n(E),s(1)},children:[u.jsx(Ut,{className:"w-40",children:u.jsx(Ht,{placeholder:"Category"})}),u.jsxs(Vt,{children:[u.jsx(Me,{value:"all",children:"All Categories"}),x.map(E=>u.jsx(Me,{value:E.toLowerCase(),children:E},E))]})]}),u.jsxs(zt,{value:i,onValueChange:E=>{a(E),s(1)},children:[u.jsx(Ut,{className:"w-36",children:u.jsx(Ht,{placeholder:"Store"})}),u.jsxs(Vt,{children:[u.jsx(Me,{value:"all",children:"All Stores"}),g.map(E=>u.jsx(Me,{value:E.id,children:E.name},E.id))]})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(lhe,{}),u.jsxs(te,{variant:"outline",className:"gap-2",children:[u.jsx(vu,{className:"h-4 w-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Export"})]}),u.jsx(she,{})]})]}),u.jsx("div",{className:"card-luxury overflow-hidden",children:_.length===0?u.jsx(sh,{icon:Dl,title:"No items found",description:"No inventory items match your current search or filters."}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-border bg-muted/30",children:[u.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider text-muted-foreground md:px-6",children:"Product"}),u.jsx("th",{className:"hidden px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider text-muted-foreground sm:table-cell md:px-6",children:"SKU"}),u.jsx("th",{className:"hidden px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider text-muted-foreground lg:table-cell md:px-6",children:"Category"}),u.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider text-muted-foreground md:px-6",children:"Stock"}),u.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider text-muted-foreground md:px-6",children:"Price"}),u.jsx("th",{className:"hidden px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider text-muted-foreground md:table-cell md:px-6",children:"Location"}),u.jsx("th",{className:"px-4 py-4 text-right text-xs font-semibold uppercase tracking-wider text-muted-foreground md:px-6",children:"Actions"})]})}),u.jsx("tbody",{className:"divide-y divide-border",children:_.map(E=>{var A;return u.jsxs("tr",{className:"transition-colors hover:bg-muted/20 cursor-pointer",onClick:()=>C(E),children:[u.jsx("td",{className:"whitespace-nowrap px-4 py-4 md:px-6",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"hidden h-10 w-10 items-center justify-center rounded-lg bg-muted sm:flex",children:u.jsx(Dl,{className:"h-5 w-5 text-muted-foreground"})}),u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-foreground",children:E.name}),u.jsx("p",{className:"text-xs text-muted-foreground sm:hidden",children:E.sku})]})]})}),u.jsx("td",{className:"hidden whitespace-nowrap px-4 py-4 text-sm text-muted-foreground sm:table-cell md:px-6",children:E.sku}),u.jsx("td",{className:"hidden whitespace-nowrap px-4 py-4 lg:table-cell md:px-6",children:u.jsx("span",{className:"status-badge bg-secondary text-secondary-foreground",children:E.category})}),u.jsx("td",{className:"whitespace-nowrap px-4 py-4 md:px-6",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:he("font-medium",E.quantity<=E.min_stock_level?"text-amber-600":"text-foreground"),children:E.quantity}),E.quantity<=E.min_stock_level&&u.jsx(h2,{className:"h-4 w-4 text-amber-500"})]})}),u.jsxs("td",{className:"whitespace-nowrap px-4 py-4 font-medium text-foreground md:px-6",children:["",Number(E.price).toLocaleString()]}),u.jsx("td",{className:"hidden whitespace-nowrap px-4 py-4 text-muted-foreground md:table-cell md:px-6",children:((A=E.store)==null?void 0:A.name)||"All Stores"}),u.jsx("td",{className:"whitespace-nowrap px-4 py-4 text-right md:px-6",onClick:O=>O.stopPropagation(),children:u.jsxs(Po,{children:[u.jsx(ko,{asChild:!0,children:u.jsx(te,{variant:"ghost",size:"icon",children:u.jsx(gu,{className:"h-4 w-4"})})}),u.jsxs(Ja,{align:"end",children:[u.jsxs(mt,{onClick:()=>C(E),className:"gap-2",children:[u.jsx(Hf,{className:"h-4 w-4"}),"View Details"]}),u.jsxs(mt,{onClick:()=>C(E),className:"gap-2",children:[u.jsx(ha,{className:"h-4 w-4"}),"Edit Item"]}),u.jsx(ru,{}),u.jsxs(mt,{className:"gap-2 text-destructive",children:[u.jsx(zl,{className:"h-4 w-4"}),"Remove Item"]})]})]})})]},E.id)})})]})}),u.jsx(NO,{currentPage:o,totalPages:S,pageSize:l,totalItems:w.length,onPageChange:s,onPageSizeChange:E=>{c(E),s(1)}})]})}),u.jsx(uhe,{item:d,open:h,onOpenChange:p})]})},fhe=zi({name:Le().trim().min(2,"Name must be at least 2 characters").max(100),phone:Le().trim().min(10,"Enter a valid phone number").max(15).optional().or(Ba("")),email:Le().trim().email("Enter a valid email").max(255),role:cx(["admin","store_manager","sales_associate","tailor"]),storeId:Le().optional()}),hhe=[{value:"admin",label:"Admin"},{value:"store_manager",label:"Store Manager"},{value:"sales_associate",label:"Sales Associate"},{value:"tailor",label:"Tailor"}];function phe({trigger:t,onSuccess:e}){const[r,n]=b.useState(!1),{createEmployee:i}=xx(),{stores:a}=eo(),o=$i({resolver:Li(fhe),defaultValues:{name:"",phone:"",email:"",role:"sales_associate",storeId:""}}),s=l=>{i.mutate({name:l.name,phone:l.phone||null,email:l.email,role:l.role,store_id:l.storeId||null},{onSuccess:()=>{e==null||e(),o.reset(),n(!1)}})};return u.jsxs(hr,{open:r,onOpenChange:n,children:[u.jsx(Eu,{asChild:!0,children:t||u.jsxs(te,{className:"gap-2",children:[u.jsx(ms,{className:"h-4 w-4"}),"Add Employee"]})}),u.jsxs(Jt,{className:"sm:max-w-md",children:[u.jsxs(er,{children:[u.jsx(tr,{className:"font-display",children:"Add New Employee"}),u.jsx(Cr,{children:"Add a new team member to your boutique."})]}),u.jsx(Bi,{...o,children:u.jsxs("form",{onSubmit:o.handleSubmit(s),className:"space-y-4",children:[u.jsx(_e,{control:o.control,name:"name",render:({field:l})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Full Name *"}),u.jsx(be,{children:u.jsx(Ee,{placeholder:"Enter employee name",...l})}),u.jsx(Se,{})]})}),u.jsx(_e,{control:o.control,name:"email",render:({field:l})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Email Address *"}),u.jsx(be,{children:u.jsx(Ee,{type:"email",placeholder:"employee@email.com",...l})}),u.jsx(Se,{})]})}),u.jsx(_e,{control:o.control,name:"phone",render:({field:l})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Phone Number"}),u.jsx(be,{children:u.jsx(Ee,{placeholder:"+91 98765 43210",...l})}),u.jsx(Se,{})]})}),u.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[u.jsx(_e,{control:o.control,name:"role",render:({field:l})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Role *"}),u.jsxs(zt,{onValueChange:l.onChange,value:l.value,children:[u.jsx(be,{children:u.jsx(Ut,{children:u.jsx(Ht,{placeholder:"Select role"})})}),u.jsx(Vt,{children:hhe.map(c=>u.jsx(Me,{value:c.value,children:c.label},c.value))})]}),u.jsx(Se,{})]})}),u.jsx(_e,{control:o.control,name:"storeId",render:({field:l})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Store"}),u.jsxs(zt,{onValueChange:l.onChange,value:l.value,children:[u.jsx(be,{children:u.jsx(Ut,{children:u.jsx(Ht,{placeholder:"Select store"})})}),u.jsx(Vt,{children:a.map(c=>u.jsx(Me,{value:c.id,children:c.name},c.id))})]}),u.jsx(Se,{})]})})]}),u.jsxs(Rt,{className:"gap-2 pt-4",children:[u.jsx(te,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancel"}),u.jsx(te,{type:"submit",disabled:i.isPending,children:i.isPending?"Adding...":"Add Employee"})]})]})})]})]})}const mhe=[{value:"admin",label:"Admin"},{value:"store_manager",label:"Store Manager"},{value:"sales_associate",label:"Sales Associate"},{value:"tailor",label:"Tailor"}],vhe=zi({name:Le().trim().min(1,"Name is required").max(100),email:Le().trim().email("Invalid email").max(255),phone:Le().trim().max(20).optional(),role:cx(["admin","store_manager","sales_associate","tailor"]),store_id:Le().optional(),hourly_rate:ia().min(0).optional()});function ghe({employee:t,open:e,onOpenChange:r}){var _;const[n,i]=b.useState(!1),[a,o]=b.useState(!1),[s,l]=b.useState(!1),{updateEmployee:c,deactivateEmployee:d,reactivateEmployee:f,deleteEmployee:h}=xx(),{stores:p}=eo(),v=$i({resolver:Li(vhe),values:t?{name:t.name,email:t.email,phone:t.phone||"",role:t.role,store_id:t.store_id||"",hourly_rate:t.hourly_rate||0}:void 0}),m=C=>C.split("_").map(E=>E.charAt(0).toUpperCase()+E.slice(1)).join(" "),g=()=>{i(!1),v.reset(),r(!1)},y=C=>{t&&c.mutate({id:t.id,name:C.name,email:C.email,phone:C.phone||null,role:C.role,store_id:C.store_id||null,hourly_rate:C.hourly_rate||null},{onSuccess:()=>{i(!1)}})},x=()=>{t&&d.mutate(t.id,{onSuccess:()=>{o(!1),g()}})},w=()=>{t&&f.mutate(t.id)},S=()=>{t&&h.mutate(t.id,{onSuccess:()=>{l(!1),g()}})};return t?u.jsxs(u.Fragment,{children:[u.jsx(hr,{open:e,onOpenChange:g,children:u.jsxs(Jt,{className:"sm:max-w-lg",children:[u.jsx(er,{children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10 font-display text-lg font-semibold text-primary",children:t.name.charAt(0)}),u.jsxs("div",{className:"flex-1",children:[u.jsx(tr,{className:"font-display",children:t.name}),u.jsx(Cr,{children:m(t.role)})]}),t.is_active?u.jsxs("div",{className:"flex items-center gap-1 text-emerald-600",children:[u.jsx(m2,{className:"h-4 w-4"}),u.jsx("span",{className:"text-xs",children:"Active"})]}):u.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[u.jsx(v2,{className:"h-4 w-4"}),u.jsx("span",{className:"text-xs",children:"Inactive"})]})]})}),n?u.jsx(Bi,{...v,children:u.jsxs("form",{onSubmit:v.handleSubmit(y),className:"space-y-4",children:[u.jsx(_e,{control:v.control,name:"name",render:({field:C})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Name *"}),u.jsx(be,{children:u.jsx(Ee,{...C})}),u.jsx(Se,{})]})}),u.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[u.jsx(_e,{control:v.control,name:"email",render:({field:C})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Email *"}),u.jsx(be,{children:u.jsx(Ee,{type:"email",...C})}),u.jsx(Se,{})]})}),u.jsx(_e,{control:v.control,name:"phone",render:({field:C})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Phone"}),u.jsx(be,{children:u.jsx(Ee,{...C})}),u.jsx(Se,{})]})})]}),u.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[u.jsx(_e,{control:v.control,name:"role",render:({field:C})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Role *"}),u.jsxs(zt,{onValueChange:C.onChange,value:C.value,children:[u.jsx(be,{children:u.jsx(Ut,{children:u.jsx(Ht,{})})}),u.jsx(Vt,{children:mhe.map(E=>u.jsx(Me,{value:E.value,children:E.label},E.value))})]}),u.jsx(Se,{})]})}),u.jsx(_e,{control:v.control,name:"store_id",render:({field:C})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Store"}),u.jsxs(zt,{onValueChange:C.onChange,value:C.value,children:[u.jsx(be,{children:u.jsx(Ut,{children:u.jsx(Ht,{placeholder:"Select store"})})}),u.jsx(Vt,{children:p.map(E=>u.jsx(Me,{value:E.id,children:E.name},E.id))})]}),u.jsx(Se,{})]})})]}),u.jsx(_e,{control:v.control,name:"hourly_rate",render:({field:C})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Hourly Rate ()"}),u.jsx(be,{children:u.jsx(Ee,{type:"number",min:0,...C,onChange:E=>C.onChange(Number(E.target.value))})}),u.jsx(Se,{})]})}),u.jsxs(Rt,{children:[u.jsx(te,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancel"}),u.jsx(te,{type:"submit",disabled:c.isPending,children:c.isPending?"Saving...":"Save Changes"})]})]})}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid gap-3",children:[u.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[u.jsx(av,{className:"h-4 w-4 text-muted-foreground"}),u.jsx("span",{children:t.email})]}),t.phone&&u.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[u.jsx(yu,{className:"h-4 w-4 text-muted-foreground"}),u.jsx("span",{children:t.phone})]}),u.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[u.jsx(B1,{className:"h-4 w-4 text-muted-foreground"}),u.jsx("span",{children:((_=t.store)==null?void 0:_.name)||"Not assigned"})]})]}),u.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-muted/50 p-3",children:[u.jsx("span",{className:"status-badge bg-primary/10 text-primary",children:m(t.role)}),t.hourly_rate&&u.jsxs("span",{className:"text-sm text-muted-foreground",children:["",t.hourly_rate,"/hr"]})]}),u.jsxs("div",{className:"text-xs text-muted-foreground",children:["Added on ",ct(new Date(t.created_at),"MMM d, yyyy")]})]}),u.jsxs(Rt,{className:"flex-row gap-2 sm:justify-between",children:[u.jsxs("div",{className:"flex gap-2",children:[t.is_active?u.jsxs(te,{variant:"outline",size:"sm",onClick:()=>o(!0),className:"gap-2",children:[u.jsx(v2,{className:"h-4 w-4"}),"Deactivate"]}):u.jsxs(te,{variant:"outline",size:"sm",onClick:w,disabled:f.isPending,className:"gap-2 text-emerald-600 hover:text-emerald-700",children:[u.jsx(m2,{className:"h-4 w-4"}),f.isPending?"Reactivating...":"Reactivate"]}),u.jsxs(te,{variant:"destructive",size:"sm",onClick:()=>l(!0),className:"gap-2",children:[u.jsx(zl,{className:"h-4 w-4"}),"Delete"]})]}),u.jsxs(te,{onClick:()=>i(!0),className:"gap-2",children:[u.jsx(ha,{className:"h-4 w-4"}),"Edit"]})]})]})]})}),u.jsx(Bl,{open:a,onOpenChange:o,children:u.jsxs(xs,{children:[u.jsxs(ws,{children:[u.jsx(_s,{children:"Deactivate Employee"}),u.jsxs(Ss,{children:["Are you sure you want to deactivate ",t.name,"? They will no longer appear in dropdowns or be assignable to orders."]})]}),u.jsxs(bs,{children:[u.jsx(Es,{children:"Cancel"}),u.jsx(Cs,{onClick:x,className:"bg-amber-600 text-white hover:bg-amber-700",children:d.isPending?"Deactivating...":"Deactivate"})]})]})}),u.jsx(Bl,{open:s,onOpenChange:l,children:u.jsxs(xs,{children:[u.jsxs(ws,{children:[u.jsx(_s,{children:"Delete Employee Permanently"}),u.jsxs(Ss,{children:["Are you sure you want to permanently delete ",t.name,"? This action cannot be undone."]})]}),u.jsxs(bs,{children:[u.jsx(Es,{children:"Cancel"}),u.jsx(Cs,{onClick:S,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:h.isPending?"Deleting...":"Delete Permanently"})]})]})})]}):null}const yhe=()=>{const[t,e]=b.useState(""),{employees:r,isLoading:n}=xx(),[i,a]=b.useState(null),[o,s]=b.useState(!1),l=b.useMemo(()=>r.filter(f=>f.name.toLowerCase().includes(t.toLowerCase())||f.email.toLowerCase().includes(t.toLowerCase())||f.role.toLowerCase().includes(t.toLowerCase())),[r,t]),c=f=>f.split("_").map(h=>h.charAt(0).toUpperCase()+h.slice(1)).join(" "),d=f=>{a(f),s(!0)};return n?u.jsx(an,{title:"Employees",subtitle:"Team management and task assignments",children:u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx(fi,{className:"h-8 w-8 animate-spin text-primary"})})}):u.jsxs(an,{title:"Employees",subtitle:"Team management and task assignments",children:[u.jsxs("div",{className:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{className:"relative flex-1 sm:max-w-sm",children:[u.jsx(Gf,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),u.jsx(Ee,{placeholder:"Search employees...",className:"pl-10",value:t,onChange:f=>e(f.target.value)})]}),u.jsx(phe,{})]}),l.length===0?u.jsx(sh,{icon:ef,title:"No employees found",description:t?"No employees match your search.":"Add your first employee to get started."}):u.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:l.map(f=>{var h;return u.jsxs("div",{className:"card-luxury p-6 cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>d(f),children:[u.jsxs("div",{className:"mb-4 flex items-start justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10 font-display text-lg font-semibold text-primary",children:f.name.charAt(0)}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-foreground",children:f.name}),u.jsx("p",{className:"text-sm text-muted-foreground",children:c(f.role)})]})]}),u.jsx("div",{onClick:p=>p.stopPropagation(),children:u.jsxs(Po,{children:[u.jsx(ko,{asChild:!0,children:u.jsx(te,{variant:"ghost",size:"icon",className:"h-8 w-8",children:u.jsx(gu,{className:"h-4 w-4"})})}),u.jsxs(Ja,{align:"end",children:[u.jsxs(mt,{onClick:()=>d(f),className:"gap-2",children:[u.jsx(Hf,{className:"h-4 w-4"}),"View Profile"]}),u.jsxs(mt,{onClick:()=>d(f),className:"gap-2",children:[u.jsx(ha,{className:"h-4 w-4"}),"Edit Employee"]}),u.jsx(ru,{}),u.jsxs(mt,{className:"gap-2",children:[u.jsx(eq,{className:"h-4 w-4"}),"Assign Task"]}),u.jsxs(mt,{className:"gap-2",children:[u.jsx(iv,{className:"h-4 w-4"}),"View Schedule"]})]})]})})]}),u.jsxs("div",{className:"mb-4 space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Store"}),u.jsx("span",{className:"text-foreground",children:((h=f.store)==null?void 0:h.name)||"Not assigned"})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Email"}),u.jsx("span",{className:"text-foreground truncate max-w-[150px]",children:f.email})]}),f.phone&&u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Phone"}),u.jsx("span",{className:"text-foreground",children:f.phone})]})]}),u.jsxs("div",{className:"flex items-center justify-between border-t border-border pt-4",children:[u.jsx("div",{className:"flex items-center gap-2",children:f.is_active?u.jsxs(u.Fragment,{children:[u.jsx(m2,{className:"h-4 w-4 text-emerald-600"}),u.jsx("span",{className:"text-sm text-emerald-600",children:"Active"})]}):u.jsxs(u.Fragment,{children:[u.jsx(v2,{className:"h-4 w-4 text-muted-foreground"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"Inactive"})]})}),u.jsx("span",{className:he("status-badge",f.is_active?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"),children:f.is_active?"active":"inactive"})]})]},f.id)})}),u.jsx(ghe,{employee:i,open:o,onOpenChange:s})]})},xhe=zi({name:Le().trim().min(2,"Name must be at least 2 characters").max(100),address:Le().trim().min(10,"Enter complete address").max(500),city:Le().trim().min(2,"City is required").max(100),phone:Le().trim().min(10,"Enter a valid phone number").max(15).optional().or(Ba("")),email:Le().trim().email("Enter a valid email").optional().or(Ba("")),opening_hours:Le().trim().max(50).optional().or(Ba(""))});function whe({trigger:t,onSuccess:e}){const[r,n]=b.useState(!1),{createStore:i}=eo(),a=$i({resolver:Li(xhe),defaultValues:{name:"",address:"",city:"Chennai",phone:"",email:"",opening_hours:"10:00 AM - 8:00 PM"}}),o=s=>{i.mutate({name:s.name,address:s.address,city:s.city,phone:s.phone||null,email:s.email||null,opening_hours:s.opening_hours||null},{onSuccess:()=>{e==null||e(),a.reset(),n(!1)}})};return u.jsxs(hr,{open:r,onOpenChange:n,children:[u.jsx(Eu,{asChild:!0,children:t||u.jsxs(te,{className:"gap-2",children:[u.jsx(ms,{className:"h-4 w-4"}),"Add Store"]})}),u.jsxs(Jt,{className:"sm:max-w-md",children:[u.jsxs(er,{children:[u.jsx(tr,{className:"font-display",children:"Add New Store"}),u.jsx(Cr,{children:"Add a new boutique location."})]}),u.jsx(Bi,{...a,children:u.jsxs("form",{onSubmit:a.handleSubmit(o),className:"space-y-4",children:[u.jsx(_e,{control:a.control,name:"name",render:({field:s})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Store Name *"}),u.jsx(be,{children:u.jsx(Ee,{placeholder:"e.g., Mylapore",...s})}),u.jsx(Se,{})]})}),u.jsx(_e,{control:a.control,name:"address",render:({field:s})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Full Address *"}),u.jsx(be,{children:u.jsx(hi,{placeholder:"Enter complete store address with PIN code",rows:2,...s})}),u.jsx(Se,{})]})}),u.jsx(_e,{control:a.control,name:"city",render:({field:s})=>u.jsxs(we,{children:[u.jsx(xe,{children:"City *"}),u.jsx(be,{children:u.jsx(Ee,{placeholder:"Chennai",...s})}),u.jsx(Se,{})]})}),u.jsx(_e,{control:a.control,name:"phone",render:({field:s})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Store Phone"}),u.jsx(be,{children:u.jsx(Ee,{placeholder:"+91 44 2628 1234",...s})}),u.jsx(Se,{})]})}),u.jsx(_e,{control:a.control,name:"email",render:({field:s})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Store Email"}),u.jsx(be,{children:u.jsx(Ee,{type:"email",placeholder:"store@example.com",...s})}),u.jsx(Se,{})]})}),u.jsx(_e,{control:a.control,name:"opening_hours",render:({field:s})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Operating Hours"}),u.jsx(be,{children:u.jsx(Ee,{placeholder:"10:00 AM - 8:00 PM",...s})}),u.jsx(Se,{})]})}),u.jsxs(Rt,{className:"gap-2 pt-4",children:[u.jsx(te,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancel"}),u.jsx(te,{type:"submit",disabled:i.isPending,children:i.isPending?"Adding...":"Add Store"})]})]})})]})]})}const bhe=zi({name:Le().trim().min(1,"Name is required").max(100),address:Le().trim().min(1,"Address is required").max(500),city:Le().trim().min(1,"City is required").max(100),phone:Le().trim().max(20).optional(),email:Le().trim().email("Invalid email").max(255).optional().or(Ba("")),opening_hours:Le().trim().max(200).optional()});function _he({store:t,open:e,onOpenChange:r}){const[n,i]=b.useState(!1),[a,o]=b.useState(!1),{updateStore:s,deleteStore:l}=eo(),c=$i({resolver:Li(bhe),values:t?{name:t.name,address:t.address,city:t.city,phone:t.phone||"",email:t.email||"",opening_hours:t.opening_hours||""}:void 0}),d=()=>{i(!1),c.reset(),r(!1)},f=p=>{t&&s.mutate({id:t.id,name:p.name,address:p.address,city:p.city,phone:p.phone||null,email:p.email||null,opening_hours:p.opening_hours||null},{onSuccess:()=>{i(!1)}})},h=()=>{t&&l.mutate(t.id,{onSuccess:()=>{o(!1),d()}})};return t?u.jsxs(u.Fragment,{children:[u.jsx(hr,{open:e,onOpenChange:d,children:u.jsxs(Jt,{className:"sm:max-w-lg",children:[u.jsxs(er,{children:[u.jsx(tr,{className:"font-display",children:t.name}),u.jsx(Cr,{children:t.city})]}),n?u.jsx(Bi,{...c,children:u.jsxs("form",{onSubmit:c.handleSubmit(f),className:"space-y-4",children:[u.jsx(_e,{control:c.control,name:"name",render:({field:p})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Store Name *"}),u.jsx(be,{children:u.jsx(Ee,{...p})}),u.jsx(Se,{})]})}),u.jsx(_e,{control:c.control,name:"address",render:({field:p})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Address *"}),u.jsx(be,{children:u.jsx(Ee,{...p})}),u.jsx(Se,{})]})}),u.jsx(_e,{control:c.control,name:"city",render:({field:p})=>u.jsxs(we,{children:[u.jsx(xe,{children:"City *"}),u.jsx(be,{children:u.jsx(Ee,{...p})}),u.jsx(Se,{})]})}),u.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[u.jsx(_e,{control:c.control,name:"phone",render:({field:p})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Phone"}),u.jsx(be,{children:u.jsx(Ee,{...p})}),u.jsx(Se,{})]})}),u.jsx(_e,{control:c.control,name:"email",render:({field:p})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Email"}),u.jsx(be,{children:u.jsx(Ee,{type:"email",...p})}),u.jsx(Se,{})]})})]}),u.jsx(_e,{control:c.control,name:"opening_hours",render:({field:p})=>u.jsxs(we,{children:[u.jsx(xe,{children:"Opening Hours"}),u.jsx(be,{children:u.jsx(Ee,{placeholder:"e.g., Mon-Sat 10am-8pm",...p})}),u.jsx(Se,{})]})}),u.jsxs(Rt,{children:[u.jsx(te,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancel"}),u.jsx(te,{type:"submit",disabled:s.isPending,children:s.isPending?"Saving...":"Save Changes"})]})]})}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid gap-3",children:[u.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[u.jsx(oA,{className:"mt-0.5 h-4 w-4 flex-shrink-0 text-muted-foreground"}),u.jsx("span",{children:t.address})]}),t.phone&&u.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[u.jsx(yu,{className:"h-4 w-4 text-muted-foreground"}),u.jsx("span",{children:t.phone})]}),t.email&&u.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[u.jsx(av,{className:"h-4 w-4 text-muted-foreground"}),u.jsx("span",{children:t.email})]}),t.opening_hours&&u.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[u.jsx(iA,{className:"h-4 w-4 text-muted-foreground"}),u.jsx("span",{children:t.opening_hours})]})]}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("span",{className:`status-badge ${t.is_active?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:t.is_active?"Active":"Inactive"})})]}),u.jsxs(Rt,{className:"flex-row gap-2 sm:justify-between",children:[u.jsxs(te,{variant:"destructive",size:"sm",onClick:()=>o(!0),className:"gap-2",children:[u.jsx(zl,{className:"h-4 w-4"}),"Deactivate"]}),u.jsxs(te,{onClick:()=>i(!0),className:"gap-2",children:[u.jsx(ha,{className:"h-4 w-4"}),"Edit"]})]})]})]})}),u.jsx(Bl,{open:a,onOpenChange:o,children:u.jsxs(xs,{children:[u.jsxs(ws,{children:[u.jsx(_s,{children:"Deactivate Store"}),u.jsxs(Ss,{children:["Are you sure you want to deactivate ",t.name,"? It will no longer appear in active store lists."]})]}),u.jsxs(bs,{children:[u.jsx(Es,{children:"Cancel"}),u.jsx(Cs,{onClick:h,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:l.isPending?"Deactivating...":"Deactivate"})]})]})})]}):null}const She=()=>{const{stores:t,isLoading:e}=eo(),[r,n]=b.useState(null),[i,a]=b.useState(!1),o=s=>{n(s),a(!0)};return e?u.jsx(an,{title:"Store Locations",subtitle:"Manage your boutique locations",children:u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx(fi,{className:"h-8 w-8 animate-spin text-primary"})})}):u.jsxs(an,{title:"Store Locations",subtitle:"Manage your boutique locations",children:[u.jsx("div",{className:"mb-6 flex items-center justify-end",children:u.jsx(whe,{})}),t.length===0?u.jsx(sh,{icon:B1,title:"No stores found",description:"Add your first store location to get started."}):u.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:t.map(s=>u.jsxs("div",{className:"card-luxury overflow-hidden cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>o(s),children:[u.jsxs("div",{className:"luxury-gradient px-6 py-4 flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-display text-xl font-semibold text-primary-foreground",children:s.name}),u.jsx("p",{className:"mt-1 text-sm text-primary-foreground/80",children:s.city})]}),u.jsx("div",{onClick:l=>l.stopPropagation(),children:u.jsxs(Po,{children:[u.jsx(ko,{asChild:!0,children:u.jsx(te,{variant:"ghost",size:"icon",className:"h-8 w-8 text-primary-foreground hover:bg-white/10",children:u.jsx(gu,{className:"h-4 w-4"})})}),u.jsxs(Ja,{align:"end",children:[u.jsxs(mt,{onClick:()=>o(s),className:"gap-2",children:[u.jsx(Hf,{className:"h-4 w-4"}),"View Details"]}),u.jsxs(mt,{onClick:()=>o(s),className:"gap-2",children:[u.jsx(ha,{className:"h-4 w-4"}),"Edit Store"]})]})]})})]}),u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(oA,{className:"mt-0.5 h-4 w-4 flex-shrink-0 text-muted-foreground"}),u.jsx("p",{className:"text-sm text-foreground",children:s.address})]}),s.phone&&u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(yu,{className:"h-4 w-4 text-muted-foreground"}),u.jsx("p",{className:"text-sm text-foreground",children:s.phone})]}),s.email&&u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(av,{className:"h-4 w-4 text-muted-foreground"}),u.jsx("p",{className:"text-sm text-foreground",children:s.email})]}),s.opening_hours&&u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(iA,{className:"h-4 w-4 text-muted-foreground"}),u.jsx("p",{className:"text-sm text-foreground",children:s.opening_hours})]})]}),u.jsx(te,{variant:"outline",className:"mt-6 w-full",onClick:()=>o(s),children:"View Details"})]})]},s.id))}),u.jsx(_he,{store:r,open:i,onOpenChange:a})]})};var Che=Array.isArray,vi=Che,Ehe=typeof Wv=="object"&&Wv&&Wv.Object===Object&&Wv,bF=Ehe,Ahe=bF,Ohe=typeof self=="object"&&self&&self.Object===Object&&self,Nhe=Ahe||Ohe||Function("return this")(),Ro=Nhe,jhe=Ro,The=jhe.Symbol,Tv=The,U3=Tv,_F=Object.prototype,Phe=_F.hasOwnProperty,khe=_F.toString,$h=U3?U3.toStringTag:void 0;function Ihe(t){var e=Phe.call(t,$h),r=t[$h];try{t[$h]=void 0;var n=!0}catch{}var i=khe.call(t);return n&&(e?t[$h]=r:delete t[$h]),i}var Rhe=Ihe,Dhe=Object.prototype,Mhe=Dhe.toString;function $he(t){return Mhe.call(t)}var Lhe=$he,V3=Tv,Fhe=Rhe,Bhe=Lhe,Uhe="[object Null]",Vhe="[object Undefined]",W3=V3?V3.toStringTag:void 0;function Whe(t){return t==null?t===void 0?Vhe:Uhe:W3&&W3 in Object(t)?Fhe(t):Bhe(t)}var ks=Whe;function zhe(t){return t!=null&&typeof t=="object"}var Is=zhe,Hhe=ks,Ghe=Is,qhe="[object Symbol]";function Khe(t){return typeof t=="symbol"||Ghe(t)&&Hhe(t)==qhe}var lh=Khe,Xhe=vi,Yhe=lh,Zhe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Qhe=/^\w*$/;function Jhe(t,e){if(Xhe(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Yhe(t)?!0:Qhe.test(t)||!Zhe.test(t)||e!=null&&t in Object(e)}var DO=Jhe;function epe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Xl=epe;const ch=Dt(Xl);var tpe=ks,rpe=Xl,npe="[object AsyncFunction]",ipe="[object Function]",ape="[object GeneratorFunction]",ope="[object Proxy]";function spe(t){if(!rpe(t))return!1;var e=tpe(t);return e==ipe||e==ape||e==npe||e==ope}var MO=spe;const Xe=Dt(MO);var lpe=Ro,cpe=lpe["__core-js_shared__"],upe=cpe,Vb=upe,z3=function(){var t=/[^.]+$/.exec(Vb&&Vb.keys&&Vb.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function dpe(t){return!!z3&&z3 in t}var fpe=dpe,hpe=Function.prototype,ppe=hpe.toString;function mpe(t){if(t!=null){try{return ppe.call(t)}catch{}try{return t+""}catch{}}return""}var SF=mpe,vpe=MO,gpe=fpe,ype=Xl,xpe=SF,wpe=/[\\^$.*+?()[\]{}|]/g,bpe=/^\[object .+?Constructor\]$/,_pe=Function.prototype,Spe=Object.prototype,Cpe=_pe.toString,Epe=Spe.hasOwnProperty,Ape=RegExp("^"+Cpe.call(Epe).replace(wpe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ope(t){if(!ype(t)||gpe(t))return!1;var e=vpe(t)?Ape:bpe;return e.test(xpe(t))}var Npe=Ope;function jpe(t,e){return t==null?void 0:t[e]}var Tpe=jpe,Ppe=Npe,kpe=Tpe;function Ipe(t,e){var r=kpe(t,e);return Ppe(r)?r:void 0}var Au=Ipe,Rpe=Au,Dpe=Rpe(Object,"create"),Ex=Dpe,H3=Ex;function Mpe(){this.__data__=H3?H3(null):{},this.size=0}var $pe=Mpe;function Lpe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Fpe=Lpe,Bpe=Ex,Upe="__lodash_hash_undefined__",Vpe=Object.prototype,Wpe=Vpe.hasOwnProperty;function zpe(t){var e=this.__data__;if(Bpe){var r=e[t];return r===Upe?void 0:r}return Wpe.call(e,t)?e[t]:void 0}var Hpe=zpe,Gpe=Ex,qpe=Object.prototype,Kpe=qpe.hasOwnProperty;function Xpe(t){var e=this.__data__;return Gpe?e[t]!==void 0:Kpe.call(e,t)}var Ype=Xpe,Zpe=Ex,Qpe="__lodash_hash_undefined__";function Jpe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Zpe&&e===void 0?Qpe:e,this}var eme=Jpe,tme=$pe,rme=Fpe,nme=Hpe,ime=Ype,ame=eme;function uh(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}uh.prototype.clear=tme;uh.prototype.delete=rme;uh.prototype.get=nme;uh.prototype.has=ime;uh.prototype.set=ame;var ome=uh;function sme(){this.__data__=[],this.size=0}var lme=sme;function cme(t,e){return t===e||t!==t&&e!==e}var $O=cme,ume=$O;function dme(t,e){for(var r=t.length;r--;)if(ume(t[r][0],e))return r;return-1}var Ax=dme,fme=Ax,hme=Array.prototype,pme=hme.splice;function mme(t){var e=this.__data__,r=fme(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():pme.call(e,r,1),--this.size,!0}var vme=mme,gme=Ax;function yme(t){var e=this.__data__,r=gme(e,t);return r<0?void 0:e[r][1]}var xme=yme,wme=Ax;function bme(t){return wme(this.__data__,t)>-1}var _me=bme,Sme=Ax;function Cme(t,e){var r=this.__data__,n=Sme(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var Eme=Cme,Ame=lme,Ome=vme,Nme=xme,jme=_me,Tme=Eme;function dh(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}dh.prototype.clear=Ame;dh.prototype.delete=Ome;dh.prototype.get=Nme;dh.prototype.has=jme;dh.prototype.set=Tme;var Ox=dh,Pme=Au,kme=Ro,Ime=Pme(kme,"Map"),LO=Ime,G3=ome,Rme=Ox,Dme=LO;function Mme(){this.size=0,this.__data__={hash:new G3,map:new(Dme||Rme),string:new G3}}var $me=Mme;function Lme(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Fme=Lme,Bme=Fme;function Ume(t,e){var r=t.__data__;return Bme(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Nx=Ume,Vme=Nx;function Wme(t){var e=Vme(this,t).delete(t);return this.size-=e?1:0,e}var zme=Wme,Hme=Nx;function Gme(t){return Hme(this,t).get(t)}var qme=Gme,Kme=Nx;function Xme(t){return Kme(this,t).has(t)}var Yme=Xme,Zme=Nx;function Qme(t,e){var r=Zme(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var Jme=Qme,eve=$me,tve=zme,rve=qme,nve=Yme,ive=Jme;function fh(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}fh.prototype.clear=eve;fh.prototype.delete=tve;fh.prototype.get=rve;fh.prototype.has=nve;fh.prototype.set=ive;var FO=fh,CF=FO,ave="Expected a function";function BO(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(ave);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(BO.Cache||CF),r}BO.Cache=CF;var EF=BO;const ove=Dt(EF);var sve=EF,lve=500;function cve(t){var e=sve(t,function(n){return r.size===lve&&r.clear(),n}),r=e.cache;return e}var uve=cve,dve=uve,fve=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hve=/\\(\\)?/g,pve=dve(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(fve,function(r,n,i,a){e.push(i?a.replace(hve,"$1"):n||r)}),e}),mve=pve;function vve(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var UO=vve,q3=Tv,gve=UO,yve=vi,xve=lh,wve=1/0,K3=q3?q3.prototype:void 0,X3=K3?K3.toString:void 0;function AF(t){if(typeof t=="string")return t;if(yve(t))return gve(t,AF)+"";if(xve(t))return X3?X3.call(t):"";var e=t+"";return e=="0"&&1/t==-wve?"-0":e}var bve=AF,_ve=bve;function Sve(t){return t==null?"":_ve(t)}var OF=Sve,Cve=vi,Eve=DO,Ave=mve,Ove=OF;function Nve(t,e){return Cve(t)?t:Eve(t,e)?[t]:Ave(Ove(t))}var NF=Nve,jve=lh,Tve=1/0;function Pve(t){if(typeof t=="string"||jve(t))return t;var e=t+"";return e=="0"&&1/t==-Tve?"-0":e}var jx=Pve,kve=NF,Ive=jx;function Rve(t,e){e=kve(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[Ive(e[r++])];return r&&r==n?t:void 0}var VO=Rve,Dve=VO;function Mve(t,e,r){var n=t==null?void 0:Dve(t,e);return n===void 0?r:n}var jF=Mve;const ki=Dt(jF);function $ve(t){return t==null}var Lve=$ve;const Qe=Dt(Lve);var Fve=ks,Bve=vi,Uve=Is,Vve="[object String]";function Wve(t){return typeof t=="string"||!Bve(t)&&Uve(t)&&Fve(t)==Vve}var zve=Wve;const su=Dt(zve);var TF={exports:{}},Mt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WO=Symbol.for("react.element"),zO=Symbol.for("react.portal"),Tx=Symbol.for("react.fragment"),Px=Symbol.for("react.strict_mode"),kx=Symbol.for("react.profiler"),Ix=Symbol.for("react.provider"),Rx=Symbol.for("react.context"),Hve=Symbol.for("react.server_context"),Dx=Symbol.for("react.forward_ref"),Mx=Symbol.for("react.suspense"),$x=Symbol.for("react.suspense_list"),Lx=Symbol.for("react.memo"),Fx=Symbol.for("react.lazy"),Gve=Symbol.for("react.offscreen"),PF;PF=Symbol.for("react.module.reference");function va(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case WO:switch(t=t.type,t){case Tx:case kx:case Px:case Mx:case $x:return t;default:switch(t=t&&t.$$typeof,t){case Hve:case Rx:case Dx:case Fx:case Lx:case Ix:return t;default:return e}}case zO:return e}}}Mt.ContextConsumer=Rx;Mt.ContextProvider=Ix;Mt.Element=WO;Mt.ForwardRef=Dx;Mt.Fragment=Tx;Mt.Lazy=Fx;Mt.Memo=Lx;Mt.Portal=zO;Mt.Profiler=kx;Mt.StrictMode=Px;Mt.Suspense=Mx;Mt.SuspenseList=$x;Mt.isAsyncMode=function(){return!1};Mt.isConcurrentMode=function(){return!1};Mt.isContextConsumer=function(t){return va(t)===Rx};Mt.isContextProvider=function(t){return va(t)===Ix};Mt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===WO};Mt.isForwardRef=function(t){return va(t)===Dx};Mt.isFragment=function(t){return va(t)===Tx};Mt.isLazy=function(t){return va(t)===Fx};Mt.isMemo=function(t){return va(t)===Lx};Mt.isPortal=function(t){return va(t)===zO};Mt.isProfiler=function(t){return va(t)===kx};Mt.isStrictMode=function(t){return va(t)===Px};Mt.isSuspense=function(t){return va(t)===Mx};Mt.isSuspenseList=function(t){return va(t)===$x};Mt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Tx||t===kx||t===Px||t===Mx||t===$x||t===Gve||typeof t=="object"&&t!==null&&(t.$$typeof===Fx||t.$$typeof===Lx||t.$$typeof===Ix||t.$$typeof===Rx||t.$$typeof===Dx||t.$$typeof===PF||t.getModuleId!==void 0)};Mt.typeOf=va;TF.exports=Mt;var qve=TF.exports,Kve=ks,Xve=Is,Yve="[object Number]";function Zve(t){return typeof t=="number"||Xve(t)&&Kve(t)==Yve}var kF=Zve;const Qve=Dt(kF);var Jve=kF;function e0e(t){return Jve(t)&&t!=+t}var t0e=e0e;const Pv=Dt(t0e);var zn=function(e){return e===0?0:e>0?1:-1},Ac=function(e){return su(e)&&e.indexOf("%")===e.length-1},ge=function(e){return Qve(e)&&!Pv(e)},r0e=function(e){return Qe(e)},nn=function(e){return ge(e)||su(e)},n0e=0,hh=function(e){var r=++n0e;return"".concat(e||"").concat(r)},Hn=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ge(e)&&!su(e))return n;var a;if(Ac(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return Pv(a)&&(a=n),i&&a>r&&(a=r),a},Zu=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},i0e=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Ci=function(e,r){return ge(e)&&ge(r)?function(n){return e+n*(r-e)}:function(){return r}};function gy(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):ki(n,e))===r})}var a0e=function(e,r){return ge(e)&&ge(r)?e-r:su(e)&&su(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Pd(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function OS(t){"@babel/helpers - typeof";return OS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OS(t)}var o0e=["viewBox","children"],s0e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Y3=["points","pathLength"],Wb={svg:o0e,polygon:Y3,polyline:Y3},HO=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],yy=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(b.isValidElement(e)&&(n=e.props),!ch(n))return null;var i={};return Object.keys(n).forEach(function(a){HO.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},l0e=function(e,r,n){return function(i){return e(r,n,i),null}},lu=function(e,r,n){if(!ch(e)||OS(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];HO.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=l0e(o,r,n))}),i},c0e=["children"],u0e=["children"];function Z3(t,e){if(t==null)return{};var r=d0e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function d0e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function NS(t){"@babel/helpers - typeof";return NS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NS(t)}var Q3={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},os=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},J3=null,zb=null,GO=function t(e){if(e===J3&&Array.isArray(zb))return zb;var r=[];return b.Children.forEach(e,function(n){Qe(n)||(qve.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),zb=r,J3=e,r};function Ii(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return os(i)}):n=[os(e)],GO(t).forEach(function(i){var a=ki(i,"type.displayName")||ki(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function bi(t,e){var r=Ii(t,e);return r&&r[0]}var ek=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!ge(n)||n<=0||!ge(i)||i<=0)},f0e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],h0e=function(e){return e&&e.type&&su(e.type)&&f0e.indexOf(e.type)>=0},p0e=function(e){return e&&NS(e)==="object"&&"clipDot"in e},m0e=function(e,r,n,i){var a,o=(a=Wb==null?void 0:Wb[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Xe(e)&&(i&&o.includes(r)||s0e.includes(r))||n&&HO.includes(r)},We=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(b.isValidElement(e)&&(i=e.props),!ch(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;m0e((s=i)===null||s===void 0?void 0:s[o],o,r,n)&&(a[o]=i[o])}),a},jS=function t(e,r){if(e===r)return!0;var n=b.Children.count(e);if(n!==b.Children.count(r))return!1;if(n===0)return!0;if(n===1)return tk(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!tk(a,o))return!1}return!0},tk=function(e,r){if(Qe(e)&&Qe(r))return!0;if(!Qe(e)&&!Qe(r)){var n=e.props||{},i=n.children,a=Z3(n,c0e),o=r.props||{},s=o.children,l=Z3(o,u0e);return i&&s?Pd(a,l)&&jS(i,s):!i&&!s?Pd(a,l):!1}return!1},rk=function(e,r){var n=[],i={};return GO(e).forEach(function(a,o){if(h0e(a))n.push(a);else if(a){var s=os(a.type),l=r[s]||{},c=l.handler,d=l.once;if(c&&(!d||!i[s])){var f=c(a,s,o);n.push(f),i[s]=!0}}}),n},v0e=function(e){var r=e&&e.type;return r&&Q3[r]?Q3[r]:null},g0e=function(e,r){return GO(r).indexOf(e)},y0e=["children","width","height","viewBox","className","style","title","desc"];function TS(){return TS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},TS.apply(this,arguments)}function x0e(t,e){if(t==null)return{};var r=w0e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function w0e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function PS(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,c=x0e(t,y0e),d=i||{width:r,height:n,x:0,y:0},f=et("recharts-surface",a);return k.createElement("svg",TS({},We(c,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),k.createElement("title",null,s),k.createElement("desc",null,l),e)}var b0e=["children","className"];function kS(){return kS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kS.apply(this,arguments)}function _0e(t,e){if(t==null)return{};var r=S0e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function S0e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var bt=k.forwardRef(function(t,e){var r=t.children,n=t.className,i=_0e(t,b0e),a=et("recharts-layer",n);return k.createElement("g",kS({className:a},We(i,!0),{ref:e}),r)}),ss=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function C0e(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}var E0e=C0e,A0e=E0e;function O0e(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:A0e(t,e,r)}var N0e=O0e,j0e="\\ud800-\\udfff",T0e="\\u0300-\\u036f",P0e="\\ufe20-\\ufe2f",k0e="\\u20d0-\\u20ff",I0e=T0e+P0e+k0e,R0e="\\ufe0e\\ufe0f",D0e="\\u200d",M0e=RegExp("["+D0e+j0e+I0e+R0e+"]");function $0e(t){return M0e.test(t)}var IF=$0e;function L0e(t){return t.split("")}var F0e=L0e,RF="\\ud800-\\udfff",B0e="\\u0300-\\u036f",U0e="\\ufe20-\\ufe2f",V0e="\\u20d0-\\u20ff",W0e=B0e+U0e+V0e,z0e="\\ufe0e\\ufe0f",H0e="["+RF+"]",IS="["+W0e+"]",RS="\\ud83c[\\udffb-\\udfff]",G0e="(?:"+IS+"|"+RS+")",DF="[^"+RF+"]",MF="(?:\\ud83c[\\udde6-\\uddff]){2}",$F="[\\ud800-\\udbff][\\udc00-\\udfff]",q0e="\\u200d",LF=G0e+"?",FF="["+z0e+"]?",K0e="(?:"+q0e+"(?:"+[DF,MF,$F].join("|")+")"+FF+LF+")*",X0e=FF+LF+K0e,Y0e="(?:"+[DF+IS+"?",IS,MF,$F,H0e].join("|")+")",Z0e=RegExp(RS+"(?="+RS+")|"+Y0e+X0e,"g");function Q0e(t){return t.match(Z0e)||[]}var J0e=Q0e,ege=F0e,tge=IF,rge=J0e;function nge(t){return tge(t)?rge(t):ege(t)}var ige=nge,age=N0e,oge=IF,sge=ige,lge=OF;function cge(t){return function(e){e=lge(e);var r=oge(e)?sge(e):void 0,n=r?r[0]:e.charAt(0),i=r?age(r,1).join(""):e.slice(1);return n[t]()+i}}var uge=cge,dge=uge,fge=dge("toUpperCase"),hge=fge;const Bx=Dt(hge);function Kt(t){return function(){return t}}const BF=Math.cos,xy=Math.sin,to=Math.sqrt,wy=Math.PI,Ux=2*wy,DS=Math.PI,MS=2*DS,pc=1e-6,pge=MS-pc;function UF(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function mge(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return UF;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class vge{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?UF:mge(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=n-e,c=i-r,d=o-e,f=s-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>pc)if(!(Math.abs(f*l-c*d)>pc)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-o,v=i-s,m=l*l+c*c,g=p*p+v*v,y=Math.sqrt(m),x=Math.sqrt(h),w=a*Math.tan((DS-Math.acos((m+h-g)/(2*y*x)))/2),S=w/x,_=w/y;Math.abs(S-1)>pc&&this._append`L${e+S*d},${r+S*f}`,this._append`A${a},${a},0,0,${+(f*p>d*v)},${this._x1=e+_*l},${this._y1=r+_*c}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),c=e+s,d=r+l,f=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>pc||Math.abs(this._y1-d)>pc)&&this._append`L${c},${d}`,n&&(h<0&&(h=h%MS+MS),h>pge?this._append`A${n},${n},0,1,${f},${e-s},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=d}`:h>pc&&this._append`A${n},${n},0,${+(h>=DS)},${f},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function qO(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new vge(e)}function KO(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function VF(t){this._context=t}VF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Vx(t){return new VF(t)}function WF(t){return t[0]}function zF(t){return t[1]}function HF(t,e){var r=Kt(!0),n=null,i=Vx,a=null,o=qO(s);t=typeof t=="function"?t:t===void 0?WF:Kt(t),e=typeof e=="function"?e:e===void 0?zF:Kt(e);function s(l){var c,d=(l=KO(l)).length,f,h=!1,p;for(n==null&&(a=i(p=o())),c=0;c<=d;++c)!(c<d&&r(f=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,c,l),+e(f,c,l));if(p)return a=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Kt(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Kt(+l),s):e},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Kt(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),s):n},s}function O0(t,e,r){var n=null,i=Kt(!0),a=null,o=Vx,s=null,l=qO(c);t=typeof t=="function"?t:t===void 0?WF:Kt(+t),e=typeof e=="function"?e:Kt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?zF:Kt(+r);function c(f){var h,p,v,m=(f=KO(f)).length,g,y=!1,x,w=new Array(m),S=new Array(m);for(a==null&&(s=o(x=l())),h=0;h<=m;++h){if(!(h<m&&i(g=f[h],h,f))===y)if(y=!y)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=h-1;v>=p;--v)s.point(w[v],S[v]);s.lineEnd(),s.areaEnd()}y&&(w[h]=+t(g,h,f),S[h]=+e(g,h,f),s.point(n?+n(g,h,f):w[h],r?+r(g,h,f):S[h]))}if(x)return s=null,x+""||null}function d(){return HF().defined(i).curve(o).context(a)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:Kt(+f),n=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Kt(+f),c):t},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Kt(+f),c):n},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:Kt(+f),r=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Kt(+f),c):e},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Kt(+f),c):r},c.lineX0=c.lineY0=function(){return d().x(t).y(e)},c.lineY1=function(){return d().x(t).y(r)},c.lineX1=function(){return d().x(n).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Kt(!!f),c):i},c.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),c):o},c.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),c):a},c}class GF{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function gge(t){return new GF(t,!0)}function yge(t){return new GF(t,!1)}const XO={draw(t,e){const r=to(e/wy);t.moveTo(r,0),t.arc(0,0,r,0,Ux)}},xge={draw(t,e){const r=to(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},qF=to(1/3),wge=qF*2,bge={draw(t,e){const r=to(e/wge),n=r*qF;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},_ge={draw(t,e){const r=to(e),n=-r/2;t.rect(n,n,r,r)}},Sge=.8908130915292852,KF=xy(wy/10)/xy(7*wy/10),Cge=xy(Ux/10)*KF,Ege=-BF(Ux/10)*KF,Age={draw(t,e){const r=to(e*Sge),n=Cge*r,i=Ege*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=Ux*a/5,s=BF(o),l=xy(o);t.lineTo(l*r,-s*r),t.lineTo(s*n-l*i,l*n+s*i)}t.closePath()}},Hb=to(3),Oge={draw(t,e){const r=-to(e/(Hb*3));t.moveTo(0,r*2),t.lineTo(-Hb*r,-r),t.lineTo(Hb*r,-r),t.closePath()}},Hi=-.5,Gi=to(3)/2,$S=1/to(12),Nge=($S/2+1)*3,jge={draw(t,e){const r=to(e/Nge),n=r/2,i=r*$S,a=n,o=r*$S+r,s=-a,l=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(Hi*n-Gi*i,Gi*n+Hi*i),t.lineTo(Hi*a-Gi*o,Gi*a+Hi*o),t.lineTo(Hi*s-Gi*l,Gi*s+Hi*l),t.lineTo(Hi*n+Gi*i,Hi*i-Gi*n),t.lineTo(Hi*a+Gi*o,Hi*o-Gi*a),t.lineTo(Hi*s+Gi*l,Hi*l-Gi*s),t.closePath()}};function Tge(t,e){let r=null,n=qO(i);t=typeof t=="function"?t:Kt(t||XO),e=typeof e=="function"?e:Kt(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Kt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Kt(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function by(){}function _y(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function XF(t){this._context=t}XF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_y(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_y(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Pge(t){return new XF(t)}function YF(t){this._context=t}YF.prototype={areaStart:by,areaEnd:by,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:_y(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function kge(t){return new YF(t)}function ZF(t){this._context=t}ZF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:_y(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ige(t){return new ZF(t)}function QF(t){this._context=t}QF.prototype={areaStart:by,areaEnd:by,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Rge(t){return new QF(t)}function nk(t){return t<0?-1:1}function ik(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(nk(a)+nk(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function ak(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Gb(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-n)/3;t._context.bezierCurveTo(n+s,i+s*e,a-s,o-s*r,a,o)}function Sy(t){this._context=t}Sy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Gb(this,this._t0,ak(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Gb(this,ak(this,r=ik(this,t,e)),r);break;default:Gb(this,this._t0,r=ik(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function JF(t){this._context=new eB(t)}(JF.prototype=Object.create(Sy.prototype)).point=function(t,e){Sy.prototype.point.call(this,e,t)};function eB(t){this._context=t}eB.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function Dge(t){return new Sy(t)}function Mge(t){return new JF(t)}function tB(t){this._context=t}tB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=ok(t),i=ok(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function ok(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function $ge(t){return new tB(t)}function Wx(t,e){this._context=t,this._t=e}Wx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function Lge(t){return new Wx(t,.5)}function Fge(t){return new Wx(t,0)}function Bge(t){return new Wx(t,1)}function pf(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,s=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function LS(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function Uge(t,e){return t[e]}function Vge(t){const e=[];return e.key=t,e}function Wge(){var t=Kt([]),e=LS,r=pf,n=Uge;function i(a){var o=Array.from(t.apply(this,arguments),Vge),s,l=o.length,c=-1,d;for(const f of a)for(s=0,++c;s<l;++s)(o[s][c]=[0,+n(f,o[s].key,c,a)]).data=f;for(s=0,d=KO(e(o));s<l;++s)o[d[s]].index=s;return r(o,d),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Kt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Kt(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?LS:typeof a=="function"?a:Kt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??pf,i):r},i}function zge(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}pf(t,e)}}function Hge(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=t[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}pf(t,e)}}function Gge(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,l=0,c=0;s<o;++s){for(var d=t[e[s]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,v=0;v<s;++v){var m=t[e[v]],g=m[n][1]||0,y=m[n-1][1]||0;p+=g-y}l+=f,c+=p*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,pf(t,e)}}function dm(t){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dm(t)}var qge=["type","size","sizeType"];function FS(){return FS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},FS.apply(this,arguments)}function sk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sk(Object(r),!0).forEach(function(n){Kge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kge(t,e,r){return e=Xge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xge(t){var e=Yge(t,"string");return dm(e)=="symbol"?e:e+""}function Yge(t,e){if(dm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zge(t,e){if(t==null)return{};var r=Qge(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Qge(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var rB={symbolCircle:XO,symbolCross:xge,symbolDiamond:bge,symbolSquare:_ge,symbolStar:Age,symbolTriangle:Oge,symbolWye:jge},Jge=Math.PI/180,eye=function(e){var r="symbol".concat(Bx(e));return rB[r]||XO},tye=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Jge;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},rye=function(e,r){rB["symbol".concat(Bx(e))]=r},YO=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=Zge(e,qge),c=lk(lk({},l),{},{type:n,size:a,sizeType:s}),d=function(){var g=eye(n),y=Tge().type(g).size(tye(a,s,n));return y()},f=c.className,h=c.cx,p=c.cy,v=We(c,!0);return h===+h&&p===+p&&a===+a?k.createElement("path",FS({},v,{className:et("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};YO.registerSymbol=rye;function mf(t){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mf(t)}function BS(){return BS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},BS.apply(this,arguments)}function ck(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nye(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ck(Object(r),!0).forEach(function(n){fm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ck(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aye(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iB(n.key),n)}}function oye(t,e,r){return e&&aye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sye(t,e,r){return e=Cy(e),lye(t,nB()?Reflect.construct(e,r||[],Cy(t).constructor):e.apply(t,r))}function lye(t,e){if(e&&(mf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cye(t)}function cye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nB=function(){return!!t})()}function Cy(t){return Cy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cy(t)}function uye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&US(t,e)}function US(t,e){return US=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},US(t,e)}function fm(t,e,r){return e=iB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iB(t){var e=dye(t,"string");return mf(e)=="symbol"?e:e+""}function dye(t,e){if(mf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qi=32,ZO=function(t){function e(){return iye(this,e),sye(this,e,arguments)}return uye(e,t),oye(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=qi/2,o=qi/6,s=qi/3,l=n.inactive?i:n.color;if(n.type==="plainline")return k.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:qi,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return k.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(qi,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return k.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(qi/8,"h").concat(qi,"v").concat(qi*3/4,"h").concat(-qi,"z"),className:"recharts-legend-icon"});if(k.isValidElement(n.legendIcon)){var c=nye({},n);return delete c.legendIcon,k.cloneElement(n.legendIcon,c)}return k.createElement(YO,{fill:l,cx:a,cy:a,size:qi,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,c=i.inactiveColor,d={x:0,y:0,width:qi,height:qi},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,v){var m=p.formatter||l,g=et(fm(fm({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=Xe(p.value)?null:p.value;ss(!Xe(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=p.inactive?c:p.color;return k.createElement("li",BS({className:g,style:f,key:"legend-item-".concat(v)},lu(n.props,p,v)),k.createElement(PS,{width:o,height:o,viewBox:d,style:h},n.renderIcon(p)),k.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},m?m(y,p,v):y))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return k.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(b.PureComponent);fm(ZO,"displayName","Legend");fm(ZO,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var fye=Ox;function hye(){this.__data__=new fye,this.size=0}var pye=hye;function mye(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var vye=mye;function gye(t){return this.__data__.get(t)}var yye=gye;function xye(t){return this.__data__.has(t)}var wye=xye,bye=Ox,_ye=LO,Sye=FO,Cye=200;function Eye(t,e){var r=this.__data__;if(r instanceof bye){var n=r.__data__;if(!_ye||n.length<Cye-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Sye(n)}return r.set(t,e),this.size=r.size,this}var Aye=Eye,Oye=Ox,Nye=pye,jye=vye,Tye=yye,Pye=wye,kye=Aye;function ph(t){var e=this.__data__=new Oye(t);this.size=e.size}ph.prototype.clear=Nye;ph.prototype.delete=jye;ph.prototype.get=Tye;ph.prototype.has=Pye;ph.prototype.set=kye;var aB=ph,Iye="__lodash_hash_undefined__";function Rye(t){return this.__data__.set(t,Iye),this}var Dye=Rye;function Mye(t){return this.__data__.has(t)}var $ye=Mye,Lye=FO,Fye=Dye,Bye=$ye;function Ey(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Lye;++e<r;)this.add(t[e])}Ey.prototype.add=Ey.prototype.push=Fye;Ey.prototype.has=Bye;var oB=Ey;function Uye(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var sB=Uye;function Vye(t,e){return t.has(e)}var lB=Vye,Wye=oB,zye=sB,Hye=lB,Gye=1,qye=2;function Kye(t,e,r,n,i,a){var o=r&Gye,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var c=a.get(t),d=a.get(e);if(c&&d)return c==e&&d==t;var f=-1,h=!0,p=r&qye?new Wye:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var v=t[f],m=e[f];if(n)var g=o?n(m,v,f,e,t,a):n(v,m,f,t,e,a);if(g!==void 0){if(g)continue;h=!1;break}if(p){if(!zye(e,function(y,x){if(!Hye(p,x)&&(v===y||i(v,y,r,n,a)))return p.push(x)})){h=!1;break}}else if(!(v===m||i(v,m,r,n,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var cB=Kye,Xye=Ro,Yye=Xye.Uint8Array,Zye=Yye;function Qye(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var Jye=Qye;function e1e(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var QO=e1e,uk=Tv,dk=Zye,t1e=$O,r1e=cB,n1e=Jye,i1e=QO,a1e=1,o1e=2,s1e="[object Boolean]",l1e="[object Date]",c1e="[object Error]",u1e="[object Map]",d1e="[object Number]",f1e="[object RegExp]",h1e="[object Set]",p1e="[object String]",m1e="[object Symbol]",v1e="[object ArrayBuffer]",g1e="[object DataView]",fk=uk?uk.prototype:void 0,qb=fk?fk.valueOf:void 0;function y1e(t,e,r,n,i,a,o){switch(r){case g1e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case v1e:return!(t.byteLength!=e.byteLength||!a(new dk(t),new dk(e)));case s1e:case l1e:case d1e:return t1e(+t,+e);case c1e:return t.name==e.name&&t.message==e.message;case f1e:case p1e:return t==e+"";case u1e:var s=n1e;case h1e:var l=n&a1e;if(s||(s=i1e),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;n|=o1e,o.set(t,e);var d=r1e(s(t),s(e),n,i,a,o);return o.delete(t),d;case m1e:if(qb)return qb.call(t)==qb.call(e)}return!1}var x1e=y1e;function w1e(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var uB=w1e,b1e=uB,_1e=vi;function S1e(t,e,r){var n=e(t);return _1e(t)?n:b1e(n,r(t))}var C1e=S1e;function E1e(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}var A1e=E1e;function O1e(){return[]}var N1e=O1e,j1e=A1e,T1e=N1e,P1e=Object.prototype,k1e=P1e.propertyIsEnumerable,hk=Object.getOwnPropertySymbols,I1e=hk?function(t){return t==null?[]:(t=Object(t),j1e(hk(t),function(e){return k1e.call(t,e)}))}:T1e,R1e=I1e;function D1e(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var M1e=D1e,$1e=ks,L1e=Is,F1e="[object Arguments]";function B1e(t){return L1e(t)&&$1e(t)==F1e}var U1e=B1e,pk=U1e,V1e=Is,dB=Object.prototype,W1e=dB.hasOwnProperty,z1e=dB.propertyIsEnumerable,H1e=pk(function(){return arguments}())?pk:function(t){return V1e(t)&&W1e.call(t,"callee")&&!z1e.call(t,"callee")},JO=H1e,Ay={exports:{}};function G1e(){return!1}var q1e=G1e;Ay.exports;(function(t,e){var r=Ro,n=q1e,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?r.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||n;t.exports=c})(Ay,Ay.exports);var fB=Ay.exports,K1e=9007199254740991,X1e=/^(?:0|[1-9]\d*)$/;function Y1e(t,e){var r=typeof t;return e=e??K1e,!!e&&(r=="number"||r!="symbol"&&X1e.test(t))&&t>-1&&t%1==0&&t<e}var eN=Y1e,Z1e=9007199254740991;function Q1e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Z1e}var tN=Q1e,J1e=ks,exe=tN,txe=Is,rxe="[object Arguments]",nxe="[object Array]",ixe="[object Boolean]",axe="[object Date]",oxe="[object Error]",sxe="[object Function]",lxe="[object Map]",cxe="[object Number]",uxe="[object Object]",dxe="[object RegExp]",fxe="[object Set]",hxe="[object String]",pxe="[object WeakMap]",mxe="[object ArrayBuffer]",vxe="[object DataView]",gxe="[object Float32Array]",yxe="[object Float64Array]",xxe="[object Int8Array]",wxe="[object Int16Array]",bxe="[object Int32Array]",_xe="[object Uint8Array]",Sxe="[object Uint8ClampedArray]",Cxe="[object Uint16Array]",Exe="[object Uint32Array]",sr={};sr[gxe]=sr[yxe]=sr[xxe]=sr[wxe]=sr[bxe]=sr[_xe]=sr[Sxe]=sr[Cxe]=sr[Exe]=!0;sr[rxe]=sr[nxe]=sr[mxe]=sr[ixe]=sr[vxe]=sr[axe]=sr[oxe]=sr[sxe]=sr[lxe]=sr[cxe]=sr[uxe]=sr[dxe]=sr[fxe]=sr[hxe]=sr[pxe]=!1;function Axe(t){return txe(t)&&exe(t.length)&&!!sr[J1e(t)]}var Oxe=Axe;function Nxe(t){return function(e){return t(e)}}var hB=Nxe,Oy={exports:{}};Oy.exports;(function(t,e){var r=bF,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(Oy,Oy.exports);var jxe=Oy.exports,Txe=Oxe,Pxe=hB,mk=jxe,vk=mk&&mk.isTypedArray,kxe=vk?Pxe(vk):Txe,pB=kxe,Ixe=M1e,Rxe=JO,Dxe=vi,Mxe=fB,$xe=eN,Lxe=pB,Fxe=Object.prototype,Bxe=Fxe.hasOwnProperty;function Uxe(t,e){var r=Dxe(t),n=!r&&Rxe(t),i=!r&&!n&&Mxe(t),a=!r&&!n&&!i&&Lxe(t),o=r||n||i||a,s=o?Ixe(t.length,String):[],l=s.length;for(var c in t)(e||Bxe.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||$xe(c,l)))&&s.push(c);return s}var Vxe=Uxe,Wxe=Object.prototype;function zxe(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Wxe;return t===r}var Hxe=zxe;function Gxe(t,e){return function(r){return t(e(r))}}var mB=Gxe,qxe=mB,Kxe=qxe(Object.keys,Object),Xxe=Kxe,Yxe=Hxe,Zxe=Xxe,Qxe=Object.prototype,Jxe=Qxe.hasOwnProperty;function ewe(t){if(!Yxe(t))return Zxe(t);var e=[];for(var r in Object(t))Jxe.call(t,r)&&r!="constructor"&&e.push(r);return e}var twe=ewe,rwe=MO,nwe=tN;function iwe(t){return t!=null&&nwe(t.length)&&!rwe(t)}var zx=iwe,awe=Vxe,owe=twe,swe=zx;function lwe(t){return swe(t)?awe(t):owe(t)}var rN=lwe,cwe=C1e,uwe=R1e,dwe=rN;function fwe(t){return cwe(t,dwe,uwe)}var hwe=fwe,gk=hwe,pwe=1,mwe=Object.prototype,vwe=mwe.hasOwnProperty;function gwe(t,e,r,n,i,a){var o=r&pwe,s=gk(t),l=s.length,c=gk(e),d=c.length;if(l!=d&&!o)return!1;for(var f=l;f--;){var h=s[f];if(!(o?h in e:vwe.call(e,h)))return!1}var p=a.get(t),v=a.get(e);if(p&&v)return p==e&&v==t;var m=!0;a.set(t,e),a.set(e,t);for(var g=o;++f<l;){h=s[f];var y=t[h],x=e[h];if(n)var w=o?n(x,y,h,e,t,a):n(y,x,h,t,e,a);if(!(w===void 0?y===x||i(y,x,r,n,a):w)){m=!1;break}g||(g=h=="constructor")}if(m&&!g){var S=t.constructor,_=e.constructor;S!=_&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof _=="function"&&_ instanceof _)&&(m=!1)}return a.delete(t),a.delete(e),m}var ywe=gwe,xwe=Au,wwe=Ro,bwe=xwe(wwe,"DataView"),_we=bwe,Swe=Au,Cwe=Ro,Ewe=Swe(Cwe,"Promise"),Awe=Ewe,Owe=Au,Nwe=Ro,jwe=Owe(Nwe,"Set"),vB=jwe,Twe=Au,Pwe=Ro,kwe=Twe(Pwe,"WeakMap"),Iwe=kwe,VS=_we,WS=LO,zS=Awe,HS=vB,GS=Iwe,gB=ks,mh=SF,yk="[object Map]",Rwe="[object Object]",xk="[object Promise]",wk="[object Set]",bk="[object WeakMap]",_k="[object DataView]",Dwe=mh(VS),Mwe=mh(WS),$we=mh(zS),Lwe=mh(HS),Fwe=mh(GS),mc=gB;(VS&&mc(new VS(new ArrayBuffer(1)))!=_k||WS&&mc(new WS)!=yk||zS&&mc(zS.resolve())!=xk||HS&&mc(new HS)!=wk||GS&&mc(new GS)!=bk)&&(mc=function(t){var e=gB(t),r=e==Rwe?t.constructor:void 0,n=r?mh(r):"";if(n)switch(n){case Dwe:return _k;case Mwe:return yk;case $we:return xk;case Lwe:return wk;case Fwe:return bk}return e});var Bwe=mc,Kb=aB,Uwe=cB,Vwe=x1e,Wwe=ywe,Sk=Bwe,Ck=vi,Ek=fB,zwe=pB,Hwe=1,Ak="[object Arguments]",Ok="[object Array]",N0="[object Object]",Gwe=Object.prototype,Nk=Gwe.hasOwnProperty;function qwe(t,e,r,n,i,a){var o=Ck(t),s=Ck(e),l=o?Ok:Sk(t),c=s?Ok:Sk(e);l=l==Ak?N0:l,c=c==Ak?N0:c;var d=l==N0,f=c==N0,h=l==c;if(h&&Ek(t)){if(!Ek(e))return!1;o=!0,d=!1}if(h&&!d)return a||(a=new Kb),o||zwe(t)?Uwe(t,e,r,n,i,a):Vwe(t,e,l,r,n,i,a);if(!(r&Hwe)){var p=d&&Nk.call(t,"__wrapped__"),v=f&&Nk.call(e,"__wrapped__");if(p||v){var m=p?t.value():t,g=v?e.value():e;return a||(a=new Kb),i(m,g,r,n,a)}}return h?(a||(a=new Kb),Wwe(t,e,r,n,i,a)):!1}var Kwe=qwe,Xwe=Kwe,jk=Is;function yB(t,e,r,n,i){return t===e?!0:t==null||e==null||!jk(t)&&!jk(e)?t!==t&&e!==e:Xwe(t,e,r,n,yB,i)}var nN=yB,Ywe=aB,Zwe=nN,Qwe=1,Jwe=2;function ebe(t,e,r,n){var i=r.length,a=i,o=!n;if(t==null)return!a;for(t=Object(t);i--;){var s=r[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=r[i];var l=s[0],c=t[l],d=s[1];if(o&&s[2]){if(c===void 0&&!(l in t))return!1}else{var f=new Ywe;if(n)var h=n(c,d,l,t,e,f);if(!(h===void 0?Zwe(d,c,Qwe|Jwe,n,f):h))return!1}}return!0}var tbe=ebe,rbe=Xl;function nbe(t){return t===t&&!rbe(t)}var xB=nbe,ibe=xB,abe=rN;function obe(t){for(var e=abe(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,ibe(i)]}return e}var sbe=obe;function lbe(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var wB=lbe,cbe=tbe,ube=sbe,dbe=wB;function fbe(t){var e=ube(t);return e.length==1&&e[0][2]?dbe(e[0][0],e[0][1]):function(r){return r===t||cbe(r,t,e)}}var hbe=fbe;function pbe(t,e){return t!=null&&e in Object(t)}var mbe=pbe,vbe=NF,gbe=JO,ybe=vi,xbe=eN,wbe=tN,bbe=jx;function _be(t,e,r){e=vbe(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var o=bbe(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&wbe(i)&&xbe(o,i)&&(ybe(t)||gbe(t)))}var Sbe=_be,Cbe=mbe,Ebe=Sbe;function Abe(t,e){return t!=null&&Ebe(t,e,Cbe)}var Obe=Abe,Nbe=nN,jbe=jF,Tbe=Obe,Pbe=DO,kbe=xB,Ibe=wB,Rbe=jx,Dbe=1,Mbe=2;function $be(t,e){return Pbe(t)&&kbe(e)?Ibe(Rbe(t),e):function(r){var n=jbe(r,t);return n===void 0&&n===e?Tbe(r,t):Nbe(e,n,Dbe|Mbe)}}var Lbe=$be;function Fbe(t){return t}var vh=Fbe;function Bbe(t){return function(e){return e==null?void 0:e[t]}}var Ube=Bbe,Vbe=VO;function Wbe(t){return function(e){return Vbe(e,t)}}var zbe=Wbe,Hbe=Ube,Gbe=zbe,qbe=DO,Kbe=jx;function Xbe(t){return qbe(t)?Hbe(Kbe(t)):Gbe(t)}var Ybe=Xbe,Zbe=hbe,Qbe=Lbe,Jbe=vh,e_e=vi,t_e=Ybe;function r_e(t){return typeof t=="function"?t:t==null?Jbe:typeof t=="object"?e_e(t)?Qbe(t[0],t[1]):Zbe(t):t_e(t)}var Yl=r_e;function n_e(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var i_e=n_e;function a_e(t){return t!==t}var o_e=a_e;function s_e(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var l_e=s_e,c_e=i_e,u_e=o_e,d_e=l_e;function f_e(t,e,r){return e===e?d_e(t,e,r):c_e(t,u_e,r)}var h_e=f_e,p_e=h_e;function m_e(t,e){var r=t==null?0:t.length;return!!r&&p_e(t,e,0)>-1}var v_e=m_e;function g_e(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var y_e=g_e;function x_e(){}var w_e=x_e,Xb=vB,b_e=w_e,__e=QO,S_e=1/0,C_e=Xb&&1/__e(new Xb([,-0]))[1]==S_e?function(t){return new Xb(t)}:b_e,E_e=C_e,A_e=oB,O_e=v_e,N_e=y_e,j_e=lB,T_e=E_e,P_e=QO,k_e=200;function I_e(t,e,r){var n=-1,i=O_e,a=t.length,o=!0,s=[],l=s;if(r)o=!1,i=N_e;else if(a>=k_e){var c=e?null:T_e(t);if(c)return P_e(c);o=!1,i=j_e,l=new A_e}else l=e?[]:s;e:for(;++n<a;){var d=t[n],f=e?e(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(d)}else i(l,f,r)||(l!==s&&l.push(f),s.push(d))}return s}var R_e=I_e,D_e=Yl,M_e=R_e;function $_e(t,e){return t&&t.length?M_e(t,D_e(e)):[]}var L_e=$_e;const Tk=Dt(L_e);function bB(t,e,r){return e===!0?Tk(t,r):Xe(e)?Tk(t,e):t}function vf(t){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(t)}var F_e=["ref"];function Pk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Pk(Object(r),!0).forEach(function(n){Hx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function B_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,SB(n.key),n)}}function U_e(t,e,r){return e&&kk(t.prototype,e),r&&kk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function V_e(t,e,r){return e=Ny(e),W_e(t,_B()?Reflect.construct(e,r||[],Ny(t).constructor):e.apply(t,r))}function W_e(t,e){if(e&&(vf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z_e(t)}function z_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _B(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_B=function(){return!!t})()}function Ny(t){return Ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ny(t)}function H_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qS(t,e)}function qS(t,e){return qS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qS(t,e)}function Hx(t,e,r){return e=SB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SB(t){var e=G_e(t,"string");return vf(e)=="symbol"?e:e+""}function G_e(t,e){if(vf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function q_e(t,e){if(t==null)return{};var r=K_e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function K_e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function X_e(t){return t.value}function Y_e(t,e){if(k.isValidElement(t))return k.cloneElement(t,e);if(typeof t=="function")return k.createElement(t,e);e.ref;var r=q_e(e,F_e);return k.createElement(ZO,r)}var Ik=1,kd=function(t){function e(){var r;B_e(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=V_e(this,e,[].concat(i)),Hx(r,"lastBoundingBox",{width:-1,height:-1}),r}return H_e(e,t),U_e(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Ik||Math.abs(i.height-this.lastBoundingBox.height)>Ik)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Vo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,c=i.chartWidth,d=i.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((c||0)-p.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var v=this.getBBoxSnapshot();h={top:((d||0)-v.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Vo(Vo({},f),h)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,d=i.payload,f=Vo(Vo({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return k.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},Y_e(a,Vo(Vo({},this.props),{},{payload:bB(d,c,X_e)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Vo(Vo({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&ge(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(b.PureComponent);Hx(kd,"displayName","Legend");Hx(kd,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Rk=Tv,Z_e=JO,Q_e=vi,Dk=Rk?Rk.isConcatSpreadable:void 0;function J_e(t){return Q_e(t)||Z_e(t)||!!(Dk&&t&&t[Dk])}var e2e=J_e,t2e=uB,r2e=e2e;function CB(t,e,r,n,i){var a=-1,o=t.length;for(r||(r=r2e),i||(i=[]);++a<o;){var s=t[a];e>0&&r(s)?e>1?CB(s,e-1,r,n,i):t2e(i,s):n||(i[i.length]=s)}return i}var EB=CB;function n2e(t){return function(e,r,n){for(var i=-1,a=Object(e),o=n(e),s=o.length;s--;){var l=o[t?s:++i];if(r(a[l],l,a)===!1)break}return e}}var i2e=n2e,a2e=i2e,o2e=a2e(),s2e=o2e,l2e=s2e,c2e=rN;function u2e(t,e){return t&&l2e(t,e,c2e)}var AB=u2e,d2e=zx;function f2e(t,e){return function(r,n){if(r==null)return r;if(!d2e(r))return t(r,n);for(var i=r.length,a=e?i:-1,o=Object(r);(e?a--:++a<i)&&n(o[a],a,o)!==!1;);return r}}var h2e=f2e,p2e=AB,m2e=h2e,v2e=m2e(p2e),iN=v2e,g2e=iN,y2e=zx;function x2e(t,e){var r=-1,n=y2e(t)?Array(t.length):[];return g2e(t,function(i,a,o){n[++r]=e(i,a,o)}),n}var OB=x2e;function w2e(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var b2e=w2e,Mk=lh;function _2e(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,a=Mk(t),o=e!==void 0,s=e===null,l=e===e,c=Mk(e);if(!s&&!c&&!a&&t>e||a&&o&&l&&!s&&!c||n&&o&&l||!r&&l||!i)return 1;if(!n&&!a&&!c&&t<e||c&&r&&i&&!n&&!a||s&&r&&i||!o&&i||!l)return-1}return 0}var S2e=_2e,C2e=S2e;function E2e(t,e,r){for(var n=-1,i=t.criteria,a=e.criteria,o=i.length,s=r.length;++n<o;){var l=C2e(i[n],a[n]);if(l){if(n>=s)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return t.index-e.index}var A2e=E2e,Yb=UO,O2e=VO,N2e=Yl,j2e=OB,T2e=b2e,P2e=hB,k2e=A2e,I2e=vh,R2e=vi;function D2e(t,e,r){e.length?e=Yb(e,function(a){return R2e(a)?function(o){return O2e(o,a.length===1?a[0]:a)}:a}):e=[I2e];var n=-1;e=Yb(e,P2e(N2e));var i=j2e(t,function(a,o,s){var l=Yb(e,function(c){return c(a)});return{criteria:l,index:++n,value:a}});return T2e(i,function(a,o){return k2e(a,o,r)})}var M2e=D2e;function $2e(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var L2e=$2e,F2e=L2e,$k=Math.max;function B2e(t,e,r){return e=$k(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=$k(n.length-e,0),o=Array(a);++i<a;)o[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=r(o),F2e(t,this,s)}}var U2e=B2e;function V2e(t){return function(){return t}}var W2e=V2e,z2e=Au,H2e=function(){try{var t=z2e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),NB=H2e,G2e=W2e,Lk=NB,q2e=vh,K2e=Lk?function(t,e){return Lk(t,"toString",{configurable:!0,enumerable:!1,value:G2e(e),writable:!0})}:q2e,X2e=K2e,Y2e=800,Z2e=16,Q2e=Date.now;function J2e(t){var e=0,r=0;return function(){var n=Q2e(),i=Z2e-(n-r);if(r=n,i>0){if(++e>=Y2e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var eSe=J2e,tSe=X2e,rSe=eSe,nSe=rSe(tSe),iSe=nSe,aSe=vh,oSe=U2e,sSe=iSe;function lSe(t,e){return sSe(oSe(t,e,aSe),t+"")}var cSe=lSe,uSe=$O,dSe=zx,fSe=eN,hSe=Xl;function pSe(t,e,r){if(!hSe(r))return!1;var n=typeof e;return(n=="number"?dSe(r)&&fSe(e,r.length):n=="string"&&e in r)?uSe(r[e],t):!1}var Gx=pSe,mSe=EB,vSe=M2e,gSe=cSe,Fk=Gx,ySe=gSe(function(t,e){if(t==null)return[];var r=e.length;return r>1&&Fk(t,e[0],e[1])?e=[]:r>2&&Fk(e[0],e[1],e[2])&&(e=[e[0]]),vSe(t,mSe(e,1),[])}),xSe=ySe;const aN=Dt(xSe);function hm(t){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hm(t)}function KS(){return KS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},KS.apply(this,arguments)}function wSe(t,e){return CSe(t)||SSe(t,e)||_Se(t,e)||bSe()}function bSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Se(t,e){if(t){if(typeof t=="string")return Bk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bk(t,e)}}function Bk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function SSe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function CSe(t){if(Array.isArray(t))return t}function Uk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Uk(Object(r),!0).forEach(function(n){ESe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Uk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ESe(t,e,r){return e=ASe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ASe(t){var e=OSe(t,"string");return hm(e)=="symbol"?e:e+""}function OSe(t,e){if(hm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NSe(t){return Array.isArray(t)&&nn(t[0])&&nn(t[1])?t.join(" ~ "):t}var jSe=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,c=l===void 0?{}:l,d=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,v=e.labelClassName,m=e.label,g=e.labelFormatter,y=e.accessibilityLayer,x=y===void 0?!1:y,w=function(){if(d&&d.length){var P={padding:0,margin:0},$=(h?aN(d,h):d).map(function(D,F){if(D.type==="none")return null;var L=Zb({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},s),M=D.formatter||f||NSe,j=D.value,R=D.name,V=j,W=R;if(M&&V!=null&&W!=null){var z=M(j,R,D,F,d);if(Array.isArray(z)){var K=wSe(z,2);V=K[0],W=K[1]}else V=z}return k.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:L},nn(W)?k.createElement("span",{className:"recharts-tooltip-item-name"},W):null,nn(W)?k.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,k.createElement("span",{className:"recharts-tooltip-item-value"},V),k.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return k.createElement("ul",{className:"recharts-tooltip-item-list",style:P},$)}return null},S=Zb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),_=Zb({margin:0},c),C=!Qe(m),E=C?m:"",A=et("recharts-default-tooltip",p),O=et("recharts-tooltip-label",v);C&&g&&d!==void 0&&d!==null&&(E=g(m,d));var T=x?{role:"status","aria-live":"assertive"}:{};return k.createElement("div",KS({className:A,style:S},T),k.createElement("p",{className:O,style:_},k.isValidElement(E)?E:"".concat(E)),w())};function pm(t){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pm(t)}function j0(t,e,r){return e=TSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TSe(t){var e=PSe(t,"string");return pm(e)=="symbol"?e:e+""}function PSe(t,e){if(pm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lh="recharts-tooltip-wrapper",kSe={visibility:"hidden"};function ISe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return et(Lh,j0(j0(j0(j0({},"".concat(Lh,"-right"),ge(r)&&e&&ge(e.x)&&r>=e.x),"".concat(Lh,"-left"),ge(r)&&e&&ge(e.x)&&r<e.x),"".concat(Lh,"-bottom"),ge(n)&&e&&ge(e.y)&&n>=e.y),"".concat(Lh,"-top"),ge(n)&&e&&ge(e.y)&&n<e.y))}function Vk(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(a&&ge(a[n]))return a[n];var d=r[n]-s-i,f=r[n]+i;if(e[n])return o[n]?d:f;if(o[n]){var h=d,p=l[n];return h<p?Math.max(f,l[n]):Math.max(d,l[n])}var v=f+s,m=l[n]+c;return v>m?Math.max(d,l[n]):Math.max(f,l[n])}function RSe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function DSe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,c,d,f;return o.height>0&&o.width>0&&r?(d=Vk({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=Vk({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=RSe({translateX:d,translateY:f,useTranslate3d:s})):c=kSe,{cssProperties:c,cssClasses:ISe({translateX:d,translateY:f,coordinate:r})}}function gf(t){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(t)}function Wk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Wk(Object(r),!0).forEach(function(n){YS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $Se(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,TB(n.key),n)}}function LSe(t,e,r){return e&&$Se(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function FSe(t,e,r){return e=jy(e),BSe(t,jB()?Reflect.construct(e,r||[],jy(t).constructor):e.apply(t,r))}function BSe(t,e){if(e&&(gf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return USe(t)}function USe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jB=function(){return!!t})()}function jy(t){return jy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jy(t)}function VSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XS(t,e)}function XS(t,e){return XS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},XS(t,e)}function YS(t,e,r){return e=TB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TB(t){var e=WSe(t,"string");return gf(e)=="symbol"?e:e+""}function WSe(t,e){if(gf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hk=1,zSe=function(t){function e(){var r;MSe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=FSe(this,e,[].concat(i)),YS(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),YS(r,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,c,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&c!==void 0?c:0}})}}),r}return VSe(e,t),LSe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Hk||Math.abs(n.height-this.state.lastBoundingBox.height)>Hk)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,v=i.position,m=i.reverseDirection,g=i.useTranslate3d,y=i.viewBox,x=i.wrapperStyle,w=DSe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:v,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:y}),S=w.cssClasses,_=w.cssProperties,C=zk(zk({transition:h&&a?"transform ".concat(s,"ms ").concat(l):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},x);return k.createElement("div",{tabIndex:-1,className:S,style:C,ref:function(A){n.wrapperNode=A}},c)}}])}(b.PureComponent),HSe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},_o={isSsr:HSe(),get:function(e){return _o[e]},set:function(e,r){if(typeof e=="string")_o[e]=r;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(i){_o[i]=e[i]})}}};function yf(t){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(t)}function Gk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Gk(Object(r),!0).forEach(function(n){oN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qSe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kB(n.key),n)}}function KSe(t,e,r){return e&&qSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function XSe(t,e,r){return e=Ty(e),YSe(t,PB()?Reflect.construct(e,r||[],Ty(t).constructor):e.apply(t,r))}function YSe(t,e){if(e&&(yf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZSe(t)}function ZSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PB=function(){return!!t})()}function Ty(t){return Ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ty(t)}function QSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZS(t,e)}function ZS(t,e){return ZS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ZS(t,e)}function oN(t,e,r){return e=kB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kB(t){var e=JSe(t,"string");return yf(e)=="symbol"?e:e+""}function JSe(t,e){if(yf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eCe(t){return t.dataKey}function tCe(t,e){return k.isValidElement(t)?k.cloneElement(t,e):typeof t=="function"?k.createElement(t,e):k.createElement(jSe,e)}var Ji=function(t){function e(){return GSe(this,e),XSe(this,e,arguments)}return QSe(e,t),KSe(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,v=i.payload,m=i.payloadUniqBy,g=i.position,y=i.reverseDirection,x=i.useTranslate3d,w=i.viewBox,S=i.wrapperStyle,_=v??[];f&&_.length&&(_=bB(v.filter(function(E){return E.value!=null&&(E.hide!==!0||n.props.includeHidden)}),m,eCe));var C=_.length>0;return k.createElement(zSe,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:h,active:a,coordinate:d,hasPayload:C,offset:p,position:g,reverseDirection:y,useTranslate3d:x,viewBox:w,wrapperStyle:S},tCe(c,qk(qk({},this.props),{},{payload:_})))}}])}(b.PureComponent);oN(Ji,"displayName","Tooltip");oN(Ji,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!_o.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var rCe=Ro,nCe=function(){return rCe.Date.now()},iCe=nCe,aCe=/\s/;function oCe(t){for(var e=t.length;e--&&aCe.test(t.charAt(e)););return e}var sCe=oCe,lCe=sCe,cCe=/^\s+/;function uCe(t){return t&&t.slice(0,lCe(t)+1).replace(cCe,"")}var dCe=uCe,fCe=dCe,Kk=Xl,hCe=lh,Xk=NaN,pCe=/^[-+]0x[0-9a-f]+$/i,mCe=/^0b[01]+$/i,vCe=/^0o[0-7]+$/i,gCe=parseInt;function yCe(t){if(typeof t=="number")return t;if(hCe(t))return Xk;if(Kk(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Kk(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=fCe(t);var r=mCe.test(t);return r||vCe.test(t)?gCe(t.slice(2),r?2:8):pCe.test(t)?Xk:+t}var IB=yCe,xCe=Xl,Qb=iCe,Yk=IB,wCe="Expected a function",bCe=Math.max,_Ce=Math.min;function SCe(t,e,r){var n,i,a,o,s,l,c=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(wCe);e=Yk(e)||0,xCe(r)&&(d=!!r.leading,f="maxWait"in r,a=f?bCe(Yk(r.maxWait)||0,e):a,h="trailing"in r?!!r.trailing:h);function p(C){var E=n,A=i;return n=i=void 0,c=C,o=t.apply(A,E),o}function v(C){return c=C,s=setTimeout(y,e),d?p(C):o}function m(C){var E=C-l,A=C-c,O=e-E;return f?_Ce(O,a-A):O}function g(C){var E=C-l,A=C-c;return l===void 0||E>=e||E<0||f&&A>=a}function y(){var C=Qb();if(g(C))return x(C);s=setTimeout(y,m(C))}function x(C){return s=void 0,h&&n?p(C):(n=i=void 0,o)}function w(){s!==void 0&&clearTimeout(s),c=0,n=l=i=s=void 0}function S(){return s===void 0?o:x(Qb())}function _(){var C=Qb(),E=g(C);if(n=arguments,i=this,l=C,E){if(s===void 0)return v(l);if(f)return clearTimeout(s),s=setTimeout(y,e),p(l)}return s===void 0&&(s=setTimeout(y,e)),o}return _.cancel=w,_.flush=S,_}var CCe=SCe,ECe=CCe,ACe=Xl,OCe="Expected a function";function NCe(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(OCe);return ACe(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),ECe(t,e,{leading:n,maxWait:e,trailing:i})}var jCe=NCe;const RB=Dt(jCe);function mm(t){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(t)}function Zk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function T0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Zk(Object(r),!0).forEach(function(n){TCe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TCe(t,e,r){return e=PCe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PCe(t){var e=kCe(t,"string");return mm(e)=="symbol"?e:e+""}function kCe(t,e){if(mm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ICe(t,e){return $Ce(t)||MCe(t,e)||DCe(t,e)||RCe()}function RCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DCe(t,e){if(t){if(typeof t=="string")return Qk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qk(t,e)}}function Qk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function MCe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function $Ce(t){if(Array.isArray(t))return t}var Jb=b.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,c=t.minWidth,d=c===void 0?0:c,f=t.minHeight,h=t.maxHeight,p=t.children,v=t.debounce,m=v===void 0?0:v,g=t.id,y=t.className,x=t.onResize,w=t.style,S=w===void 0?{}:w,_=b.useRef(null),C=b.useRef();C.current=x,b.useImperativeHandle(e,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var E=b.useState({containerWidth:i.width,containerHeight:i.height}),A=ICe(E,2),O=A[0],T=A[1],N=b.useCallback(function($,D){T(function(F){var L=Math.round($),M=Math.round(D);return F.containerWidth===L&&F.containerHeight===M?F:{containerWidth:L,containerHeight:M}})},[]);b.useEffect(function(){var $=function(R){var V,W=R[0].contentRect,z=W.width,K=W.height;N(z,K),(V=C.current)===null||V===void 0||V.call(C,z,K)};m>0&&($=RB($,m,{trailing:!0,leading:!1}));var D=new ResizeObserver($),F=_.current.getBoundingClientRect(),L=F.width,M=F.height;return N(L,M),D.observe(_.current),function(){D.disconnect()}},[N,m]);var P=b.useMemo(function(){var $=O.containerWidth,D=O.containerHeight;if($<0||D<0)return null;ss(Ac(o)||Ac(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),ss(!r||r>0,"The aspect(%s) must be greater than zero.",r);var F=Ac(o)?$:o,L=Ac(l)?D:l;r&&r>0&&(F?L=F/r:L&&(F=L*r),h&&L>h&&(L=h)),ss(F>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,L,o,l,d,f,r);var M=!Array.isArray(p)&&os(p.type).endsWith("Chart");return k.Children.map(p,function(j){return k.isValidElement(j)?b.cloneElement(j,T0({width:F,height:L},M?{style:T0({height:"100%",width:"100%",maxHeight:L,maxWidth:F},j.props.style)}:{})):j})},[r,p,l,h,f,d,O,o]);return k.createElement("div",{id:g?"".concat(g):void 0,className:et("recharts-responsive-container",y),style:T0(T0({},S),{},{width:o,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:_},P)}),qx=function(e){return null};qx.displayName="Cell";function vm(t){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vm(t)}function Jk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function QS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Jk(Object(r),!0).forEach(function(n){LCe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LCe(t,e,r){return e=FCe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FCe(t){var e=BCe(t,"string");return vm(e)=="symbol"?e:e+""}function BCe(t,e){if(vm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zu={widthCache:{},cacheCount:0},UCe=2e3,VCe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},eI="recharts_measurement_span";function WCe(t){var e=QS({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var _p=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||_o.isSsr)return{width:0,height:0};var n=WCe(r),i=JSON.stringify({text:e,copyStyle:n});if(zu.widthCache[i])return zu.widthCache[i];try{var a=document.getElementById(eI);a||(a=document.createElement("span"),a.setAttribute("id",eI),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=QS(QS({},VCe),n);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return zu.widthCache[i]=l,++zu.cacheCount>UCe&&(zu.cacheCount=0,zu.widthCache={}),l}catch{return{width:0,height:0}}},zCe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function gm(t){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(t)}function Py(t,e){return KCe(t)||qCe(t,e)||GCe(t,e)||HCe()}function HCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GCe(t,e){if(t){if(typeof t=="string")return tI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tI(t,e)}}function tI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qCe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function KCe(t){if(Array.isArray(t))return t}function XCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ZCe(n.key),n)}}function YCe(t,e,r){return e&&rI(t.prototype,e),r&&rI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZCe(t){var e=QCe(t,"string");return gm(e)=="symbol"?e:e+""}function QCe(t,e){if(gm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,iI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,JCe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,eEe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,DB={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},tEe=Object.keys(DB),md="NaN";function rEe(t,e){return t*DB[e]}var P0=function(){function t(e,r){XCe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!JCe.test(r)&&(this.num=NaN,this.unit=""),tEe.includes(r)&&(this.num=rEe(e,r),this.unit="px")}return YCe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=eEe.exec(r))!==null&&n!==void 0?n:[],a=Py(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function MB(t){if(t.includes(md))return md;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=nI.exec(e))!==null&&r!==void 0?r:[],i=Py(n,4),a=i[1],o=i[2],s=i[3],l=P0.parse(a??""),c=P0.parse(s??""),d=o==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return md;e=e.replace(nI,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=iI.exec(e))!==null&&f!==void 0?f:[],p=Py(h,4),v=p[1],m=p[2],g=p[3],y=P0.parse(v??""),x=P0.parse(g??""),w=m==="+"?y.add(x):y.subtract(x);if(w.isNaN())return md;e=e.replace(iI,w.toString())}return e}var aI=/\(([^()]*)\)/;function nEe(t){for(var e=t;e.includes("(");){var r=aI.exec(e),n=Py(r,2),i=n[1];e=e.replace(aI,MB(i))}return e}function iEe(t){var e=t.replace(/\s+/g,"");return e=nEe(e),e=MB(e),e}function aEe(t){try{return iEe(t)}catch{return md}}function e_(t){var e=aEe(t.slice(5,-1));return e===md?"":e}var oEe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],sEe=["dx","dy","angle","className","breakAll"];function JS(){return JS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},JS.apply(this,arguments)}function oI(t,e){if(t==null)return{};var r=lEe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function lEe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function sI(t,e){return fEe(t)||dEe(t,e)||uEe(t,e)||cEe()}function cEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uEe(t,e){if(t){if(typeof t=="string")return lI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lI(t,e)}}function lI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function dEe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function fEe(t){if(Array.isArray(t))return t}var $B=/[ \f\n\r\t\v\u2028\u2029]+/,LB=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];Qe(r)||(n?a=r.toString().split(""):a=r.toString().split($B));var o=a.map(function(l){return{word:l,width:_p(l,i).width}}),s=n?0:_p("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},hEe=function(e,r,n,i,a){var o=e.maxLines,s=e.children,l=e.style,c=e.breakAll,d=ge(o),f=s,h=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(L,M){var j=M.word,R=M.width,V=L[L.length-1];if(V&&(i==null||a||V.width+R+n<Number(i)))V.words.push(j),V.width+=R+n;else{var W={words:[j],width:R};L.push(W)}return L},[])},p=h(r),v=function(F){return F.reduce(function(L,M){return L.width>M.width?L:M})};if(!d)return p;for(var m="",g=function(F){var L=f.slice(0,F),M=LB({breakAll:c,style:l,children:L+m}).wordsWithComputedWidth,j=h(M),R=j.length>o||v(j).width>Number(i);return[R,j]},y=0,x=f.length-1,w=0,S;y<=x&&w<=f.length-1;){var _=Math.floor((y+x)/2),C=_-1,E=g(C),A=sI(E,2),O=A[0],T=A[1],N=g(_),P=sI(N,1),$=P[0];if(!O&&!$&&(y=_+1),O&&$&&(x=_-1),!O&&$){S=T;break}w++}return S||p},cI=function(e){var r=Qe(e)?[]:e.toString().split($B);return[{words:r}]},pEe=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((r||n)&&!_o.isSsr){var l,c,d=LB({breakAll:o,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,c=h}else return cI(i);return hEe({breakAll:o,children:i,maxLines:s,style:a},l,c,r,n)}return cI(i)},uI="#808080",cu=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,c=l===void 0?"0.71em":l,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,p=h===void 0?"start":h,v=e.verticalAnchor,m=v===void 0?"end":v,g=e.fill,y=g===void 0?uI:g,x=oI(e,oEe),w=b.useMemo(function(){return pEe({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),S=x.dx,_=x.dy,C=x.angle,E=x.className,A=x.breakAll,O=oI(x,sEe);if(!nn(n)||!nn(a))return null;var T=n+(ge(S)?S:0),N=a+(ge(_)?_:0),P;switch(m){case"start":P=e_("calc(".concat(c,")"));break;case"middle":P=e_("calc(".concat((w.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:P=e_("calc(".concat(w.length-1," * -").concat(s,")"));break}var $=[];if(f){var D=w[0].width,F=x.width;$.push("scale(".concat((ge(F)?F/D:1)/D,")"))}return C&&$.push("rotate(".concat(C,", ").concat(T,", ").concat(N,")")),$.length&&(O.transform=$.join(" ")),k.createElement("text",JS({},We(O,!0),{x:T,y:N,className:et("recharts-text",E),textAnchor:p,fill:y.includes("url")?uI:y}),w.map(function(L,M){var j=L.words.join(A?"":" ");return k.createElement("tspan",{x:T,dy:M===0?P:s,key:"".concat(j,"-").concat(M)},j)}))};function Tl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function mEe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function sN(t){let e,r,n;t.length!==2?(e=Tl,r=(s,l)=>Tl(t(s),l),n=(s,l)=>t(s)-l):(e=t===Tl||t===mEe?t:vEe,r=t,n=t);function i(s,l,c=0,d=s.length){if(c<d){if(e(l,l)!==0)return d;do{const f=c+d>>>1;r(s[f],l)<0?c=f+1:d=f}while(c<d)}return c}function a(s,l,c=0,d=s.length){if(c<d){if(e(l,l)!==0)return d;do{const f=c+d>>>1;r(s[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function o(s,l,c=0,d=s.length){const f=i(s,l,c,d-1);return f>c&&n(s[f-1],l)>-n(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function vEe(){return 0}function FB(t){return t===null?NaN:+t}function*gEe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const yEe=sN(Tl),kv=yEe.right;sN(FB).center;class dI extends Map{constructor(e,r=bEe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(fI(this,e))}has(e){return super.has(fI(this,e))}set(e,r){return super.set(xEe(this,e),r)}delete(e){return super.delete(wEe(this,e))}}function fI({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function xEe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function wEe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function bEe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function _Ee(t=Tl){if(t===Tl)return BB;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function BB(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const SEe=Math.sqrt(50),CEe=Math.sqrt(10),EEe=Math.sqrt(2);function ky(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=SEe?10:a>=CEe?5:a>=EEe?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=r&&r<2?ky(t,e,r*2):[s,l,c]}function eC(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?ky(e,t,r):ky(t,e,r);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(n)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function tC(t,e,r){return e=+e,t=+t,r=+r,ky(t,e,r)[2]}function rC(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?tC(e,t,r):tC(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function hI(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function pI(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function UB(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?BB:_Ee(i);n>r;){if(n-r>600){const l=n-r+1,c=e-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(e-c*f/l+h)),v=Math.min(n,Math.floor(e+(l-c)*f/l+h));UB(t,e,p,v,i)}const a=t[e];let o=r,s=n;for(Fh(t,r,e),i(t[n],a)>0&&Fh(t,r,n);o<s;){for(Fh(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[r],a)===0?Fh(t,r,s):(++s,Fh(t,s,n)),s<=e&&(r=s+1),e<=s&&(n=s-1)}return t}function Fh(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function AEe(t,e,r){if(t=Float64Array.from(gEe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return pI(t);if(e>=1)return hI(t);var n,i=(n-1)*e,a=Math.floor(i),o=hI(UB(t,a).subarray(0,a+1)),s=pI(t.subarray(a+1));return o+(s-o)*(i-a)}}function OEe(t,e,r=FB){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),s=+r(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function NEe(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function ga(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Rs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const nC=Symbol("implicit");function lN(){var t=new dI,e=[],r=[],n=nC;function i(a){let o=t.get(a);if(o===void 0){if(n!==nC)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new dI;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return lN(e,r).unknown(n)},ga.apply(i,arguments),i}function ym(){var t=lN().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,s=!1,l=0,c=0,d=.5;delete t.unknown;function f(){var h=e().length,p=i<n,v=p?i:n,m=p?n:i;a=(m-v)/Math.max(1,h-l+c*2),s&&(a=Math.floor(a)),v+=(m-v-a*(h-l))*d,o=a*(1-l),s&&(v=Math.round(v),o=Math.round(o));var g=NEe(h).map(function(y){return v+a*y});return r(p?g.reverse():g)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,s=!0,f()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return ym(e(),[n,i]).round(s).paddingInner(l).paddingOuter(c).align(d)},ga.apply(f(),arguments)}function VB(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return VB(e())},t}function Sp(){return VB(ym.apply(null,arguments).paddingInner(1))}function cN(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function WB(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Iv(){}var xm=.7,Iy=1/xm,Id="\\s*([+-]?\\d+)\\s*",wm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",So="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jEe=/^#([0-9a-f]{3,8})$/,TEe=new RegExp(`^rgb\\(${Id},${Id},${Id}\\)$`),PEe=new RegExp(`^rgb\\(${So},${So},${So}\\)$`),kEe=new RegExp(`^rgba\\(${Id},${Id},${Id},${wm}\\)$`),IEe=new RegExp(`^rgba\\(${So},${So},${So},${wm}\\)$`),REe=new RegExp(`^hsl\\(${wm},${So},${So}\\)$`),DEe=new RegExp(`^hsla\\(${wm},${So},${So},${wm}\\)$`),mI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cN(Iv,bm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:vI,formatHex:vI,formatHex8:MEe,formatHsl:$Ee,formatRgb:gI,toString:gI});function vI(){return this.rgb().formatHex()}function MEe(){return this.rgb().formatHex8()}function $Ee(){return zB(this).formatHsl()}function gI(){return this.rgb().formatRgb()}function bm(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=jEe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?yI(e):r===3?new si(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?k0(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?k0(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=TEe.exec(t))?new si(e[1],e[2],e[3],1):(e=PEe.exec(t))?new si(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=kEe.exec(t))?k0(e[1],e[2],e[3],e[4]):(e=IEe.exec(t))?k0(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=REe.exec(t))?bI(e[1],e[2]/100,e[3]/100,1):(e=DEe.exec(t))?bI(e[1],e[2]/100,e[3]/100,e[4]):mI.hasOwnProperty(t)?yI(mI[t]):t==="transparent"?new si(NaN,NaN,NaN,0):null}function yI(t){return new si(t>>16&255,t>>8&255,t&255,1)}function k0(t,e,r,n){return n<=0&&(t=e=r=NaN),new si(t,e,r,n)}function LEe(t){return t instanceof Iv||(t=bm(t)),t?(t=t.rgb(),new si(t.r,t.g,t.b,t.opacity)):new si}function iC(t,e,r,n){return arguments.length===1?LEe(t):new si(t,e,r,n??1)}function si(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}cN(si,iC,WB(Iv,{brighter(t){return t=t==null?Iy:Math.pow(Iy,t),new si(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?xm:Math.pow(xm,t),new si(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new si(Vc(this.r),Vc(this.g),Vc(this.b),Ry(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xI,formatHex:xI,formatHex8:FEe,formatRgb:wI,toString:wI}));function xI(){return`#${Oc(this.r)}${Oc(this.g)}${Oc(this.b)}`}function FEe(){return`#${Oc(this.r)}${Oc(this.g)}${Oc(this.b)}${Oc((isNaN(this.opacity)?1:this.opacity)*255)}`}function wI(){const t=Ry(this.opacity);return`${t===1?"rgb(":"rgba("}${Vc(this.r)}, ${Vc(this.g)}, ${Vc(this.b)}${t===1?")":`, ${t})`}`}function Ry(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Vc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Oc(t){return t=Vc(t),(t<16?"0":"")+t.toString(16)}function bI(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Wa(t,e,r,n)}function zB(t){if(t instanceof Wa)return new Wa(t.h,t.s,t.l,t.opacity);if(t instanceof Iv||(t=bm(t)),!t)return new Wa;if(t instanceof Wa)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-e)/s+2:o=(e-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Wa(o,s,l,t.opacity)}function BEe(t,e,r,n){return arguments.length===1?zB(t):new Wa(t,e,r,n??1)}function Wa(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}cN(Wa,BEe,WB(Iv,{brighter(t){return t=t==null?Iy:Math.pow(Iy,t),new Wa(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?xm:Math.pow(xm,t),new Wa(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new si(t_(t>=240?t-240:t+120,i,n),t_(t,i,n),t_(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Wa(_I(this.h),I0(this.s),I0(this.l),Ry(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ry(this.opacity);return`${t===1?"hsl(":"hsla("}${_I(this.h)}, ${I0(this.s)*100}%, ${I0(this.l)*100}%${t===1?")":`, ${t})`}`}}));function _I(t){return t=(t||0)%360,t<0?t+360:t}function I0(t){return Math.max(0,Math.min(1,t||0))}function t_(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const uN=t=>()=>t;function UEe(t,e){return function(r){return t+r*e}}function VEe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function WEe(t){return(t=+t)==1?HB:function(e,r){return r-e?VEe(e,r,t):uN(isNaN(e)?r:e)}}function HB(t,e){var r=e-t;return r?UEe(t,r):uN(isNaN(t)?e:t)}const SI=function t(e){var r=WEe(e);function n(i,a){var o=r((i=iC(i)).r,(a=iC(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),c=HB(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=s(d),i.b=l(d),i.opacity=c(d),i+""}}return n.gamma=t,n}(1);function zEe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function HEe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function GEe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=gh(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function qEe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Dy(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function KEe(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=gh(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var aC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,r_=new RegExp(aC.source,"g");function XEe(t){return function(){return t}}function YEe(t){return function(e){return t(e)+""}}function ZEe(t,e){var r=aC.lastIndex=r_.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(n=aC.exec(t))&&(i=r_.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:Dy(n,i)})),r=r_.lastIndex;return r<e.length&&(a=e.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?YEe(l[0].x):XEe(e):(e=l.length,function(c){for(var d=0,f;d<e;++d)s[(f=l[d]).i]=f.x(c);return s.join("")})}function gh(t,e){var r=typeof e,n;return e==null||r==="boolean"?uN(e):(r==="number"?Dy:r==="string"?(n=bm(e))?(e=n,SI):ZEe:e instanceof bm?SI:e instanceof Date?qEe:HEe(e)?zEe:Array.isArray(e)?GEe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?KEe:Dy)(t,e)}function dN(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function QEe(t,e){e===void 0&&(e=t,t=gh);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function JEe(t){return function(){return t}}function My(t){return+t}var CI=[0,1];function Gn(t){return t}function oC(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:JEe(isNaN(e)?NaN:.5)}function eAe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function tAe(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=oC(i,n),a=r(o,a)):(n=oC(n,i),a=r(a,o)),function(s){return a(n(s))}}function rAe(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=oC(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(s){var l=kv(t,s,1,n)-1;return a[l](i[l](s))}}function Rv(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Kx(){var t=CI,e=CI,r=gh,n,i,a,o=Gn,s,l,c;function d(){var h=Math.min(t.length,e.length);return o!==Gn&&(o=eAe(t[0],t[h-1])),s=h>2?rAe:tAe,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=s(t.map(n),e,r)))(n(o(h)))}return f.invert=function(h){return o(i((c||(c=s(e,t.map(n),Dy)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,My),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),r=dN,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Gn,d()):o!==Gn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return n=h,i=p,d()}}function fN(){return Kx()(Gn,Gn)}function nAe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function $y(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function xf(t){return t=$y(Math.abs(t)),t?t[1]:NaN}function iAe(t,e){return function(r,n){for(var i=r.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function aAe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var oAe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _m(t){if(!(e=oAe.exec(t)))throw new Error("invalid format: "+t);var e;return new hN({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}_m.prototype=hN.prototype;function hN(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}hN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function sAe(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var GB;function lAe(t,e){var r=$y(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(GB=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+$y(t,Math.max(0,e+a-1))[0]}function EI(t,e){var r=$y(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const AI={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:nAe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>EI(t*100,e),r:EI,s:lAe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function OI(t){return t}var NI=Array.prototype.map,jI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function cAe(t){var e=t.grouping===void 0||t.thousands===void 0?OI:iAe(NI.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?OI:aAe(NI.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=_m(f);var h=f.fill,p=f.align,v=f.sign,m=f.symbol,g=f.zero,y=f.width,x=f.comma,w=f.precision,S=f.trim,_=f.type;_==="n"?(x=!0,_="g"):AI[_]||(w===void 0&&(w=12),S=!0,_="g"),(g||h==="0"&&p==="=")&&(g=!0,h="0",p="=");var C=m==="$"?r:m==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",E=m==="$"?n:/[%p]/.test(_)?o:"",A=AI[_],O=/[defgprs%]/.test(_);w=w===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function T(N){var P=C,$=E,D,F,L;if(_==="c")$=A(N)+$,N="";else{N=+N;var M=N<0||1/N<0;if(N=isNaN(N)?l:A(Math.abs(N),w),S&&(N=sAe(N)),M&&+N==0&&v!=="+"&&(M=!1),P=(M?v==="("?v:s:v==="-"||v==="("?"":v)+P,$=(_==="s"?jI[8+GB/3]:"")+$+(M&&v==="("?")":""),O){for(D=-1,F=N.length;++D<F;)if(L=N.charCodeAt(D),48>L||L>57){$=(L===46?i+N.slice(D+1):N.slice(D))+$,N=N.slice(0,D);break}}}x&&!g&&(N=e(N,1/0));var j=P.length+N.length+$.length,R=j<y?new Array(y-j+1).join(h):"";switch(x&&g&&(N=e(R+N,R.length?y-$.length:1/0),R=""),p){case"<":N=P+N+$+R;break;case"=":N=P+R+N+$;break;case"^":N=R.slice(0,j=R.length>>1)+P+N+$+R.slice(j);break;default:N=R+P+N+$;break}return a(N)}return T.toString=function(){return f+""},T}function d(f,h){var p=c((f=_m(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(xf(h)/3)))*3,m=Math.pow(10,-v),g=jI[8+v/3];return function(y){return p(m*y)+g}}return{format:c,formatPrefix:d}}var R0,pN,qB;uAe({thousands:",",grouping:[3],currency:["$",""]});function uAe(t){return R0=cAe(t),pN=R0.format,qB=R0.formatPrefix,R0}function dAe(t){return Math.max(0,-xf(Math.abs(t)))}function fAe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(xf(e)/3)))*3-xf(Math.abs(t)))}function hAe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,xf(e)-xf(t))+1}function KB(t,e,r,n){var i=rC(t,e,r),a;switch(n=_m(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=fAe(i,o))&&(n.precision=a),qB(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=hAe(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=dAe(i))&&(n.precision=a-(n.type==="%")*2);break}}return pN(n)}function Zl(t){var e=t.domain;return t.ticks=function(r){var n=e();return eC(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return KB(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],s=n[a],l,c,d=10;for(s<o&&(c=o,o=s,s=c,c=i,i=a,a=c);d-- >0;){if(c=tC(o,s,r),c===l)return n[i]=o,n[a]=s,e(n);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return t},t}function Ly(){var t=fN();return t.copy=function(){return Rv(t,Ly())},ga.apply(t,arguments),Zl(t)}function XB(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,My),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return XB(t).unknown(e)},t=arguments.length?Array.from(t,My):[0,1],Zl(r)}function YB(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function TI(t){return Math.log(t)}function PI(t){return Math.exp(t)}function pAe(t){return-Math.log(-t)}function mAe(t){return-Math.exp(-t)}function vAe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function gAe(t){return t===10?vAe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function yAe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function kI(t){return(e,r)=>-t(-e,r)}function mN(t){const e=t(TI,PI),r=e.domain;let n=10,i,a;function o(){return i=yAe(n),a=gAe(n),r()[0]<0?(i=kI(i),a=kI(a),t(pAe,mAe)):t(TI,PI),e}return e.base=function(s){return arguments.length?(n=+s,o()):n},e.domain=function(s){return arguments.length?(r(s),o()):r()},e.ticks=s=>{const l=r();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let h=i(c),p=i(d),v,m;const g=s==null?10:+s;let y=[];if(!(n%1)&&p-h<g){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(v=1;v<n;++v)if(m=h<0?v/a(-h):v*a(h),!(m<c)){if(m>d)break;y.push(m)}}else for(;h<=p;++h)for(v=n-1;v>=1;--v)if(m=h>0?v/a(-h):v*a(h),!(m<c)){if(m>d)break;y.push(m)}y.length*2<g&&(y=eC(c,d,g))}else y=eC(h,p,Math.min(p-h,g)).map(a);return f?y.reverse():y},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=_m(l)).precision==null&&(l.trim=!0),l=pN(l)),s===1/0)return l;const c=Math.max(1,n*s/e.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=c?l(d):""}},e.nice=()=>r(YB(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function ZB(){const t=mN(Kx()).domain([1,10]);return t.copy=()=>Rv(t,ZB()).base(t.base()),ga.apply(t,arguments),t}function II(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function RI(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function vN(t){var e=1,r=t(II(e),RI(e));return r.constant=function(n){return arguments.length?t(II(e=+n),RI(e)):e},Zl(r)}function QB(){var t=vN(Kx());return t.copy=function(){return Rv(t,QB()).constant(t.constant())},ga.apply(t,arguments)}function DI(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function xAe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function wAe(t){return t<0?-t*t:t*t}function gN(t){var e=t(Gn,Gn),r=1;function n(){return r===1?t(Gn,Gn):r===.5?t(xAe,wAe):t(DI(r),DI(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Zl(e)}function yN(){var t=gN(Kx());return t.copy=function(){return Rv(t,yN()).exponent(t.exponent())},ga.apply(t,arguments),t}function bAe(){return yN.apply(null,arguments).exponent(.5)}function MI(t){return Math.sign(t)*t*t}function _Ae(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function JB(){var t=fN(),e=[0,1],r=!1,n;function i(a){var o=_Ae(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(MI(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,My)).map(MI)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return JB(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},ga.apply(i,arguments),Zl(i)}function eU(){var t=[],e=[],r=[],n;function i(){var o=0,s=Math.max(1,e.length);for(r=new Array(s-1);++o<s;)r[o-1]=OEe(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:e[kv(r,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:t[0],s<r.length?r[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Tl),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return eU().domain(t).range(e).unknown(n)},ga.apply(a,arguments)}function tU(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[kv(n,l,0,r)]:a}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,n[0]]:c>=r?[n[r-1],e]:[n[c-1],n[c]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return tU().domain([t,e]).range(i).unknown(a)},ga.apply(Zl(o),arguments)}function rU(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[kv(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return rU().domain(t).range(e).unknown(r)},ga.apply(i,arguments)}const n_=new Date,i_=new Date;function ln(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let c;do l.push(c=new Date(+a)),e(a,s),t(a);while(c<a&&a<o);return l},i.filter=a=>ln(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(n_.setTime(+a),i_.setTime(+o),t(n_),t(i_),Math.floor(r(n_,i_))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Fy=ln(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Fy.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ln(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Fy);Fy.range;const ns=1e3,oa=ns*60,is=oa*60,As=is*24,xN=As*7,$I=As*30,a_=As*365,Nc=ln(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ns)},(t,e)=>(e-t)/ns,t=>t.getUTCSeconds());Nc.range;const wN=ln(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ns)},(t,e)=>{t.setTime(+t+e*oa)},(t,e)=>(e-t)/oa,t=>t.getMinutes());wN.range;const bN=ln(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*oa)},(t,e)=>(e-t)/oa,t=>t.getUTCMinutes());bN.range;const _N=ln(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ns-t.getMinutes()*oa)},(t,e)=>{t.setTime(+t+e*is)},(t,e)=>(e-t)/is,t=>t.getHours());_N.range;const SN=ln(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*is)},(t,e)=>(e-t)/is,t=>t.getUTCHours());SN.range;const Dv=ln(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*oa)/As,t=>t.getDate()-1);Dv.range;const Xx=ln(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/As,t=>t.getUTCDate()-1);Xx.range;const nU=ln(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/As,t=>Math.floor(t/As));nU.range;function Ou(t){return ln(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*oa)/xN)}const Yx=Ou(0),By=Ou(1),SAe=Ou(2),CAe=Ou(3),wf=Ou(4),EAe=Ou(5),AAe=Ou(6);Yx.range;By.range;SAe.range;CAe.range;wf.range;EAe.range;AAe.range;function Nu(t){return ln(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/xN)}const Zx=Nu(0),Uy=Nu(1),OAe=Nu(2),NAe=Nu(3),bf=Nu(4),jAe=Nu(5),TAe=Nu(6);Zx.range;Uy.range;OAe.range;NAe.range;bf.range;jAe.range;TAe.range;const CN=ln(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());CN.range;const EN=ln(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());EN.range;const Os=ln(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Os.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ln(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Os.range;const Ns=ln(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ns.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ln(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Ns.range;function iU(t,e,r,n,i,a){const o=[[Nc,1,ns],[Nc,5,5*ns],[Nc,15,15*ns],[Nc,30,30*ns],[a,1,oa],[a,5,5*oa],[a,15,15*oa],[a,30,30*oa],[i,1,is],[i,3,3*is],[i,6,6*is],[i,12,12*is],[n,1,As],[n,2,2*As],[r,1,xN],[e,1,$I],[e,3,3*$I],[t,1,a_]];function s(c,d,f){const h=d<c;h&&([c,d]=[d,c]);const p=f&&typeof f.range=="function"?f:l(c,d,f),v=p?p.range(c,+d+1):[];return h?v.reverse():v}function l(c,d,f){const h=Math.abs(d-c)/f,p=sN(([,,g])=>g).right(o,h);if(p===o.length)return t.every(rC(c/a_,d/a_,f));if(p===0)return Fy.every(Math.max(rC(c,d,f),1));const[v,m]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return v.every(m)}return[s,l]}const[PAe,kAe]=iU(Ns,EN,Zx,nU,SN,bN),[IAe,RAe]=iU(Os,CN,Yx,Dv,_N,wN);function o_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function s_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Bh(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function DAe(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,c=Uh(i),d=Vh(i),f=Uh(a),h=Vh(a),p=Uh(o),v=Vh(o),m=Uh(s),g=Vh(s),y=Uh(l),x=Vh(l),w={a:M,A:j,b:R,B:V,c:null,d:WI,e:WI,f:iOe,g:pOe,G:vOe,H:tOe,I:rOe,j:nOe,L:aU,m:aOe,M:oOe,p:W,q:z,Q:GI,s:qI,S:sOe,u:lOe,U:cOe,V:uOe,w:dOe,W:fOe,x:null,X:null,y:hOe,Y:mOe,Z:gOe,"%":HI},S={a:K,A:re,b:ue,B:le,c:null,d:zI,e:zI,f:bOe,g:POe,G:IOe,H:yOe,I:xOe,j:wOe,L:sU,m:_Oe,M:SOe,p:J,q:me,Q:GI,s:qI,S:COe,u:EOe,U:AOe,V:OOe,w:NOe,W:jOe,x:null,X:null,y:TOe,Y:kOe,Z:ROe,"%":HI},_={a:T,A:N,b:P,B:$,c:D,d:UI,e:UI,f:ZAe,g:BI,G:FI,H:VI,I:VI,j:qAe,L:YAe,m:GAe,M:KAe,p:O,q:HAe,Q:JAe,s:eOe,S:XAe,u:BAe,U:UAe,V:VAe,w:FAe,W:WAe,x:F,X:L,y:BI,Y:FI,Z:zAe,"%":QAe};w.x=C(r,w),w.X=C(n,w),w.c=C(e,w),S.x=C(r,S),S.X=C(n,S),S.c=C(e,S);function C(ee,ne){return function(ve){var X=[],q=-1,ie=0,Ve=ee.length,it,St,ft;for(ve instanceof Date||(ve=new Date(+ve));++q<Ve;)ee.charCodeAt(q)===37&&(X.push(ee.slice(ie,q)),(St=LI[it=ee.charAt(++q)])!=null?it=ee.charAt(++q):St=it==="e"?" ":"0",(ft=ne[it])&&(it=ft(ve,St)),X.push(it),ie=q+1);return X.push(ee.slice(ie,q)),X.join("")}}function E(ee,ne){return function(ve){var X=Bh(1900,void 0,1),q=A(X,ee,ve+="",0),ie,Ve;if(q!=ve.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(ne&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(ie=s_(Bh(X.y,0,1)),Ve=ie.getUTCDay(),ie=Ve>4||Ve===0?Uy.ceil(ie):Uy(ie),ie=Xx.offset(ie,(X.V-1)*7),X.y=ie.getUTCFullYear(),X.m=ie.getUTCMonth(),X.d=ie.getUTCDate()+(X.w+6)%7):(ie=o_(Bh(X.y,0,1)),Ve=ie.getDay(),ie=Ve>4||Ve===0?By.ceil(ie):By(ie),ie=Dv.offset(ie,(X.V-1)*7),X.y=ie.getFullYear(),X.m=ie.getMonth(),X.d=ie.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),Ve="Z"in X?s_(Bh(X.y,0,1)).getUTCDay():o_(Bh(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(Ve+5)%7:X.w+X.U*7-(Ve+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,s_(X)):o_(X)}}function A(ee,ne,ve,X){for(var q=0,ie=ne.length,Ve=ve.length,it,St;q<ie;){if(X>=Ve)return-1;if(it=ne.charCodeAt(q++),it===37){if(it=ne.charAt(q++),St=_[it in LI?ne.charAt(q++):it],!St||(X=St(ee,ve,X))<0)return-1}else if(it!=ve.charCodeAt(X++))return-1}return X}function O(ee,ne,ve){var X=c.exec(ne.slice(ve));return X?(ee.p=d.get(X[0].toLowerCase()),ve+X[0].length):-1}function T(ee,ne,ve){var X=p.exec(ne.slice(ve));return X?(ee.w=v.get(X[0].toLowerCase()),ve+X[0].length):-1}function N(ee,ne,ve){var X=f.exec(ne.slice(ve));return X?(ee.w=h.get(X[0].toLowerCase()),ve+X[0].length):-1}function P(ee,ne,ve){var X=y.exec(ne.slice(ve));return X?(ee.m=x.get(X[0].toLowerCase()),ve+X[0].length):-1}function $(ee,ne,ve){var X=m.exec(ne.slice(ve));return X?(ee.m=g.get(X[0].toLowerCase()),ve+X[0].length):-1}function D(ee,ne,ve){return A(ee,e,ne,ve)}function F(ee,ne,ve){return A(ee,r,ne,ve)}function L(ee,ne,ve){return A(ee,n,ne,ve)}function M(ee){return o[ee.getDay()]}function j(ee){return a[ee.getDay()]}function R(ee){return l[ee.getMonth()]}function V(ee){return s[ee.getMonth()]}function W(ee){return i[+(ee.getHours()>=12)]}function z(ee){return 1+~~(ee.getMonth()/3)}function K(ee){return o[ee.getUTCDay()]}function re(ee){return a[ee.getUTCDay()]}function ue(ee){return l[ee.getUTCMonth()]}function le(ee){return s[ee.getUTCMonth()]}function J(ee){return i[+(ee.getUTCHours()>=12)]}function me(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var ne=C(ee+="",w);return ne.toString=function(){return ee},ne},parse:function(ee){var ne=E(ee+="",!1);return ne.toString=function(){return ee},ne},utcFormat:function(ee){var ne=C(ee+="",S);return ne.toString=function(){return ee},ne},utcParse:function(ee){var ne=E(ee+="",!0);return ne.toString=function(){return ee},ne}}}var LI={"-":"",_:" ",0:"0"},gn=/^\s*\d+/,MAe=/^%/,$Ae=/[\\^$*+?|[\]().{}]/g;function _t(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function LAe(t){return t.replace($Ae,"\\$&")}function Uh(t){return new RegExp("^(?:"+t.map(LAe).join("|")+")","i")}function Vh(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function FAe(t,e,r){var n=gn.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function BAe(t,e,r){var n=gn.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function UAe(t,e,r){var n=gn.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function VAe(t,e,r){var n=gn.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function WAe(t,e,r){var n=gn.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function FI(t,e,r){var n=gn.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function BI(t,e,r){var n=gn.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function zAe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function HAe(t,e,r){var n=gn.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function GAe(t,e,r){var n=gn.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function UI(t,e,r){var n=gn.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function qAe(t,e,r){var n=gn.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function VI(t,e,r){var n=gn.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function KAe(t,e,r){var n=gn.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function XAe(t,e,r){var n=gn.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function YAe(t,e,r){var n=gn.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function ZAe(t,e,r){var n=gn.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function QAe(t,e,r){var n=MAe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function JAe(t,e,r){var n=gn.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function eOe(t,e,r){var n=gn.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function WI(t,e){return _t(t.getDate(),e,2)}function tOe(t,e){return _t(t.getHours(),e,2)}function rOe(t,e){return _t(t.getHours()%12||12,e,2)}function nOe(t,e){return _t(1+Dv.count(Os(t),t),e,3)}function aU(t,e){return _t(t.getMilliseconds(),e,3)}function iOe(t,e){return aU(t,e)+"000"}function aOe(t,e){return _t(t.getMonth()+1,e,2)}function oOe(t,e){return _t(t.getMinutes(),e,2)}function sOe(t,e){return _t(t.getSeconds(),e,2)}function lOe(t){var e=t.getDay();return e===0?7:e}function cOe(t,e){return _t(Yx.count(Os(t)-1,t),e,2)}function oU(t){var e=t.getDay();return e>=4||e===0?wf(t):wf.ceil(t)}function uOe(t,e){return t=oU(t),_t(wf.count(Os(t),t)+(Os(t).getDay()===4),e,2)}function dOe(t){return t.getDay()}function fOe(t,e){return _t(By.count(Os(t)-1,t),e,2)}function hOe(t,e){return _t(t.getFullYear()%100,e,2)}function pOe(t,e){return t=oU(t),_t(t.getFullYear()%100,e,2)}function mOe(t,e){return _t(t.getFullYear()%1e4,e,4)}function vOe(t,e){var r=t.getDay();return t=r>=4||r===0?wf(t):wf.ceil(t),_t(t.getFullYear()%1e4,e,4)}function gOe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+_t(e/60|0,"0",2)+_t(e%60,"0",2)}function zI(t,e){return _t(t.getUTCDate(),e,2)}function yOe(t,e){return _t(t.getUTCHours(),e,2)}function xOe(t,e){return _t(t.getUTCHours()%12||12,e,2)}function wOe(t,e){return _t(1+Xx.count(Ns(t),t),e,3)}function sU(t,e){return _t(t.getUTCMilliseconds(),e,3)}function bOe(t,e){return sU(t,e)+"000"}function _Oe(t,e){return _t(t.getUTCMonth()+1,e,2)}function SOe(t,e){return _t(t.getUTCMinutes(),e,2)}function COe(t,e){return _t(t.getUTCSeconds(),e,2)}function EOe(t){var e=t.getUTCDay();return e===0?7:e}function AOe(t,e){return _t(Zx.count(Ns(t)-1,t),e,2)}function lU(t){var e=t.getUTCDay();return e>=4||e===0?bf(t):bf.ceil(t)}function OOe(t,e){return t=lU(t),_t(bf.count(Ns(t),t)+(Ns(t).getUTCDay()===4),e,2)}function NOe(t){return t.getUTCDay()}function jOe(t,e){return _t(Uy.count(Ns(t)-1,t),e,2)}function TOe(t,e){return _t(t.getUTCFullYear()%100,e,2)}function POe(t,e){return t=lU(t),_t(t.getUTCFullYear()%100,e,2)}function kOe(t,e){return _t(t.getUTCFullYear()%1e4,e,4)}function IOe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?bf(t):bf.ceil(t),_t(t.getUTCFullYear()%1e4,e,4)}function ROe(){return"+0000"}function HI(){return"%"}function GI(t){return+t}function qI(t){return Math.floor(+t/1e3)}var Hu,cU,uU;DOe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function DOe(t){return Hu=DAe(t),cU=Hu.format,Hu.parse,uU=Hu.utcFormat,Hu.utcParse,Hu}function MOe(t){return new Date(t)}function $Oe(t){return t instanceof Date?+t:+new Date(+t)}function AN(t,e,r,n,i,a,o,s,l,c){var d=fN(),f=d.invert,h=d.domain,p=c(".%L"),v=c(":%S"),m=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),x=c("%b %d"),w=c("%B"),S=c("%Y");function _(C){return(l(C)<C?p:s(C)<C?v:o(C)<C?m:a(C)<C?g:n(C)<C?i(C)<C?y:x:r(C)<C?w:S)(C)}return d.invert=function(C){return new Date(f(C))},d.domain=function(C){return arguments.length?h(Array.from(C,$Oe)):h().map(MOe)},d.ticks=function(C){var E=h();return t(E[0],E[E.length-1],C??10)},d.tickFormat=function(C,E){return E==null?_:c(E)},d.nice=function(C){var E=h();return(!C||typeof C.range!="function")&&(C=e(E[0],E[E.length-1],C??10)),C?h(YB(E,C)):d},d.copy=function(){return Rv(d,AN(t,e,r,n,i,a,o,s,l,c))},d}function LOe(){return ga.apply(AN(IAe,RAe,Os,CN,Yx,Dv,_N,wN,Nc,cU).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function FOe(){return ga.apply(AN(PAe,kAe,Ns,EN,Zx,Xx,SN,bN,Nc,uU).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Qx(){var t=0,e=1,r,n,i,a,o=Gn,s=!1,l;function c(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(a(f)-r)*i,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),c):[t,e]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(o=f,c):o};function d(f){return function(h){var p,v;return arguments.length?([p,v]=h,o=f(p,v),c):[o(0),o(1)]}}return c.range=d(gh),c.rangeRound=d(dN),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),c}}function Ql(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function dU(){var t=Zl(Qx()(Gn));return t.copy=function(){return Ql(t,dU())},Rs.apply(t,arguments)}function fU(){var t=mN(Qx()).domain([1,10]);return t.copy=function(){return Ql(t,fU()).base(t.base())},Rs.apply(t,arguments)}function hU(){var t=vN(Qx());return t.copy=function(){return Ql(t,hU()).constant(t.constant())},Rs.apply(t,arguments)}function ON(){var t=gN(Qx());return t.copy=function(){return Ql(t,ON()).exponent(t.exponent())},Rs.apply(t,arguments)}function BOe(){return ON.apply(null,arguments).exponent(.5)}function pU(){var t=[],e=Gn;function r(n){if(n!=null&&!isNaN(n=+n))return e((kv(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Tl),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>AEe(t,a/n))},r.copy=function(){return pU(e).domain(t)},Rs.apply(r,arguments)}function Jx(){var t=0,e=.5,r=1,n=1,i,a,o,s,l,c=Gn,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-a)*(n*m<n*a?s:l),c(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([t,e,r]=m,i=d(t=+t),a=d(e=+e),o=d(r=+r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,p):[t,e,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(c=m,p):c};function v(m){return function(g){var y,x,w;return arguments.length?([y,x,w]=g,c=QEe(m,[y,x,w]),p):[c(0),c(.5),c(1)]}}return p.range=v(gh),p.rangeRound=v(dN),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,i=m(t),a=m(e),o=m(r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,p}}function mU(){var t=Zl(Jx()(Gn));return t.copy=function(){return Ql(t,mU())},Rs.apply(t,arguments)}function vU(){var t=mN(Jx()).domain([.1,1,10]);return t.copy=function(){return Ql(t,vU()).base(t.base())},Rs.apply(t,arguments)}function gU(){var t=vN(Jx());return t.copy=function(){return Ql(t,gU()).constant(t.constant())},Rs.apply(t,arguments)}function NN(){var t=gN(Jx());return t.copy=function(){return Ql(t,NN()).exponent(t.exponent())},Rs.apply(t,arguments)}function UOe(){return NN.apply(null,arguments).exponent(.5)}const KI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ym,scaleDiverging:mU,scaleDivergingLog:vU,scaleDivergingPow:NN,scaleDivergingSqrt:UOe,scaleDivergingSymlog:gU,scaleIdentity:XB,scaleImplicit:nC,scaleLinear:Ly,scaleLog:ZB,scaleOrdinal:lN,scalePoint:Sp,scalePow:yN,scaleQuantile:eU,scaleQuantize:tU,scaleRadial:JB,scaleSequential:dU,scaleSequentialLog:fU,scaleSequentialPow:ON,scaleSequentialQuantile:pU,scaleSequentialSqrt:BOe,scaleSequentialSymlog:hU,scaleSqrt:bAe,scaleSymlog:QB,scaleThreshold:rU,scaleTime:LOe,scaleUtc:FOe,tickFormat:KB},Symbol.toStringTag,{value:"Module"}));var VOe=lh;function WOe(t,e,r){for(var n=-1,i=t.length;++n<i;){var a=t[n],o=e(a);if(o!=null&&(s===void 0?o===o&&!VOe(o):r(o,s)))var s=o,l=a}return l}var ew=WOe;function zOe(t,e){return t>e}var yU=zOe,HOe=ew,GOe=yU,qOe=vh;function KOe(t){return t&&t.length?HOe(t,qOe,GOe):void 0}var XOe=KOe;const tw=Dt(XOe);function YOe(t,e){return t<e}var xU=YOe,ZOe=ew,QOe=xU,JOe=vh;function eNe(t){return t&&t.length?ZOe(t,JOe,QOe):void 0}var tNe=eNe;const rw=Dt(tNe);var rNe=UO,nNe=Yl,iNe=OB,aNe=vi;function oNe(t,e){var r=aNe(t)?rNe:iNe;return r(t,nNe(e))}var sNe=oNe,lNe=EB,cNe=sNe;function uNe(t,e){return lNe(cNe(t,e),1)}var dNe=uNe;const fNe=Dt(dNe);var hNe=nN;function pNe(t,e){return hNe(t,e)}var mNe=pNe;const Mv=Dt(mNe);var yh=1e9,vNe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},TN,vr=!0,fa="[DecimalError] ",Wc=fa+"Invalid argument: ",jN=fa+"Exponent out of range: ",xh=Math.floor,vc=Math.pow,gNe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Oi,dn=1e7,cr=7,wU=9007199254740991,Vy=xh(wU/cr),Te={};Te.absoluteValue=Te.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Te.comparedTo=Te.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Te.decimalPlaces=Te.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*cr;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Te.dividedBy=Te.div=function(t){return ls(this,new this.constructor(t))};Te.dividedToIntegerBy=Te.idiv=function(t){var e=this,r=e.constructor;return Wt(ls(e,new r(t),0,1),r.precision)};Te.equals=Te.eq=function(t){return!this.cmp(t)};Te.exponent=function(){return Ur(this)};Te.greaterThan=Te.gt=function(t){return this.cmp(t)>0};Te.greaterThanOrEqualTo=Te.gte=function(t){return this.cmp(t)>=0};Te.isInteger=Te.isint=function(){return this.e>this.d.length-2};Te.isNegative=Te.isneg=function(){return this.s<0};Te.isPositive=Te.ispos=function(){return this.s>0};Te.isZero=function(){return this.s===0};Te.lessThan=Te.lt=function(t){return this.cmp(t)<0};Te.lessThanOrEqualTo=Te.lte=function(t){return this.cmp(t)<1};Te.logarithm=Te.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Oi))throw Error(fa+"NaN");if(r.s<1)throw Error(fa+(r.s?"NaN":"-Infinity"));return r.eq(Oi)?new n(0):(vr=!1,e=ls(Sm(r,a),Sm(t,a),a),vr=!0,Wt(e,i))};Te.minus=Te.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?SU(e,t):bU(e,(t.s=-t.s,t))};Te.modulo=Te.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(fa+"NaN");return r.s?(vr=!1,e=ls(r,t,0,1).times(t),vr=!0,r.minus(e)):Wt(new n(r),i)};Te.naturalExponential=Te.exp=function(){return _U(this)};Te.naturalLogarithm=Te.ln=function(){return Sm(this)};Te.negated=Te.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Te.plus=Te.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?bU(e,t):SU(e,(t.s=-t.s,t))};Te.precision=Te.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Wc+t);if(e=Ur(i)+1,n=i.d.length-1,r=n*cr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Te.squareRoot=Te.sqrt=function(){var t,e,r,n,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(fa+"NaN")}for(t=Ur(s),vr=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=go(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=xh((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(a=n,n=a.plus(ls(s,a,o+2)).times(.5),go(a.d).slice(0,o)===(e=go(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Wt(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(e!="9999")break;o+=4}return vr=!0,Wt(n,r)};Te.times=Te.mul=function(t){var e,r,n,i,a,o,s,l,c,d=this,f=d.constructor,h=d.d,p=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,l=h.length,c=p.length,l<c&&(a=h,h=p,p=a,o=l,l=c,c=o),a=[],o=l+c,n=o;n--;)a.push(0);for(n=c;--n>=0;){for(e=0,i=l+n;i>n;)s=a[i]+p[n]*h[i-n-1]+e,a[i--]=s%dn|0,e=s/dn|0;a[i]=(a[i]+e)%dn|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,vr?Wt(t,f.precision):t};Te.toDecimalPlaces=Te.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(No(t,0,yh),e===void 0?e=n.rounding:No(e,0,8),Wt(r,t+Ur(r)+1,e))};Te.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=uu(n,!0):(No(t,0,yh),e===void 0?e=i.rounding:No(e,0,8),n=Wt(new i(n),t+1,e),r=uu(n,!0,t+1)),r};Te.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?uu(i):(No(t,0,yh),e===void 0?e=a.rounding:No(e,0,8),n=Wt(new a(i),t+Ur(i)+1,e),r=uu(n.abs(),!1,t+Ur(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Te.toInteger=Te.toint=function(){var t=this,e=t.constructor;return Wt(new e(t),Ur(t)+1,e.rounding)};Te.toNumber=function(){return+this};Te.toPower=Te.pow=function(t){var e,r,n,i,a,o,s=this,l=s.constructor,c=12,d=+(t=new l(t));if(!t.s)return new l(Oi);if(s=new l(s),!s.s){if(t.s<1)throw Error(fa+"Infinity");return s}if(s.eq(Oi))return s;if(n=l.precision,t.eq(Oi))return Wt(s,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=s.s,o){if((r=d<0?-d:d)<=wU){for(i=new l(Oi),e=Math.ceil(n/cr+4),vr=!1;r%2&&(i=i.times(s),YI(i.d,e)),r=xh(r/2),r!==0;)s=s.times(s),YI(s.d,e);return vr=!0,t.s<0?new l(Oi).div(i):Wt(i,n)}}else if(a<0)throw Error(fa+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,s.s=1,vr=!1,i=t.times(Sm(s,n+c)),vr=!0,i=_U(i),i.s=a,i};Te.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=Ur(i),n=uu(i,r<=a.toExpNeg||r>=a.toExpPos)):(No(t,1,yh),e===void 0?e=a.rounding:No(e,0,8),i=Wt(new a(i),t,e),r=Ur(i),n=uu(i,t<=r||r<=a.toExpNeg,t)),n};Te.toSignificantDigits=Te.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(No(t,1,yh),e===void 0?e=n.rounding:No(e,0,8)),Wt(new n(r),t,e)};Te.toString=Te.valueOf=Te.val=Te.toJSON=Te[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ur(t),r=t.constructor;return uu(t,e<=r.toExpNeg||e>=r.toExpPos)};function bU(t,e){var r,n,i,a,o,s,l,c,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),vr?Wt(e,f):e;if(l=t.d,c=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(n=l,a=-a,s=c.length):(n=c,i=o,s=l.length),o=Math.ceil(f/cr),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=l.length,a=c.length,s-a<0&&(a=s,n=c,c=l,l=n),r=0;a;)r=(l[--a]=l[a]+c[a]+r)/dn|0,l[a]%=dn;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,vr?Wt(e,f):e}function No(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Wc+t)}function go(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=cr-n.length,r&&(a+=Qs(r)),a+=n;o=t[e],n=o+"",r=cr-n.length,r&&(a+=Qs(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var ls=function(){function t(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%dn|0,o=a/dn|0;return o&&n.unshift(o),n}function e(n,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*dn+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,l,c,d,f,h,p,v,m,g,y,x,w,S,_,C,E,A,O=n.constructor,T=n.s==i.s?1:-1,N=n.d,P=i.d;if(!n.s)return new O(n);if(!i.s)throw Error(fa+"Division by zero");for(l=n.e-i.e,E=P.length,_=N.length,p=new O(T),v=p.d=[],c=0;P[c]==(N[c]||0);)++c;if(P[c]>(N[c]||0)&&--l,a==null?x=a=O.precision:o?x=a+(Ur(n)-Ur(i))+1:x=a,x<0)return new O(0);if(x=x/cr+2|0,c=0,E==1)for(d=0,P=P[0],x++;(c<_||d)&&x--;c++)w=d*dn+(N[c]||0),v[c]=w/P|0,d=w%P|0;else{for(d=dn/(P[0]+1)|0,d>1&&(P=t(P,d),N=t(N,d),E=P.length,_=N.length),S=E,m=N.slice(0,E),g=m.length;g<E;)m[g++]=0;A=P.slice(),A.unshift(0),C=P[0],P[1]>=dn/2&&++C;do d=0,s=e(P,m,E,g),s<0?(y=m[0],E!=g&&(y=y*dn+(m[1]||0)),d=y/C|0,d>1?(d>=dn&&(d=dn-1),f=t(P,d),h=f.length,g=m.length,s=e(f,m,h,g),s==1&&(d--,r(f,E<h?A:P,h))):(d==0&&(s=d=1),f=P.slice()),h=f.length,h<g&&f.unshift(0),r(m,f,g),s==-1&&(g=m.length,s=e(P,m,E,g),s<1&&(d++,r(m,E<g?A:P,g))),g=m.length):s===0&&(d++,m=[0]),v[c++]=d,s&&m[0]?m[g++]=N[S]||0:(m=[N[S]],g=1);while((S++<_||m[0]!==void 0)&&x--)}return v[0]||v.shift(),p.e=l,Wt(p,o?a+Ur(p)+1:a)}}();function _U(t,e){var r,n,i,a,o,s,l=0,c=0,d=t.constructor,f=d.precision;if(Ur(t)>16)throw Error(jN+Ur(t));if(!t.s)return new d(Oi);for(e==null?(vr=!1,s=f):s=e,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),c+=5;for(n=Math.log(vc(2,c))/Math.LN10*2+5|0,s+=n,r=i=a=new d(Oi),d.precision=s;;){if(i=Wt(i.times(t),s),r=r.times(++l),o=a.plus(ls(i,r,s)),go(o.d).slice(0,s)===go(a.d).slice(0,s)){for(;c--;)a=Wt(a.times(a),s);return d.precision=f,e==null?(vr=!0,Wt(a,f)):a}a=o}}function Ur(t){for(var e=t.e*cr,r=t.d[0];r>=10;r/=10)e++;return e}function l_(t,e,r){if(e>t.LN10.sd())throw vr=!0,r&&(t.precision=r),Error(fa+"LN10 precision limit exceeded");return Wt(new t(t.LN10),e)}function Qs(t){for(var e="";t--;)e+="0";return e}function Sm(t,e){var r,n,i,a,o,s,l,c,d,f=1,h=10,p=t,v=p.d,m=p.constructor,g=m.precision;if(p.s<1)throw Error(fa+(p.s?"NaN":"-Infinity"));if(p.eq(Oi))return new m(0);if(e==null?(vr=!1,c=g):c=e,p.eq(10))return e==null&&(vr=!0),l_(m,c);if(c+=h,m.precision=c,r=go(v),n=r.charAt(0),a=Ur(p),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=go(p.d),n=r.charAt(0),f++;a=Ur(p),n>1?(p=new m("0."+r),a++):p=new m(n+"."+r.slice(1))}else return l=l_(m,c+2,g).times(a+""),p=Sm(new m(n+"."+r.slice(1)),c-h).plus(l),m.precision=g,e==null?(vr=!0,Wt(p,g)):p;for(s=o=p=ls(p.minus(Oi),p.plus(Oi),c),d=Wt(p.times(p),c),i=3;;){if(o=Wt(o.times(d),c),l=s.plus(ls(o,new m(i),c)),go(l.d).slice(0,c)===go(s.d).slice(0,c))return s=s.times(2),a!==0&&(s=s.plus(l_(m,c+2,g).times(a+""))),s=ls(s,new m(f),c),m.precision=g,e==null?(vr=!0,Wt(s,g)):s;s=l,i+=2}}function XI(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=xh(r/cr),t.d=[],n=(r+1)%cr,r<0&&(n+=cr),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=cr;n<i;)t.d.push(+e.slice(n,n+=cr));e=e.slice(n),n=cr-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),vr&&(t.e>Vy||t.e<-Vy))throw Error(jN+r)}else t.s=0,t.e=0,t.d=[0];return t}function Wt(t,e,r){var n,i,a,o,s,l,c,d,f=t.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=cr,i=e,c=f[d=0];else{if(d=Math.ceil((n+1)/cr),a=f.length,d>=a)return t;for(c=a=f[d],o=1;a>=10;a/=10)o++;n%=cr,i=n-cr+o}if(r!==void 0&&(a=vc(10,o-i-1),s=c/a%10|0,l=e<0||f[d+1]!==void 0||c%a,l=r<4?(s||l)&&(r==0||r==(t.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?c/vc(10,o-i):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return l?(a=Ur(t),f.length=1,e=e-a-1,f[0]=vc(10,(cr-e%cr)%cr),t.e=xh(-e/cr)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=vc(10,cr-n),f[d]=i>0?(c/vc(10,o-i)%vc(10,i)|0)*a:0),l)for(;;)if(d==0){(f[0]+=a)==dn&&(f[0]=1,++t.e);break}else{if(f[d]+=a,f[d]!=dn)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(vr&&(t.e>Vy||t.e<-Vy))throw Error(jN+Ur(t));return t}function SU(t,e){var r,n,i,a,o,s,l,c,d,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),vr?Wt(e,p):e;if(l=t.d,f=e.d,n=e.e,c=t.e,l=l.slice(),o=c-n,o){for(d=o<0,d?(r=l,o=-o,s=f.length):(r=f,n=c,s=l.length),i=Math.max(Math.ceil(p/cr),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=f.length,d=i<s,d&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}o=0}for(d&&(r=l,l=f,f=r,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=dn-1;--l[a],l[i]+=dn}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,vr?Wt(e,p):e):new h(0)}function uu(t,e,r){var n,i=Ur(t),a=go(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+Qs(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Qs(-i-1)+a,r&&(n=r-o)>0&&(a+=Qs(n))):i>=o?(a+=Qs(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+Qs(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=Qs(n))),t.s<0?"-"+a:a}function YI(t,e){if(t.length>e)return t.length=e,!0}function CU(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Wc+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return XI(o,a.toString())}else if(typeof a!="string")throw Error(Wc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,gNe.test(a))XI(o,a);else throw Error(Wc+a)}if(i.prototype=Te,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=CU,i.config=i.set=yNe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function yNe(t){if(!t||typeof t!="object")throw Error(fa+"Object expected");var e,r,n,i=["precision",1,yh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(xh(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Wc+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Wc+r+": "+n);return this}var TN=CU(vNe);Oi=new TN(1);const Bt=TN;function xNe(t){return SNe(t)||_Ne(t)||bNe(t)||wNe()}function wNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bNe(t,e){if(t){if(typeof t=="string")return sC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sC(t,e)}}function _Ne(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function SNe(t){if(Array.isArray(t))return sC(t)}function sC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var CNe=function(e){return e},EU={"@@functional/placeholder":!0},AU=function(e){return e===EU},ZI=function(e){return function r(){return arguments.length===0||arguments.length===1&&AU(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},ENe=function t(e,r){return e===1?r:ZI(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==EU}).length;return o>=e?r.apply(void 0,i):t(e-o,ZI(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var d=i.map(function(f){return AU(f)?l.shift():f});return r.apply(void 0,xNe(d).concat(l))}))})},nw=function(e){return ENe(e.length,e)},lC=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},ANe=nw(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),ONe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return CNe;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},cC=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},OU=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(s,l){return s===r[l]})||(r=a,n=e.apply(void 0,a)),n}};function NNe(t){var e;return t===0?e=1:e=Math.floor(new Bt(t).abs().log(10).toNumber())+1,e}function jNe(t,e,r){for(var n=new Bt(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var TNe=nw(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),PNe=nw(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),kNe=nw(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const iw={rangeStep:jNe,getDigitCount:NNe,interpolateNumber:TNe,uninterpolateNumber:PNe,uninterpolateTruncation:kNe};function uC(t){return DNe(t)||RNe(t)||NU(t)||INe()}function INe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RNe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function DNe(t){if(Array.isArray(t))return dC(t)}function Cm(t,e){return LNe(t)||$Ne(t,e)||NU(t,e)||MNe()}function MNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NU(t,e){if(t){if(typeof t=="string")return dC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dC(t,e)}}function dC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $Ne(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function LNe(t){if(Array.isArray(t))return t}function jU(t){var e=Cm(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function TU(t,e,r){if(t.lte(0))return new Bt(0);var n=iw.getDigitCount(t.toNumber()),i=new Bt(10).pow(n),a=t.div(i),o=n!==1?.05:.1,s=new Bt(Math.ceil(a.div(o).toNumber())).add(r).mul(o),l=s.mul(i);return e?l:new Bt(Math.ceil(l))}function FNe(t,e,r){var n=1,i=new Bt(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new Bt(10).pow(iw.getDigitCount(t)-1),i=new Bt(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Bt(Math.floor(t)))}else t===0?i=new Bt(Math.floor((e-1)/2)):r||(i=new Bt(Math.floor(t)));var o=Math.floor((e-1)/2),s=ONe(ANe(function(l){return i.add(new Bt(l-o).mul(n)).toNumber()}),lC);return s(0,e)}function PU(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Bt(0),tickMin:new Bt(0),tickMax:new Bt(0)};var a=TU(new Bt(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new Bt(0):(o=new Bt(t).add(e).div(2),o=o.sub(new Bt(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new Bt(e).sub(o).div(a).toNumber()),c=s+l+1;return c>r?PU(t,e,r,n,i+1):(c<r&&(l=e>0?l+(r-c):l,s=e>0?s:s+(r-c)),{step:a,tickMin:o.sub(new Bt(s).mul(a)),tickMax:o.add(new Bt(l).mul(a))})}function BNe(t){var e=Cm(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=jU([r,n]),l=Cm(s,2),c=l[0],d=l[1];if(c===-1/0||d===1/0){var f=d===1/0?[c].concat(uC(lC(0,i-1).map(function(){return 1/0}))):[].concat(uC(lC(0,i-1).map(function(){return-1/0})),[d]);return r>n?cC(f):f}if(c===d)return FNe(c,i,a);var h=PU(c,d,o,a),p=h.step,v=h.tickMin,m=h.tickMax,g=iw.rangeStep(v,m.add(new Bt(.1).mul(p)),p);return r>n?cC(g):g}function UNe(t,e){var r=Cm(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=jU([n,i]),s=Cm(o,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,i];if(l===c)return[l];var d=Math.max(e,2),f=TU(new Bt(c).sub(l).div(d-1),a,0),h=[].concat(uC(iw.rangeStep(new Bt(l),new Bt(c).sub(new Bt(.99).mul(f)),f)),[c]);return n>i?cC(h):h}var VNe=OU(BNe),WNe=OU(UNe),zNe="Invariant failed";function du(t,e){throw new Error(zNe)}var HNe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}function Wy(){return Wy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wy.apply(this,arguments)}function GNe(t,e){return YNe(t)||XNe(t,e)||KNe(t,e)||qNe()}function qNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KNe(t,e){if(t){if(typeof t=="string")return QI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QI(t,e)}}function QI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function XNe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function YNe(t){if(Array.isArray(t))return t}function ZNe(t,e){if(t==null)return{};var r=QNe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function QNe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function JNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eje(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RU(n.key),n)}}function tje(t,e,r){return e&&eje(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rje(t,e,r){return e=zy(e),nje(t,kU()?Reflect.construct(e,r||[],zy(t).constructor):e.apply(t,r))}function nje(t,e){if(e&&(_f(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ije(t)}function ije(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kU=function(){return!!t})()}function zy(t){return zy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zy(t)}function aje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fC(t,e)}function fC(t,e){return fC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fC(t,e)}function IU(t,e,r){return e=RU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RU(t){var e=oje(t,"string");return _f(e)=="symbol"?e:e+""}function oje(t,e){if(_f(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(_f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $v=function(t){function e(){return JNe(this,e),rje(this,e,arguments)}return aje(e,t),tje(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,s=n.dataKey,l=n.data,c=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=ZNe(n,HNe),p=We(h,!1);this.props.direction==="x"&&d.type!=="number"&&du();var v=l.map(function(m){var g=c(m,s),y=g.x,x=g.y,w=g.value,S=g.errorVal;if(!S)return null;var _=[],C,E;if(Array.isArray(S)){var A=GNe(S,2);C=A[0],E=A[1]}else C=E=S;if(a==="vertical"){var O=d.scale,T=x+i,N=T+o,P=T-o,$=O(w-C),D=O(w+E);_.push({x1:D,y1:N,x2:D,y2:P}),_.push({x1:$,y1:T,x2:D,y2:T}),_.push({x1:$,y1:N,x2:$,y2:P})}else if(a==="horizontal"){var F=f.scale,L=y+i,M=L-o,j=L+o,R=F(w-C),V=F(w+E);_.push({x1:M,y1:V,x2:j,y2:V}),_.push({x1:L,y1:R,x2:L,y2:V}),_.push({x1:M,y1:R,x2:j,y2:R})}return k.createElement(bt,Wy({className:"recharts-errorBar",key:"bar-".concat(_.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},p),_.map(function(W){return k.createElement("line",Wy({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return k.createElement(bt,{className:"recharts-errorBars"},v)}}])}(k.Component);IU($v,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});IU($v,"displayName","ErrorBar");function Em(t){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Em(t)}function JI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JI(Object(r),!0).forEach(function(n){sje(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sje(t,e,r){return e=lje(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lje(t){var e=cje(t,"string");return Em(e)=="symbol"?e:e+""}function cje(t,e){if(Em(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DU=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=bi(r,kd);if(!o)return null;var s=kd.defaultProps,l=s!==void 0?oc(oc({},s),o.props):{},c;return o.props&&o.props.payload?c=o.props&&o.props.payload:a==="children"?c=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,v=p.sectors||p.data||[];return d.concat(v.map(function(m){return{type:o.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):c=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?oc(oc({},h),f.props):{},v=p.dataKey,m=p.name,g=p.legendType,y=p.hide;return{inactive:y,dataKey:v,type:l.iconType||g||"square",color:PN(f),value:m||v,payload:p}}),oc(oc(oc({},l),kd.getWithHeight(o,i)),{},{payload:c,item:o})};function Am(t){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Am(t)}function e4(t){return hje(t)||fje(t)||dje(t)||uje()}function uje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dje(t,e){if(t){if(typeof t=="string")return hC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hC(t,e)}}function fje(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hje(t){if(Array.isArray(t))return hC(t)}function hC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function t4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t4(Object(r),!0).forEach(function(n){Rd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rd(t,e,r){return e=pje(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pje(t){var e=mje(t,"string");return Am(e)=="symbol"?e:e+""}function mje(t,e){if(Am(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function en(t,e,r){return Qe(t)||Qe(e)?r:nn(e)?ki(t,e,r):Xe(e)?e(t):r}function Cp(t,e,r,n){var i=fNe(t,function(s){return en(s,e)});if(r==="number"){var a=i.filter(function(s){return ge(s)||parseFloat(s)});return a.length?[rw(a),tw(a)]:[1/0,-1/0]}var o=n?i.filter(function(s){return!Qe(s)}):i;return o.map(function(s){return nn(s)||s instanceof Date?s:""})}var vje=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<s;c++){var d=c>0?i[c-1].coordinate:i[s-1].coordinate,f=i[c].coordinate,h=c>=s-1?i[0].coordinate:i[c+1].coordinate,p=void 0;if(zn(f-d)!==zn(h-f)){var v=[];if(zn(h-f)===zn(l[1]-l[0])){p=h;var m=f+l[1]-l[0];v[0]=Math.min(m,(m+d)/2),v[1]=Math.max(m,(m+d)/2)}else{p=d;var g=h+l[1]-l[0];v[0]=Math.min(f,(g+f)/2),v[1]=Math.max(f,(g+f)/2)}var y=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>y[0]&&e<=y[1]||e>=v[0]&&e<=v[1]){o=i[c].index;break}}else{var x=Math.min(d,h),w=Math.max(d,h);if(e>(x+f)/2&&e<=(w+f)/2){o=i[c].index;break}}}else for(var S=0;S<s;S++)if(S===0&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<s-1&&e>(n[S].coordinate+n[S-1].coordinate)/2&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S===s-1&&e>(n[S].coordinate+n[S-1].coordinate)/2){o=n[S].index;break}return o},PN=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?jr(jr({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},gje=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,c=s.length;l<c;l++)for(var d=a[s[l]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var v=d[f[h]],m=v.items,g=v.cateAxisId,y=m.filter(function(E){return os(E.type).indexOf("Bar")>=0});if(y&&y.length){var x=y[0].type.defaultProps,w=x!==void 0?jr(jr({},x),y[0].props):y[0].props,S=w.barSize,_=w[g];o[_]||(o[_]=[]);var C=Qe(S)?r:S;o[_].push({item:y[0],stackList:y.slice(1),barSize:Qe(C)?void 0:Hn(C,n,0)})}}return o},yje=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var c=Hn(r,i,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=i/l,v=o.reduce(function(S,_){return S+_.barSize||0},0);v+=(l-1)*c,v>=i&&(v-=(l-1)*c,c=0),v>=i&&p>0&&(h=!0,p*=.9,v=l*p);var m=(i-v)/2>>0,g={offset:m-c,size:0};d=o.reduce(function(S,_){var C={item:_.item,position:{offset:g.offset+g.size+c,size:h?p:_.barSize}},E=[].concat(e4(S),[C]);return g=E[E.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(A){E.push({item:A,position:g})}),E},f)}else{var y=Hn(n,i,0,!0);i-2*y-(l-1)*c<=0&&(c=0);var x=(i-2*y-(l-1)*c)/l;x>1&&(x>>=0);var w=s===+s?Math.min(x,s):x;d=o.reduce(function(S,_,C){var E=[].concat(e4(S),[{item:_.item,position:{offset:y+(x+c)*C+(x-w)/2,size:w}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(A){E.push({item:A,position:E[E.length-1].position})}),E},f)}return d},xje=function(e,r,n,i){var a=n.children,o=n.width,s=n.margin,l=o-(s.left||0)-(s.right||0),c=DU({children:a,legendWidth:l});if(c){var d=i||{},f=d.width,h=d.height,p=c.align,v=c.verticalAlign,m=c.layout;if((m==="vertical"||m==="horizontal"&&v==="middle")&&p!=="center"&&ge(e[p]))return jr(jr({},e),{},Rd({},p,e[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&v!=="middle"&&ge(e[v]))return jr(jr({},e),{},Rd({},v,e[v]+(h||0)))}return e},wje=function(e,r,n){return Qe(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},MU=function(e,r,n,i,a){var o=r.props.children,s=Ii(o,$v).filter(function(c){return wje(i,a,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return e.reduce(function(c,d){var f=en(d,n);if(Qe(f))return c;var h=Array.isArray(f)?[rw(f),tw(f)]:[f,f],p=l.reduce(function(v,m){var g=en(d,m,0),y=h[0]-Math.abs(Array.isArray(g)?g[0]:g),x=h[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(y,v[0]),Math.max(x,v[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},bje=function(e,r,n,i,a){var o=r.map(function(s){return MU(e,s,n,a,i)}).filter(function(s){return!Qe(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},$U=function(e,r,n,i,a){var o=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&MU(e,l,c,i)||Cp(e,c,n,a)});if(n==="number")return o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,c){for(var d=0,f=c.length;d<f;d++)s[c[d]]||(s[c[d]]=!0,l.push(c[d]));return l},[])},LU=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},jc=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?zn(s[0]-s[1])*2*c:c,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+c,value:f,offset:c}});return d.filter(function(f){return!Pv(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+c,value:f,index:h,offset:c}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,h){return{coordinate:i(f)+c,value:a?a[f]:f,index:h,offset:c}})},c_=new WeakMap,D0=function(e,r){if(typeof r!="function")return e;c_.has(e)||c_.set(e,new WeakMap);var n=c_.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},FU=function(e,r,n){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:ym(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:Ly(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Sp(),realScaleType:"point"}:a==="category"?{scale:ym(),realScaleType:"band"}:{scale:Ly(),realScaleType:"linear"};if(su(i)){var l="scale".concat(Bx(i));return{scale:(KI[l]||Sp)(),realScaleType:KI[l]?l:"point"}}return Xe(i)?{scale:i}:{scale:Sp(),realScaleType:"point"}},r4=1e-4,BU=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-r4,o=Math.max(i[0],i[1])+r4,s=e(r[0]),l=e(r[n-1]);(s<a||s>o||l<a||l>o)&&e.domain([r[0],r[n-1]])}},_je=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},Sje=function(e,r){if(!r||r.length!==2||!ge(r[0])||!ge(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!ge(e[0])||e[0]<n)&&(a[0]=n),(!ge(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},Cje=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0,s=0;s<r;++s){var l=Pv(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=a,e[s][n][1]=a+l,a=e[s][n][1]):(e[s][n][0]=o,e[s][n][1]=o+l,o=e[s][n][1])}},Eje=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var s=Pv(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},Aje={sign:Cje,expand:zge,none:pf,silhouette:Hge,wiggle:Gge,positive:Eje},Oje=function(e,r,n){var i=r.map(function(s){return s.props.dataKey}),a=Aje[n],o=Wge().keys(i).value(function(s,l){return+en(s,l,0)}).order(LS).offset(a);return o(e)},Nje=function(e,r,n,i,a,o){if(!e)return null;var s=o?r.reverse():r,l={},c=s.reduce(function(f,h){var p,v=(p=h.type)!==null&&p!==void 0&&p.defaultProps?jr(jr({},h.type.defaultProps),h.props):h.props,m=v.stackId,g=v.hide;if(g)return f;var y=v[n],x=f[y]||{hasStack:!1,stackGroups:{}};if(nn(m)){var w=x.stackGroups[m]||{numericAxisId:n,cateAxisId:i,items:[]};w.items.push(h),x.hasStack=!0,x.stackGroups[m]=w}else x.stackGroups[hh("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return jr(jr({},f),{},Rd({},y,x))},l),d={};return Object.keys(c).reduce(function(f,h){var p=c[h];if(p.hasStack){var v={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,g){var y=p.stackGroups[g];return jr(jr({},m),{},Rd({},g,{numericAxisId:n,cateAxisId:i,items:y.items,stackedData:Oje(e,y.items,a)}))},v)}return jr(jr({},f),{},Rd({},h,p))},d)},UU=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var c=e.domain();if(!c.length)return null;var d=VNe(c,a,s);return e.domain([rw(d),tw(d)]),{niceTicks:d}}if(a&&i==="number"){var f=e.domain(),h=WNe(f,a,s);return{niceTicks:h}}return null};function n4(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Qe(i[e.dataKey])){var s=gy(r,"value",i[e.dataKey]);if(s)return s.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=en(i,Qe(o)?e.dataKey:o);return Qe(l)?null:e.scale(l)}var i4=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(r.type==="category")return n[s]?n[s].coordinate+i:null;var l=en(o,r.dataKey,r.domain[s]);return Qe(l)?null:r.scale(l)-a/2+i},jje=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},Tje=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?jr(jr({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(nn(a)){var o=r[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},Pje=function(e){return e.reduce(function(r,n){return[rw(n.concat([r[0]]).filter(ge)),tw(n.concat([r[1]]).filter(ge))]},[1/0,-1/0])},VU=function(e,r,n){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(c,d){var f=Pje(d.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},a4=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,o4=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,pC=function(e,r,n){if(Xe(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(ge(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(a4.test(e[0])){var a=+a4.exec(e[0])[1];i[0]=r[0]-a}else Xe(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(ge(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(o4.test(e[1])){var o=+o4.exec(e[1])[1];i[1]=r[1]+o}else Xe(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},Hy=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=aN(r,function(f){return f.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var c=a[s],d=a[s-1];o=Math.min((c.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},s4=function(e,r,n){return!e||!e.length||Mv(e,ki(n,"type.defaultProps.domain"))?r:e},WU=function(e,r){var n=e.type.defaultProps?jr(jr({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,o=n.unit,s=n.formatter,l=n.tooltipType,c=n.chartType,d=n.hide;return jr(jr({},We(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:PN(e),value:en(r,i),type:l,payload:r,chartType:c,hide:d})};function Om(t){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Om(t)}function l4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l4(Object(r),!0).forEach(function(n){zU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zU(t,e,r){return e=kje(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kje(t){var e=Ije(t,"string");return Om(e)=="symbol"?e:e+""}function Ije(t,e){if(Om(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rje(t,e){return Lje(t)||$je(t,e)||Mje(t,e)||Dje()}function Dje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mje(t,e){if(t){if(typeof t=="string")return c4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c4(t,e)}}function c4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $je(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Lje(t){if(Array.isArray(t))return t}var Gy=Math.PI/180,Fje=function(e){return e*180/Math.PI},Qt=function(e,r,n,i){return{x:e+Math.cos(-Gy*i)*n,y:r+Math.sin(-Gy*i)*n}},HU=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Bje=function(e,r,n,i,a){var o=e.width,s=e.height,l=e.startAngle,c=e.endAngle,d=Hn(e.cx,o,o/2),f=Hn(e.cy,s,s/2),h=HU(o,s,n),p=Hn(e.innerRadius,h,0),v=Hn(e.outerRadius,h,h*.8),m=Object.keys(r);return m.reduce(function(g,y){var x=r[y],w=x.domain,S=x.reversed,_;if(Qe(x.range))i==="angleAxis"?_=[l,c]:i==="radiusAxis"&&(_=[p,v]),S&&(_=[_[1],_[0]]);else{_=x.range;var C=_,E=Rje(C,2);l=E[0],c=E[1]}var A=FU(x,a),O=A.realScaleType,T=A.scale;T.domain(w).range(_),BU(T);var N=UU(T,Xo(Xo({},x),{},{realScaleType:O})),P=Xo(Xo(Xo({},x),N),{},{range:_,radius:v,realScaleType:O,scale:T,cx:d,cy:f,innerRadius:p,outerRadius:v,startAngle:l,endAngle:c});return Xo(Xo({},g),{},zU({},y,P))},{})},Uje=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},Vje=function(e,r){var n=e.x,i=e.y,a=r.cx,o=r.cy,s=Uje({x:n,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(n-a)/s,c=Math.acos(l);return i>o&&(c=2*Math.PI-c),{radius:s,angle:Fje(c),angleInRadian:c}},Wje=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},zje=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},u4=function(e,r){var n=e.x,i=e.y,a=Vje({x:n,y:i},r),o=a.radius,s=a.angle,l=r.innerRadius,c=r.outerRadius;if(o<l||o>c)return!1;if(o===0)return!0;var d=Wje(r),f=d.startAngle,h=d.endAngle,p=s,v;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;v=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;v=p>=h&&p<=f}return v?Xo(Xo({},r),{},{radius:o,angle:zje(p,r)}):null},GU=function(e){return!b.isValidElement(e)&&!Xe(e)&&typeof e!="boolean"?e.className:""};function Nm(t){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nm(t)}var Hje=["offset"];function Gje(t){return Yje(t)||Xje(t)||Kje(t)||qje()}function qje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kje(t,e){if(t){if(typeof t=="string")return mC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mC(t,e)}}function Xje(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Yje(t){if(Array.isArray(t))return mC(t)}function mC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Zje(t,e){if(t==null)return{};var r=Qje(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Qje(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function d4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?d4(Object(r),!0).forEach(function(n){Jje(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jje(t,e,r){return e=eTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eTe(t){var e=tTe(t,"string");return Nm(e)=="symbol"?e:e+""}function tTe(t,e){if(Nm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jm(){return jm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jm.apply(this,arguments)}var rTe=function(e){var r=e.value,n=e.formatter,i=Qe(e.children)?r:e.children;return Xe(n)?n(i):i},nTe=function(e,r){var n=zn(r-e),i=Math.min(Math.abs(r-e),360);return n*i},iTe=function(e,r,n){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,c=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,v=l.endAngle,m=l.clockWise,g=(f+h)/2,y=nTe(p,v),x=y>=0?1:-1,w,S;i==="insideStart"?(w=p+x*o,S=m):i==="insideEnd"?(w=v-x*o,S=!m):i==="end"&&(w=v+x*o,S=m),S=y<=0?S:!S;var _=Qt(c,d,g,w),C=Qt(c,d,g,w+(S?1:-1)*359),E="M".concat(_.x,",").concat(_.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(S?0:1,`,
    `).concat(C.x,",").concat(C.y),A=Qe(e.id)?hh("recharts-radial-line-"):e.id;return k.createElement("text",jm({},n,{dominantBaseline:"central",className:et("recharts-radial-bar-label",s)}),k.createElement("defs",null,k.createElement("path",{id:A,d:E})),k.createElement("textPath",{xlinkHref:"#".concat(A)},r))},aTe=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,o=a.cx,s=a.cy,l=a.innerRadius,c=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(i==="outside"){var p=Qt(o,s,c+n,h),v=p.x,m=p.y;return{x:v,y:m,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var g=(l+c)/2,y=Qt(o,s,g,h),x=y.x,w=y.y;return{x,y:w,textAnchor:"middle",verticalAnchor:"middle"}},oTe=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,o=r,s=o.x,l=o.y,c=o.width,d=o.height,f=d>=0?1:-1,h=f*i,p=f>0?"end":"start",v=f>0?"start":"end",m=c>=0?1:-1,g=m*i,y=m>0?"end":"start",x=m>0?"start":"end";if(a==="top"){var w={x:s+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return zr(zr({},w),n?{height:Math.max(l-n.y,0),width:c}:{})}if(a==="bottom"){var S={x:s+c/2,y:l+d+h,textAnchor:"middle",verticalAnchor:v};return zr(zr({},S),n?{height:Math.max(n.y+n.height-(l+d),0),width:c}:{})}if(a==="left"){var _={x:s-g,y:l+d/2,textAnchor:y,verticalAnchor:"middle"};return zr(zr({},_),n?{width:Math.max(_.x-n.x,0),height:d}:{})}if(a==="right"){var C={x:s+c+g,y:l+d/2,textAnchor:x,verticalAnchor:"middle"};return zr(zr({},C),n?{width:Math.max(n.x+n.width-C.x,0),height:d}:{})}var E=n?{width:c,height:d}:{};return a==="insideLeft"?zr({x:s+g,y:l+d/2,textAnchor:x,verticalAnchor:"middle"},E):a==="insideRight"?zr({x:s+c-g,y:l+d/2,textAnchor:y,verticalAnchor:"middle"},E):a==="insideTop"?zr({x:s+c/2,y:l+h,textAnchor:"middle",verticalAnchor:v},E):a==="insideBottom"?zr({x:s+c/2,y:l+d-h,textAnchor:"middle",verticalAnchor:p},E):a==="insideTopLeft"?zr({x:s+g,y:l+h,textAnchor:x,verticalAnchor:v},E):a==="insideTopRight"?zr({x:s+c-g,y:l+h,textAnchor:y,verticalAnchor:v},E):a==="insideBottomLeft"?zr({x:s+g,y:l+d-h,textAnchor:x,verticalAnchor:p},E):a==="insideBottomRight"?zr({x:s+c-g,y:l+d-h,textAnchor:y,verticalAnchor:p},E):ch(a)&&(ge(a.x)||Ac(a.x))&&(ge(a.y)||Ac(a.y))?zr({x:s+Hn(a.x,c),y:l+Hn(a.y,d),textAnchor:"end",verticalAnchor:"end"},E):zr({x:s+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},E)},sTe=function(e){return"cx"in e&&ge(e.cx)};function hn(t){var e=t.offset,r=e===void 0?5:e,n=Zje(t,Hje),i=zr({offset:r},n),a=i.viewBox,o=i.position,s=i.value,l=i.children,c=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!a||Qe(s)&&Qe(l)&&!b.isValidElement(c)&&!Xe(c))return null;if(b.isValidElement(c))return b.cloneElement(c,i);var p;if(Xe(c)){if(p=b.createElement(c,i),b.isValidElement(p))return p}else p=rTe(i);var v=sTe(a),m=We(i,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return iTe(i,p,m);var g=v?aTe(i):oTe(i);return k.createElement(cu,jm({className:et("recharts-label",f)},m,g,{breakAll:h}),p)}hn.displayName="Label";var qU=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,c=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,p=e.top,v=e.left,m=e.width,g=e.height,y=e.clockWise,x=e.labelViewBox;if(x)return x;if(ge(m)&&ge(g)){if(ge(f)&&ge(h))return{x:f,y:h,width:m,height:g};if(ge(p)&&ge(v))return{x:p,y:v,width:m,height:g}}return ge(f)&&ge(h)?{x:f,y:h,width:0,height:0}:ge(r)&&ge(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:c||0,outerRadius:d||l||s||0,clockWise:y}:e.viewBox?e.viewBox:{}},lTe=function(e,r){return e?e===!0?k.createElement(hn,{key:"label-implicit",viewBox:r}):nn(e)?k.createElement(hn,{key:"label-implicit",viewBox:r,value:e}):b.isValidElement(e)?e.type===hn?b.cloneElement(e,{key:"label-implicit",viewBox:r}):k.createElement(hn,{key:"label-implicit",content:e,viewBox:r}):Xe(e)?k.createElement(hn,{key:"label-implicit",content:e,viewBox:r}):ch(e)?k.createElement(hn,jm({viewBox:r},e,{key:"label-implicit"})):null:null},cTe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=qU(e),o=Ii(i,hn).map(function(l,c){return b.cloneElement(l,{viewBox:r||a,key:"label-".concat(c)})});if(!n)return o;var s=lTe(e.label,r||a);return[s].concat(Gje(o))};hn.parseViewBox=qU;hn.renderCallByParent=cTe;function uTe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var dTe=uTe;const fTe=Dt(dTe);function Tm(t){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tm(t)}var hTe=["valueAccessor"],pTe=["data","dataKey","clockWise","id","textBreakAll"];function mTe(t){return xTe(t)||yTe(t)||gTe(t)||vTe()}function vTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gTe(t,e){if(t){if(typeof t=="string")return vC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vC(t,e)}}function yTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xTe(t){if(Array.isArray(t))return vC(t)}function vC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qy(){return qy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qy.apply(this,arguments)}function f4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function h4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?f4(Object(r),!0).forEach(function(n){wTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wTe(t,e,r){return e=bTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bTe(t){var e=_Te(t,"string");return Tm(e)=="symbol"?e:e+""}function _Te(t,e){if(Tm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function p4(t,e){if(t==null)return{};var r=STe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function STe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var CTe=function(e){return Array.isArray(e.value)?fTe(e.value):e.value};function cs(t){var e=t.valueAccessor,r=e===void 0?CTe:e,n=p4(t,hTe),i=n.data,a=n.dataKey,o=n.clockWise,s=n.id,l=n.textBreakAll,c=p4(n,pTe);return!i||!i.length?null:k.createElement(bt,{className:"recharts-label-list"},i.map(function(d,f){var h=Qe(a)?r(d,f):en(d&&d.payload,a),p=Qe(s)?{}:{id:"".concat(s,"-").concat(f)};return k.createElement(hn,qy({},We(d,!0),c,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:hn.parseViewBox(Qe(o)?d:h4(h4({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}cs.displayName="LabelList";function ETe(t,e){return t?t===!0?k.createElement(cs,{key:"labelList-implicit",data:e}):k.isValidElement(t)||Xe(t)?k.createElement(cs,{key:"labelList-implicit",data:e,content:t}):ch(t)?k.createElement(cs,qy({data:e},t,{key:"labelList-implicit"})):null:null}function ATe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Ii(n,cs).map(function(o,s){return b.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!r)return i;var a=ETe(t.label,e);return[a].concat(mTe(i))}cs.renderCallByParent=ATe;function Pm(t){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pm(t)}function gC(){return gC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gC.apply(this,arguments)}function m4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function v4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m4(Object(r),!0).forEach(function(n){OTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OTe(t,e,r){return e=NTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NTe(t){var e=jTe(t,"string");return Pm(e)=="symbol"?e:e+""}function jTe(t,e){if(Pm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TTe=function(e,r){var n=zn(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},M0=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,d=l*(s?1:-1)+i,f=Math.asin(l/d)/Gy,h=c?a:a+o*f,p=Qt(r,n,d,h),v=Qt(r,n,i,h),m=c?a-o*f:a,g=Qt(r,n,d*Math.cos(f*Gy),m);return{center:p,circleTangency:v,lineTangency:g,theta:f}},KU=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=TTe(o,s),c=o+l,d=Qt(r,n,a,o),f=Qt(r,n,a,c),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Qt(r,n,i,o),v=Qt(r,n,i,c);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},PTe=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,d=e.endAngle,f=zn(d-c),h=M0({cx:r,cy:n,radius:a,angle:c,sign:f,cornerRadius:o,cornerIsExternal:l}),p=h.circleTangency,v=h.lineTangency,m=h.theta,g=M0({cx:r,cy:n,radius:a,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:l}),y=g.circleTangency,x=g.lineTangency,w=g.theta,S=l?Math.abs(c-d):Math.abs(c-d)-m-w;if(S<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):KU({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:c,endAngle:d});var _="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(i>0){var C=M0({cx:r,cy:n,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),E=C.circleTangency,A=C.lineTangency,O=C.theta,T=M0({cx:r,cy:n,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),N=T.circleTangency,P=T.lineTangency,$=T.theta,D=l?Math.abs(c-d):Math.abs(c-d)-O-$;if(D<0&&o===0)return"".concat(_,"L").concat(r,",").concat(n,"Z");_+="L".concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(D>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,"Z")}else _+="L".concat(r,",").concat(n,"Z");return _},kTe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},XU=function(e){var r=v4(v4({},kTe),e),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<a||d===f)return null;var p=et("recharts-sector",h),v=o-a,m=Hn(s,v,0,!0),g;return m>0&&Math.abs(d-f)<360?g=PTe({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(m,v/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}):g=KU({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:d,endAngle:f}),k.createElement("path",gC({},We(r,!0),{className:p,d:g,role:"img"}))};function km(t){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},km(t)}function yC(){return yC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yC.apply(this,arguments)}function g4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function y4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g4(Object(r),!0).forEach(function(n){ITe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ITe(t,e,r){return e=RTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RTe(t){var e=DTe(t,"string");return km(e)=="symbol"?e:e+""}function DTe(t,e){if(km(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var x4={curveBasisClosed:kge,curveBasisOpen:Ige,curveBasis:Pge,curveBumpX:gge,curveBumpY:yge,curveLinearClosed:Rge,curveLinear:Vx,curveMonotoneX:Dge,curveMonotoneY:Mge,curveNatural:$ge,curveStep:Lge,curveStepAfter:Bge,curveStepBefore:Fge},$0=function(e){return e.x===+e.x&&e.y===+e.y},Wh=function(e){return e.x},zh=function(e){return e.y},MTe=function(e,r){if(Xe(e))return e;var n="curve".concat(Bx(e));return(n==="curveMonotone"||n==="curveBump")&&r?x4["".concat(n).concat(r==="vertical"?"Y":"X")]:x4[n]||Vx},$Te=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,c=l===void 0?!1:l,d=MTe(n,s),f=c?a.filter(function(m){return $0(m)}):a,h;if(Array.isArray(o)){var p=c?o.filter(function(m){return $0(m)}):o,v=f.map(function(m,g){return y4(y4({},m),{},{base:p[g]})});return s==="vertical"?h=O0().y(zh).x1(Wh).x0(function(m){return m.base.x}):h=O0().x(Wh).y1(zh).y0(function(m){return m.base.y}),h.defined($0).curve(d),h(v)}return s==="vertical"&&ge(o)?h=O0().y(zh).x1(Wh).x0(o):ge(o)?h=O0().x(Wh).y1(zh).y0(o):h=HF().x(Wh).y(zh),h.defined($0).curve(d),h(f)},Ky=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?$Te(e):i;return b.createElement("path",yC({},We(e,!1),yy(e),{className:et("recharts-curve",r),d:o,ref:a}))},YU={exports:{}},LTe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",FTe=LTe,BTe=FTe;function ZU(){}function QU(){}QU.resetWarningCache=ZU;var UTe=function(){function t(n,i,a,o,s,l){if(l!==BTe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:QU,resetWarningCache:ZU};return r.PropTypes=r,r};YU.exports=UTe();var VTe=YU.exports;const Ot=Dt(VTe);var WTe=Object.getOwnPropertyNames,zTe=Object.getOwnPropertySymbols,HTe=Object.prototype.hasOwnProperty;function w4(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function L0(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,o=a.get(r),s=a.get(n);if(o&&s)return o===n&&s===r;a.set(r,n),a.set(n,r);var l=t(r,n,i);return a.delete(r),a.delete(n),l}}function b4(t){return WTe(t).concat(zTe(t))}var GTe=Object.hasOwn||function(t,e){return HTe.call(t,e)};function ju(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var qTe="__v",KTe="__o",XTe="_owner",_4=Object.getOwnPropertyDescriptor,S4=Object.keys;function YTe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function ZTe(t,e){return ju(t.getTime(),e.getTime())}function QTe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function JTe(t,e){return t===e}function C4(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var c=e.entries(),d=!1,f=0;(s=c.next())&&!s.done;){if(i[f]){f++;continue}var h=o.value,p=s.value;if(r.equals(h[0],p[0],l,f,t,e,r)&&r.equals(h[1],p[1],h[0],p[0],t,e,r)){d=i[f]=!0;break}f++}if(!d)return!1;l++}return!0}var ePe=ju;function tPe(t,e,r){var n=S4(t),i=n.length;if(S4(e).length!==i)return!1;for(;i-- >0;)if(!JU(t,e,r,n[i]))return!1;return!0}function Hh(t,e,r){var n=b4(t),i=n.length;if(b4(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=n[i],!JU(t,e,r,a)||(o=_4(t,a),s=_4(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function rPe(t,e){return ju(t.valueOf(),e.valueOf())}function nPe(t,e){return t.source===e.source&&t.flags===e.flags}function E4(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),o,s;(o=a.next())&&!o.done;){for(var l=e.values(),c=!1,d=0;(s=l.next())&&!s.done;){if(!i[d]&&r.equals(o.value,s.value,o.value,s.value,t,e,r)){c=i[d]=!0;break}d++}if(!c)return!1}return!0}function iPe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function aPe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function JU(t,e,r,n){return(n===XTe||n===KTe||n===qTe)&&(t.$$typeof||e.$$typeof)?!0:GTe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var oPe="[object Arguments]",sPe="[object Boolean]",lPe="[object Date]",cPe="[object Error]",uPe="[object Map]",dPe="[object Number]",fPe="[object Object]",hPe="[object RegExp]",pPe="[object Set]",mPe="[object String]",vPe="[object URL]",gPe=Array.isArray,A4=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,O4=Object.assign,yPe=Object.prototype.toString.call.bind(Object.prototype.toString);function xPe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(v,m,g){if(v===m)return!0;if(v==null||m==null)return!1;var y=typeof v;if(y!==typeof m)return!1;if(y!=="object")return y==="number"?o(v,m,g):y==="function"?i(v,m,g):!1;var x=v.constructor;if(x!==m.constructor)return!1;if(x===Object)return s(v,m,g);if(gPe(v))return e(v,m,g);if(A4!=null&&A4(v))return f(v,m,g);if(x===Date)return r(v,m,g);if(x===RegExp)return c(v,m,g);if(x===Map)return a(v,m,g);if(x===Set)return d(v,m,g);var w=yPe(v);return w===lPe?r(v,m,g):w===hPe?c(v,m,g):w===uPe?a(v,m,g):w===pPe?d(v,m,g):w===fPe?typeof v.then!="function"&&typeof m.then!="function"&&s(v,m,g):w===vPe?h(v,m,g):w===cPe?n(v,m,g):w===oPe?s(v,m,g):w===sPe||w===dPe||w===mPe?l(v,m,g):!1}}function wPe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Hh:YTe,areDatesEqual:ZTe,areErrorsEqual:QTe,areFunctionsEqual:JTe,areMapsEqual:n?w4(C4,Hh):C4,areNumbersEqual:ePe,areObjectsEqual:n?Hh:tPe,arePrimitiveWrappersEqual:rPe,areRegExpsEqual:nPe,areSetsEqual:n?w4(E4,Hh):E4,areTypedArraysEqual:n?Hh:iPe,areUrlsEqual:aPe};if(r&&(i=O4({},i,r(i))),e){var a=L0(i.areArraysEqual),o=L0(i.areMapsEqual),s=L0(i.areObjectsEqual),l=L0(i.areSetsEqual);i=O4({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function bPe(t){return function(e,r,n,i,a,o,s){return t(e,r,s)}}function _Pe(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(l,c){var d=n(),f=d.cache,h=f===void 0?e?new WeakMap:void 0:f,p=d.meta;return r(l,c,{cache:h,equals:i,meta:p,strict:a})};if(e)return function(l,c){return r(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,c){return r(l,c,o)}}var SPe=Jl();Jl({strict:!0});Jl({circular:!0});Jl({circular:!0,strict:!0});Jl({createInternalComparator:function(){return ju}});Jl({strict:!0,createInternalComparator:function(){return ju}});Jl({circular:!0,createInternalComparator:function(){return ju}});Jl({circular:!0,createInternalComparator:function(){return ju},strict:!0});function Jl(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=wPe(t),l=xPe(s),c=n?n(l):bPe(l);return _Pe({circular:r,comparator:l,createState:i,equals:c,strict:o})}function CPe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function N4(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):CPe(i)};requestAnimationFrame(n)}function xC(t){"@babel/helpers - typeof";return xC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xC(t)}function EPe(t){return jPe(t)||NPe(t)||OPe(t)||APe()}function APe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OPe(t,e){if(t){if(typeof t=="string")return j4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j4(t,e)}}function j4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function NPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jPe(t){if(Array.isArray(t))return t}function TPe(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,s=EPe(o),l=s[0],c=s.slice(1);if(typeof l=="number"){N4(i.bind(null,c),l);return}i(l),N4(i.bind(null,c));return}xC(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Im(t){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Im(t)}function T4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function P4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?T4(Object(r),!0).forEach(function(n){eV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eV(t,e,r){return e=PPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PPe(t){var e=kPe(t,"string");return Im(e)==="symbol"?e:String(e)}function kPe(t,e){if(Im(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Im(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IPe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},RPe=function(e){return e},DPe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Ep=function(e,r){return Object.keys(r).reduce(function(n,i){return P4(P4({},n),{},eV({},i,e(i,r[i])))},{})},k4=function(e,r,n){return e.map(function(i){return"".concat(DPe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function MPe(t,e){return FPe(t)||LPe(t,e)||tV(t,e)||$Pe()}function $Pe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LPe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function FPe(t){if(Array.isArray(t))return t}function BPe(t){return WPe(t)||VPe(t)||tV(t)||UPe()}function UPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tV(t,e){if(t){if(typeof t=="string")return wC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wC(t,e)}}function VPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function WPe(t){if(Array.isArray(t))return wC(t)}function wC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Xy=1e-4,rV=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},nV=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},I4=function(e,r){return function(n){var i=rV(e,r);return nV(i,n)}},zPe=function(e,r){return function(n){var i=rV(e,r),a=[].concat(BPe(i.map(function(o,s){return o*s}).slice(1)),[0]);return nV(a,n)}},R4=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),d=MPe(c,4);i=d[0],a=d[1],o=d[2],s=d[3]}}}var f=I4(i,o),h=I4(a,s),p=zPe(i,o),v=function(y){return y>1?1:y<0?0:y},m=function(y){for(var x=y>1?1:y,w=x,S=0;S<8;++S){var _=f(w)-x,C=p(w);if(Math.abs(_-x)<Xy||C<Xy)return h(w);w=v(w-_/C)}return h(w)};return m.isStepper=!1,m},HPe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(d,f,h){var p=-(d-f)*n,v=h*a,m=h+(p-v)*s/1e3,g=h*s/1e3+d;return Math.abs(g-f)<Xy&&Math.abs(m)<Xy?[f,0]:[g,m]};return l.isStepper=!0,l.dt=s,l},GPe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return R4(i);case"spring":return HPe();default:if(i.split("(")[0]==="cubic-bezier")return R4(i)}return typeof i=="function"?i:null};function Rm(t){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rm(t)}function D4(t){return XPe(t)||KPe(t)||iV(t)||qPe()}function qPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function XPe(t){if(Array.isArray(t))return _C(t)}function M4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _n(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M4(Object(r),!0).forEach(function(n){bC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bC(t,e,r){return e=YPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YPe(t){var e=ZPe(t,"string");return Rm(e)==="symbol"?e:String(e)}function ZPe(t,e){if(Rm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Rm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QPe(t,e){return t3e(t)||e3e(t,e)||iV(t,e)||JPe()}function JPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iV(t,e){if(t){if(typeof t=="string")return _C(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _C(t,e)}}function _C(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function e3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function t3e(t){if(Array.isArray(t))return t}var Yy=function(e,r,n){return e+(r-e)*n},SC=function(e){var r=e.from,n=e.to;return r!==n},r3e=function t(e,r,n){var i=Ep(function(a,o){if(SC(o)){var s=e(o.from,o.to,o.velocity),l=QPe(s,2),c=l[0],d=l[1];return _n(_n({},o),{},{from:c,velocity:d})}return o},r);return n<1?Ep(function(a,o){return SC(o)?_n(_n({},o),{},{velocity:Yy(o.velocity,i[a].velocity,n),from:Yy(o.from,i[a].from,n)}):o},r):t(e,i,n-1)};const n3e=function(t,e,r,n,i){var a=IPe(t,e),o=a.reduce(function(g,y){return _n(_n({},g),{},bC({},y,[t[y],e[y]]))},{}),s=a.reduce(function(g,y){return _n(_n({},g),{},bC({},y,{from:t[y],velocity:0,to:e[y]}))},{}),l=-1,c,d,f=function(){return null},h=function(){return Ep(function(y,x){return x.from},s)},p=function(){return!Object.values(s).filter(SC).length},v=function(y){c||(c=y);var x=y-c,w=x/r.dt;s=r3e(r,s,w),i(_n(_n(_n({},t),e),h())),c=y,p()||(l=requestAnimationFrame(f))},m=function(y){d||(d=y);var x=(y-d)/n,w=Ep(function(_,C){return Yy.apply(void 0,D4(C).concat([r(x)]))},o);if(i(_n(_n(_n({},t),e),w)),x<1)l=requestAnimationFrame(f);else{var S=Ep(function(_,C){return Yy.apply(void 0,D4(C).concat([r(1)]))},o);i(_n(_n(_n({},t),e),S))}};return f=r.isStepper?v:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Sf(t){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(t)}var i3e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function a3e(t,e){if(t==null)return{};var r=o3e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function o3e(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function u_(t){return u3e(t)||c3e(t)||l3e(t)||s3e()}function s3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l3e(t,e){if(t){if(typeof t=="string")return CC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CC(t,e)}}function c3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function u3e(t){if(Array.isArray(t))return CC(t)}function CC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ca(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$4(Object(r),!0).forEach(function(n){ap(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ap(t,e,r){return e=aV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f3e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,aV(n.key),n)}}function h3e(t,e,r){return e&&f3e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function aV(t){var e=p3e(t,"string");return Sf(e)==="symbol"?e:String(e)}function p3e(t,e){if(Sf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Sf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function m3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EC(t,e)}function EC(t,e){return EC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},EC(t,e)}function v3e(t){var e=g3e();return function(){var n=Zy(t),i;if(e){var a=Zy(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return AC(this,i)}}function AC(t,e){if(e&&(Sf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OC(t)}function OC(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g3e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Zy(t){return Zy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zy(t)}var jo=function(t){m3e(r,t);var e=v3e(r);function r(n,i){var a;d3e(this,r),a=e.call(this,n,i);var o=a.props,s=o.isActive,l=o.attributeName,c=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(OC(a)),a.changeStyle=a.changeStyle.bind(OC(a)),!s||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),AC(a);if(f&&f.length)a.state={style:f[0].style};else if(c){if(typeof h=="function")return a.state={style:c},AC(a);a.state={style:l?ap({},l,c):c}}else a.state={style:{}};return a}return h3e(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(s){if(!o){var p={style:l?ap({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(p);return}if(!(SPe(i.to,d)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=v||c?f:i.to;if(this.state&&h){var g={style:l?ap({},l,m):m};(l&&h[l]!==m||!l&&h!==m)&&this.setState(g)}this.runAnimation(Ca(Ca({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,c=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=n3e(o,s,GPe(c),l,this.changeStyle),v=function(){a.stopJSAnimation=p()};this.manager.start([h,d,v,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,c=o[0],d=c.style,f=c.duration,h=f===void 0?0:f,p=function(m,g,y){if(y===0)return m;var x=g.duration,w=g.easing,S=w===void 0?"ease":w,_=g.style,C=g.properties,E=g.onAnimationEnd,A=y>0?o[y-1]:g,O=C||Object.keys(_);if(typeof S=="function"||S==="spring")return[].concat(u_(m),[a.runJSAnimation.bind(a,{from:A.style,to:_,duration:x,easing:S}),x]);var T=k4(O,x,S),N=Ca(Ca(Ca({},A.style),_),{},{transition:T});return[].concat(u_(m),[N,x,E]).filter(RPe)};return this.manager.start([l].concat(u_(o.reduce(p,[d,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=TPe());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,c=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var m=s?ap({},s,l):l,g=k4(Object.keys(m),o,c);v.start([d,a,Ca(Ca({},m),{},{transition:g}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=a3e(i,i3e),c=b.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!s||c===0||o<=0)return a;var f=function(p){var v=p.props,m=v.style,g=m===void 0?{}:m,y=v.className,x=b.cloneElement(p,Ca(Ca({},l),{},{style:Ca(Ca({},g),d),className:y}));return x};return c===1?f(b.Children.only(a)):k.createElement("div",null,b.Children.map(a,function(h){return f(h)}))}}]),r}(b.PureComponent);jo.displayName="Animate";jo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};jo.propTypes={from:Ot.oneOfType([Ot.object,Ot.string]),to:Ot.oneOfType([Ot.object,Ot.string]),attributeName:Ot.string,duration:Ot.number,begin:Ot.number,easing:Ot.oneOfType([Ot.string,Ot.func]),steps:Ot.arrayOf(Ot.shape({duration:Ot.number.isRequired,style:Ot.object.isRequired,easing:Ot.oneOfType([Ot.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ot.func]),properties:Ot.arrayOf("string"),onAnimationEnd:Ot.func})),children:Ot.oneOfType([Ot.node,Ot.func]),isActive:Ot.bool,canBegin:Ot.bool,onAnimationEnd:Ot.func,shouldReAnimate:Ot.bool,onAnimationStart:Ot.func,onAnimationReStart:Ot.func};function Dm(t){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dm(t)}function Qy(){return Qy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qy.apply(this,arguments)}function y3e(t,e){return _3e(t)||b3e(t,e)||w3e(t,e)||x3e()}function x3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w3e(t,e){if(t){if(typeof t=="string")return L4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L4(t,e)}}function L4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function b3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function _3e(t){if(Array.isArray(t))return t}function F4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function B4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F4(Object(r),!0).forEach(function(n){S3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function S3e(t,e,r){return e=C3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C3e(t){var e=E3e(t,"string");return Dm(e)=="symbol"?e:e+""}function E3e(t,e){if(Dm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var U4=function(e,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),s=i>=0?1:-1,l=n>=0?1:-1,c=i>=0&&n>=0||i<0&&n<0?1:0,d;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=a[h]>o?o:a[h];d="M".concat(e,",").concat(r+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(r)),d+="L ".concat(e+n-l*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+n,",").concat(r+s*f[1])),d+="L ".concat(e+n,",").concat(r+i-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+n-l*f[2],",").concat(r+i)),d+="L ".concat(e+l*f[3],",").concat(r+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(r+i-s*f[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var v=Math.min(o,a);d="M ".concat(e,",").concat(r+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+l*v,",").concat(r,`
            L `).concat(e+n-l*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+n,",").concat(r+s*v,`
            L `).concat(e+n,",").concat(r+i-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+n-l*v,",").concat(r+i,`
            L `).concat(e+l*v,",").concat(r+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e,",").concat(r+i-s*v," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},A3e=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,o=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(a,a+s),d=Math.max(a,a+s),f=Math.min(o,o+l),h=Math.max(o,o+l);return n>=c&&n<=d&&i>=f&&i<=h}return!1},O3e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kN=function(e){var r=B4(B4({},O3e),e),n=b.useRef(),i=b.useState(-1),a=y3e(i,2),o=a[0],s=a[1];b.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&s(S)}catch{}},[]);var l=r.x,c=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,v=r.animationEasing,m=r.animationDuration,g=r.animationBegin,y=r.isAnimationActive,x=r.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var w=et("recharts-rectangle",p);return x?k.createElement(jo,{canBegin:o>0,from:{width:d,height:f,x:l,y:c},to:{width:d,height:f,x:l,y:c},duration:m,animationEasing:v,isActive:x},function(S){var _=S.width,C=S.height,E=S.x,A=S.y;return k.createElement(jo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,isActive:y,easing:v},k.createElement("path",Qy({},We(r,!0),{className:w,d:U4(E,A,_,C,h),ref:n})))}):k.createElement("path",Qy({},We(r,!0),{className:w,d:U4(l,c,d,f,h)}))},N3e=["points","className","baseLinePoints","connectNulls"];function vd(){return vd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vd.apply(this,arguments)}function j3e(t,e){if(t==null)return{};var r=T3e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function T3e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function V4(t){return R3e(t)||I3e(t)||k3e(t)||P3e()}function P3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k3e(t,e){if(t){if(typeof t=="string")return NC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NC(t,e)}}function I3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function R3e(t){if(Array.isArray(t))return NC(t)}function NC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var W4=function(e){return e&&e.x===+e.x&&e.y===+e.y},D3e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){W4(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),W4(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Ap=function(e,r){var n=D3e(e);r&&(n=[n.reduce(function(a,o){return[].concat(V4(a),V4(o))},[])]);var i=n.map(function(a){return a.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},M3e=function(e,r,n){var i=Ap(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Ap(r.reverse(),n).slice(1))},$3e=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,o=j3e(e,N3e);if(!r||!r.length)return null;var s=et("recharts-polygon",n);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",c=M3e(r,i,a);return k.createElement("g",{className:s},k.createElement("path",vd({},We(o,!0),{fill:c.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:c})),l?k.createElement("path",vd({},We(o,!0),{fill:"none",d:Ap(r,a)})):null,l?k.createElement("path",vd({},We(o,!0),{fill:"none",d:Ap(i,a)})):null)}var d=Ap(r,a);return k.createElement("path",vd({},We(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:s,d}))};function jC(){return jC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jC.apply(this,arguments)}var aw=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,o=et("recharts-dot",a);return r===+r&&n===+n&&i===+i?b.createElement("circle",jC({},We(e,!1),yy(e),{className:o,cx:r,cy:n,r:i})):null};function Mm(t){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mm(t)}var L3e=["x","y","top","left","width","height","className"];function TC(){return TC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},TC.apply(this,arguments)}function z4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function F3e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z4(Object(r),!0).forEach(function(n){B3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function B3e(t,e,r){return e=U3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function U3e(t){var e=V3e(t,"string");return Mm(e)=="symbol"?e:e+""}function V3e(t,e){if(Mm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function W3e(t,e){if(t==null)return{};var r=z3e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function z3e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var H3e=function(e,r,n,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},G3e=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,c=l===void 0?0:l,d=e.width,f=d===void 0?0:d,h=e.height,p=h===void 0?0:h,v=e.className,m=W3e(e,L3e),g=F3e({x:n,y:a,top:s,left:c,width:f,height:p},m);return!ge(n)||!ge(a)||!ge(f)||!ge(p)||!ge(s)||!ge(c)?null:k.createElement("path",TC({},We(g,!0),{className:et("recharts-cross",v),d:H3e(n,a,f,p,s,c)}))},q3e=ew,K3e=yU,X3e=Yl;function Y3e(t,e){return t&&t.length?q3e(t,X3e(e),K3e):void 0}var Z3e=Y3e;const Q3e=Dt(Z3e);var J3e=ew,eke=Yl,tke=xU;function rke(t,e){return t&&t.length?J3e(t,eke(e),tke):void 0}var nke=rke;const ike=Dt(nke);var ake=["cx","cy","angle","ticks","axisLine"],oke=["ticks","tick","angle","tickFormatter","stroke"];function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function Op(){return Op=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Op.apply(this,arguments)}function H4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?H4(Object(r),!0).forEach(function(n){ow(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function G4(t,e){if(t==null)return{};var r=ske(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ske(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function lke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q4(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sV(n.key),n)}}function cke(t,e,r){return e&&q4(t.prototype,e),r&&q4(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function uke(t,e,r){return e=Jy(e),dke(t,oV()?Reflect.construct(e,r||[],Jy(t).constructor):e.apply(t,r))}function dke(t,e){if(e&&(Cf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fke(t)}function fke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oV=function(){return!!t})()}function Jy(t){return Jy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jy(t)}function hke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PC(t,e)}function PC(t,e){return PC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},PC(t,e)}function ow(t,e,r){return e=sV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sV(t){var e=pke(t,"string");return Cf(e)=="symbol"?e:e+""}function pke(t,e){if(Cf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sw=function(t){function e(){return lke(this,e),uke(this,e,arguments)}return hke(e,t),cke(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,o=a.angle,s=a.cx,l=a.cy;return Qt(s,l,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,l=Q3e(s,function(d){return d.coordinate||0}),c=ike(s,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,l=n.axisLine,c=G4(n,ake),d=s.reduce(function(v,m){return[Math.min(v[0],m.coordinate),Math.max(v[1],m.coordinate)]},[1/0,-1/0]),f=Qt(i,a,d[0],o),h=Qt(i,a,d[1],o),p=sc(sc(sc({},We(c,!1)),{},{fill:"none"},We(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return k.createElement("line",Op({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.angle,l=i.tickFormatter,c=i.stroke,d=G4(i,oke),f=this.getTickTextAnchor(),h=We(d,!1),p=We(o,!1),v=a.map(function(m,g){var y=n.getTickValueCoord(m),x=sc(sc(sc(sc({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(y.x,", ").concat(y.y,")")},h),{},{stroke:"none",fill:c},p),{},{index:g},y),{},{payload:m});return k.createElement(bt,Op({className:et("recharts-polar-radius-axis-tick",GU(o)),key:"tick-".concat(m.coordinate)},lu(n.props,m,g)),e.renderTickItem(o,x,l?l(m.value,g):m.value))});return k.createElement(bt,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,o=n.tick;return!i||!i.length?null:k.createElement(bt,{className:et("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),hn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return k.isValidElement(n)?o=k.cloneElement(n,i):Xe(n)?o=n(i):o=k.createElement(cu,Op({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(b.PureComponent);ow(sw,"displayName","PolarRadiusAxis");ow(sw,"axisType","radiusAxis");ow(sw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}function xc(){return xc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xc.apply(this,arguments)}function K4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K4(Object(r),!0).forEach(function(n){lw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X4(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cV(n.key),n)}}function vke(t,e,r){return e&&X4(t.prototype,e),r&&X4(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gke(t,e,r){return e=e1(e),yke(t,lV()?Reflect.construct(e,r||[],e1(t).constructor):e.apply(t,r))}function yke(t,e){if(e&&(Ef(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xke(t)}function xke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lV=function(){return!!t})()}function e1(t){return e1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},e1(t)}function wke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kC(t,e)}function kC(t,e){return kC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},kC(t,e)}function lw(t,e,r){return e=cV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cV(t){var e=bke(t,"string");return Ef(e)=="symbol"?e:e+""}function bke(t,e){if(Ef(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _ke=Math.PI/180,Y4=1e-5,cw=function(t){function e(){return mke(this,e),gke(this,e,arguments)}return wke(e,t),vke(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,o=i.cy,s=i.radius,l=i.orientation,c=i.tickSize,d=c||8,f=Qt(a,o,s,n.coordinate),h=Qt(a,o,s+(l==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*_ke),o;return a>Y4?o=i==="outer"?"start":"end":a<-Y4?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.radius,s=n.axisLine,l=n.axisLineType,c=lc(lc({},We(this.props,!1)),{},{fill:"none"},We(s,!1));if(l==="circle")return k.createElement(aw,xc({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:a,r:o}));var d=this.props.ticks,f=d.map(function(h){return Qt(i,a,o,h.coordinate)});return k.createElement($3e,xc({className:"recharts-polar-angle-axis-line"},c,{points:f}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.tickLine,l=i.tickFormatter,c=i.stroke,d=We(this.props,!1),f=We(o,!1),h=lc(lc({},d),{},{fill:"none"},We(s,!1)),p=a.map(function(v,m){var g=n.getTickLineCoord(v),y=n.getTickTextAnchor(v),x=lc(lc(lc({textAnchor:y},d),{},{stroke:"none",fill:c},f),{},{index:m,payload:v,x:g.x2,y:g.y2});return k.createElement(bt,xc({className:et("recharts-polar-angle-axis-tick",GU(o)),key:"tick-".concat(v.coordinate)},lu(n.props,v,m)),s&&k.createElement("line",xc({className:"recharts-polar-angle-axis-tick-line"},h,g)),o&&e.renderTickItem(o,x,l?l(v.value,m):v.value))});return k.createElement(bt,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!i||!i.length?null:k.createElement(bt,{className:et("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var o;return k.isValidElement(n)?o=k.cloneElement(n,i):Xe(n)?o=n(i):o=k.createElement(cu,xc({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(b.PureComponent);lw(cw,"displayName","PolarAngleAxis");lw(cw,"axisType","angleAxis");lw(cw,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Ske=mB,Cke=Ske(Object.getPrototypeOf,Object),Eke=Cke,Ake=ks,Oke=Eke,Nke=Is,jke="[object Object]",Tke=Function.prototype,Pke=Object.prototype,uV=Tke.toString,kke=Pke.hasOwnProperty,Ike=uV.call(Object);function Rke(t){if(!Nke(t)||Ake(t)!=jke)return!1;var e=Oke(t);if(e===null)return!0;var r=kke.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&uV.call(r)==Ike}var Dke=Rke;const Mke=Dt(Dke);var $ke=ks,Lke=Is,Fke="[object Boolean]";function Bke(t){return t===!0||t===!1||Lke(t)&&$ke(t)==Fke}var Uke=Bke;const Vke=Dt(Uke);function $m(t){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$m(t)}function t1(){return t1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},t1.apply(this,arguments)}function Wke(t,e){return qke(t)||Gke(t,e)||Hke(t,e)||zke()}function zke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hke(t,e){if(t){if(typeof t=="string")return Z4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z4(t,e)}}function Z4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Gke(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function qke(t){if(Array.isArray(t))return t}function Q4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function J4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q4(Object(r),!0).forEach(function(n){Kke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kke(t,e,r){return e=Xke(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xke(t){var e=Yke(t,"string");return $m(e)=="symbol"?e:e+""}function Yke(t,e){if($m(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if($m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eR=function(e,r,n,i,a){var o=n-i,s;return s="M ".concat(e,",").concat(r),s+="L ".concat(e+n,",").concat(r),s+="L ".concat(e+n-o/2,",").concat(r+a),s+="L ".concat(e+n-o/2-i,",").concat(r+a),s+="L ".concat(e,",").concat(r," Z"),s},Zke={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Qke=function(e){var r=J4(J4({},Zke),e),n=b.useRef(),i=b.useState(-1),a=Wke(i,2),o=a[0],s=a[1];b.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&s(w)}catch{}},[]);var l=r.x,c=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,v=r.animationEasing,m=r.animationDuration,g=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var x=et("recharts-trapezoid",p);return y?k.createElement(jo,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:c},duration:m,animationEasing:v,isActive:y},function(w){var S=w.upperWidth,_=w.lowerWidth,C=w.height,E=w.x,A=w.y;return k.createElement(jo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,easing:v},k.createElement("path",t1({},We(r,!0),{className:x,d:eR(E,A,S,_,C),ref:n})))}):k.createElement("g",null,k.createElement("path",t1({},We(r,!0),{className:x,d:eR(l,c,d,f,h)})))},Jke=["option","shapeType","propTransformer","activeClassName","isActive"];function Lm(t){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lm(t)}function eIe(t,e){if(t==null)return{};var r=tIe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tIe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function tR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function r1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tR(Object(r),!0).forEach(function(n){rIe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rIe(t,e,r){return e=nIe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nIe(t){var e=iIe(t,"string");return Lm(e)=="symbol"?e:e+""}function iIe(t,e){if(Lm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aIe(t,e){return r1(r1({},e),t)}function oIe(t,e){return t==="symbols"}function rR(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return k.createElement(kN,r);case"trapezoid":return k.createElement(Qke,r);case"sector":return k.createElement(XU,r);case"symbols":if(oIe(e))return k.createElement(YO,r);break;default:return null}}function sIe(t){return b.isValidElement(t)?t.props:t}function dV(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?aIe:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=eIe(t,Jke),c;if(b.isValidElement(e))c=b.cloneElement(e,r1(r1({},l),sIe(e)));else if(Xe(e))c=e(l);else if(Mke(e)&&!Vke(e)){var d=i(e,l);c=k.createElement(rR,{shapeType:r,elementProps:d})}else{var f=l;c=k.createElement(rR,{shapeType:r,elementProps:f})}return s?k.createElement(bt,{className:o},c):c}function uw(t,e){return e!=null&&"trapezoids"in t.props}function dw(t,e){return e!=null&&"sectors"in t.props}function Fm(t,e){return e!=null&&"points"in t.props}function lIe(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function cIe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function uIe(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function dIe(t,e){var r;return uw(t,e)?r=lIe:dw(t,e)?r=cIe:Fm(t,e)&&(r=uIe),r}function fIe(t,e){var r;return uw(t,e)?r="trapezoids":dw(t,e)?r="sectors":Fm(t,e)&&(r="points"),r}function hIe(t,e){if(uw(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(dw(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Fm(t,e)?e.payload:{}}function pIe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=fIe(r,e),a=hIe(r,e),o=n.filter(function(l,c){var d=Mv(a,l),f=r.props[i].filter(function(v){var m=dIe(r,e);return m(v,e)}),h=r.props[i].indexOf(f[f.length-1]),p=c===h;return d&&p}),s=n.indexOf(o[o.length-1]);return s}var ug;function Af(t){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(t)}function gd(){return gd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gd.apply(this,arguments)}function nR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nR(Object(r),!0).forEach(function(n){ra(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hV(n.key),n)}}function vIe(t,e,r){return e&&iR(t.prototype,e),r&&iR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gIe(t,e,r){return e=n1(e),yIe(t,fV()?Reflect.construct(e,r||[],n1(t).constructor):e.apply(t,r))}function yIe(t,e){if(e&&(Af(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xIe(t)}function xIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fV=function(){return!!t})()}function n1(t){return n1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},n1(t)}function wIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IC(t,e)}function IC(t,e){return IC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},IC(t,e)}function ra(t,e,r){return e=hV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hV(t){var e=bIe(t,"string");return Af(e)=="symbol"?e:e+""}function bIe(t,e){if(Af(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ds=function(t){function e(r){var n;return mIe(this,e),n=gIe(this,e,[r]),ra(n,"pieRef",null),ra(n,"sectorRefs",[]),ra(n,"id",hh("recharts-pie-")),ra(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Xe(i)&&i()}),ra(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Xe(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return wIe(e,t),vIe(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,s=a.labelLine,l=a.dataKey,c=a.valueKey,d=We(this.props,!1),f=We(o,!1),h=We(s,!1),p=o&&o.offsetRadius||20,v=n.map(function(m,g){var y=(m.startAngle+m.endAngle)/2,x=Qt(m.cx,m.cy,m.outerRadius+p,y),w=qt(qt(qt(qt({},d),m),{},{stroke:"none"},f),{},{index:g,textAnchor:e.getTextAnchor(x.x,m.cx)},x),S=qt(qt(qt(qt({},d),m),{},{fill:"none",stroke:m.fill},h),{},{index:g,points:[Qt(m.cx,m.cy,m.outerRadius,y),x]}),_=l;return Qe(l)&&Qe(c)?_="value":Qe(l)&&(_=c),k.createElement(bt,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(g)},s&&e.renderLabelLineItem(s,S,"line"),e.renderLabelItem(o,w,en(m,_)))});return k.createElement(bt,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,o=a.activeShape,s=a.blendStroke,l=a.inactiveShape;return n.map(function(c,d){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&n.length!==1)return null;var f=i.isActiveIndex(d),h=l&&i.hasActiveIndex()?l:null,p=f?o:h,v=qt(qt({},c),{},{stroke:s?c.fill:c.stroke,tabIndex:-1});return k.createElement(bt,gd({ref:function(g){g&&!i.sectorRefs.includes(g)&&i.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},lu(i.props,c,d),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(d)}),k.createElement(dV,gd({option:p,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,c=i.animationEasing,d=i.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return k.createElement(jo,{begin:s,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var m=v.t,g=[],y=a&&a[0],x=y.startAngle;return a.forEach(function(w,S){var _=h&&h[S],C=S>0?ki(w,"paddingAngle",0):0;if(_){var E=Ci(_.endAngle-_.startAngle,w.endAngle-w.startAngle),A=qt(qt({},w),{},{startAngle:x+C,endAngle:x+E(m)+C});g.push(A),x=A.endAngle}else{var O=w.endAngle,T=w.startAngle,N=Ci(0,O-T),P=N(m),$=qt(qt({},w),{},{startAngle:x+C,endAngle:x+P+C});g.push($),x=$.endAngle}}),k.createElement(bt,null,n.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!Mv(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,o=i.sectors,s=i.className,l=i.label,c=i.cx,d=i.cy,f=i.innerRadius,h=i.outerRadius,p=i.isAnimationActive,v=this.state.isAnimationFinished;if(a||!o||!o.length||!ge(c)||!ge(d)||!ge(f)||!ge(h))return null;var m=et("recharts-pie",s);return k.createElement(bt,{tabIndex:this.props.rootTabIndex,className:m,ref:function(y){n.pieRef=y}},this.renderSectors(),l&&this.renderLabels(o),hn.renderCallByParent(this.props,null,!1),(!p||v)&&cs.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(k.isValidElement(n))return k.cloneElement(n,i);if(Xe(n))return n(i);var o=et("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return k.createElement(Ky,gd({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,a){if(k.isValidElement(n))return k.cloneElement(n,i);var o=a;if(Xe(n)&&(o=n(i),k.isValidElement(o)))return o;var s=et("recharts-pie-label-text",typeof n!="boolean"&&!Xe(n)?n.className:"");return k.createElement(cu,gd({},i,{alignmentBaseline:"middle",className:s}),o)}}])}(b.PureComponent);ug=Ds;ra(Ds,"displayName","Pie");ra(Ds,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!_o.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ra(Ds,"parseDeltaAngle",function(t,e){var r=zn(e-t),n=Math.min(Math.abs(e-t),360);return r*n});ra(Ds,"getRealPieData",function(t){var e=t.data,r=t.children,n=We(t,!1),i=Ii(r,qx);return e&&e.length?e.map(function(a,o){return qt(qt(qt({payload:a},n),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return qt(qt({},n),a.props)}):[]});ra(Ds,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,o=HU(i,a),s=n+Hn(t.cx,i,i/2),l=r+Hn(t.cy,a,a/2),c=Hn(t.innerRadius,o,0),d=Hn(t.outerRadius,o,o*.8),f=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:s,cy:l,innerRadius:c,outerRadius:d,maxRadius:f}});ra(Ds,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?qt(qt({},e.type.defaultProps),e.props):e.props,i=ug.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,o=n.startAngle,s=n.endAngle,l=n.paddingAngle,c=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),v=ug.parseCoordinateOfPie(n,r),m=ug.parseDeltaAngle(o,s),g=Math.abs(m),y=c;Qe(c)&&Qe(f)?(ss(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):Qe(c)&&(ss(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=f);var x=i.filter(function(A){return en(A,y,0)!==0}).length,w=(g>=360?x:x-1)*l,S=g-x*p-w,_=i.reduce(function(A,O){var T=en(O,y,0);return A+(ge(T)?T:0)},0),C;if(_>0){var E;C=i.map(function(A,O){var T=en(A,y,0),N=en(A,d,O),P=(ge(T)?T:0)/_,$;O?$=E.endAngle+zn(m)*l*(T!==0?1:0):$=o;var D=$+zn(m)*((T!==0?p:0)+P*S),F=($+D)/2,L=(v.innerRadius+v.outerRadius)/2,M=[{name:N,value:T,payload:A,dataKey:y,type:h}],j=Qt(v.cx,v.cy,L,F);return E=qt(qt(qt({percent:P,cornerRadius:a,name:N,tooltipPayload:M,midAngle:F,middleRadius:L,tooltipPosition:j},A),v),{},{value:en(A,y),startAngle:$,endAngle:D,payload:A,paddingAngle:zn(m)*l}),E})}return qt(qt({},v),{},{sectors:C,data:i})});var _Ie=Math.ceil,SIe=Math.max;function CIe(t,e,r,n){for(var i=-1,a=SIe(_Ie((e-t)/(r||1)),0),o=Array(a);a--;)o[n?a:++i]=t,t+=r;return o}var EIe=CIe,AIe=IB,aR=1/0,OIe=17976931348623157e292;function NIe(t){if(!t)return t===0?t:0;if(t=AIe(t),t===aR||t===-aR){var e=t<0?-1:1;return e*OIe}return t===t?t:0}var jIe=NIe,TIe=EIe,PIe=Gx,d_=jIe;function kIe(t){return function(e,r,n){return n&&typeof n!="number"&&PIe(e,r,n)&&(r=n=void 0),e=d_(e),r===void 0?(r=e,e=0):r=d_(r),n=n===void 0?e<r?1:-1:d_(n),TIe(e,r,n,t)}}var IIe=kIe,RIe=IIe,DIe=RIe(),MIe=DIe;const i1=Dt(MIe);function Bm(t){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bm(t)}function oR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oR(Object(r),!0).forEach(function(n){pV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pV(t,e,r){return e=$Ie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $Ie(t){var e=LIe(t,"string");return Bm(e)=="symbol"?e:e+""}function LIe(t,e){if(Bm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FIe=["Webkit","Moz","O","ms"],BIe=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=FIe.reduce(function(a,o){return sR(sR({},a),{},pV({},o+n,r))},{});return i[e]=r,i};function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}function a1(){return a1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a1.apply(this,arguments)}function lR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function f_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lR(Object(r),!0).forEach(function(n){xi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vV(n.key),n)}}function VIe(t,e,r){return e&&cR(t.prototype,e),r&&cR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function WIe(t,e,r){return e=o1(e),zIe(t,mV()?Reflect.construct(e,r||[],o1(t).constructor):e.apply(t,r))}function zIe(t,e){if(e&&(Of(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HIe(t)}function HIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mV=function(){return!!t})()}function o1(t){return o1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},o1(t)}function GIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RC(t,e)}function RC(t,e){return RC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},RC(t,e)}function xi(t,e,r){return e=vV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vV(t){var e=qIe(t,"string");return Of(e)=="symbol"?e:e+""}function qIe(t,e){if(Of(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KIe=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=Sp().domain(i1(0,l)).range([a,a+o-s]),d=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(i),scale:c,scaleValues:d}},uR=function(e){return e.changedTouches&&!!e.changedTouches.length},Nf=function(t){function e(r){var n;return UIe(this,e),n=WIe(this,e,[r]),xi(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),xi(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),xi(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),n.detachDragEndListener()}),xi(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),xi(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),xi(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),xi(n,"handleSlideDragStart",function(i){var a=uR(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return GIe(e,t),VIe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,d=c.length-1,f=Math.min(i,a),h=Math.max(i,a),p=e.getIndexInRange(o,f),v=e.getIndexInRange(o,h);return{startIndex:p-p%l,endIndex:v===d?d:v-v%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=en(a[n],s,n);return Xe(o)?o(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,c=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,v=l.onChange,m=n.pageX-a;m>0?m=Math.min(m,c+d-f-s,c+d-f-o):m<0&&(m=Math.max(m,c-o,c-s));var g=this.getIndex({startX:o+m,endX:s+m});(g.startIndex!==h||g.endIndex!==p)&&v&&v(g),this.setState({startX:o+m,endX:s+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=uR(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,c=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,v=d.onChange,m=d.gap,g=d.data,y={startX:this.state.startX,endX:this.state.endX},x=n.pageX-a;x>0?x=Math.min(x,f+h-p-c):x<0&&(x=Math.max(x,f-c)),y[o]=c+x;var w=this.getIndex(y),S=w.startIndex,_=w.endIndex,C=function(){var A=g.length-1;return o==="startX"&&(s>l?S%m===0:_%m===0)||s<l&&_===A||o==="endX"&&(s>l?_%m===0:S%m===0)||s>l&&_===A};this.setState(xi(xi({},o,c+x),"brushMoveStartX",n.pageX),function(){v&&C()&&v(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,c=o.endX,d=this.state[i],f=s.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=s.length)){var p=s[h];i==="startX"&&p>=c||i==="endX"&&p<=l||this.setState(xi({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.fill,c=n.stroke;return k.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.data,c=n.children,d=n.padding,f=b.Children.only(c);return f?k.cloneElement(f,{x:i,y:a,width:o,height:s,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,s=this,l=this.props,c=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,v=l.data,m=l.startIndex,g=l.endIndex,y=Math.max(n,this.props.x),x=f_(f_({},We(this.props,!1)),{},{x:y,y:c,width:d,height:f}),w=p||"Min value: ".concat((a=v[m])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=v[g])===null||o===void 0?void 0:o.name);return k.createElement(bt,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),s.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,x))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,c=a.travellerWidth,d=Math.min(n,i)+c,f=Math.max(Math.abs(i-n)-c,0);return k.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:o,width:f,height:s})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,s=n.height,l=n.travellerWidth,c=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,v={pointerEvents:"none",fill:c};return k.createElement(bt,{className:"recharts-brush-texts"},k.createElement(cu,a1({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+s/2},v),this.getTextOfTick(i)),k.createElement(cu,a1({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:o+s/2},v),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,s=n.x,l=n.y,c=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,v=h.endX,m=h.isTextActive,g=h.isSlideMoving,y=h.isTravellerMoving,x=h.isTravellerFocused;if(!i||!i.length||!ge(s)||!ge(l)||!ge(c)||!ge(d)||c<=0||d<=0)return null;var w=et("recharts-brush",a),S=k.Children.count(o)===1,_=BIe("userSelect","none");return k.createElement(bt,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,v),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(v,"endX"),(m||g||y||x||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,s=n.height,l=n.stroke,c=Math.floor(a+s/2)-1;return k.createElement(k.Fragment,null,k.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),k.createElement("line",{x1:i+1,y1:c,x2:i+o-1,y2:c,fill:"none",stroke:"#fff"}),k.createElement("line",{x1:i+1,y1:c+2,x2:i+o-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return k.isValidElement(n)?a=k.cloneElement(n,i):Xe(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,s=n.x,l=n.travellerWidth,c=n.updateId,d=n.startIndex,f=n.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return f_({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o},a&&a.length?KIe({data:a,width:o,x:s,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);n[l]>i?s=l:o=l}return i>=n[s]?s:o}}])}(b.PureComponent);xi(Nf,"displayName","Brush");xi(Nf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var XIe=iN;function YIe(t,e){var r;return XIe(t,function(n,i,a){return r=e(n,i,a),!r}),!!r}var ZIe=YIe,QIe=sB,JIe=Yl,e4e=ZIe,t4e=vi,r4e=Gx;function n4e(t,e,r){var n=t4e(t)?QIe:e4e;return r&&r4e(t,e,r)&&(e=void 0),n(t,JIe(e))}var i4e=n4e;const a4e=Dt(i4e);var Co=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},dR=NB;function o4e(t,e,r){e=="__proto__"&&dR?dR(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var s4e=o4e,l4e=s4e,c4e=AB,u4e=Yl;function d4e(t,e){var r={};return e=u4e(e),c4e(t,function(n,i,a){l4e(r,i,e(n,i,a))}),r}var f4e=d4e;const h4e=Dt(f4e);function p4e(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var m4e=p4e,v4e=iN;function g4e(t,e){var r=!0;return v4e(t,function(n,i,a){return r=!!e(n,i,a),r}),r}var y4e=g4e,x4e=m4e,w4e=y4e,b4e=Yl,_4e=vi,S4e=Gx;function C4e(t,e,r){var n=_4e(t)?x4e:w4e;return r&&S4e(t,e,r)&&(e=void 0),n(t,b4e(e))}var E4e=C4e;const A4e=Dt(E4e);var O4e=["x","y"];function Um(t){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Um(t)}function DC(){return DC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},DC.apply(this,arguments)}function fR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fR(Object(r),!0).forEach(function(n){N4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function N4e(t,e,r){return e=j4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j4e(t){var e=T4e(t,"string");return Um(e)=="symbol"?e:e+""}function T4e(t,e){if(Um(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function P4e(t,e){if(t==null)return{};var r=k4e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function k4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function I4e(t,e){var r=t.x,n=t.y,i=P4e(t,O4e),a="".concat(r),o=parseInt(a,10),s="".concat(n),l=parseInt(s,10),c="".concat(e.height||i.height),d=parseInt(c,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Gh(Gh(Gh(Gh(Gh({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function hR(t){return k.createElement(dV,DC({shapeType:"rectangle",propTransformer:I4e,activeClassName:"recharts-active-bar"},t))}var R4e=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=ge(n)||r0e(n);return a?e(n,i):(a||du(),r)}},D4e=["value","background"],gV;function jf(t){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(t)}function M4e(t,e){if(t==null)return{};var r=$4e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function s1(){return s1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},s1.apply(this,arguments)}function pR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pR(Object(r),!0).forEach(function(n){vl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function L4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xV(n.key),n)}}function F4e(t,e,r){return e&&mR(t.prototype,e),r&&mR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function B4e(t,e,r){return e=l1(e),U4e(t,yV()?Reflect.construct(e,r||[],l1(t).constructor):e.apply(t,r))}function U4e(t,e){if(e&&(jf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V4e(t)}function V4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yV=function(){return!!t})()}function l1(t){return l1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},l1(t)}function W4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MC(t,e)}function MC(t,e){return MC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},MC(t,e)}function vl(t,e,r){return e=xV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xV(t){var e=z4e(t,"string");return jf(e)=="symbol"?e:e+""}function z4e(t,e){if(jf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tu=function(t){function e(){var r;L4e(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=B4e(this,e,[].concat(i)),vl(r,"state",{isAnimationFinished:!1}),vl(r,"id",hh("recharts-bar-")),vl(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),vl(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return W4e(e,t),F4e(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,c=a.activeBar,d=We(this.props,!1);return n&&n.map(function(f,h){var p=h===l,v=p?c:o,m=Mr(Mr(Mr({},d),f),{},{isActive:p,option:v,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return k.createElement(bt,s1({className:"recharts-bar-rectangle"},lu(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),k.createElement(hR,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return k.createElement(jo,{begin:l,duration:c,isActive:s,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var v=p.t,m=a.map(function(g,y){var x=h&&h[y];if(x){var w=Ci(x.x,g.x),S=Ci(x.y,g.y),_=Ci(x.width,g.width),C=Ci(x.height,g.height);return Mr(Mr({},g),{},{x:w(v),y:S(v),width:_(v),height:C(v)})}if(o==="horizontal"){var E=Ci(0,g.height),A=E(v);return Mr(Mr({},g),{},{y:g.y+g.height-A,height:A})}var O=Ci(0,g.width),T=O(v);return Mr(Mr({},g),{},{width:T})});return k.createElement(bt,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Mv(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=We(this.props.background,!1);return a.map(function(c,d){c.value;var f=c.background,h=M4e(c,D4e);if(!f)return null;var p=Mr(Mr(Mr(Mr(Mr({},h),{},{fill:"#eee"},f),l),lu(n.props,c,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return k.createElement(hR,s1({key:"background-bar-".concat(d),option:n.props.background,isActive:d===s},p))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,c=a.layout,d=a.children,f=Ii(d,$v);if(!f)return null;var h=c==="vertical"?o[0].height/2:o[0].width/2,p=function(g,y){var x=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:x,errorVal:en(g,y)}},v={clipPath:n?"url(#clipPath-".concat(i,")"):null};return k.createElement(bt,v,f.map(function(m){return k.cloneElement(m,{key:"error-bar-".concat(i,"-").concat(m.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,s=n.xAxis,l=n.yAxis,c=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,v=n.background,m=n.id;if(i||!a||!a.length)return null;var g=this.state.isAnimationFinished,y=et("recharts-bar",o),x=s&&s.allowDataOverflow,w=l&&l.allowDataOverflow,S=x||w,_=Qe(m)?this.id:m;return k.createElement(bt,{className:y},x||w?k.createElement("defs",null,k.createElement("clipPath",{id:"clipPath-".concat(_)},k.createElement("rect",{x:x?c:c-f/2,y:w?d:d-h/2,width:x?f:f*2,height:w?h:h*2}))):null,k.createElement(bt,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(_,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,_),(!p||g)&&cs.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(b.PureComponent);gV=Tu;vl(Tu,"displayName","Bar");vl(Tu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!_o.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});vl(Tu,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,p=_je(n,r);if(!p)return null;var v=e.layout,m=r.type.defaultProps,g=m!==void 0?Mr(Mr({},m),r.props):r.props,y=g.dataKey,x=g.children,w=g.minPointSize,S=v==="horizontal"?o:a,_=c?S.scale.domain():null,C=jje({numericAxis:S}),E=Ii(x,qx),A=f.map(function(O,T){var N,P,$,D,F,L;c?N=Sje(c[d+T],_):(N=en(O,y),Array.isArray(N)||(N=[C,N]));var M=R4e(w,gV.defaultProps.minPointSize)(N[1],T);if(v==="horizontal"){var j,R=[o.scale(N[0]),o.scale(N[1])],V=R[0],W=R[1];P=i4({axis:a,ticks:s,bandSize:i,offset:p.offset,entry:O,index:T}),$=(j=W??V)!==null&&j!==void 0?j:void 0,D=p.size;var z=V-W;if(F=Number.isNaN(z)?0:z,L={x:P,y:o.y,width:D,height:o.height},Math.abs(M)>0&&Math.abs(F)<Math.abs(M)){var K=zn(F||M)*(Math.abs(M)-Math.abs(F));$-=K,F+=K}}else{var re=[a.scale(N[0]),a.scale(N[1])],ue=re[0],le=re[1];if(P=ue,$=i4({axis:o,ticks:l,bandSize:i,offset:p.offset,entry:O,index:T}),D=le-ue,F=p.size,L={x:a.x,y:$,width:a.width,height:F},Math.abs(M)>0&&Math.abs(D)<Math.abs(M)){var J=zn(D||M)*(Math.abs(M)-Math.abs(D));D+=J}}return Mr(Mr(Mr({},O),{},{x:P,y:$,width:D,height:F,value:c?N:N[1],payload:O,background:L},E&&E[T]&&E[T].props),{},{tooltipPayload:[WU(r,O)],tooltipPosition:{x:P+D/2,y:$+F/2}})});return Mr({data:A,layout:v},h)});function Vm(t){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vm(t)}function H4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wV(n.key),n)}}function G4e(t,e,r){return e&&vR(t.prototype,e),r&&vR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Da(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gR(Object(r),!0).forEach(function(n){fw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fw(t,e,r){return e=wV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wV(t){var e=q4e(t,"string");return Vm(e)=="symbol"?e:e+""}function q4e(t,e){if(Vm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bV=function(e,r,n,i,a){var o=e.width,s=e.height,l=e.layout,c=e.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!bi(c,Tu);return d.reduce(function(p,v){var m=r[v],g=m.orientation,y=m.domain,x=m.padding,w=x===void 0?{}:x,S=m.mirror,_=m.reversed,C="".concat(g).concat(S?"Mirror":""),E,A,O,T,N;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var P=y[1]-y[0],$=1/0,D=m.categoricalDomain.sort(a0e);if(D.forEach(function(re,ue){ue>0&&($=Math.min((re||0)-(D[ue-1]||0),$))}),Number.isFinite($)){var F=$/P,L=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(E=F*L/2),m.padding==="no-gap"){var M=Hn(e.barCategoryGap,F*L),j=F*L/2;E=j-M-(j-M)/L*M}}}i==="xAxis"?A=[n.left+(w.left||0)+(E||0),n.left+n.width-(w.right||0)-(E||0)]:i==="yAxis"?A=l==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(E||0),n.top+n.height-(w.bottom||0)-(E||0)]:A=m.range,_&&(A=[A[1],A[0]]);var R=FU(m,a,h),V=R.scale,W=R.realScaleType;V.domain(y).range(A),BU(V);var z=UU(V,Da(Da({},m),{},{realScaleType:W}));i==="xAxis"?(N=g==="top"&&!S||g==="bottom"&&S,O=n.left,T=f[C]-N*m.height):i==="yAxis"&&(N=g==="left"&&!S||g==="right"&&S,O=f[C]-N*m.width,T=n.top);var K=Da(Da(Da({},m),z),{},{realScaleType:W,x:O,y:T,scale:V,width:i==="xAxis"?n.width:m.width,height:i==="yAxis"?n.height:m.height});return K.bandSize=Hy(K,z),!m.hide&&i==="xAxis"?f[C]+=(N?-1:1)*K.height:m.hide||(f[C]+=(N?-1:1)*K.width),Da(Da({},p),{},fw({},v,K))},{})},_V=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},K4e=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return _V({x:r,y:n},{x:i,y:a})},SV=function(){function t(e){H4e(this,t),this.scale=e}return G4e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();fw(SV,"EPS",1e-4);var IN=function(e){var r=Object.keys(e).reduce(function(n,i){return Da(Da({},n),{},fw({},i,SV.create(e[i])))},{});return Da(Da({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return h4e(i,function(l,c){return r[c].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return A4e(i,function(a,o){return r[o].isInRange(a)})}})};function X4e(t){return(t%180+180)%180}var Y4e=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=X4e(i),o=a*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},Z4e=ove(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),CV=b.createContext(void 0),EV=b.createContext(void 0),AV=b.createContext(void 0),Q4e=b.createContext({}),OV=b.createContext(void 0),NV=b.createContext(0),jV=b.createContext(0),yR=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=e.clipPathId,s=e.children,l=e.width,c=e.height,d=Z4e(a);return k.createElement(CV.Provider,{value:n},k.createElement(EV.Provider,{value:i},k.createElement(Q4e.Provider,{value:a},k.createElement(AV.Provider,{value:d},k.createElement(OV.Provider,{value:o},k.createElement(NV.Provider,{value:c},k.createElement(jV.Provider,{value:l},s)))))))},J4e=function(){return b.useContext(OV)},TV=function(e){var r=b.useContext(CV);r==null&&du();var n=r[e];return n==null&&du(),n},PV=function(e){var r=b.useContext(EV);r==null&&du();var n=r[e];return n==null&&du(),n},eRe=function(){var e=b.useContext(AV);return e},kV=function(){return b.useContext(jV)},IV=function(){return b.useContext(NV)};function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}function tRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rRe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,DV(n.key),n)}}function nRe(t,e,r){return e&&rRe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iRe(t,e,r){return e=c1(e),aRe(t,RV()?Reflect.construct(e,r||[],c1(t).constructor):e.apply(t,r))}function aRe(t,e){if(e&&(Tf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oRe(t)}function oRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RV=function(){return!!t})()}function c1(t){return c1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},c1(t)}function sRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$C(t,e)}function $C(t,e){return $C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$C(t,e)}function xR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xR(Object(r),!0).forEach(function(n){RN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RN(t,e,r){return e=DV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DV(t){var e=lRe(t,"string");return Tf(e)=="symbol"?e:e+""}function lRe(t,e){if(Tf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cRe(t,e){return hRe(t)||fRe(t,e)||dRe(t,e)||uRe()}function uRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dRe(t,e){if(t){if(typeof t=="string")return bR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bR(t,e)}}function bR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fRe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function hRe(t){if(Array.isArray(t))return t}function LC(){return LC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},LC.apply(this,arguments)}var pRe=function(e,r){var n;return k.isValidElement(e)?n=k.cloneElement(e,r):Xe(e)?n=e(r):n=k.createElement("line",LC({},r,{className:"recharts-reference-line-line"})),n},mRe=function(e,r,n,i,a,o,s,l,c){var d=a.x,f=a.y,h=a.width,p=a.height;if(n){var v=c.y,m=e.y.apply(v,{position:o});if(Co(c,"discard")&&!e.y.isInRange(m))return null;var g=[{x:d+h,y:m},{x:d,y:m}];return l==="left"?g.reverse():g}if(r){var y=c.x,x=e.x.apply(y,{position:o});if(Co(c,"discard")&&!e.x.isInRange(x))return null;var w=[{x,y:f+p},{x,y:f}];return s==="top"?w.reverse():w}if(i){var S=c.segment,_=S.map(function(C){return e.apply(C,{position:o})});return Co(c,"discard")&&a4e(_,function(C){return!e.isInRange(C)})?null:_}return null};function vRe(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,c=J4e(),d=TV(i),f=PV(a),h=eRe();if(!c||!h)return null;ss(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=IN({x:d.scale,y:f.scale}),v=nn(e),m=nn(r),g=n&&n.length===2,y=mRe(p,v,m,g,h,t.position,d.orientation,f.orientation,t);if(!y)return null;var x=cRe(y,2),w=x[0],S=w.x,_=w.y,C=x[1],E=C.x,A=C.y,O=Co(t,"hidden")?"url(#".concat(c,")"):void 0,T=wR(wR({clipPath:O},We(t,!0)),{},{x1:S,y1:_,x2:E,y2:A});return k.createElement(bt,{className:et("recharts-reference-line",s)},pRe(o,T),hn.renderCallByParent(t,K4e({x1:S,y1:_,x2:E,y2:A})))}var DN=function(t){function e(){return tRe(this,e),iRe(this,e,arguments)}return sRe(e,t),nRe(e,[{key:"render",value:function(){return k.createElement(vRe,this.props)}}])}(k.Component);RN(DN,"displayName","ReferenceLine");RN(DN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function FC(){return FC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},FC.apply(this,arguments)}function Pf(t){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(t)}function _R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function SR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_R(Object(r),!0).forEach(function(n){hw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_R(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yRe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$V(n.key),n)}}function xRe(t,e,r){return e&&yRe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wRe(t,e,r){return e=u1(e),bRe(t,MV()?Reflect.construct(e,r||[],u1(t).constructor):e.apply(t,r))}function bRe(t,e){if(e&&(Pf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Re(t)}function _Re(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MV=function(){return!!t})()}function u1(t){return u1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},u1(t)}function SRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BC(t,e)}function BC(t,e){return BC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},BC(t,e)}function hw(t,e,r){return e=$V(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $V(t){var e=CRe(t,"string");return Pf(e)=="symbol"?e:e+""}function CRe(t,e){if(Pf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ERe=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,o=IN({x:i.scale,y:a.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return Co(e,"discard")&&!o.isInRange(s)?null:s},pw=function(t){function e(){return gRe(this,e),wRe(this,e,arguments)}return SRe(e,t),xRe(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,s=n.alwaysShow,l=n.clipPathId,c=nn(i),d=nn(a);if(ss(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!d)return null;var f=ERe(this.props);if(!f)return null;var h=f.x,p=f.y,v=this.props,m=v.shape,g=v.className,y=Co(this.props,"hidden")?"url(#".concat(l,")"):void 0,x=SR(SR({clipPath:y},We(this.props,!0)),{},{cx:h,cy:p});return k.createElement(bt,{className:et("recharts-reference-dot",g)},e.renderDot(m,x),hn.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(k.Component);hw(pw,"displayName","ReferenceDot");hw(pw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});hw(pw,"renderDot",function(t,e){var r;return k.isValidElement(t)?r=k.cloneElement(t,e):Xe(t)?r=t(e):r=k.createElement(aw,FC({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function UC(){return UC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},UC.apply(this,arguments)}function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}function CR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ER(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CR(Object(r),!0).forEach(function(n){mw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ARe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ORe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FV(n.key),n)}}function NRe(t,e,r){return e&&ORe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jRe(t,e,r){return e=d1(e),TRe(t,LV()?Reflect.construct(e,r||[],d1(t).constructor):e.apply(t,r))}function TRe(t,e){if(e&&(kf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PRe(t)}function PRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LV=function(){return!!t})()}function d1(t){return d1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},d1(t)}function kRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VC(t,e)}function VC(t,e){return VC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},VC(t,e)}function mw(t,e,r){return e=FV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FV(t){var e=IRe(t,"string");return kf(e)=="symbol"?e:e+""}function IRe(t,e){if(kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RRe=function(e,r,n,i,a){var o=a.x1,s=a.x2,l=a.y1,c=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=IN({x:d.scale,y:f.scale}),p={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},v={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return Co(a,"discard")&&(!h.isInRange(p)||!h.isInRange(v))?null:_V(p,v)},vw=function(t){function e(){return ARe(this,e),jRe(this,e,arguments)}return kRe(e,t),NRe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,s=n.y2,l=n.className,c=n.alwaysShow,d=n.clipPathId;ss(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=nn(i),h=nn(a),p=nn(o),v=nn(s),m=this.props.shape;if(!f&&!h&&!p&&!v&&!m)return null;var g=RRe(f,h,p,v,this.props);if(!g&&!m)return null;var y=Co(this.props,"hidden")?"url(#".concat(d,")"):void 0;return k.createElement(bt,{className:et("recharts-reference-area",l)},e.renderRect(m,ER(ER({clipPath:y},We(this.props,!0)),g)),hn.renderCallByParent(this.props,g))}}])}(k.Component);mw(vw,"displayName","ReferenceArea");mw(vw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});mw(vw,"renderRect",function(t,e){var r;return k.isValidElement(t)?r=k.cloneElement(t,e):Xe(t)?r=t(e):r=k.createElement(kN,UC({},e,{className:"recharts-reference-area-rect"})),r});function BV(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function DRe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Y4e(n,r)}function MRe(t,e,r){var n=r==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function f1(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function $Re(t,e){return BV(t,e+1)}function LRe(t,e,r,n,i){for(var a=(n||[]).slice(),o=e.start,s=e.end,l=0,c=1,d=o,f=function(){var v=n==null?void 0:n[l];if(v===void 0)return{v:BV(n,c)};var m=l,g,y=function(){return g===void 0&&(g=r(v,m)),g},x=v.coordinate,w=l===0||f1(t,x,y,d,s);w||(l=0,d=o,c+=1),w&&(d=x+t*(y()/2+i),l+=c)},h;c<=a.length;)if(h=f(),h)return h.v;return[]}function Wm(t){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wm(t)}function AR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AR(Object(r),!0).forEach(function(n){FRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FRe(t,e,r){return e=BRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BRe(t){var e=URe(t,"string");return Wm(e)=="symbol"?e:e+""}function URe(t,e){if(Wm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VRe(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,s=e.start,l=e.end,c=function(h){var p=a[h],v,m=function(){return v===void 0&&(v=r(p,h)),v};if(h===o-1){var g=t*(p.coordinate+t*m()/2-l);a[h]=p=Pn(Pn({},p),{},{tickCoord:g>0?p.coordinate-g*t:p.coordinate})}else a[h]=p=Pn(Pn({},p),{},{tickCoord:p.coordinate});var y=f1(t,p.tickCoord,m,s,l);y&&(l=p.tickCoord-t*(m()/2+i),a[h]=Pn(Pn({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)c(d);return a}function WRe(t,e,r,n,i,a){var o=(n||[]).slice(),s=o.length,l=e.start,c=e.end;if(a){var d=n[s-1],f=r(d,s-1),h=t*(d.coordinate+t*f/2-c);o[s-1]=d=Pn(Pn({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var p=f1(t,d.tickCoord,function(){return f},l,c);p&&(c=d.tickCoord-t*(f/2+i),o[s-1]=Pn(Pn({},d),{},{isShow:!0}))}for(var v=a?s-1:s,m=function(x){var w=o[x],S,_=function(){return S===void 0&&(S=r(w,x)),S};if(x===0){var C=t*(w.coordinate-t*_()/2-l);o[x]=w=Pn(Pn({},w),{},{tickCoord:C<0?w.coordinate-C*t:w.coordinate})}else o[x]=w=Pn(Pn({},w),{},{tickCoord:w.coordinate});var E=f1(t,w.tickCoord,_,l,c);E&&(l=w.tickCoord+t*(_()/2+i),o[x]=Pn(Pn({},w),{},{isShow:!0}))},g=0;g<v;g++)m(g);return o}function zRe(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,c=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!n)return[];if(ge(l)||_o.isSsr)return $Re(i,typeof l=="number"&&ge(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",v=d&&p==="width"?_p(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},m=function(w,S){var _=Xe(c)?c(w.value,S):w.value;return p==="width"?DRe(_p(_,{fontSize:e,letterSpacing:r}),v,f):_p(_,{fontSize:e,letterSpacing:r})[p]},g=i.length>=2?zn(i[1].coordinate-i[0].coordinate):1,y=MRe(a,g,p);return l==="equidistantPreserveStart"?LRe(g,y,m,i,o):(l==="preserveStart"||l==="preserveStartEnd"?h=WRe(g,y,m,i,o,l==="preserveStartEnd"):h=VRe(g,y,m,i,o),h.filter(function(x){return x.isShow}))}var HRe=["viewBox"],GRe=["viewBox"],qRe=["ticks"];function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function yd(){return yd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yd.apply(this,arguments)}function OR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OR(Object(r),!0).forEach(function(n){MN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function h_(t,e){if(t==null)return{};var r=KRe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function KRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function XRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,VV(n.key),n)}}function YRe(t,e,r){return e&&NR(t.prototype,e),r&&NR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZRe(t,e,r){return e=h1(e),QRe(t,UV()?Reflect.construct(e,r||[],h1(t).constructor):e.apply(t,r))}function QRe(t,e){if(e&&(If(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JRe(t)}function JRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UV=function(){return!!t})()}function h1(t){return h1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},h1(t)}function e8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WC(t,e)}function WC(t,e){return WC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},WC(t,e)}function MN(t,e,r){return e=VV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VV(t){var e=t8e(t,"string");return If(e)=="symbol"?e:e+""}function t8e(t,e){if(If(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(If(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gw=function(t){function e(r){var n;return XRe(this,e),n=ZRe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return e8e(e,t),YRe(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=h_(n,HRe),s=this.props,l=s.viewBox,c=h_(s,GRe);return!Pd(a,l)||!Pd(o,c)||!Pd(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,c=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,p,v,m,g,y,x,w=f?-1:1,S=n.tickSize||d,_=ge(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":p=v=n.coordinate,g=o+ +!f*l,m=g-w*S,x=m-w*h,y=_;break;case"left":m=g=n.coordinate,v=a+ +!f*s,p=v-w*S,y=p-w*h,x=_;break;case"right":m=g=n.coordinate,v=a+ +f*s,p=v+w*S,y=p+w*h,x=_;break;default:p=v=n.coordinate,g=o+ +f*l,m=g+w*S,x=m+w*h,y=_;break}return{line:{x1:p,y1:m,x2:v,y2:g},tick:{x:y,y:x}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.orientation,c=n.mirror,d=n.axisLine,f=Wr(Wr(Wr({},We(this.props,!1)),We(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=Wr(Wr({},f),{},{x1:i,y1:a+h*s,x2:i+o,y2:a+h*s})}else{var p=+(l==="left"&&!c||l==="right"&&c);f=Wr(Wr({},f),{},{x1:i+p*o,y1:a,x2:i+p*o,y2:a+s})}return k.createElement("line",yd({},f,{className:et("recharts-cartesian-axis-line",ki(d,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,s=this.props,l=s.tickLine,c=s.stroke,d=s.tick,f=s.tickFormatter,h=s.unit,p=zRe(Wr(Wr({},this.props),{},{ticks:n}),i,a),v=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),g=We(this.props,!1),y=We(d,!1),x=Wr(Wr({},g),{},{fill:"none"},We(l,!1)),w=p.map(function(S,_){var C=o.getTickLineCoord(S),E=C.line,A=C.tick,O=Wr(Wr(Wr(Wr({textAnchor:v,verticalAnchor:m},g),{},{stroke:"none",fill:c},y),A),{},{index:_,payload:S,visibleTicksCount:p.length,tickFormatter:f});return k.createElement(bt,yd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},lu(o.props,S,_)),l&&k.createElement("line",yd({},x,E,{className:et("recharts-cartesian-axis-tick-line",ki(l,"className"))})),d&&e.renderTickItem(d,O,"".concat(Xe(f)?f(S.value,_):S.value).concat(h||"")))});return k.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,c=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,p=h_(f,qRe),v=h;return Xe(l)&&(v=h&&h.length>0?l(this.props):l(p)),o<=0||s<=0||!v||!v.length?null:k.createElement(bt,{className:et("recharts-cartesian-axis",c),ref:function(g){n.layerReference=g}},a&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),hn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o,s=et(i.className,"recharts-cartesian-axis-tick-value");return k.isValidElement(n)?o=k.cloneElement(n,Wr(Wr({},i),{},{className:s})):Xe(n)?o=n(Wr(Wr({},i),{},{className:s})):o=k.createElement(cu,yd({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(b.Component);MN(gw,"displayName","CartesianAxis");MN(gw,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var r8e=["type","layout","connectNulls","ref"],n8e=["key"];function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}function jR(t,e){if(t==null)return{};var r=i8e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function i8e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Np(){return Np=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Np.apply(this,arguments)}function TR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TR(Object(r),!0).forEach(function(n){Ma(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gu(t){return l8e(t)||s8e(t)||o8e(t)||a8e()}function a8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o8e(t,e){if(t){if(typeof t=="string")return zC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zC(t,e)}}function s8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function l8e(t){if(Array.isArray(t))return zC(t)}function zC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zV(n.key),n)}}function u8e(t,e,r){return e&&PR(t.prototype,e),r&&PR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function d8e(t,e,r){return e=p1(e),f8e(t,WV()?Reflect.construct(e,r||[],p1(t).constructor):e.apply(t,r))}function f8e(t,e){if(e&&(Rf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h8e(t)}function h8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WV=function(){return!!t})()}function p1(t){return p1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},p1(t)}function p8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HC(t,e)}function HC(t,e){return HC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},HC(t,e)}function Ma(t,e,r){return e=zV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zV(t){var e=m8e(t,"string");return Rf(e)=="symbol"?e:e+""}function m8e(t,e){if(Rf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lv=function(t){function e(){var r;c8e(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=d8e(this,e,[].concat(i)),Ma(r,"state",{isAnimationFinished:!0,totalLength:0}),Ma(r,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),Ma(r,"getStrokeDasharray",function(o,s,l){var c=l.reduce(function(y,x){return y+x});if(!c)return r.generateSimpleStrokeDasharray(s,o);for(var d=Math.floor(o/c),f=o%c,h=s-o,p=[],v=0,m=0;v<l.length;m+=l[v],++v)if(m+l[v]>f){p=[].concat(Gu(l.slice(0,v)),[f-m]);break}var g=p.length%2===0?[0,h]:[h];return[].concat(Gu(e.repeat(l,d)),Gu(p),g).map(function(y){return"".concat(y,"px")}).join(", ")}),Ma(r,"id",hh("recharts-line-")),Ma(r,"pathRef",function(o){r.mainCurve=o}),Ma(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Ma(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return p8e(e,t),u8e(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,s=a.xAxis,l=a.yAxis,c=a.layout,d=a.children,f=Ii(d,$v);if(!f)return null;var h=function(m,g){return{x:m.x,y:m.y,value:m.value,errorVal:en(m.payload,g)}},p={clipPath:n?"url(#clipPath-".concat(i,")"):null};return k.createElement(bt,p,f.map(function(v){return k.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,d=s.dataKey,f=We(this.props,!1),h=We(l,!0),p=c.map(function(m,g){var y=yi(yi(yi({key:"dot-".concat(g),r:3},f),h),{},{index:g,cx:m.x,cy:m.y,value:m.value,dataKey:d,payload:m.payload,points:c});return e.renderDotItem(l,y)}),v={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return k.createElement(bt,Np({className:"recharts-line-dots",key:"dots"},v),p)}},{key:"renderCurveStatically",value:function(n,i,a,o){var s=this.props,l=s.type,c=s.layout,d=s.connectNulls;s.ref;var f=jR(s,r8e),h=yi(yi(yi({},We(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},o),{},{type:l,layout:c,connectNulls:d});return k.createElement(Ky,Np({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,o=this.props,s=o.points,l=o.strokeDasharray,c=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,v=o.animateNewValues,m=o.width,g=o.height,y=this.state,x=y.prevPoints,w=y.totalLength;return k.createElement(jo,{begin:d,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var _=S.t;if(x){var C=x.length/s.length,E=s.map(function(P,$){var D=Math.floor($*C);if(x[D]){var F=x[D],L=Ci(F.x,P.x),M=Ci(F.y,P.y);return yi(yi({},P),{},{x:L(_),y:M(_)})}if(v){var j=Ci(m*2,P.x),R=Ci(g/2,P.y);return yi(yi({},P),{},{x:j(_),y:R(_)})}return yi(yi({},P),{},{x:P.x,y:P.y})});return a.renderCurveStatically(E,n,i)}var A=Ci(0,w),O=A(_),T;if(l){var N="".concat(l).split(/[,\s]+/gim).map(function(P){return parseFloat(P)});T=a.getStrokeDasharray(O,w,N)}else T=a.generateSimpleStrokeDasharray(w,O);return a.renderCurveStatically(s,n,i,{strokeDasharray:T})})}},{key:"renderCurve",value:function(n,i){var a=this.props,o=a.points,s=a.isAnimationActive,l=this.state,c=l.prevPoints,d=l.totalLength;return s&&o&&o.length&&(!c&&d>0||!Mv(c,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,c=i.xAxis,d=i.yAxis,f=i.top,h=i.left,p=i.width,v=i.height,m=i.isAnimationActive,g=i.id;if(a||!s||!s.length)return null;var y=this.state.isAnimationFinished,x=s.length===1,w=et("recharts-line",l),S=c&&c.allowDataOverflow,_=d&&d.allowDataOverflow,C=S||_,E=Qe(g)?this.id:g,A=(n=We(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},O=A.r,T=O===void 0?3:O,N=A.strokeWidth,P=N===void 0?2:N,$=p0e(o)?o:{},D=$.clipDot,F=D===void 0?!0:D,L=T*2+P;return k.createElement(bt,{className:w},S||_?k.createElement("defs",null,k.createElement("clipPath",{id:"clipPath-".concat(E)},k.createElement("rect",{x:S?h:h-p/2,y:_?f:f-v/2,width:S?p:p*2,height:_?v:v*2})),!F&&k.createElement("clipPath",{id:"clipPath-dots-".concat(E)},k.createElement("rect",{x:h-L/2,y:f-L/2,width:p+L,height:v+L}))):null,!x&&this.renderCurve(C,E),this.renderErrorBar(C,E),(x||o)&&this.renderDots(C,F,E),(!m||y)&&cs.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(Gu(n),[0]):n,o=[],s=0;s<i;++s)o=[].concat(Gu(o),Gu(a));return o}},{key:"renderDotItem",value:function(n,i){var a;if(k.isValidElement(n))a=k.cloneElement(n,i);else if(Xe(n))a=n(i);else{var o=i.key,s=jR(i,n8e),l=et("recharts-line-dot",typeof n!="boolean"?n.className:"");a=k.createElement(aw,Np({key:o},s,{className:l}))}return a}}])}(b.PureComponent);Ma(Lv,"displayName","Line");Ma(Lv,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!_o.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ma(Lv,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,s=t.bandSize,l=t.displayedData,c=t.offset,d=e.layout,f=l.map(function(h,p){var v=en(h,o);return d==="horizontal"?{x:n4({axis:r,ticks:i,bandSize:s,entry:h,index:p}),y:Qe(v)?null:n.scale(v),value:v,payload:h}:{x:Qe(v)?null:r.scale(v),y:n4({axis:n,ticks:a,bandSize:s,entry:h,index:p}),value:v,payload:h}});return yi({points:f,layout:d},c)});function Df(t){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}function v8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g8e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qV(n.key),n)}}function y8e(t,e,r){return e&&g8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function x8e(t,e,r){return e=m1(e),w8e(t,HV()?Reflect.construct(e,r||[],m1(t).constructor):e.apply(t,r))}function w8e(t,e){if(e&&(Df(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b8e(t)}function b8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HV=function(){return!!t})()}function m1(t){return m1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},m1(t)}function _8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GC(t,e)}function GC(t,e){return GC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},GC(t,e)}function GV(t,e,r){return e=qV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qV(t){var e=S8e(t,"string");return Df(e)=="symbol"?e:e+""}function S8e(t,e){if(Df(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qC(){return qC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qC.apply(this,arguments)}function C8e(t){var e=t.xAxisId,r=kV(),n=IV(),i=TV(e);return i==null?null:b.createElement(gw,qC({},i,{className:et("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return jc(o,!0)}}))}var Mf=function(t){function e(){return v8e(this,e),x8e(this,e,arguments)}return _8e(e,t),y8e(e,[{key:"render",value:function(){return b.createElement(C8e,this.props)}}])}(b.Component);GV(Mf,"displayName","XAxis");GV(Mf,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(t)}function E8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A8e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,YV(n.key),n)}}function O8e(t,e,r){return e&&A8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function N8e(t,e,r){return e=v1(e),j8e(t,KV()?Reflect.construct(e,r||[],v1(t).constructor):e.apply(t,r))}function j8e(t,e){if(e&&($f(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T8e(t)}function T8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KV=function(){return!!t})()}function v1(t){return v1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},v1(t)}function P8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KC(t,e)}function KC(t,e){return KC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},KC(t,e)}function XV(t,e,r){return e=YV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YV(t){var e=k8e(t,"string");return $f(e)=="symbol"?e:e+""}function k8e(t,e){if($f(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if($f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XC(){return XC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},XC.apply(this,arguments)}var I8e=function(e){var r=e.yAxisId,n=kV(),i=IV(),a=PV(r);return a==null?null:b.createElement(gw,XC({},a,{className:et("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(s){return jc(s,!0)}}))},Lf=function(t){function e(){return E8e(this,e),N8e(this,e,arguments)}return P8e(e,t),O8e(e,[{key:"render",value:function(){return b.createElement(I8e,this.props)}}])}(b.Component);XV(Lf,"displayName","YAxis");XV(Lf,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function kR(t){return $8e(t)||M8e(t)||D8e(t)||R8e()}function R8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D8e(t,e){if(t){if(typeof t=="string")return YC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YC(t,e)}}function M8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $8e(t){if(Array.isArray(t))return YC(t)}function YC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ZC=function(e,r,n,i,a){var o=Ii(e,DN),s=Ii(e,pw),l=[].concat(kR(o),kR(s)),c=Ii(e,vw),d="".concat(i,"Id"),f=i[0],h=r;if(l.length&&(h=l.reduce(function(m,g){if(g.props[d]===n&&Co(g.props,"extendDomain")&&ge(g.props[f])){var y=g.props[f];return[Math.min(m[0],y),Math.max(m[1],y)]}return m},h)),c.length){var p="".concat(f,"1"),v="".concat(f,"2");h=c.reduce(function(m,g){if(g.props[d]===n&&Co(g.props,"extendDomain")&&ge(g.props[p])&&ge(g.props[v])){var y=g.props[p],x=g.props[v];return[Math.min(m[0],y,x),Math.max(m[1],y,x)]}return m},h)}return a&&a.length&&(h=a.reduce(function(m,g){return ge(g)?[Math.min(m[0],g),Math.max(m[1],g)]:m},h)),h},ZV={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function a(l,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||l,h),v=r?r+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],p]:l._events[v].push(p):(l._events[v]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)e.call(d,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},s.prototype.listeners=function(c){var d=r?r+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,v=new Array(p);h<p;h++)v[h]=f[h].fn;return v},s.prototype.listenerCount=function(c){var d=r?r+c:c,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,d,f,h,p,v){var m=r?r+c:c;if(!this._events[m])return!1;var g=this._events[m],y=arguments.length,x,w;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),y){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,f),!0;case 4:return g.fn.call(g.context,d,f,h),!0;case 5:return g.fn.call(g.context,d,f,h,p),!0;case 6:return g.fn.call(g.context,d,f,h,p,v),!0}for(w=1,x=new Array(y-1);w<y;w++)x[w-1]=arguments[w];g.fn.apply(g.context,x)}else{var S=g.length,_;for(w=0;w<S;w++)switch(g[w].once&&this.removeListener(c,g[w].fn,void 0,!0),y){case 1:g[w].fn.call(g[w].context);break;case 2:g[w].fn.call(g[w].context,d);break;case 3:g[w].fn.call(g[w].context,d,f);break;case 4:g[w].fn.call(g[w].context,d,f,h);break;default:if(!x)for(_=1,x=new Array(y-1);_<y;_++)x[_-1]=arguments[_];g[w].fn.apply(g[w].context,x)}}return!0},s.prototype.on=function(c,d,f){return a(this,c,d,f,!1)},s.prototype.once=function(c,d,f){return a(this,c,d,f,!0)},s.prototype.removeListener=function(c,d,f,h){var p=r?r+c:c;if(!this._events[p])return this;if(!d)return o(this,p),this;var v=this._events[p];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&o(this,p);else{for(var m=0,g=[],y=v.length;m<y;m++)(v[m].fn!==d||h&&!v[m].once||f&&v[m].context!==f)&&g.push(v[m]);g.length?this._events[p]=g.length===1?g[0]:g:o(this,p)}return this},s.prototype.removeAllListeners=function(c){var d;return c?(d=r?r+c:c,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(ZV);var L8e=ZV.exports;const F8e=Dt(L8e);var p_=new F8e,m_="recharts.syncMouseEvents";function zm(t){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zm(t)}function B8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U8e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QV(n.key),n)}}function V8e(t,e,r){return e&&U8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function v_(t,e,r){return e=QV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QV(t){var e=W8e(t,"string");return zm(e)=="symbol"?e:e+""}function W8e(t,e){if(zm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var z8e=function(){function t(){B8e(this,t),v_(this,"activeIndex",0),v_(this,"coordinateList",[]),v_(this,"layout","horizontal")}return V8e(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,s=o===void 0?null:o,l=r.layout,c=l===void 0?null:l,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+l+c,h=o+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function H8e(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&ge(n)&&ge(i))return!0}return!1}function G8e(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function JV(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,o=Qt(e,r,n,i),s=Qt(e,r,n,a);return{points:[o,s],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function q8e(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,c=e.innerRadius,d=e.outerRadius,f=e.angle,h=Qt(s,l,c,f),p=Qt(s,l,d,f);n=h.x,i=h.y,a=p.x,o=p.y}else return JV(e);return[{x:n,y:i},{x:a,y:o}]}function Hm(t){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hm(t)}function IR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function F0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IR(Object(r),!0).forEach(function(n){K8e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function K8e(t,e,r){return e=X8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X8e(t){var e=Y8e(t,"string");return Hm(e)=="symbol"?e:e+""}function Y8e(t,e){if(Hm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Z8e(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,c=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,p=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!a||!o||h!=="ScatterChart"&&i!=="axis")return null;var v,m=Ky;if(h==="ScatterChart")v=o,m=G3e;else if(h==="BarChart")v=G8e(f,o,l,d),m=kN;else if(f==="radial"){var g=JV(o),y=g.cx,x=g.cy,w=g.radius,S=g.startAngle,_=g.endAngle;v={cx:y,cy:x,startAngle:S,endAngle:_,innerRadius:w,outerRadius:w},m=XU}else v={points:q8e(f,o,l)},m=Ky;var C=F0(F0(F0(F0({stroke:"#ccc",pointerEvents:"none"},l),v),We(p,!1)),{},{payload:s,payloadIndex:c,className:et("recharts-tooltip-cursor",p.className)});return b.isValidElement(p)?b.cloneElement(p,C):b.createElement(m,C)}var Q8e=["item"],J8e=["children","className","width","height","style","compact","title","desc"];function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function xd(){return xd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xd.apply(this,arguments)}function RR(t,e){return rDe(t)||tDe(t,e)||tW(t,e)||eDe()}function eDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tDe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function rDe(t){if(Array.isArray(t))return t}function DR(t,e){if(t==null)return{};var r=nDe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nDe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function iDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aDe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rW(n.key),n)}}function oDe(t,e,r){return e&&aDe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sDe(t,e,r){return e=g1(e),lDe(t,eW()?Reflect.construct(e,r||[],g1(t).constructor):e.apply(t,r))}function lDe(t,e){if(e&&(Ff(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cDe(t)}function cDe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eW=function(){return!!t})()}function g1(t){return g1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},g1(t)}function uDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QC(t,e)}function QC(t,e){return QC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},QC(t,e)}function Bf(t){return hDe(t)||fDe(t)||tW(t)||dDe()}function dDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tW(t,e){if(t){if(typeof t=="string")return JC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JC(t,e)}}function fDe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hDe(t){if(Array.isArray(t))return JC(t)}function JC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function MR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Q(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MR(Object(r),!0).forEach(function(n){ze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ze(t,e,r){return e=rW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rW(t){var e=pDe(t,"string");return Ff(e)=="symbol"?e:e+""}function pDe(t,e){if(Ff(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mDe={xAxis:["bottom","top"],yAxis:["left","right"]},vDe={width:"100%",height:"100%"},nW={x:0,y:0};function B0(t){return t}var gDe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},yDe=function(e,r,n,i){var a=r.find(function(d){return d&&d.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return Q(Q(Q({},i),Qt(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,c=i.angle;return Q(Q(Q({},i),Qt(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return nW},yw=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(Bf(s),Bf(c)):s},[]);return o.length>0?o:e&&e.length&&ge(i)&&ge(a)?e.slice(i,a+1):[]};function iW(t){return t==="number"?[0,"auto"]:void 0}var eE=function(e,r,n,i){var a=e.graphicalItems,o=e.tooltipAxis,s=yw(r,e);return n<0||!a||!a.length||n>=s.length?null:a.reduce(function(l,c){var d,f=(d=c.props.data)!==null&&d!==void 0?d:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?s:f;h=gy(p,o.dataKey,i)}else h=f&&f[n]||s[n];return h?[].concat(Bf(l),[WU(c,h)]):l},[])},$R=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},o=gDe(a,n),s=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,d=vje(o,s,c,l);if(d>=0&&c){var f=c[d]&&c[d].value,h=eE(e,r,d,f),p=yDe(n,s,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},xDe=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,p=LU(d,a);return n.reduce(function(v,m){var g,y=m.type.defaultProps!==void 0?Q(Q({},m.type.defaultProps),m.props):m.props,x=y.type,w=y.dataKey,S=y.allowDataOverflow,_=y.allowDuplicatedCategory,C=y.scale,E=y.ticks,A=y.includeHidden,O=y[o];if(v[O])return v;var T=yw(e.data,{graphicalItems:i.filter(function(z){var K,re=o in z.props?z.props[o]:(K=z.type.defaultProps)===null||K===void 0?void 0:K[o];return re===O}),dataStartIndex:l,dataEndIndex:c}),N=T.length,P,$,D;H8e(y.domain,S,x)&&(P=pC(y.domain,null,S),p&&(x==="number"||C!=="auto")&&(D=Cp(T,w,"category")));var F=iW(x);if(!P||P.length===0){var L,M=(L=y.domain)!==null&&L!==void 0?L:F;if(w){if(P=Cp(T,w,x),x==="category"&&p){var j=i0e(P);_&&j?($=P,P=i1(0,N)):_||(P=s4(M,P,m).reduce(function(z,K){return z.indexOf(K)>=0?z:[].concat(Bf(z),[K])},[]))}else if(x==="category")_?P=P.filter(function(z){return z!==""&&!Qe(z)}):P=s4(M,P,m).reduce(function(z,K){return z.indexOf(K)>=0||K===""||Qe(K)?z:[].concat(Bf(z),[K])},[]);else if(x==="number"){var R=bje(T,i.filter(function(z){var K,re,ue=o in z.props?z.props[o]:(K=z.type.defaultProps)===null||K===void 0?void 0:K[o],le="hide"in z.props?z.props.hide:(re=z.type.defaultProps)===null||re===void 0?void 0:re.hide;return ue===O&&(A||!le)}),w,a,d);R&&(P=R)}p&&(x==="number"||C!=="auto")&&(D=Cp(T,w,"category"))}else p?P=i1(0,N):s&&s[O]&&s[O].hasStack&&x==="number"?P=h==="expand"?[0,1]:VU(s[O].stackGroups,l,c):P=$U(T,i.filter(function(z){var K=o in z.props?z.props[o]:z.type.defaultProps[o],re="hide"in z.props?z.props.hide:z.type.defaultProps.hide;return K===O&&(A||!re)}),x,d,!0);if(x==="number")P=ZC(f,P,O,a,E),M&&(P=pC(M,P,S));else if(x==="category"&&M){var V=M,W=P.every(function(z){return V.indexOf(z)>=0});W&&(P=V)}}return Q(Q({},v),{},ze({},O,Q(Q({},y),{},{axisType:a,domain:P,categoricalDomain:D,duplicateDomain:$,originalDomain:(g=y.domain)!==null&&g!==void 0?g:F,isCategorical:p,layout:d})))},{})},wDe=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,d=e.layout,f=e.children,h=yw(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),p=h.length,v=LU(d,a),m=-1;return n.reduce(function(g,y){var x=y.type.defaultProps!==void 0?Q(Q({},y.type.defaultProps),y.props):y.props,w=x[o],S=iW("number");if(!g[w]){m++;var _;return v?_=i1(0,p):s&&s[w]&&s[w].hasStack?(_=VU(s[w].stackGroups,l,c),_=ZC(f,_,w,a)):(_=pC(S,$U(h,n.filter(function(C){var E,A,O=o in C.props?C.props[o]:(E=C.type.defaultProps)===null||E===void 0?void 0:E[o],T="hide"in C.props?C.props.hide:(A=C.type.defaultProps)===null||A===void 0?void 0:A.hide;return O===w&&!T}),"number",d),i.defaultProps.allowDataOverflow),_=ZC(f,_,w,a)),Q(Q({},g),{},ze({},w,Q(Q({axisType:a},i.defaultProps),{},{hide:!0,orientation:ki(mDe,"".concat(a,".").concat(m%2),null),domain:_,originalDomain:S,isCategorical:v,layout:d})))}return g},{})},bDe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=Ii(d,a),p={};return h&&h.length?p=xDe(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):o&&o.length&&(p=wDe(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),p},_De=function(e){var r=Zu(e),n=jc(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:aN(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Hy(r,n)}},LR=function(e){var r=e.children,n=e.defaultShowTooltip,i=bi(r,Nf),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},SDe=function(e){return!e||!e.length?!1:e.some(function(r){var n=os(r&&r.type);return n&&n.indexOf("Bar")>=0})},FR=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},CDe=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,c=n.width,d=n.height,f=n.children,h=n.margin||{},p=bi(f,Nf),v=bi(f,kd),m=Object.keys(l).reduce(function(_,C){var E=l[C],A=E.orientation;return!E.mirror&&!E.hide?Q(Q({},_),{},ze({},A,_[A]+E.width)):_},{left:h.left||0,right:h.right||0}),g=Object.keys(o).reduce(function(_,C){var E=o[C],A=E.orientation;return!E.mirror&&!E.hide?Q(Q({},_),{},ze({},A,ki(_,"".concat(A))+E.height)):_},{top:h.top||0,bottom:h.bottom||0}),y=Q(Q({},g),m),x=y.bottom;p&&(y.bottom+=p.props.height||Nf.defaultProps.height),v&&r&&(y=xje(y,i,n,r));var w=c-y.left-y.right,S=d-y.top-y.bottom;return Q(Q({brushBottom:x},y),{},{width:Math.max(w,0),height:Math.max(S,0)})},EDe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},$N=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,c=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(y,x){var w=x.graphicalItems,S=x.stackGroups,_=x.offset,C=x.updateId,E=x.dataStartIndex,A=x.dataEndIndex,O=y.barSize,T=y.layout,N=y.barGap,P=y.barCategoryGap,$=y.maxBarSize,D=FR(T),F=D.numericAxisName,L=D.cateAxisName,M=SDe(w),j=[];return w.forEach(function(R,V){var W=yw(y.data,{graphicalItems:[R],dataStartIndex:E,dataEndIndex:A}),z=R.type.defaultProps!==void 0?Q(Q({},R.type.defaultProps),R.props):R.props,K=z.dataKey,re=z.maxBarSize,ue=z["".concat(F,"Id")],le=z["".concat(L,"Id")],J={},me=l.reduce(function(H,Y){var de=x["".concat(Y.axisType,"Map")],fe=z["".concat(Y.axisType,"Id")];de&&de[fe]||Y.axisType==="zAxis"||du();var se=de[fe];return Q(Q({},H),{},ze(ze({},Y.axisType,se),"".concat(Y.axisType,"Ticks"),jc(se)))},J),ee=me[L],ne=me["".concat(L,"Ticks")],ve=S&&S[ue]&&S[ue].hasStack&&Tje(R,S[ue].stackGroups),X=os(R.type).indexOf("Bar")>=0,q=Hy(ee,ne),ie=[],Ve=M&&gje({barSize:O,stackGroups:S,totalSize:EDe(me,L)});if(X){var it,St,ft=Qe(re)?$:re,gr=(it=(St=Hy(ee,ne,!0))!==null&&St!==void 0?St:ft)!==null&&it!==void 0?it:0;ie=yje({barGap:N,barCategoryGap:P,bandSize:gr!==q?gr:q,sizeList:Ve[le],maxBarSize:ft}),gr!==q&&(ie=ie.map(function(H){return Q(Q({},H),{},{position:Q(Q({},H.position),{},{offset:H.position.offset-gr/2})})}))}var B=R&&R.type&&R.type.getComposedData;B&&j.push({props:Q(Q({},B(Q(Q({},me),{},{displayedData:W,props:y,dataKey:K,item:R,bandSize:q,barPosition:ie,offset:_,stackedData:ve,layout:T,dataStartIndex:E,dataEndIndex:A}))),{},ze(ze(ze({key:R.key||"item-".concat(V)},F,me[F]),L,me[L]),"animationId",C)),childIndex:g0e(R,y.children),item:R})}),j},p=function(y,x){var w=y.props,S=y.dataStartIndex,_=y.dataEndIndex,C=y.updateId;if(!ek({props:w}))return null;var E=w.children,A=w.layout,O=w.stackOffset,T=w.data,N=w.reverseStackOrder,P=FR(A),$=P.numericAxisName,D=P.cateAxisName,F=Ii(E,n),L=Nje(T,F,"".concat($,"Id"),"".concat(D,"Id"),O,N),M=l.reduce(function(z,K){var re="".concat(K.axisType,"Map");return Q(Q({},z),{},ze({},re,bDe(w,Q(Q({},K),{},{graphicalItems:F,stackGroups:K.axisType===$&&L,dataStartIndex:S,dataEndIndex:_}))))},{}),j=CDe(Q(Q({},M),{},{props:w,graphicalItems:F}),x==null?void 0:x.legendBBox);Object.keys(M).forEach(function(z){M[z]=d(w,M[z],j,z.replace("Map",""),r)});var R=M["".concat(D,"Map")],V=_De(R),W=h(w,Q(Q({},M),{},{dataStartIndex:S,dataEndIndex:_,updateId:C,graphicalItems:F,stackGroups:L,offset:j}));return Q(Q({formattedGraphicalItems:W,graphicalItems:F,offset:j,stackGroups:L},V),M)},v=function(g){function y(x){var w,S,_;return iDe(this,y),_=sDe(this,y,[x]),ze(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ze(_,"accessibilityManager",new z8e),ze(_,"handleLegendBBoxUpdate",function(C){if(C){var E=_.state,A=E.dataStartIndex,O=E.dataEndIndex,T=E.updateId;_.setState(Q({legendBBox:C},p({props:_.props,dataStartIndex:A,dataEndIndex:O,updateId:T},Q(Q({},_.state),{},{legendBBox:C}))))}}),ze(_,"handleReceiveSyncEvent",function(C,E,A){if(_.props.syncId===C){if(A===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(E)}}),ze(_,"handleBrushChange",function(C){var E=C.startIndex,A=C.endIndex;if(E!==_.state.dataStartIndex||A!==_.state.dataEndIndex){var O=_.state.updateId;_.setState(function(){return Q({dataStartIndex:E,dataEndIndex:A},p({props:_.props,dataStartIndex:E,dataEndIndex:A,updateId:O},_.state))}),_.triggerSyncEvent({dataStartIndex:E,dataEndIndex:A})}}),ze(_,"handleMouseEnter",function(C){var E=_.getMouseInfo(C);if(E){var A=Q(Q({},E),{},{isTooltipActive:!0});_.setState(A),_.triggerSyncEvent(A);var O=_.props.onMouseEnter;Xe(O)&&O(A,C)}}),ze(_,"triggeredAfterMouseMove",function(C){var E=_.getMouseInfo(C),A=E?Q(Q({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(A),_.triggerSyncEvent(A);var O=_.props.onMouseMove;Xe(O)&&O(A,C)}),ze(_,"handleItemMouseEnter",function(C){_.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),ze(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),ze(_,"handleMouseMove",function(C){C.persist(),_.throttleTriggeredAfterMouseMove(C)}),ze(_,"handleMouseLeave",function(C){_.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};_.setState(E),_.triggerSyncEvent(E);var A=_.props.onMouseLeave;Xe(A)&&A(E,C)}),ze(_,"handleOuterEvent",function(C){var E=v0e(C),A=ki(_.props,"".concat(E));if(E&&Xe(A)){var O,T;/.*touch.*/i.test(E)?T=_.getMouseInfo(C.changedTouches[0]):T=_.getMouseInfo(C),A((O=T)!==null&&O!==void 0?O:{},C)}}),ze(_,"handleClick",function(C){var E=_.getMouseInfo(C);if(E){var A=Q(Q({},E),{},{isTooltipActive:!0});_.setState(A),_.triggerSyncEvent(A);var O=_.props.onClick;Xe(O)&&O(A,C)}}),ze(_,"handleMouseDown",function(C){var E=_.props.onMouseDown;if(Xe(E)){var A=_.getMouseInfo(C);E(A,C)}}),ze(_,"handleMouseUp",function(C){var E=_.props.onMouseUp;if(Xe(E)){var A=_.getMouseInfo(C);E(A,C)}}),ze(_,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),ze(_,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&_.handleMouseDown(C.changedTouches[0])}),ze(_,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&_.handleMouseUp(C.changedTouches[0])}),ze(_,"handleDoubleClick",function(C){var E=_.props.onDoubleClick;if(Xe(E)){var A=_.getMouseInfo(C);E(A,C)}}),ze(_,"handleContextMenu",function(C){var E=_.props.onContextMenu;if(Xe(E)){var A=_.getMouseInfo(C);E(A,C)}}),ze(_,"triggerSyncEvent",function(C){_.props.syncId!==void 0&&p_.emit(m_,_.props.syncId,C,_.eventEmitterSymbol)}),ze(_,"applySyncEvent",function(C){var E=_.props,A=E.layout,O=E.syncMethod,T=_.state.updateId,N=C.dataStartIndex,P=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)_.setState(Q({dataStartIndex:N,dataEndIndex:P},p({props:_.props,dataStartIndex:N,dataEndIndex:P,updateId:T},_.state)));else if(C.activeTooltipIndex!==void 0){var $=C.chartX,D=C.chartY,F=C.activeTooltipIndex,L=_.state,M=L.offset,j=L.tooltipTicks;if(!M)return;if(typeof O=="function")F=O(j,C);else if(O==="value"){F=-1;for(var R=0;R<j.length;R++)if(j[R].value===C.activeLabel){F=R;break}}var V=Q(Q({},M),{},{x:M.left,y:M.top}),W=Math.min($,V.x+V.width),z=Math.min(D,V.y+V.height),K=j[F]&&j[F].value,re=eE(_.state,_.props.data,F),ue=j[F]?{x:A==="horizontal"?j[F].coordinate:W,y:A==="horizontal"?z:j[F].coordinate}:nW;_.setState(Q(Q({},C),{},{activeLabel:K,activeCoordinate:ue,activePayload:re,activeTooltipIndex:F}))}else _.setState(C)}),ze(_,"renderCursor",function(C){var E,A=_.state,O=A.isTooltipActive,T=A.activeCoordinate,N=A.activePayload,P=A.offset,$=A.activeTooltipIndex,D=A.tooltipAxisBandSize,F=_.getTooltipEventType(),L=(E=C.props.active)!==null&&E!==void 0?E:O,M=_.props.layout,j=C.key||"_recharts-cursor";return k.createElement(Z8e,{key:j,activeCoordinate:T,activePayload:N,activeTooltipIndex:$,chartName:r,element:C,isActive:L,layout:M,offset:P,tooltipAxisBandSize:D,tooltipEventType:F})}),ze(_,"renderPolarAxis",function(C,E,A){var O=ki(C,"type.axisType"),T=ki(_.state,"".concat(O,"Map")),N=C.type.defaultProps,P=N!==void 0?Q(Q({},N),C.props):C.props,$=T&&T[P["".concat(O,"Id")]];return b.cloneElement(C,Q(Q({},$),{},{className:et(O,$.className),key:C.key||"".concat(E,"-").concat(A),ticks:jc($,!0)}))}),ze(_,"renderPolarGrid",function(C){var E=C.props,A=E.radialLines,O=E.polarAngles,T=E.polarRadius,N=_.state,P=N.radiusAxisMap,$=N.angleAxisMap,D=Zu(P),F=Zu($),L=F.cx,M=F.cy,j=F.innerRadius,R=F.outerRadius;return b.cloneElement(C,{polarAngles:Array.isArray(O)?O:jc(F,!0).map(function(V){return V.coordinate}),polarRadius:Array.isArray(T)?T:jc(D,!0).map(function(V){return V.coordinate}),cx:L,cy:M,innerRadius:j,outerRadius:R,key:C.key||"polar-grid",radialLines:A})}),ze(_,"renderLegend",function(){var C=_.state.formattedGraphicalItems,E=_.props,A=E.children,O=E.width,T=E.height,N=_.props.margin||{},P=O-(N.left||0)-(N.right||0),$=DU({children:A,formattedGraphicalItems:C,legendWidth:P,legendContent:c});if(!$)return null;var D=$.item,F=DR($,Q8e);return b.cloneElement(D,Q(Q({},F),{},{chartWidth:O,chartHeight:T,margin:N,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),ze(_,"renderTooltip",function(){var C,E=_.props,A=E.children,O=E.accessibilityLayer,T=bi(A,Ji);if(!T)return null;var N=_.state,P=N.isTooltipActive,$=N.activeCoordinate,D=N.activePayload,F=N.activeLabel,L=N.offset,M=(C=T.props.active)!==null&&C!==void 0?C:P;return b.cloneElement(T,{viewBox:Q(Q({},L),{},{x:L.left,y:L.top}),active:M,label:F,payload:M?D:[],coordinate:$,accessibilityLayer:O})}),ze(_,"renderBrush",function(C){var E=_.props,A=E.margin,O=E.data,T=_.state,N=T.offset,P=T.dataStartIndex,$=T.dataEndIndex,D=T.updateId;return b.cloneElement(C,{key:C.key||"_recharts-brush",onChange:D0(_.handleBrushChange,C.props.onChange),data:O,x:ge(C.props.x)?C.props.x:N.left,y:ge(C.props.y)?C.props.y:N.top+N.height+N.brushBottom-(A.bottom||0),width:ge(C.props.width)?C.props.width:N.width,startIndex:P,endIndex:$,updateId:"brush-".concat(D)})}),ze(_,"renderReferenceElement",function(C,E,A){if(!C)return null;var O=_,T=O.clipPathId,N=_.state,P=N.xAxisMap,$=N.yAxisMap,D=N.offset,F=C.type.defaultProps||{},L=C.props,M=L.xAxisId,j=M===void 0?F.xAxisId:M,R=L.yAxisId,V=R===void 0?F.yAxisId:R;return b.cloneElement(C,{key:C.key||"".concat(E,"-").concat(A),xAxis:P[j],yAxis:$[V],viewBox:{x:D.left,y:D.top,width:D.width,height:D.height},clipPathId:T})}),ze(_,"renderActivePoints",function(C){var E=C.item,A=C.activePoint,O=C.basePoint,T=C.childIndex,N=C.isRange,P=[],$=E.props.key,D=E.item.type.defaultProps!==void 0?Q(Q({},E.item.type.defaultProps),E.item.props):E.item.props,F=D.activeDot,L=D.dataKey,M=Q(Q({index:T,dataKey:L,cx:A.x,cy:A.y,r:4,fill:PN(E.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},We(F,!1)),yy(F));return P.push(y.renderActiveDot(F,M,"".concat($,"-activePoint-").concat(T))),O?P.push(y.renderActiveDot(F,Q(Q({},M),{},{cx:O.x,cy:O.y}),"".concat($,"-basePoint-").concat(T))):N&&P.push(null),P}),ze(_,"renderGraphicChild",function(C,E,A){var O=_.filterFormatItem(C,E,A);if(!O)return null;var T=_.getTooltipEventType(),N=_.state,P=N.isTooltipActive,$=N.tooltipAxis,D=N.activeTooltipIndex,F=N.activeLabel,L=_.props.children,M=bi(L,Ji),j=O.props,R=j.points,V=j.isRange,W=j.baseLine,z=O.item.type.defaultProps!==void 0?Q(Q({},O.item.type.defaultProps),O.item.props):O.item.props,K=z.activeDot,re=z.hide,ue=z.activeBar,le=z.activeShape,J=!!(!re&&P&&M&&(K||ue||le)),me={};T!=="axis"&&M&&M.props.trigger==="click"?me={onClick:D0(_.handleItemMouseEnter,C.props.onClick)}:T!=="axis"&&(me={onMouseLeave:D0(_.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:D0(_.handleItemMouseEnter,C.props.onMouseEnter)});var ee=b.cloneElement(C,Q(Q({},O.props),me));function ne(Y){return typeof $.dataKey=="function"?$.dataKey(Y.payload):null}if(J)if(D>=0){var ve,X;if($.dataKey&&!$.allowDuplicatedCategory){var q=typeof $.dataKey=="function"?ne:"payload.".concat($.dataKey.toString());ve=gy(R,q,F),X=V&&W&&gy(W,q,F)}else ve=R==null?void 0:R[D],X=V&&W&&W[D];if(le||ue){var ie=C.props.activeIndex!==void 0?C.props.activeIndex:D;return[b.cloneElement(C,Q(Q(Q({},O.props),me),{},{activeIndex:ie})),null,null]}if(!Qe(ve))return[ee].concat(Bf(_.renderActivePoints({item:O,activePoint:ve,basePoint:X,childIndex:D,isRange:V})))}else{var Ve,it=(Ve=_.getItemByXY(_.state.activeCoordinate))!==null&&Ve!==void 0?Ve:{graphicalItem:ee},St=it.graphicalItem,ft=St.item,gr=ft===void 0?C:ft,B=St.childIndex,H=Q(Q(Q({},O.props),me),{},{activeIndex:B});return[b.cloneElement(gr,H),null,null]}return V?[ee,null,null]:[ee,null]}),ze(_,"renderCustomized",function(C,E,A){return b.cloneElement(C,Q(Q({key:"recharts-customized-".concat(A)},_.props),_.state))}),ze(_,"renderMap",{CartesianGrid:{handler:B0,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:B0},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:B0},YAxis:{handler:B0},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((w=x.id)!==null&&w!==void 0?w:hh("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=RB(_.triggeredAfterMouseMove,(S=x.throttleDelay)!==null&&S!==void 0?S:1e3/60),_.state={},_}return uDe(y,g),oDe(y,[{key:"componentDidMount",value:function(){var w,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,S=w.children,_=w.data,C=w.height,E=w.layout,A=bi(S,Ji);if(A){var O=A.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var T=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,N=eE(this.state,_,O,T),P=this.state.tooltipTicks[O].coordinate,$=(this.state.offset.top+C)/2,D=E==="horizontal",F=D?{x:P,y:$}:{y:P,x:$},L=this.state.formattedGraphicalItems.find(function(j){var R=j.item;return R.type.name==="Scatter"});L&&(F=Q(Q({},F),L.props.points[O].tooltipPosition),N=L.props.points[O].tooltipPayload);var M={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:T,activePayload:N,activeCoordinate:F};this.setState(M),this.renderCursor(A),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var _,C;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(w){jS([bi(w.children,Ji)],[bi(this.props.children,Ji)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=bi(this.props.children,Ji);if(w&&typeof w.props.shared=="boolean"){var S=w.props.shared?"axis":"item";return s.indexOf(S)>=0?S:a}return a}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var S=this.container,_=S.getBoundingClientRect(),C=zCe(_),E={chartX:Math.round(w.pageX-C.left),chartY:Math.round(w.pageY-C.top)},A=_.width/S.offsetWidth||1,O=this.inRange(E.chartX,E.chartY,A);if(!O)return null;var T=this.state,N=T.xAxisMap,P=T.yAxisMap,$=this.getTooltipEventType(),D=$R(this.state,this.props.data,this.props.layout,O);if($!=="axis"&&N&&P){var F=Zu(N).scale,L=Zu(P).scale,M=F&&F.invert?F.invert(E.chartX):null,j=L&&L.invert?L.invert(E.chartY):null;return Q(Q({},E),{},{xValue:M,yValue:j},D)}return D?Q(Q({},E),D):null}},{key:"inRange",value:function(w,S){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,E=w/_,A=S/_;if(C==="horizontal"||C==="vertical"){var O=this.state.offset,T=E>=O.left&&E<=O.left+O.width&&A>=O.top&&A<=O.top+O.height;return T?{x:E,y:A}:null}var N=this.state,P=N.angleAxisMap,$=N.radiusAxisMap;if(P&&$){var D=Zu(P);return u4({x:E,y:A},D)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,S=this.getTooltipEventType(),_=bi(w,Ji),C={};_&&S==="axis"&&(_.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=yy(this.props,this.handleOuterEvent);return Q(Q({},E),C)}},{key:"addListener",value:function(){p_.on(m_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){p_.removeListener(m_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,S,_){for(var C=this.state.formattedGraphicalItems,E=0,A=C.length;E<A;E++){var O=C[E];if(O.item===w||O.props.key===w.key||S===os(O.item.type)&&_===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,S=this.state.offset,_=S.left,C=S.top,E=S.height,A=S.width;return k.createElement("defs",null,k.createElement("clipPath",{id:w},k.createElement("rect",{x:_,y:C,height:E,width:A})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(S,_){var C=RR(_,2),E=C[0],A=C[1];return Q(Q({},S),{},ze({},E,A.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(S,_){var C=RR(_,2),E=C[0],A=C[1];return Q(Q({},S),{},ze({},E,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(w){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(w){var S=this.state,_=S.formattedGraphicalItems,C=S.activeItem;if(_&&_.length)for(var E=0,A=_.length;E<A;E++){var O=_[E],T=O.props,N=O.item,P=N.type.defaultProps!==void 0?Q(Q({},N.type.defaultProps),N.props):N.props,$=os(N.type);if($==="Bar"){var D=(T.data||[]).find(function(j){return A3e(w,j)});if(D)return{graphicalItem:O,payload:D}}else if($==="RadialBar"){var F=(T.data||[]).find(function(j){return u4(w,j)});if(F)return{graphicalItem:O,payload:F}}else if(uw(O,C)||dw(O,C)||Fm(O,C)){var L=pIe({graphicalItem:O,activeTooltipItem:C,itemData:P.data}),M=P.activeIndex===void 0?L:P.activeIndex;return{graphicalItem:Q(Q({},O),{},{childIndex:M}),payload:Fm(O,C)?P.data[L]:O.props.data[L]}}}return null}},{key:"render",value:function(){var w=this;if(!ek(this))return null;var S=this.props,_=S.children,C=S.className,E=S.width,A=S.height,O=S.style,T=S.compact,N=S.title,P=S.desc,$=DR(S,J8e),D=We($,!1);if(T)return k.createElement(yR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},k.createElement(PS,xd({},D,{width:E,height:A,title:N,desc:P}),this.renderClipPath(),rk(_,this.renderMap)));if(this.props.accessibilityLayer){var F,L;D.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,D.role=(L=this.props.role)!==null&&L!==void 0?L:"application",D.onKeyDown=function(j){w.accessibilityManager.keyboardEvent(j)},D.onFocus=function(){w.accessibilityManager.focus()}}var M=this.parseEventsOfWrapper();return k.createElement(yR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},k.createElement("div",xd({className:et("recharts-wrapper",C),style:Q({position:"relative",cursor:"default",width:E,height:A},O)},M,{ref:function(R){w.container=R}}),k.createElement(PS,xd({},D,{width:E,height:A,title:N,desc:P,style:vDe}),this.renderClipPath(),rk(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(b.Component);ze(v,"displayName",r),ze(v,"defaultProps",Q({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ze(v,"getDerivedStateFromProps",function(g,y){var x=g.dataKey,w=g.data,S=g.children,_=g.width,C=g.height,E=g.layout,A=g.stackOffset,O=g.margin,T=y.dataStartIndex,N=y.dataEndIndex;if(y.updateId===void 0){var P=LR(g);return Q(Q(Q({},P),{},{updateId:0},p(Q(Q({props:g},P),{},{updateId:0}),y)),{},{prevDataKey:x,prevData:w,prevWidth:_,prevHeight:C,prevLayout:E,prevStackOffset:A,prevMargin:O,prevChildren:S})}if(x!==y.prevDataKey||w!==y.prevData||_!==y.prevWidth||C!==y.prevHeight||E!==y.prevLayout||A!==y.prevStackOffset||!Pd(O,y.prevMargin)){var $=LR(g),D={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},F=Q(Q({},$R(y,w,E)),{},{updateId:y.updateId+1}),L=Q(Q(Q({},$),D),F);return Q(Q(Q({},L),p(Q({props:g},L),y)),{},{prevDataKey:x,prevData:w,prevWidth:_,prevHeight:C,prevLayout:E,prevStackOffset:A,prevMargin:O,prevChildren:S})}if(!jS(S,y.prevChildren)){var M,j,R,V,W=bi(S,Nf),z=W&&(M=(j=W.props)===null||j===void 0?void 0:j.startIndex)!==null&&M!==void 0?M:T,K=W&&(R=(V=W.props)===null||V===void 0?void 0:V.endIndex)!==null&&R!==void 0?R:N,re=z!==T||K!==N,ue=!Qe(w),le=ue&&!re?y.updateId:y.updateId+1;return Q(Q({updateId:le},p(Q(Q({props:g},y),{},{updateId:le,dataStartIndex:z,dataEndIndex:K}),y)),{},{prevChildren:S,dataStartIndex:z,dataEndIndex:K})}return null}),ze(v,"renderActiveDot",function(g,y,x){var w;return b.isValidElement(g)?w=b.cloneElement(g,y):Xe(g)?w=g(y):w=k.createElement(aw,y),k.createElement(bt,{className:"recharts-active-dot",key:x},w)});var m=b.forwardRef(function(y,x){return k.createElement(v,xd({},y,{ref:x}))});return m.displayName=v.displayName,m},ADe=$N({chartName:"LineChart",GraphicalChild:Lv,axisComponents:[{axisType:"xAxis",AxisComp:Mf},{axisType:"yAxis",AxisComp:Lf}],formatAxisMap:bV}),ODe=$N({chartName:"BarChart",GraphicalChild:Tu,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Mf},{axisType:"yAxis",AxisComp:Lf}],formatAxisMap:bV}),NDe=$N({chartName:"PieChart",GraphicalChild:Ds,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:cw},{axisType:"radiusAxis",AxisComp:sw}],formatAxisMap:Bje,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const jDe=[{month:"Jul",revenue:42e4},{month:"Aug",revenue:58e4},{month:"Sep",revenue:65e4},{month:"Oct",revenue:72e4},{month:"Nov",revenue:89e4},{month:"Dec",revenue:115e4}],TDe=[{name:"T. Nagar",revenue:485e3,orders:124},{name:"Anna Nagar",revenue:392e3,orders:98},{name:"Velachery",revenue:168e3,orders:56}],BR=[{name:"Bridal Wear",value:45},{name:"Saree Blouses",value:25},{name:"Kurtas",value:15},{name:"Alterations",value:10},{name:"Others",value:5}],UR=["hsl(345, 60%, 28%)","hsl(42, 70%, 50%)","hsl(345, 40%, 45%)","hsl(36, 30%, 70%)","hsl(36, 20%, 85%)"],PDe=()=>u.jsxs(an,{title:"Reports",subtitle:"Business analytics and insights",children:[u.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[u.jsx("div",{children:u.jsx("p",{className:"text-sm text-muted-foreground",children:"Reports are temporarily disabled for updates."})}),u.jsx("div",{children:u.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-amber-100 text-amber-800 border border-amber-200",children:"Update Required"})})]}),u.jsxs("div",{className:"opacity-60 pointer-events-none select-none",children:[u.jsxs("div",{className:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[u.jsxs(zt,{defaultValue:"this_month",children:[u.jsx(Ut,{className:"w-40",children:u.jsx(Ht,{placeholder:"Period"})}),u.jsxs(Vt,{children:[u.jsx(Me,{value:"today",children:"Today"}),u.jsx(Me,{value:"this_week",children:"This Week"}),u.jsx(Me,{value:"this_month",children:"This Month"}),u.jsx(Me,{value:"this_quarter",children:"This Quarter"}),u.jsx(Me,{value:"this_year",children:"This Year"})]})]}),u.jsxs(zt,{defaultValue:"all",children:[u.jsx(Ut,{className:"w-36",children:u.jsx(Ht,{placeholder:"Store"})}),u.jsxs(Vt,{children:[u.jsx(Me,{value:"all",children:"All Stores"}),u.jsx(Me,{value:"anna_nagar",children:"Anna Nagar"}),u.jsx(Me,{value:"t_nagar",children:"T. Nagar"}),u.jsx(Me,{value:"velachery",children:"Velachery"})]})]})]}),u.jsxs(te,{variant:"outline",className:"gap-2",children:[u.jsx(vu,{className:"h-4 w-4"}),"Export Report"]})]}),u.jsxs("div",{className:"mb-8 grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[u.jsx(Jo,{title:"Total Revenue",value:"10,45,000",change:"+18.2% vs last month",changeType:"positive",icon:u.jsx(KM,{className:"h-6 w-6 text-primary"})}),u.jsx(Jo,{title:"Orders Completed",value:"278",change:"+12 vs last month",changeType:"positive",icon:u.jsx(xu,{className:"h-6 w-6 text-primary"})}),u.jsx(Jo,{title:"New Customers",value:"45",change:"+8 vs last month",changeType:"positive",icon:u.jsx(ef,{className:"h-6 w-6 text-primary"})}),u.jsx(Jo,{title:"Avg. Order Value",value:"3,760",change:"+5.4% vs last month",changeType:"positive",icon:u.jsx(dq,{className:"h-6 w-6 text-primary"})})]}),u.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[u.jsxs("div",{className:"card-luxury p-6",children:[u.jsx("h3",{className:"mb-6 font-display text-lg font-semibold text-foreground",children:"Revenue Trend"}),u.jsx("div",{className:"h-64 sm:h-80",children:u.jsx(Jb,{width:"100%",height:"100%",children:u.jsxs(ADe,{data:jDe,children:[u.jsx(Mf,{dataKey:"month",stroke:"hsl(var(--muted-foreground))",fontSize:12}),u.jsx(Lf,{stroke:"hsl(var(--muted-foreground))",fontSize:12,tickFormatter:t=>`${(t/1e5).toFixed(1)}L`}),u.jsx(Ji,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},formatter:t=>[`${t.toLocaleString()}`,"Revenue"]}),u.jsx(Lv,{type:"monotone",dataKey:"revenue",stroke:"hsl(345, 60%, 28%)",strokeWidth:3,dot:{fill:"hsl(345, 60%, 28%)",strokeWidth:2}})]})})})]}),u.jsxs("div",{className:"card-luxury p-6",children:[u.jsx("h3",{className:"mb-6 font-display text-lg font-semibold text-foreground",children:"Revenue by Store"}),u.jsx("div",{className:"h-64 sm:h-80",children:u.jsx(Jb,{width:"100%",height:"100%",children:u.jsxs(ODe,{data:TDe,layout:"vertical",children:[u.jsx(Mf,{type:"number",stroke:"hsl(var(--muted-foreground))",fontSize:12,tickFormatter:t=>`${(t/1e3).toFixed(0)}k`}),u.jsx(Lf,{dataKey:"name",type:"category",stroke:"hsl(var(--muted-foreground))",fontSize:12,width:80}),u.jsx(Ji,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},formatter:t=>[`${t.toLocaleString()}`,"Revenue"]}),u.jsx(Tu,{dataKey:"revenue",fill:"hsl(345, 60%, 28%)",radius:[0,4,4,0]})]})})})]}),u.jsxs("div",{className:"card-luxury p-6",children:[u.jsx("h3",{className:"mb-6 font-display text-lg font-semibold text-foreground",children:"Sales by Category"}),u.jsx("div",{className:"h-64 sm:h-80",children:u.jsx(Jb,{width:"100%",height:"100%",children:u.jsxs(NDe,{children:[u.jsx(Ds,{data:BR,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:2,dataKey:"value",label:({name:t,percent:e})=>`${t} (${(e*100).toFixed(0)}%)`,labelLine:!1,children:BR.map((t,e)=>u.jsx(qx,{fill:UR[e%UR.length]},`cell-${e}`))}),u.jsx(Ji,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}})]})})})]}),u.jsxs("div",{className:"card-luxury p-6",children:[u.jsx("h3",{className:"mb-6 font-display text-lg font-semibold text-foreground",children:"Top Products"}),u.jsx("div",{className:"space-y-4",children:[{name:"Bridal Lehenga Custom",orders:45,revenue:225e4},{name:"Kanjivaram Saree Blouse",orders:89,revenue:445e3},{name:"Designer Kurta Set",orders:67,revenue:335e3},{name:"Silk Saree Alterations",orders:156,revenue:234e3},{name:"Party Wear Blouse",orders:78,revenue:195e3}].map((t,e)=>u.jsxs("div",{className:"flex items-center justify-between border-b border-border pb-4 last:border-0 last:pb-0",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary/10 font-display text-sm font-semibold text-primary",children:e+1}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-foreground",children:t.name}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.orders," orders"]})]})]}),u.jsxs("p",{className:"font-medium text-foreground",children:["",(t.revenue/1e3).toFixed(0),"k"]})]},t.name))})]})]})]})]});var xw="Switch",[kDe,gMe]=vn(xw),[IDe,RDe]=kDe(xw),aW=b.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:a,required:o,disabled:s,value:l="on",onCheckedChange:c,form:d,...f}=t,[h,p]=b.useState(null),v=Ke(e,w=>p(w)),m=b.useRef(!1),g=h?d||!!h.closest("form"):!0,[y,x]=Di({prop:i,defaultProp:a??!1,onChange:c,caller:xw});return u.jsxs(IDe,{scope:r,checked:y,disabled:s,children:[u.jsx(Pe.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":cW(y),"data-disabled":s?"":void 0,disabled:s,value:l,...f,ref:v,onClick:ae(t.onClick,w=>{x(S=>!S),g&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})}),g&&u.jsx(lW,{control:h,bubbles:!m.current,name:n,value:l,checked:y,required:o,disabled:s,form:d,style:{transform:"translateX(-100%)"}})]})});aW.displayName=xw;var oW="SwitchThumb",sW=b.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=RDe(oW,r);return u.jsx(Pe.span,{"data-state":cW(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});sW.displayName=oW;var DDe="SwitchBubbleInput",lW=b.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...i},a)=>{const o=b.useRef(null),s=Ke(o,a),l=wO(r),c=vA(e);return b.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&p){const v=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(v)}},[l,r,n]),u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:s,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});lW.displayName=DDe;function cW(t){return t?"checked":"unchecked"}var uW=aW,MDe=sW;const Pl=b.forwardRef(({className:t,...e},r)=>u.jsx(uW,{className:he("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...e,ref:r,children:u.jsx(MDe,{className:he("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Pl.displayName=uW.displayName;var ro="Accordion",$De=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[LN,LDe,FDe]=tv(ro),[ww,yMe]=vn(ro,[FDe,X9]),FN=X9(),dW=k.forwardRef((t,e)=>{const{type:r,...n}=t,i=n,a=n;return u.jsx(LN.Provider,{scope:t.__scopeAccordion,children:r==="multiple"?u.jsx(WDe,{...a,ref:e}):u.jsx(VDe,{...i,ref:e})})});dW.displayName=ro;var[fW,BDe]=ww(ro),[hW,UDe]=ww(ro,{collapsible:!1}),VDe=k.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},collapsible:a=!1,...o}=t,[s,l]=Di({prop:r,defaultProp:n??"",onChange:i,caller:ro});return u.jsx(fW,{scope:t.__scopeAccordion,value:k.useMemo(()=>s?[s]:[],[s]),onItemOpen:l,onItemClose:k.useCallback(()=>a&&l(""),[a,l]),children:u.jsx(hW,{scope:t.__scopeAccordion,collapsible:a,children:u.jsx(pW,{...o,ref:e})})})}),WDe=k.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},...a}=t,[o,s]=Di({prop:r,defaultProp:n??[],onChange:i,caller:ro}),l=k.useCallback(d=>s((f=[])=>[...f,d]),[s]),c=k.useCallback(d=>s((f=[])=>f.filter(h=>h!==d)),[s]);return u.jsx(fW,{scope:t.__scopeAccordion,value:o,onItemOpen:l,onItemClose:c,children:u.jsx(hW,{scope:t.__scopeAccordion,collapsible:!0,children:u.jsx(pW,{...a,ref:e})})})}),[zDe,bw]=ww(ro),pW=k.forwardRef((t,e)=>{const{__scopeAccordion:r,disabled:n,dir:i,orientation:a="vertical",...o}=t,s=k.useRef(null),l=Ke(s,e),c=LDe(r),f=_u(i)==="ltr",h=ae(t.onKeyDown,p=>{var A;if(!$De.includes(p.key))return;const v=p.target,m=c().filter(O=>{var T;return!((T=O.ref.current)!=null&&T.disabled)}),g=m.findIndex(O=>O.ref.current===v),y=m.length;if(g===-1)return;p.preventDefault();let x=g;const w=0,S=y-1,_=()=>{x=g+1,x>S&&(x=w)},C=()=>{x=g-1,x<w&&(x=S)};switch(p.key){case"Home":x=w;break;case"End":x=S;break;case"ArrowRight":a==="horizontal"&&(f?_():C());break;case"ArrowDown":a==="vertical"&&_();break;case"ArrowLeft":a==="horizontal"&&(f?C():_());break;case"ArrowUp":a==="vertical"&&C();break}const E=x%y;(A=m[E].ref.current)==null||A.focus()});return u.jsx(zDe,{scope:r,disabled:n,direction:i,orientation:a,children:u.jsx(LN.Slot,{scope:r,children:u.jsx(Pe.div,{...o,"data-orientation":a,ref:l,onKeyDown:n?void 0:h})})})}),y1="AccordionItem",[HDe,BN]=ww(y1),mW=k.forwardRef((t,e)=>{const{__scopeAccordion:r,value:n,...i}=t,a=bw(y1,r),o=BDe(y1,r),s=FN(r),l=Ti(),c=n&&o.value.includes(n)||!1,d=a.disabled||t.disabled;return u.jsx(HDe,{scope:r,open:c,disabled:d,triggerId:l,children:u.jsx(Q9,{"data-orientation":a.orientation,"data-state":bW(c),...s,...i,ref:e,disabled:d,open:c,onOpenChange:f=>{f?o.onItemOpen(n):o.onItemClose(n)}})})});mW.displayName=y1;var vW="AccordionHeader",gW=k.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=bw(ro,r),a=BN(vW,r);return u.jsx(Pe.h3,{"data-orientation":i.orientation,"data-state":bW(a.open),"data-disabled":a.disabled?"":void 0,...n,ref:e})});gW.displayName=vW;var tE="AccordionTrigger",yW=k.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=bw(ro,r),a=BN(tE,r),o=UDe(tE,r),s=FN(r);return u.jsx(LN.ItemSlot,{scope:r,children:u.jsx(Dfe,{"aria-disabled":a.open&&!o.collapsible||void 0,"data-orientation":i.orientation,id:a.triggerId,...s,...n,ref:e})})});yW.displayName=tE;var xW="AccordionContent",wW=k.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=bw(ro,r),a=BN(xW,r),o=FN(r);return u.jsx(Mfe,{role:"region","aria-labelledby":a.triggerId,"data-orientation":i.orientation,...o,...n,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});wW.displayName=xW;function bW(t){return t?"open":"closed"}var GDe=dW,qDe=mW,KDe=gW,_W=yW,SW=wW;const XDe=GDe,zo=b.forwardRef(({className:t,...e},r)=>u.jsx(qDe,{ref:r,className:he("border-b",t),...e}));zo.displayName="AccordionItem";const Ho=b.forwardRef(({className:t,children:e,...r},n)=>u.jsx(KDe,{className:"flex",children:u.jsxs(_W,{ref:n,className:he("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...r,children:[e,u.jsx(Xc,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Ho.displayName=_W.displayName;const Go=b.forwardRef(({className:t,children:e,...r},n)=>u.jsx(SW,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:u.jsx("div",{className:he("pb-4 pt-0",t),children:e})}));Go.displayName=SW.displayName;function CW({className:t,...e}){return u.jsx("div",{className:he("animate-pulse rounded-md bg-muted",t),...e})}const VR=[{value:"slate",label:"Slate",class:"bg-slate-500"},{value:"gray",label:"Gray",class:"bg-gray-500"},{value:"red",label:"Red",class:"bg-red-500"},{value:"amber",label:"Amber",class:"bg-amber-500"},{value:"yellow",label:"Yellow",class:"bg-yellow-500"},{value:"green",label:"Green",class:"bg-green-500"},{value:"emerald",label:"Emerald",class:"bg-emerald-500"},{value:"cyan",label:"Cyan",class:"bg-cyan-500"},{value:"blue",label:"Blue",class:"bg-blue-500"},{value:"indigo",label:"Indigo",class:"bg-indigo-500"},{value:"purple",label:"Purple",class:"bg-purple-500"},{value:"violet",label:"Violet",class:"bg-violet-500"}],YDe=()=>{const{orderStatuses:t,isLoading:e,createOrderStatus:r,updateOrderStatus:n,deleteOrderStatus:i}=tF(),[a,o]=b.useState(!1),[s,l]=b.useState(null),[c,d]=b.useState({code:"",label:"",color:"gray",is_active:!0}),f=()=>{d({code:"",label:"",color:"gray",is_active:!0}),l(null)},h=()=>{f(),o(!0)},p=y=>{l(y),d({code:y.code,label:y.label,color:y.color,is_active:y.is_active}),o(!0)},v=async()=>{if(!(!c.code||!c.label)){if(s)await n.mutateAsync({id:s.id,label:c.label,color:c.color,is_active:c.is_active});else{const y=Math.max(...(t==null?void 0:t.map(x=>x.sort_order))||[0],0);await r.mutateAsync({code:c.code.toLowerCase().replace(/\s+/g,"_"),label:c.label,color:c.color,is_active:c.is_active,is_system:!1,sort_order:y+1})}o(!1),f()}},m=async y=>{y.is_system||confirm(`Are you sure you want to delete "${y.label}"?`)&&await i.mutateAsync(y.id)},g=y=>{var x;return((x=VR.find(w=>w.value===y))==null?void 0:x.class)||"bg-gray-500"};return e?u.jsx("div",{className:"space-y-3",children:[1,2,3].map(y=>u.jsx(CW,{className:"h-14 w-full"},y))}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage order workflow statuses"}),u.jsxs(te,{size:"sm",onClick:h,children:[u.jsx(ms,{className:"mr-2 h-4 w-4"}),"Add Status"]})]}),u.jsx("div",{className:"space-y-2",children:t==null?void 0:t.map(y=>u.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-3",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(HM,{className:"h-4 w-4 text-muted-foreground cursor-grab"}),u.jsx("div",{className:`h-3 w-3 rounded-full ${g(y.color)}`}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"font-medium",children:y.label}),y.is_system&&u.jsx(iq,{className:"h-3 w-3 text-muted-foreground"}),!y.is_active&&u.jsx("span",{className:"text-xs text-muted-foreground",children:"(Inactive)"})]}),u.jsx("span",{className:"text-xs text-muted-foreground",children:y.code})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(te,{variant:"ghost",size:"icon",onClick:()=>p(y),children:u.jsx(ha,{className:"h-4 w-4"})}),!y.is_system&&u.jsx(te,{variant:"ghost",size:"icon",onClick:()=>m(y),children:u.jsx(zl,{className:"h-4 w-4 text-destructive"})})]})]},y.id))}),u.jsx(hr,{open:a,onOpenChange:o,children:u.jsxs(Jt,{children:[u.jsx(er,{children:u.jsx(tr,{children:s?"Edit Order Status":"Add Order Status"})}),u.jsxs("div",{className:"space-y-4 py-4",children:[!s&&u.jsxs("div",{className:"space-y-2",children:[u.jsx(ur,{htmlFor:"code",children:"Code"}),u.jsx(Ee,{id:"code",placeholder:"e.g., quality_check",value:c.code,onChange:y=>d({...c,code:y.target.value})}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Internal identifier (lowercase, underscores)"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ur,{htmlFor:"label",children:"Display Label"}),u.jsx(Ee,{id:"label",placeholder:"e.g., Quality Check",value:c.label,onChange:y=>d({...c,label:y.target.value})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ur,{children:"Color"}),u.jsxs(zt,{value:c.color,onValueChange:y=>d({...c,color:y}),children:[u.jsx(Ut,{children:u.jsx(Ht,{})}),u.jsx(Vt,{children:VR.map(y=>u.jsx(Me,{value:y.value,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:`h-3 w-3 rounded-full ${y.class}`}),y.label]})},y.value))})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(ur,{htmlFor:"is_active",children:"Active"}),u.jsx(Pl,{id:"is_active",checked:c.is_active,onCheckedChange:y=>d({...c,is_active:y})})]})]}),u.jsxs(Rt,{className:"flex items-center gap-2",children:[u.jsx(te,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),u.jsx(te,{onClick:v,disabled:!c.code||!c.label,children:s?"Save Changes":"Add Status"})]})]})})]})},WR=[{value:"slate",label:"Slate",class:"bg-slate-500"},{value:"zinc",label:"Zinc",class:"bg-zinc-500"},{value:"gray",label:"Gray",class:"bg-gray-500"},{value:"amber",label:"Amber/Gold",class:"bg-amber-500"},{value:"yellow",label:"Yellow",class:"bg-yellow-500"},{value:"violet",label:"Violet",class:"bg-violet-500"},{value:"purple",label:"Purple",class:"bg-purple-500"},{value:"blue",label:"Blue",class:"bg-blue-500"},{value:"emerald",label:"Emerald",class:"bg-emerald-500"}],ZDe=()=>{const{vipStatuses:t,isLoading:e,updateVipStatus:r}=Lfe(),[n,i]=b.useState(!1),[a,o]=b.useState(null),[s,l]=b.useState({label:"",color:"gray"}),c=h=>{o(h),l({label:h.label,color:h.color}),i(!0)},d=async()=>{!a||!s.label||(await r.mutateAsync({id:a.id,label:s.label,color:s.color}),i(!1),o(null))},f=h=>{var p;return((p=WR.find(v=>v.value===h))==null?void 0:p.class)||"bg-gray-500"};return e?u.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(h=>u.jsx(CW,{className:"h-14 w-full"},h))}):u.jsxs("div",{className:"space-y-4",children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Customize VIP tier labels and colors"}),u.jsx("div",{className:"space-y-2",children:t==null?void 0:t.map(h=>u.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-3",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(HM,{className:"h-4 w-4 text-muted-foreground cursor-grab"}),u.jsx("div",{className:`h-3 w-3 rounded-full ${f(h.color)}`}),u.jsxs("div",{children:[u.jsx("span",{className:"font-medium",children:h.label}),u.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:["(",h.code,")"]})]})]}),u.jsx(te,{variant:"ghost",size:"icon",onClick:()=>c(h),children:u.jsx(ha,{className:"h-4 w-4"})})]},h.id))}),u.jsx(hr,{open:n,onOpenChange:i,children:u.jsxs(Jt,{children:[u.jsx(er,{children:u.jsx(tr,{children:"Edit VIP Level"})}),u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(ur,{htmlFor:"vip-label",children:"Display Label"}),u.jsx(Ee,{id:"vip-label",placeholder:"e.g., Diamond",value:s.label,onChange:h=>l({...s,label:h.target.value})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ur,{children:"Color"}),u.jsxs(zt,{value:s.color,onValueChange:h=>l({...s,color:h}),children:[u.jsx(Ut,{children:u.jsx(Ht,{})}),u.jsx(Vt,{children:WR.map(h=>u.jsx(Me,{value:h.value,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:`h-3 w-3 rounded-full ${h.class}`}),h.label]})},h.value))})]})]})]}),u.jsxs(Rt,{children:[u.jsx(te,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),u.jsx(te,{onClick:d,disabled:!s.label,children:"Save Changes"})]})]})})]})};function QDe(){const{toast:t}=Vr(),[e,r]=b.useState({companyName:"Quppayam Boutique",companyAddress:"Chennai, India",companyPhone:"+91 44 2628 1234",companyEmail:"contact@quppayam.com",invoicePrefix:"INV-",showLogo:!0,showPaymentTerms:!0,paymentTerms:"Payment is due within 15 days of invoice date.",footerNote:"Thank you for your business!",showTaxBreakdown:!0}),n=()=>{t({title:"Settings saved",description:"Invoice template settings have been updated."})};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium mb-4",children:"Company Information"}),u.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(ur,{htmlFor:"company-name",children:"Company Name"}),u.jsx(Ee,{id:"company-name",value:e.companyName,onChange:i=>r({...e,companyName:i.target.value})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ur,{htmlFor:"company-phone",children:"Phone"}),u.jsx(Ee,{id:"company-phone",value:e.companyPhone,onChange:i=>r({...e,companyPhone:i.target.value})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ur,{htmlFor:"company-email",children:"Email"}),u.jsx(Ee,{id:"company-email",type:"email",value:e.companyEmail,onChange:i=>r({...e,companyEmail:i.target.value})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ur,{htmlFor:"invoice-prefix",children:"Invoice Number Prefix"}),u.jsx(Ee,{id:"invoice-prefix",value:e.invoicePrefix,onChange:i=>r({...e,invoicePrefix:i.target.value}),placeholder:"INV-"})]})]}),u.jsxs("div",{className:"space-y-2 mt-4",children:[u.jsx(ur,{htmlFor:"company-address",children:"Address"}),u.jsx(hi,{id:"company-address",value:e.companyAddress,onChange:i=>r({...e,companyAddress:i.target.value}),rows:2})]})]}),u.jsx(hf,{}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium mb-4",children:"Invoice Display Options"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-sm",children:"Show Logo"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Display company logo on invoices"})]}),u.jsx(Pl,{checked:e.showLogo,onCheckedChange:i=>r({...e,showLogo:i})})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-sm",children:"Show Tax Breakdown"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Display tax details separately"})]}),u.jsx(Pl,{checked:e.showTaxBreakdown,onCheckedChange:i=>r({...e,showTaxBreakdown:i})})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-sm",children:"Show Payment Terms"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Include payment terms on invoice"})]}),u.jsx(Pl,{checked:e.showPaymentTerms,onCheckedChange:i=>r({...e,showPaymentTerms:i})})]})]})]}),u.jsx(hf,{}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium mb-4",children:"Custom Text"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(ur,{htmlFor:"payment-terms",children:"Payment Terms"}),u.jsx(hi,{id:"payment-terms",value:e.paymentTerms,onChange:i=>r({...e,paymentTerms:i.target.value}),rows:2,placeholder:"Payment is due within 15 days..."})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ur,{htmlFor:"footer-note",children:"Footer Note"}),u.jsx(Ee,{id:"footer-note",value:e.footerNote,onChange:i=>r({...e,footerNote:i.target.value}),placeholder:"Thank you for your business!"})]})]})]}),u.jsx("div",{className:"flex justify-end",children:u.jsx(te,{onClick:n,children:"Save Template Settings"})})]})}const JDe=()=>u.jsx(an,{title:"Settings",subtitle:"Configure your boutique management system",children:u.jsx("div",{className:"max-w-4xl",children:u.jsxs(XDe,{type:"single",collapsible:!0,defaultValue:"business",className:"space-y-4",children:[u.jsxs(zo,{value:"business",className:"card-luxury border-none",children:[u.jsx(Ho,{className:"px-6 py-4 hover:no-underline",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary/10",children:u.jsx(WM,{className:"h-5 w-5 text-primary"})}),u.jsxs("div",{className:"text-left",children:[u.jsx("h2",{className:"font-display text-lg font-semibold text-foreground",children:"Business Information"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Basic details about your boutique"})]})]})}),u.jsxs(Go,{className:"px-6 pb-6",children:[u.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(ur,{htmlFor:"business-name",children:"Business Name"}),u.jsx(Ee,{id:"business-name",defaultValue:"Quppayam Boutique"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ur,{htmlFor:"business-phone",children:"Phone Number"}),u.jsx(Ee,{id:"business-phone",defaultValue:"+91 44 2628 1234"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ur,{htmlFor:"business-email",children:"Email Address"}),u.jsx(Ee,{id:"business-email",type:"email",defaultValue:"contact@quppayam.com"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ur,{htmlFor:"currency",children:"Currency"}),u.jsxs(zt,{defaultValue:"inr",children:[u.jsx(Ut,{id:"currency",children:u.jsx(Ht,{})}),u.jsxs(Vt,{children:[u.jsx(Me,{value:"inr",children:"Indian Rupee ()"}),u.jsx(Me,{value:"usd",children:"US Dollar ($)"})]})]})]})]}),u.jsx("div",{className:"mt-6 flex justify-end",children:u.jsx(te,{children:"Save Changes"})})]})]}),u.jsxs(zo,{value:"order-status",className:"card-luxury border-none",children:[u.jsx(Ho,{className:"px-6 py-4 hover:no-underline",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary/10",children:u.jsx(nq,{className:"h-5 w-5 text-primary"})}),u.jsxs("div",{className:"text-left",children:[u.jsx("h2",{className:"font-display text-lg font-semibold text-foreground",children:"Order Status Options"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Customize order workflow statuses"})]})]})}),u.jsx(Go,{className:"px-6 pb-6",children:u.jsx(YDe,{})})]}),u.jsxs(zo,{value:"vip-status",className:"card-luxury border-none",children:[u.jsx(Ho,{className:"px-6 py-4 hover:no-underline",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary/10",children:u.jsx(Ga,{className:"h-5 w-5 text-primary"})}),u.jsxs("div",{className:"text-left",children:[u.jsx("h2",{className:"font-display text-lg font-semibold text-foreground",children:"VIP Status Options"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Customize VIP tier labels and display order"})]})]})}),u.jsx(Go,{className:"px-6 pb-6",children:u.jsx(ZDe,{})})]}),u.jsxs(zo,{value:"invoice",className:"card-luxury border-none",children:[u.jsx(Ho,{className:"px-6 py-4 hover:no-underline",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary/10",children:u.jsx(Yc,{className:"h-5 w-5 text-primary"})}),u.jsxs("div",{className:"text-left",children:[u.jsx("h2",{className:"font-display text-lg font-semibold text-foreground",children:"Invoice Template"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Customize invoice layout and content"})]})]})}),u.jsx(Go,{className:"px-6 pb-6",children:u.jsx(QDe,{})})]}),u.jsxs(zo,{value:"notifications",className:"card-luxury border-none",children:[u.jsx(Ho,{className:"px-6 py-4 hover:no-underline opacity-80 cursor-not-allowed pointer-events-none",children:u.jsxs("div",{className:"flex items-center gap-3 w-full justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary/10",children:u.jsx(VM,{className:"h-5 w-5 text-primary"})}),u.jsxs("div",{className:"text-left",children:[u.jsx("h2",{className:"font-display text-lg font-semibold text-foreground",children:"Notifications"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure how you receive updates"})]})]}),u.jsx("div",{className:"ml-4 flex-shrink-0",children:u.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-amber-100 text-amber-800 border border-amber-200",children:"Requires Update"})})]})}),u.jsx(Go,{className:"px-6 pb-6",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-foreground",children:"Low Stock Alerts"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified when inventory runs low"})]}),u.jsx(Pl,{defaultChecked:!0})]}),u.jsx(hf,{}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-foreground",children:"New Order Notifications"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive alerts for new orders"})]}),u.jsx(Pl,{defaultChecked:!0})]}),u.jsx(hf,{}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-foreground",children:"Fitting Reminders"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Daily digest of upcoming fittings"})]}),u.jsx(Pl,{defaultChecked:!0})]})]})})]}),u.jsxs(zo,{value:"whatsapp",className:"card-luxury border-none",children:[u.jsx(Ho,{className:"px-6 py-4 hover:no-underline opacity-80 cursor-not-allowed pointer-events-none",children:u.jsxs("div",{className:"flex items-center gap-3 w-full justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary/10",children:u.jsx(oq,{className:"h-5 w-5 text-primary"})}),u.jsxs("div",{className:"text-left",children:[u.jsx("h2",{className:"font-display text-lg font-semibold text-foreground",children:"WhatsApp Integration"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure customer messaging via WhatsApp Business API"})]})]}),u.jsx("div",{className:"ml-4 flex-shrink-0",children:u.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-amber-100 text-amber-800 border border-amber-200",children:"Requires Update"})})]})}),u.jsx(Go,{className:"px-6 pb-6",children:u.jsxs("div",{className:"rounded-lg border border-border bg-muted/30 p-4",children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Connect your WhatsApp Business account to enable automated customer notifications."}),u.jsx(te,{className:"mt-4",variant:"outline",children:"Connect WhatsApp Business"})]})})]}),u.jsxs(zo,{value:"roles",className:"card-luxury border-none",children:[u.jsx(Ho,{className:"px-6 py-4 hover:no-underline opacity-80 cursor-not-allowed pointer-events-none",children:u.jsxs("div",{className:"flex items-center gap-3 w-full justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary/10",children:u.jsx(uq,{className:"h-5 w-5 text-primary"})}),u.jsxs("div",{className:"text-left",children:[u.jsx("h2",{className:"font-display text-lg font-semibold text-foreground",children:"User Roles & Permissions"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage access levels for your team"})]})]}),u.jsx("div",{className:"ml-4 flex-shrink-0",children:u.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-amber-100 text-amber-800 border border-amber-200",children:"Requires Update"})})]})}),u.jsx(Go,{className:"px-6 pb-6",children:u.jsx("div",{className:"space-y-3",children:[{role:"Admin",users:2,description:"Full access to all features"},{role:"Store Manager",users:3,description:"Manage orders, customers, and staff"},{role:"Sales Associate",users:5,description:"Create orders and manage customers"},{role:"Tailor",users:4,description:"View assigned orders and update status"}].map(t=>u.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-foreground",children:t.role}),u.jsx("p",{className:"text-sm text-muted-foreground",children:t.description})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("span",{className:"text-sm text-muted-foreground",children:[t.users," users"]}),u.jsx(te,{variant:"outline",size:"sm",children:"Configure"})]})]},t.role))})})]}),u.jsxs(zo,{value:"billing",className:"card-luxury border-none",children:[u.jsx(Ho,{className:"px-6 py-4 hover:no-underline opacity-80 cursor-not-allowed pointer-events-none",children:u.jsxs("div",{className:"flex items-center gap-3 w-full justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary/10",children:u.jsx(zM,{className:"h-5 w-5 text-primary"})}),u.jsxs("div",{className:"text-left",children:[u.jsx("h2",{className:"font-display text-lg font-semibold text-foreground",children:"Billing & Subscription"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your subscription and payment methods"})]})]}),u.jsx("div",{className:"ml-4 flex-shrink-0",children:u.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-amber-100 text-amber-800 border border-amber-200",children:"Requires Update"})})]})}),u.jsx(Go,{className:"px-6 pb-6",children:u.jsx("div",{className:"rounded-lg border border-gold/30 bg-gold/5 p-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-foreground",children:"Premium Plan"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Unlimited stores  Advanced analytics  Priority support"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"font-display text-2xl font-semibold text-foreground",children:"4,999"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"per month"})]})]})})})]})]})})}),eMe=()=>{const t=Qf();return b.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),u.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),u.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),u.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},tMe=new NY,rMe=()=>u.jsx(IY,{client:tMe,children:u.jsxs(dY,{children:[u.jsx(Xq,{}),u.jsx(OK,{}),u.jsx(BZ,{children:u.jsxs(IZ,{children:[u.jsx(Ki,{path:"/auth",element:u.jsx(Oee,{})}),u.jsx(Ki,{path:"/",element:u.jsx(Lo,{children:u.jsx(Nfe,{})})}),u.jsx(Ki,{path:"/customers",element:u.jsx(Lo,{children:u.jsx(Pfe,{})})}),u.jsx(Ki,{path:"/orders",element:u.jsx(Lo,{children:u.jsx(the,{})})}),u.jsx(Ki,{path:"/measurements",element:u.jsx(Lo,{children:u.jsx(ihe,{})})}),u.jsx(Ki,{path:"/inventory",element:u.jsx(Lo,{children:u.jsx(dhe,{})})}),u.jsx(Ki,{path:"/employees",element:u.jsx(Lo,{children:u.jsx(yhe,{})})}),u.jsx(Ki,{path:"/stores",element:u.jsx(Lo,{children:u.jsx(She,{})})}),u.jsx(Ki,{path:"/reports",element:u.jsx(Lo,{children:u.jsx(PDe,{})})}),u.jsx(Ki,{path:"/settings",element:u.jsx(Lo,{children:u.jsx(JDe,{})})}),u.jsx(Ki,{path:"*",element:u.jsx(eMe,{})})]})})]})});hM(document.getElementById("root")).render(u.jsx(rMe,{}));
